{"version":3,"names":["FBX_ROOT","process","global","window","Error","container","location","origin","protocol","hostname","port","CustomEvent","event","params","bubbles","cancelable","detail","evt","document","createEvent","initCustomEvent","restArguments","func","startIndex","length","Math","max","arguments","rest","Array","index","call","this","args","apply","_now","Date","now","getTime","_delay","wait","setTimeout","throttle","options","timeout","context","result","previous","later","leading","throttled","remaining","clearTimeout","trailing","cancel","debounce","immediate","debounced","callNow","EMPTY_OBJ_KEYS","Object","getOwnPropertyNames","getPrototypeOf","Inverse","_store","IMPORT_AS_REF","prototype","set","key","value","singleton","_normalizeKey","_storeObj","_setProto","classObj","invoke","get","has","k","delete","_proto","undefined","slice","storeObj","instance","invokable","_newInstance","funcn","import","names","_this","_import","module","_rets","_context","i","mixedVar","push","_is_func","bind","callback","bound","defineProperty","name","__isBound","__boundContext","__origional","unshift","_singletonFunc","invoked","function","_isInvokable","mixed_var","test","toString","constructor","proto","filter","x","includes","_isInvoked","constr","trim","startsWith","reference","isSingleton","replace","NULL_TAG","UNDEF_TAG","BOOL_TAG","STRING_TAG","NUMBER_TAG","FUNC_TAG","ARRAY_TAG","ARGS_TAG","NODELST_TAG","OBJECT_TAG","DATE_TAG","NODECLT_TAG","SET_TAG","MAP_TAG","REGEXP_TAG","SYMBOL_TAG","CSSDEC_TAG","ARRAY_BUFFER_TAG","DATAVIEW_TAG","FLOAT32_TAG","FLOAT64_TAG","INT8_TAG","INT16_TAG","INT32_TAG","UINT8_TAG","UINT8CLAMPED_TAG","UINT16_TAG","UINT32_TAG","ERROR_TAG","WEAKMAP_TAG","ARRAYISH_TAGS","TO_STR","TO_ARR","HTML_REGXP","SHORTHAND_PROPS","margin","outline","padding","background","border","font","mask","columns","cue","pause","animation","transition","flex","SHORTHAND_DEFAULTS","CSS_TRANSFORM_VALUES_COUNT","perspective","skewY","translateY","translateZ","scaleY","scaleZ","rotateX","rotateY","rotateZ","translateX","skewX","scaleX","rotate","skew","translate","scale","translate3d","scale3d","rotate3d","matrix","matrix3d","CSS_3D_TRANSFORM_DEFAULTS","CSS_3D_TRANSFORM_MAP_KEYS","y","z","CSS_PIXELS_PER_INCH","CSS_RELATIVE_UNITS","em","ex","ch","rem","vw","vh","vmin","vmax","CSS_ABSOLUTE_UNITS","in","cm","mm","pt","pc","px","CSS_PROP_TO_HYPHEN_CASES","CSS_PROP_TO_CAMEL_CASES","FORBIDDEN_OBJ_KEYS","ANIMATION_DEFAULT_OPTIONS","easing","duration","fps","ANIMATION_ALLOWED_OPTIONS","ANIMATION_FILTER_OPTIONS","keys","ANIMATING","POW","pow","SQRT","sqrt","SIN","sin","COS","cos","PI","C1","C2","c3","C4","C5","bounceOut","n1","d1","ANIMATION_EASING_FUNCTIONS","linear","ease","easeIn","easeOut","easeInOut","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInBack","easeOutBack","easeInOutBack","easeInElastic","easeOutElastic","easeInOutElastic","easeInBounce","easeOutBounce","easeInOutBounce","CSS_EASINGS","DOC_EVENTS","concat","indexOf","elem","pos","self","map","toLowerCase","BOOLEAN_ATTRS","PROP_ATTRIBUTES","_THIS","_","version","author","browser","_events","_guid","_guidgen","AnimateJS","DOMElement","keyframes","currentKeyframe","intervalDelay","floor","keyFrameCount","CSSProperty","property","isTransform","isScroll","isColor","to","clearAnimating","parseOptions","generateKeyframes","stopped","CSSprop","each","stop","splice","start","_complete","clearTransitions","loop","_applyKeyframe","shift","_failTimer","fail","keyframe","prop","scrollTo","css","complete","_pre_transition","parseScrollOptions","parseTransformOptions","parseColorOptions","parseDefaultOptions","startY","scrollY","startX","scrollX","endX","parseInt","split","endY","pop","distX","abs","distY","startValue","endValue","backAnimation","distance","CSSunits","startVal","is_undefined","from","rendered_style","endVal","prevStyle","inline_style","startUnit","css_value_unit","endUnit","css_to_px","css_unit_value","startValues","css_transform_props","endValues","baseTransforms","is_empty","join_obj","val","propAxis","valueStr","startValStr","sanitizeColor","color","replaceAll","rgb","match","forEach","item","is_equal","for","generateKeyframe","transformIndex","change","tween","mixColors","keyVal","roundNumber","prefix","suffix","color1RGB","color2RGB","blend","colorRGB","c1","mixedColor","y1","y2","round","transitions","css_transition_props","css_transition","n","dp","h","padEnd","type","time","__animate_js","AnimateCss","animatedProps","preAnimatedTransitions","stopValues","_callbackStart","_callbackComplete","_callbackFail","_callbackStep","preProcessStartEndValues","applyStartValues","applyTransitions","on","transitionEnd","_stepTimer","setInterval","applyEndValues","clearInterval","resotoreElement","destory","off","e","css_prop_to_hyphen_case","propertyName","shorthand","option","step","inlineStyle","styles","__animate_css","animate","animationSet","Animation","factoryOptions","FROM_FACTORY","__animation_factory","AnimationInstance","opts","animate_css","cssAnimation","optionSets","el","in_array","camelProp","css_prop_to_camel_case","body","style","isObjSet","is_object","toMerge","longest","longestI","array_has","console","error","__array_delete_recursive","object","__array_get_recursive","__array_set_recursive","nextKey","islast","lastObj","JSON","stringify","converted","assign","__array_key_segment","path","segments","segment","subSegments","j","array_delete","array_filter","arr","isArr","is_array","ret","array_get","array_set","array_unique","is_array_last","needle","haystack","strict","last","obj","clbkVal","isArray","len","thisArg","foreach","count","v","attr","is_string","__get_attribute","innerHTML","innerText","children","node","remove_from_dom","appendChild","str_replace","removeAttribute","className","css_to_object","isEmpty","isData","isAria","camelName","to_camel_case","hyphenName","camel_case_to_hyphen","isBoolean","dataset","lc_first","substring","setAttribute","getAttribute","retCamel","retAttr","attrs","attributes","attribute","nodeName","is_null","removeProperty","re","RegExp","rtrim","charAt","hyphenProp","css_to_longhand","values","hasOwnProperty","splits","dfault","longhand","css_to_shorthand","needsFilling","longhands","matched","needsDefault","suppliedVal","matcher","defaltVal","matchAll","rule","join","is_numeric","parseFloat","unit","psize","parentNode","documentElement","width","height","w","min","element","elementStyle","getPropertyValue","remove_style","__computed_style","getComputedStyle","currentStyle","transitionVal","transitionSplit","char","inBezier","block","all","returnAsString","__un_css_matrix","inline","emptys","inlineDisplay","isHidden","transforms","computedStyleMap","computedTransforms","sort","reverse","axisMap","transform","bsName","lastChar","defltVal","axisProp","css_to_3d_transform","transformsStr","valueCount","initialVal","name3d","getPropValue","add_class","_DOMElement","_className","classList","add","class_names","is_htmlElement","closest","itype","isElement","isClass","isType","traverse_up","parent","pType","has_class","closest_class","classNames","coordinates","box","getBoundingClientRect","docEl","scrollTop","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","borderL","borderR","borderT","borderB","top","left","right","bottom","first_children","find_all","form_inputs","form","form_values","inputs","input","input_value","contains","in_viewport","rect","innerHeight","clientHeight","innerWidth","clientWidth","inner_HTML","content","append","clear_event_listeners","trigger_event","multiple","files","selectedIndex","dom_element","appendTo","innerHTMLOrChildren","_recursive_dom_element","tag","createElement","child","next","traverse_next","sibling","sType","next_class","preapend","wrapper","insertBefore","firstChild","traverse_prev","previous_class","remove_class","remove","in_dom","removeChild","scroll_pos","doc","find","selector","includeContextEl","fchild","multi","querySelector","getElementById","hasParent","deleteParent","querySelectorAll","toggle_class","eventName","data","initEvent","dispatchEvent","fireEvent","state","events","base","subevent","response","tagName","traverse_down","includeText","childNodes","nodeType","allNodes","nextSibling","previousSibling","borderBox","padL","padR","padT","padB","nth_child","sibling_index","handler","baseArgs","eventsArr","argsNormal","__normaliseListenerArgs","__addListener","pushFirst","bool","guid","hasHandler","handlerObj","addEventListener","__event_dispatcher","callbacks","handled","preventDefault","stopPropagation","__remove_element_listeners","__remove_element_type_listeners","handlers","_handler","__remove_listener","eventType","removeEventListener","onlyChildren","types","collect_garbage","cleared","event_listeners","summary","details","is_retina","devicePixelRatio","matchMedia","matches","parse_url","str","url","URL","search","queries","qret","query","decodeURI","url_query","results","decodeURIComponent","normalize_url","paths","href","pathname","backs","clone_deep","__clone_var","var_type","__clone_obj","__clone_array","__clone_func","__clone_RegExp","__clone_symbol","__clone_date","__clone_set","__clone_map","__clone_array_buffer","__clone_data_view","__clone_buffer","__clone_typed_array","object_props","protos","prototypes","curr","clone","constrctor","setPrototypeOf","statics","is_constructable","method","super","extend","d","r","setTime","symbol","Symbol","valueOf","regexp","source","exec","lastIndex","m","Map","s","Set","arrayBuffer","byteLength","Uint8Array","dataView","buffer","byteOffset","allocUnsafe","copy","typedArray","extension","proxySuper","superFn","fn","tmp","Class","protoProps","_super","create","enumerable","writable","configurable","is_function","extend_obj","baseProto","extendProto","extProto","newProto","seperator","glue","recursive","trimLast","ltrim","deep","flatten_obj","json_decode","parse","json_encode","charlist","trimStart","makeid","text","possible","random","trimEnd","chars","$1","toUpperCase","uc_first","string","ucwords","is_regexp","is_bool","is_number","Number","callable_name","is_callable","size","id","is_args","is_buffer","is_class","classname","isES6","is_constructed","is_dataview","is_date","isNaN","a","b","__is_equal_func","__is_equal_traverseable","__is_equal_protos","aProtos","bProtos","is_json","is_map","is_node_type","is_nodelist","is_set","is_symbol","destruct","EXCLUDED_SERVICES","Application","version_major","version_minor","version_patch","services","boot","dom","Dom","frontbx","_isReady","components","_dispatchReady","register","component","_bindComponent","_dispatchComponent","isRefresh","_hasMethod","construct","_unbindComponent","refresh","globalRefresh","Component","defaultProps","_selector","_DOMElements","nodes","unbind","props","render","root","LAZY_FALLBACK_IMAGE","Queue","concurrency","running","taskQueue","task","_runTask","_enqueueTask","LazyLoad","_queue","_getSrc","_canLoad","_loadImage","_isImage","isImage","src","_markLoaded","_getLoadFunc","_fallback","queue","_image","Image","onload","backgroundImage","onerror","_markFailed","lazy","initial","current","NProgress","Settings","settings","minimum","positionUsing","speed","trickle","trickleSpeed","showSpinner","barSelector","spinnerSelector","template","isDOM","HTMLElement","clamp","toBarPerc","configure","status","started","isStarted","progress","bar","offsetWidth","getPositioningCSS","barCSS","barPositionCSS","opacity","work","done","force","inc","amount","promise","$promise","always","fromStart","isRendered","addClass","spinner","perc","removeElement","removeClass","bodyStyle","vendorPrefix","pending","cssPrefixes","cssProps","applyCss","letter","vendorName","capName","getVendorProp","getStyleProp","properties","hasClass","oldList","newList","NAMED_CALLBACKS","_args","AJAX_QUEUE","Ajax","_settings","async","headers","Accepts","Pragma","_success","_error","_abort","_progress","_xhr","post","success","abort","_setResponseHandlers","_call","head","put","upload","_headers","then","xhr","readyState","onreadystatechange","_makeCallback","responseText","XMLHttpRequest","ActiveXObject","requestURL","mthod","open","_sendHeaders","_ready","send","setRequestHeader","argmap","arg","funcname","FormData","_params","successfull","encodeURIComponent","POP_LISTENING","DEFAULT_OPTIONS","nocache","once","scrolltop","pushstate","urlhash","STATIC_POSITIONS","CURRENT_REQUESTS","TRANSITION_TIMERS","Pjax","completed","_popStateHandler","_normalizeOptions","_optionsElement","request","ajax","_preAbort","_saveState","_sendAjax","_onsuccess","_onerror","_onabort","_oncomplete","t","_insertResponse","HTML","_parseResponse","_updateMeta","_animateSwap","_targetElem","_responseElem","_appendScripts","responseDoc","_parseHTML","_responseTitle","_findDomTitle","_responseDesc","_findDomDesc","currScripts","_getScripts","newScripts","_newScripts","_scriptsDiff","_responseDoc","_removeScripts","script","_findElems","targetEl","responseEl","tmpResponseEl","scripts","_appendScript","_contentComplete","scriptObj","isLast","rel","title","getElementsByTagName","desc","html","DOMParser","parseFromString","cScript","descrMeta","swapTimer","_abortAnimations","_pushState","_elem","target","padW","padH","position","InlStyles","overflow","newStyles","tmpStyles","oldContnet","newContent","tempWrapper","class","offsetHeight","completedTransition","scroll","history","pushState","replaceState","_for","lines","variant","aspectratio","CLASS_VARIANTS","WRAPPER_VARIANTS","Skeleton","_nodes","_isMulti","optionSet","_build","load","cb","isHTML","isFragment","div","replaceChild","fade_out","destroy","madeCallback","skeleton","variants","classes","skeletons","cloneNode","_skeleton","_setDimensions","skel","aspectRatio","isLines","TinyGesture","touch1","touch2","touchStartX","touchStartY","touchEndX","touchEndY","touchMove1","touchMove2","touchMoveX","touchMoveY","velocityX","velocityY","longPressTimer","doubleTapTimer","doubleTapWaiting","thresholdX","thresholdY","disregardVelocityThresholdX","disregardVelocityThresholdY","swipingHorizontal","swipingVertical","swipingDirection","swipedHorizontal","swipedVertical","originalDistance","newDistance","originalAngle","newAngle","rotation","panstart","panmove","panend","swipeleft","swiperight","swipeup","swipedown","tap","doubletap","longpress","pinch","pinchend","rotateend","_onTouchStart","onTouchStart","_onTouchMove","onTouchMove","_onTouchEnd","onTouchEnd","defaults","passiveIfSupported","mouseSupport","_a","_b","idx","fire","_c","_d","_e","_f","_g","_h","_j","_k","_l","_m","_o","_p","_q","_r","_s","_t","_u","_v","_w","_x","_y","_z","_0","_1","didTouch1","changedTouches","touch","identifier","screenX","screenY","atan2","threshold","disregardVelocityThreshold","longPressTime","absTouchMoveX","absTouchMoveY","pressThreshold","touches","absX","absY","absDistance","diagonal","diagonalSwipes","tan","diagonalLimit","velocityThreshold","doubleTapTime","_self","passive","err","overlay","persistentOverlay","swipeable","direction","peekable","persistent","responsive","pushbody","animationTime","fromHTML","callbackBuilt","callbackRender","callbackClose","callbackOpen","callbackValidate","PUSH_ARROWS","SWIPE_DIRECTIONS","WRAPPED_BODY","WRAPPED_DRAWERS","Drawer","_options","_state","_animating","_mounted","_animateOnMount","animateOnMount","_hasOverlay","_resizeThrottle","resize","_mount","_bindListeners","opened","closed","close","_gestures","_unwrapBody","_containerWrap","_overlay","_drawer","_animteDrawer","_animateOverlay","_animateBody","_toggleEnd","_drawerSize","_peekableSize","tofrom","_bodyWrap","drawer","_dialog","header","closer","_closeValidate","peekableSize","drawerSize","_wrapBody","classN","directions","confirmBtn","confirmClass","callbackConfirm","Frontdrop","_buildFD","footer","custom","closeAnywhere","cancelBtn","cancelClass","Modal","_modal","blur","focus","_cancelBtn","_confirmBtn","role","tabindex","_closeClick","clicked","_Modal","closebtn","btn","stacked","dense","icon","btnVariant","callbackDismiss","Notification","_buildNotificationContainer","_render","domElement","_notification","_timeout","wrappper","_DOMElementWrapper","_animateOutClass","_animateInClass","_wrapperClass","_animateIn","_animateOut","notif","ariaLabel","_btn","_removeValidate","updateURL","nodeOrId","isHashable","fixednav","contents","_map","MASK_MAP","creditcard","money","numeric","numericdecimal","alphanumeric","alphaspace","alphadash","alphanumericdash","_format_464","cc","_format_465","_format_4444","_CARD_TYPES","pattern","format","maxlength","InputMasker","maskRegexp","_getMaskRegexp","_buildFormatRegexp","maskName","_bind","isCC","_handle","raw","seperators","endsWith","_formatFilter","mapped","_formatCC","ct","oldval","newVal","selectionStart","before_caret","setSelectionRange","VALIDATORS","specialchars","email","password","minlength","valid","alpha","alphadot","alphadashdot","alphadashes","alphadashesdot","alphanumericdot","alphanumericdashdot","alphanumericdashesdot","list","ccNum","String","bit","sum","FormValidator","_formEl","_inputs","_ruleSets","_formObj","_valid","_buildRuleSets","validate","_unListen","_clearForm","_validateRuleSets","ruleset","_devalidateField","failClass","_listen","_validateField","showResult","required","validation","_validationFunc","_validateRuleSet","_liveValidate","fieldWrap","CURR_RENDER","BINDINGS_CACHE","RESERVED_WORDS","Fragment","lexer","Tokenizer","Parser","sandbox","jsx","SPACE","ALPHA","VOID_ELS","Lexer","emit","currentTag","braceDepth","attrValStack","scan","peek","peekback","peekn","chunk","buff","consume","substr","whitespace","bufferjsx","validator","tag_open","tag_close_self","tag_close_void","tag_close","attr_key","attr_val","end","attrValEnd","attr_val_interpolated","attr_val_jsx","attr_jsx_spread","bogus_tag","markup_declaration_open","doc_type","buf","doc_type_attr","comment_start","conditional_comment_open","conditional_comment","cdata_start","jsx_block","blockpeth","emitter","htmlstr","stack","currAttr","token","readtoken","pushNode","pushValue","pushChild","closeNode","pushAttr","pushAttrSpread","spreadAttribute","pushAttrVal","pushJsx","openJsx","closeJsx","prev","CACHE_STR","sanitizeQuotes","jsxStr","useCache","funcString","genChildren","genTag","genProps","spread","genPropValue","BUILT_INS_STR","DISSALOWEDES","require","Window","eval","Function","IDENTIFIER","BUILT_INS","Boolean","EvalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError","COPIES","PROTO_KEYS","acceptableVariable","SANDBOX_NAME","bindings","genBindings","sandboxed","g","realKeys","diff","unalienate","_normaliseChildren","_flatten","sub","_normaliseChild","createTextNode","createComment","_props","_comoponentRenderFn","rendered","_createComponent","GLOBAL_BINDINGS","_jsx","output","accessibility","autoPlay","initialIndex","controls","dots","wrap","groupSlides","pauseOnHover","draggable","friction","_Slider","DOMElementWrapper","_playing","_translated","_moveIndexToMiddle","play","unpause","_dotWrap","_righBtn","_leftBtn","slides","_slides","slide","animationOrClickEvent","_dragging","_index","_slidesIndexs","_toSlideDirect","_slideWidthWGap","_updateIndex","_updateDots","preDistance","_offset","_moved","_DOMElementViewport","toSlide","slideNum","fromClick","delta","_moveDelta","tmpOffset","_middleIndex","_bufferSize","_viewportWidth","_slideWidth","clones","_bufferNodes","_slidesCount","_isFullWidth","_gapSize","percentagWidth","_visibleSlides","_dragBoundryL","_dragBoundryR","hidden","_onVisibilityPlay","_onVisibilityChange","_tick","_playTimer","ceil","_buildControls","_dots","_buildDots","_bindGestures","_dragSlide","moved","_dragX","_dragCloneSlides","_draggingbuffer","_bufferDragClones","viewport","cloneR","_dragRIndex","cloneL","_dragLIndex","_dragClones","_clearDragClones","_restingDragPos","wrapping","slideIndex","slideStarts","_dragMoved","_onDragEnd","_dragEndAnim","_resetDragVars","_dragStartPointX","_prevDrag","gestures","pageX","moveVectorX","dot","dataIndex","_dotClick","backN","forwdN","SLIDERS","Slider","slider","Inputs","_onLabelClick","_eventHandler","_setClasses","Range","wrapperEl","inputEl","labeled","indicators","_unbind","update","updateBackground","updateIndicators","digitWraps","digitEls","ul","fill","label","fChild","digitWrapper","visible","percent","RANGES","RangeSlider","range","inputProps","dataPrefix","dataSuffix","PopHandler","popElement","_buildPopEl","hide","show","tarcoordinates","trigger","HOVER_TIMER","POP_HANDLERS","DATA_ATTRIBUTES","Popovers","_windowClick","_windowClickHandler","popHandler","_clickHandler","_windowResize","_hoverEnter","display","_hoverLeave","_killPop","_hoverPop","_trigger","_removeAll","exception","chip","removeable","posticon","preicon","icon1","removeBtn","icon2","ChipInputs","_wrapper","_input","_removeChip","_onKeyUp","_preventSubmit","_removeBtns","_key","code","keyCode","charCode","_removeLastChip","_value","_getChipsValues","addChip","_chips","_icon","Chip","inputName","chipClass","_result","Menu","menu","activeClass","selected","isCheck","selectedCheck","check","ellipsis","selectable","items","ChipSuggestions","inputTarget","_text","ChoiceChips","FilterChips","modals","modal","_toggle","drawers","frontdrop","Backdrop","backdrop","_show","BOOL_ATTRS","REQUESTED","PjaxLinks","_requestHandler","Collapse","collapseTarget","collapseSpeed","collapseEasing","closing","withOpacity","List","Dropdown","checkable","caret","anchorText","anchorTag","boundWindow","_selectHandler","button","active","_hideDrop","_showDrop","drop","anchorClass","dataValue","TabNav","nav","panel","panels","MASK_HANDLERS","InputMasks","MessageClosers","msg","toRemove","pageLoaded","WayPoints","_invokePageLoad","waypointTarget","waypointSpeed","waypointEasing","updateUrl","SmoothScroll","hash","INLINESTYLES","RIPPLING","SELECTORS","Ripple","CSSoverflow","CSSposition","_startRipple","_restore","disabled","releaseEvent","performance","ripple","release","ev","releaseTimer","restoreTimer","c","pageY","Table","row","table","cell","rows","AVAILABLE_OPTIONS","isBackground","isRatio","ratio","isLazy","placeholder","dataSrc","grayscale","image"],"sources":["dist/js/frontbx.esm.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Frontbx ESM\n * \n * @version  {0.0.4}\n * @see      {https://github.com/frontbx/ui}\n * @licensed {https://github.com/frontbx/ui/blob/main/LICENSE}\n * --------------------------------------------------------------------------\n */\n/**\n * --------------------------------------------------------------------------\n * Frontbx standalone\n * \n * @version  {0.0.4}\n * @see      {https://github.com/frontbx/ui}\n * @licensed {https://github.com/frontbx/ui/blob/main/LICENSE}\n * --------------------------------------------------------------------------\n */\n// Core\n// polyfills\n// polyfills\nconst FBX_ROOT = typeof process === 'object' && typeof global === 'object' ? global : window;\n\nif (typeof window === 'undefined') throw new Error('Frontbx requires a window object to run.');\n/**\n * A fix to allow you to use window.location.origin consistently\n *\n * @see {https://tosbourn.com/a-fix-for-window-location-origin-in-internet-explorer/}\n */\nif (!window.location.origin)\n{\n    window.location.origin = window.location.protocol + \"//\" + window.location.hostname + (window.location.port ? ':' + window.location.port : '');\n}\n/*\n * Custom events \n *\n * @see {https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent#Polyfill}\n */\n(function()\n{\n    if (typeof window.CustomEvent === \"function\") return false;\n\n    function CustomEvent(event, params)\n    {\n        params = params ||\n        {\n            bubbles: false,\n            cancelable: false,\n            detail: null\n        };\n        var evt = document.createEvent('CustomEvent');\n        evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n        return evt;\n    }\n\n    window.CustomEvent = CustomEvent;\n\n})();\n/**\n * debounce and throttle methods\n * \n * @see {Underscore.js} 1.9.1\n */\n(function()\n{\n\n    // Some functions take a variable number of arguments, or a few expected\n    // arguments at the beginning and then a variable number of values to operate\n    // on. This helper accumulates all remaining arguments past the function’s\n    // argument length (or an explicit `startIndex`), into an array that becomes\n    // the last argument. Similar to ES6’s \"rest parameter\".\n    var restArguments = function(func, startIndex)\n    {\n        startIndex = startIndex == null ? func.length - 1 : +startIndex;\n        return function()\n        {\n            var length = Math.max(arguments.length - startIndex, 0),\n                rest = Array(length),\n                index = 0;\n            for (; index < length; index++)\n            {\n                rest[index] = arguments[index + startIndex];\n            }\n            switch (startIndex)\n            {\n                case 0:\n                    return func.call(this, rest);\n                case 1:\n                    return func.call(this, arguments[0], rest);\n                case 2:\n                    return func.call(this, arguments[0], arguments[1], rest);\n            }\n            var args = Array(startIndex + 1);\n            for (index = 0; index < startIndex; index++)\n            {\n                args[index] = arguments[index];\n            }\n            args[startIndex] = rest;\n            return func.apply(this, args);\n        };\n    };\n\n    // A (possibly faster) way to get the current timestamp as an integer.\n    var _now = Date.now || function()\n    {\n        return new Date().getTime();\n    };\n\n\n    // Delays a function for the given number of milliseconds, and then calls\n    // it with the arguments supplied.\n    var _delay = restArguments(function(func, wait, args)\n    {\n        return setTimeout(function()\n        {\n            return func.apply(null, args);\n        }, wait);\n    });\n\n\n    // Returns a function, that, when invoked, will only be triggered at most once\n    // during a given window of time. Normally, the throttled function will run\n    // as much as it can, without ever going more than once per `wait` duration;\n    // but if you'd like to disable the execution on the leading edge, pass\n    // `{leading: false}`. To disable execution on the trailing edge, ditto.\n    var _throttle = function(func, wait, options)\n    {\n        var timeout, context, args, result;\n        var previous = 0;\n        if (!options) options = {};\n\n        var later = function()\n        {\n            previous = options.leading === false ? 0 : _now();\n            timeout = null;\n            result = func.apply(context, args);\n            if (!timeout) context = args = null;\n        };\n\n        var throttled = function()\n        {\n            var now = _now();\n            if (!previous && options.leading === false) previous = now;\n            var remaining = wait - (now - previous);\n            context = this;\n            args = arguments;\n            if (remaining <= 0 || remaining > wait)\n            {\n                if (timeout)\n                {\n                    clearTimeout(timeout);\n                    timeout = null;\n                }\n                previous = now;\n                result = func.apply(context, args);\n                if (!timeout) context = args = null;\n            }\n            else if (!timeout && options.trailing !== false)\n            {\n                timeout = setTimeout(later, remaining);\n            }\n            return result;\n        };\n\n        throttled.cancel = function()\n        {\n            clearTimeout(timeout);\n            previous = 0;\n            timeout = context = args = null;\n        };\n\n        return throttled;\n    };\n\n    // Returns a function, that, as long as it continues to be invoked, will not\n    // be triggered. The function will be called after it stops being called for\n    // N milliseconds. If `immediate` is passed, trigger the function on the\n    // leading edge, instead of the trailing.\n    var _debounce = function(func, wait, immediate)\n    {\n        var timeout, result;\n\n        var later = function(context, args)\n        {\n            timeout = null;\n            if (args) result = func.apply(context, args);\n        };\n\n        var debounced = restArguments(function(args)\n        {\n            if (timeout) clearTimeout(timeout);\n            if (immediate)\n            {\n                var callNow = !timeout;\n                timeout = setTimeout(later, wait);\n                if (callNow) result = func.apply(this, args);\n            }\n            else\n            {\n                timeout = _delay(later, wait, this, args);\n            }\n\n            return result;\n        });\n\n        debounced.cancel = function()\n        {\n            clearTimeout(timeout);\n            timeout = null;\n        };\n\n        return debounced;\n    };\n\n    FBX_ROOT.throttle = _throttle;\n\n    FBX_ROOT.debounce = _debounce;\n\n}());\n\n\n// container\nvar container;\n\n(function()\n{\n    const EMPTY_OBJ_KEYS = Object.getOwnPropertyNames(Object.getPrototypeOf({}));\n\n    /**\n     * JS IoC Container\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Inverse = function()\n    {\n        this._store = {};\n\n        this.IMPORT_AS_REF = 100;\n    }\n\n    /**\n     * Set data key to value\n     *\n     * @access {public}\n     * @param {string} key   The data key\n     * @param {mixed}  value The data value\n     */\n    Inverse.prototype.set = function(key, value, singleton)\n    {\n        key = this._normalizeKey(key);\n\n        value = this._storeObj(value, singleton);\n\n        this._store[key] = value;\n\n        this._setProto(key);\n    }\n\n    /**\n     * Stores a globally unique singleton\n     *\n     * @access {public}\n     * @param  {string} key      The value or object name\n     * @param  {object} classObj The closure that defines the object\n     * @return {this}\n     */\n    Inverse.prototype.singleton = function(key, classObj, invoke)\n    {\n        invoke = typeof invoke === 'undefined' ? false : invoke;\n\n        this.set(key, classObj, true);\n\n        if (invoke)\n        {\n            return this.get(key);\n        }\n    }\n\n    /**\n     * Does this set contain a key?\n     *\n     * @access {public}\n     * @param  {string}  key The data key\n     * @return {boolean}\n     */\n    Inverse.prototype.has = function(key)\n    {\n        key = this._normalizeKey(key);\n\n        for (var k in this._store)\n        {\n            if (k === key)\n            {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    /**\n     * Remove a key/value\n     *\n     * @access {public}\n     * @param {string} key   The data key\n     */\n    Inverse.prototype.delete = function(key)\n    {\n        key = this._normalizeKey(key);\n\n        delete this._store[key];\n\n        var _proto = Object.getPrototypeOf(this);\n\n        if (typeof _proto[key] !== 'undefined')\n        {\n            _proto[key] = undefined;\n        }\n    }\n\n    /**\n     * Get data value with key\n     *\n     * @access {public}\n     * @param  {string} key The data key\n     * @param  {mixed}  ... Any additional parameters to pass to the constructor (optional) (default null)\n     * @return {mixed}      The data value\n     */\n    Inverse.prototype.get = function(key)\n    {\n        key = this._normalizeKey(key);\n\n        let args = Array.prototype.slice.call(arguments).slice(1);\n\n        let storeObj = this._store[key];\n\n        if (storeObj)\n        {\n            if (args[0] && args[0] === this.IMPORT_AS_REF) return storeObj.value;\n\n            // Singletons\n            if (storeObj.singleton)\n            {\n                if (!storeObj.instance)\n                {\n                    return storeObj.singleton.apply(this, [key, ...args]);\n                }\n\n                return storeObj.instance;\n            }\n            // Constructorables\n            if (storeObj.invokable)\n            {\n                return this._newInstance(storeObj.value, args);\n            }\n            // Functions\n            if (storeObj.funcn)\n            {\n                return storeObj.value.apply(this, args);\n            }\n            // Intances and all other var types\n            return storeObj.value;\n        }\n    }\n\n    /**\n     * Get data value with key\n     *\n     * @access {public}\n     * @param  {string} key The data key\n     * @param  {mixed}  ... Any additional parameters to pass to the constructor (optional) (default null)\n     * @return {mixed}      The data value\n     */\n    Inverse.prototype.import = function(names)\n    {\n        const _this   = this;\n        const _import = {};\n\n        _import.from = function(module)\n        {\n            const _rets = [];\n\n            const _context = _this.get(module);\n\n            for (var i = 0; i < names.length; i++)\n            {\n                const mixedVar = _context[names[i]];\n\n                _rets.push(_this._is_func(mixedVar) ? _this.bind(_context[names[i]], _context) : mixedVar);\n\n            }\n\n            return _rets;\n        };\n\n        return _import;\n    }\n\n    Inverse.prototype.bind = function(callback, context)\n    {\n        context = typeof context === 'undefined' ? window : context;\n\n        const bound = function()\n        {\n            return callback.apply(context, arguments);\n        }\n\n        Object.defineProperty(bound, 'name', { value: callback.name });\n\n        bound.__isBound      = true;\n        bound.__boundContext = context;\n        bound.__origional    = callback;\n\n        return bound;\n    }\n\n    /**\n     * Sets the key as a prototype method\n     *\n     * @access {public}\n     * @param  {string} key   The data key\n     * @return {mixed}\n     */\n    Inverse.prototype._setProto = function(key)\n    {\n        var _this = this;\n\n        var _proto = Object.getPrototypeOf(this);\n\n        _proto[key] = function()\n        {\n            var args = Array.prototype.slice.call(arguments);\n\n            args.unshift(key);\n\n            return _this.get.apply(_this, args);\n        };\n    }\n\n    /**\n     * Stores a globally unique singleton\n     *\n     * @access {public}\n     * @param  {string} key      The value or object name\n     * @param  {object} classObj The closure that defines the object\n     * @return {this}\n     */\n    Inverse.prototype._singletonFunc = function(key)\n    {\n        let storeObj = this._store[key];\n        let instance = storeObj.invoked ? storeObj.instance : null;\n        let args     = Array.prototype.slice.call(arguments).slice(1);\n\n        if (!instance)\n        {\n            instance           = this._newInstance(storeObj.value, args);\n            storeObj.function  = false;\n            storeObj.invokable = false;\n            storeObj.invoked   = true;\n            storeObj.value     = null;\n            storeObj.instance  = instance;\n            storeObj.singleton = true;\n        }\n\n        return instance;\n    }\n\n    Inverse.prototype._isInvokable = function(mixed_var)\n    {\n        // Not a function\n        if (typeof mixed_var !== 'function' || mixed_var === null)\n        {\n            return false;\n        }\n\n        // Strict ES6 class\n        if (/^\\s*class\\s+\\w+/.test(mixed_var.toString()))\n        {\n            return true;\n        }\n\n        // Native arrow functions\n        if (!mixed_var.prototype || !mixed_var.prototype.constructor)\n        {\n            return false;\n        }\n\n        // Prototype\n        let proto = mixed_var.prototype || Object.getPrototypeOf(mixed_var);\n\n        let protokeys = Object.getOwnPropertyNames(proto);\n\n        if (protokeys.filter(x => !EMPTY_OBJ_KEYS.includes(x)).length === 0) return false;\n\n        return true;\n    }\n\n    /**\n     * Checks if a class object has been invoked\n     *\n     * @access {private}\n     * @param  {mixed} mixedVar The object instance or reference\n     * @return {bool}\n     */\n    Inverse.prototype._isInvoked = function(mixedVar)\n    {\n        if (typeof mixedVar === 'object' && mixedVar.constructor && typeof mixedVar.constructor === 'function')\n        {\n            var constr = mixedVar.constructor.toString().trim();\n            \n            return constr.startsWith('function (') || constr.startsWith('function(') || constr.startsWith('function Object(') || constr.startsWith('class ') ;\n        }\n\n        return false;\n    }\n\n    /**\n     * Invokes and returns a new class instance\n     *\n     * @access {private}\n     * @param  {mixed} classObj The object instance or reference\n     * @param  {array} args     Arguements to pass to class constructor (optional) (default null)\n     * @return {object}\n     */\n    Inverse.prototype._newInstance = function(reference, args)\n    {\n        return new reference(...args);\n    }\n\n    /**\n     * Invokes and returns a new class instance\n     *\n     * @access {private}\n     * @param  {mixed} classObj The object instance or reference\n     * @param  {array} args     Arguements to pass to class constructor (optional) (default null)\n     * @return {object}\n     */\n    Inverse.prototype._storeObj = function(mixedVar, isSingleton)\n    {\n        isSingleton = typeof isSingleton === 'undefined' ? false : isSingleton;\n\n        let value       = mixedVar;\n        let invokable   = this._isInvokable(mixedVar);\n        let invoked     = this._isInvoked(mixedVar);\n        let instance    = invoked && isSingleton ? mixedVar : null;\n        let funcn       = this._is_func(mixedVar) && !invokable && !invoked && !isSingleton;\n        let singleton   = isSingleton ? this._singletonFunc : false;\n\n        return { funcn, invokable, invoked, value, instance, singleton };\n    }\n\n    /**\n     * Normalizes key for prototypes\n     *\n     * @access {private}\n     * @param  {string} key Key to normalize\n     * @return {string}\n     */\n    Inverse.prototype._normalizeKey = function(key)\n    {\n        return key.replace(/[^\\w]+/g, '');\n    }\n\n    Inverse.prototype._is_func = function(mixedVar)\n    {\n        return Object.prototype.toString.call(mixedVar) === '[object Function]';\n    }\n\n    /**\n     * Loads container into global namespace as \"frontbx\"\n     *\n     */\n    container = new Inverse;\n    \n})();\n\n// Utils\n// Standard\nconst NULL_TAG = '[object Null]';\nconst UNDEF_TAG = '[object Undefined]';\nconst BOOL_TAG = '[object Boolean]';\nconst STRING_TAG = '[object String]';\nconst NUMBER_TAG = '[object Number]';\nconst FUNC_TAG = '[object Function]';\nconst ARRAY_TAG = '[object Array]';\nconst ARGS_TAG = '[object Arguments]';\nconst NODELST_TAG = '[object NodeList]';\nconst OBJECT_TAG = '[object Object]';\nconst DATE_TAG = '[object Date]';\nconst NODECLT_TAG = '[object HTMLCollection]';\n\n// Unusual\nconst SET_TAG = '[object Set]';\nconst MAP_TAG = '[object Map]';\nconst REGEXP_TAG = '[object RegExp]';\nconst SYMBOL_TAG = '[object Symbol]';\nconst CSSDEC_TAG = '[object CSSStyleDeclaration]';\n\n// Array buffer\nconst ARRAY_BUFFER_TAG = '[object ArrayBuffer]';\nconst DATAVIEW_TAG = '[object DataView]';\nconst FLOAT32_TAG = '[object Float32Array]';\nconst FLOAT64_TAG = '[object Float64Array]';\nconst INT8_TAG = '[object Int8Array]';\nconst INT16_TAG = '[object Int16Array]';\nconst INT32_TAG = '[object Int32Array]';\nconst UINT8_TAG = '[object Uint8Array]';\nconst UINT8CLAMPED_TAG = '[object Uint8ClampedArray]';\nconst UINT16_TAG = '[object Uint16Array]';\nconst UINT32_TAG = '[object Uint32Array]';\n\n// Non-cloneable\nconst ERROR_TAG = '[object Error]';\nconst WEAKMAP_TAG = '[object WeakMap]';\n\n// Arrayish _tags\nconst ARRAYISH_TAGS = [ARRAY_TAG, ARGS_TAG, NODELST_TAG, NODECLT_TAG];\n\n// Object.prototype.toString\nconst TO_STR = Object.prototype.toString;\n\n// Array.prototype.slice\nconst TO_ARR = Array.prototype.slice;\n\n// Regex for HTMLElement types\nconst HTML_REGXP = /^\\[object HTML\\w*Element\\]$/;\n/**\n * List of shorthand properties and their longhand equivalents\n *\n * @var {object}\n */\nconst SHORTHAND_PROPS =\n{\n    // CSS 2.1: http://www.w3.org/TR/CSS2/propidx.html\n    'list-style': ['-type', '-position', '-image'],\n    'margin': ['-top', '-right', '-bottom', '-left'],\n    'outline': ['-width', '-style', '-color'],\n    'padding': ['-top', '-right', '-bottom', '-left'],\n\n    // CSS Backgrounds and Borders Module Level 3: http://www.w3.org/TR/css3-background/\n    'background': ['-image', '-position', '-size', '-repeat', '-origin', '-clip', '-attachment', '-color'],\n    'border': ['-width', '-style', '-color'],\n    'border-color': ['border-top-color', 'border-right-color', 'border-bottom-color', 'border-left-color'],\n    'border-style': ['border-top-style', 'border-right-style', 'border-bottom-style', 'border-left-style'],\n    'border-width': ['border-top-width', 'border-right-width', 'border-bottom-width', 'border-left-width'],\n    'border-top': ['-width', '-style', '-color'],\n    'border-right': ['-width', '-style', '-color'],\n    'border-bottom': ['-width', '-style', '-color'],\n    'border-left': ['-width', '-style', '-color'],\n    'border-radius': ['border-top-left-radius', 'border-top-right-radius', 'border-bottom-right-radius', 'border-bottom-left-radius'],\n    'border-image': ['-source', '-slice', '-width', '-outset', '-repeat'],\n\n    // CSS Fonts Module Level 3: http://www.w3.org/TR/css3-fonts/\n    'font': ['-style', '-variant', '-weight', '-stretch', '-size', 'line-height', '-family'],\n    'font-variant': ['-ligatures', '-alternates', '-caps', '-numeric', '-east-asian'],\n\n    // CSS Masking Module Level 1: http://www.w3.org/TR/css-masking/\n    'mask': ['-image', '-mode', '-position', '-size', '-repeat', '-origin', '-clip'],\n    'mask-border': ['-source', '-slice', '-width', '-outset', '-repeat', '-mode'],\n\n    // CSS Multi-column Layout Module: http://www.w3.org/TR/css3-multicol/\n    'columns': ['column-width', 'column-count'],\n    'column-rule': ['-width', '-style', '-color'],\n\n    // CSS Speech Module: http://www.w3.org/TR/css3-speech/\n    'cue': ['-before', '-after'],\n    'pause': ['-before', '-after'],\n    'rest': ['-before', '-after'],\n\n    // CSS Text Decoration Module Level 3: http://www.w3.org/TR/css-text-decor-3/\n    'text-decoration': ['-line', '-style', '-color'],\n    'text-emphasis': ['-style', '-color'],\n\n    // CSS Animations (WD): http://www.w3.org/TR/css3-animations\n    'animation': ['-name', '-duration', '-timing-function', '-delay', '-iteration-count', '-direction', '-fill-mode', '-play-state'],\n\n    // CSS Transitions (WD): http://www.w3.org/TR/css3-transitions/\n    'transition': ['-property', '-duration', '-timing-function', '-delay'],\n\n    // CSS Flexible Box Layout Module Level 1 (WD): http://www.w3.org/TR/css3-flexbox/\n    'flex': ['-grow', '-shrink', '-basis'],\n};\n\n/**\n * List of shorthand properties and their longhand equivalents\n *\n * @var {object}\n */\nconst SHORTHAND_DEFAULTS = \n{\n    '-width' : '0',\n    '-height' : '0',\n    '-top' : '0',\n    '-left' : '0',\n    '-bottom' : '0',\n    '-duration' : '0s',\n    '-delay' : '0s',\n    '-grow' : '1' ,\n    '-shrink' : '1' ,\n    '-iteration-count' : '1',\n    '-timing-function' : 'linear',\n    '-transition-property' : 'all',\n    '-fill-mode': 'none',\n    '-emphasis' : 'none',\n    '-color' : 'none',\n    '-decoration' : 'none',\n    '-direction' : 'normal',\n    '-play-state' : 'running',\n};\n\n/**\n * CSS Transform value counts\n *\n * @var {object}\n */\nconst CSS_TRANSFORM_VALUES_COUNT = \n{\n    perspective: 1,\n    skewY: 1,\n    translateY: 1,\n    translateZ: 1,\n    scaleY: 1,\n    scaleZ: 1,\n    rotateX: 1,\n    rotateY: 1,\n    rotateZ: 1,\n    translateX: 1,\n    skewX: 1,\n    scaleX: 1,\n    rotate: 1,\n\n    skew: 2,\n    translate: 2,\n    scale: 2,\n\n    translate3d: 3,\n    scale3d: 3,\n    rotate3d: 3,\n\n    matrix: 6,\n    matrix3d: 16\n};\n\nconst CSS_3D_TRANSFORM_DEFAULTS =\n{\n    'translate3d' : ['0','0','0'],\n    'scale3d'     : ['1','1','1'],\n    'rotate3d'    : ['0','0','1','0'],\n    'skew'        : ['0', '0'],\n};\n\nconst CSS_3D_TRANSFORM_MAP_KEYS =\n{\n    x: 0,\n    y: 1,\n    z: 3\n};\n\n/* USED FOR css_to_px */\nconst CSS_PIXELS_PER_INCH = 96;\nconst CSS_RELATIVE_UNITS  = {\n    // Relative to the font-size of the element (2em means 2 times the size of the current font)\n    'em' : 16,\n\n    // Relative to the x-height of the current font (rarely used)\n    'ex' : 7.15625,\n\n    // Relative to the width of the \"0\" (zero)\n    'ch' : 8,\n\n    // Relative to font-size of the root element\n    'rem' : 16,\n\n    // Relative to 1% of the width of the viewport\n    'vw' : 1,\n\n    // Relative to 1% of the height of the viewport\n    'vh' : 1,\n\n    // Relative to 1% of viewport's* smaller dimension\n    // If the viewport height is smaller than the width, \n    // the value of 1vmin will be equal to 1% of the viewport height.\n    // Similarly, if the viewport width is smaller than the height, the value of 1vmin will be equal to 1% of the viewport width.\n    'vmin' : 765,\n    'vmax' : 1200,\n\n    // Relative to the parent element\n    '%' : 16\n}\nconst CSS_ABSOLUTE_UNITS =\n{\n    'in': CSS_PIXELS_PER_INCH,\n    'cm': CSS_PIXELS_PER_INCH / 2.54,\n    'mm': CSS_PIXELS_PER_INCH / 25.4,\n    'pt': CSS_PIXELS_PER_INCH / 72,\n    'pc': CSS_PIXELS_PER_INCH / 6,\n    'px': 1\n}\n\n\n/**\n * Cached CSS propery cases.\n *\n * @var {object}\n */\nconst CSS_PROP_TO_HYPHEN_CASES = {};\nconst CSS_PROP_TO_CAMEL_CASES  = {};\n// Empty object\nconst EMPTY_OBJ_KEYS = Object.getOwnPropertyNames(Object.getPrototypeOf({}));\n\nconst FORBIDDEN_OBJ_KEYS = ['length', 'name', 'arguments', 'constructor', 'apply', 'bind', 'call', 'toString', 'caller', 'callee', 'prototype'];\n/**\n * Default options.\n * \n * @var {object}\n */\nconst ANIMATION_DEFAULT_OPTIONS =\n{\n    // Options\n    //'property', 'from', 'to', 'callback', 'complete', 'start', 'fail'\n    easing:               'ease',\n    duration:              500,\n    fps:                   60, // (16ms)\n};\n\n /**\n * Allowed Options.\n * \n * @var {array}\n */\nconst ANIMATION_ALLOWED_OPTIONS = ['property', 'from', 'to', 'duration', 'easing', 'callback'];\n\n/**\n * Allowed Options.\n * \n * @var {array}\n */\nconst ANIMATION_FILTER_OPTIONS = [ ...Object.keys(ANIMATION_DEFAULT_OPTIONS), ...ANIMATION_ALLOWED_OPTIONS];\n\n/**\n * Currently animating animations.\n * \n * @var {array}\n */\nconst ANIMATING = [];\n\n\n/**\n * Math Contstansts.\n * \n * @var {mixed}\n */\nconst POW  = Math.pow;\nconst SQRT = Math.sqrt;\nconst SIN  = Math.sin;\nconst COS  = Math.cos;\nconst PI   = Math.PI;\nconst C1   = 1.70158;\nconst C2   = C1 * 1.525;\nconst c3   = C1 + 1;\nconst C4   = (2 * PI) / 3;\nconst C5   = (2 * PI) / 4.5;\n\n/**\n * bounceOut function.\n * \n * @var {function}\n */\nconst bounceOut = function (x)\n{\n    const n1 = 7.5625;\n    const d1 = 2.75;\n\n    if (x < 1 / d1)\n    {\n        return n1 * x * x;\n    }\n    else if (x < 2 / d1)\n    {\n        return n1 * (x -= 1.5 / d1) * x + 0.75;\n    }\n    else if (x < 2.5 / d1)\n    {\n        return n1 * (x -= 2.25 / d1) * x + 0.9375;\n    }\n    else\n    {\n        return n1 * (x -= 2.625 / d1) * x + 0.984375;\n    }\n};\n\n/**\n * Easing functions.\n * \n * @var {object}\n */\nconst ANIMATION_EASING_FUNCTIONS = \n{\n    linear: (x) => x,\n    ease: function (x)\n    {\n        return x < 0.5 ? 4 * x * x * x : 1 - POW(-2 * x + 2, 3) / 2;\n    },\n    easeIn: function (x)\n    {\n        return 1 - COS((x * PI) / 2);\n    },\n    easeOut: function (x)\n    {\n        return SIN((x * PI) / 2);\n    },\n    easeInOut: function (x)\n    {\n        return -(COS(PI * x) - 1) / 2;\n    },\n    easeInQuad: function (x)\n    {\n        return x * x;\n    },\n    easeOutQuad: function (x)\n    {\n        return 1 - (1 - x) * (1 - x);\n    },\n    easeInOutQuad: function (x)\n    {\n        return x < 0.5 ? 2 * x * x : 1 - POW(-2 * x + 2, 2) / 2;\n    },\n    easeInCubic: function (x)\n    {\n        return x * x * x;\n    },\n    easeOutCubic: function (x)\n    {\n        return 1 - POW(1 - x, 3);\n    },\n    easeInOutCubic: function (x)\n    {\n        return x < 0.5 ? 4 * x * x * x : 1 - POW(-2 * x + 2, 3) / 2;\n    },\n    easeInQuart: function (x)\n    {\n        return x * x * x * x;\n    },\n    easeOutQuart: function (x)\n    {\n        return 1 - POW(1 - x, 4);\n    },\n    easeInOutQuart: function (x)\n    {\n        return x < 0.5 ? 8 * x * x * x * x : 1 - POW(-2 * x + 2, 4) / 2;\n    },\n    easeInQuint: function (x)\n    {\n        return x * x * x * x * x;\n    },\n    easeOutQuint: function (x)\n    {\n        return 1 - POW(1 - x, 5);\n    },\n    easeInOutQuint: function (x)\n    {\n        return x < 0.5 ? 16 * x * x * x * x * x : 1 - POW(-2 * x + 2, 5) / 2;\n    },\n    easeInSine: function (x)\n    {\n        return 1 - COS((x * PI) / 2);\n    },\n    easeOutSine: function (x)\n    {\n        return SIN((x * PI) / 2);\n    },\n    easeInOutSine: function (x)\n    {\n        return -(COS(PI * x) - 1) / 2;\n    },\n    easeInExpo: function (x)\n    {\n        return x === 0 ? 0 : POW(2, 10 * x - 10);\n    },\n    easeOutExpo: function (x)\n    {\n        return x === 1 ? 1 : 1 - POW(2, -10 * x);\n    },\n    easeInOutExpo: function (x)\n    {\n        return x === 0\n            ? 0\n            : x === 1\n            ? 1\n            : x < 0.5\n            ? POW(2, 20 * x - 10) / 2\n            : (2 - POW(2, -20 * x + 10)) / 2;\n    },\n    easeInCirc: function (x)\n    {\n        return 1 - SQRT(1 - POW(x, 2));\n    },\n    easeOutCirc: function (x)\n    {\n        return SQRT(1 - POW(x - 1, 2));\n    },\n    easeInOutCirc: function (x)\n    {\n        return x < 0.5\n            ? (1 - SQRT(1 - POW(2 * x, 2))) / 2\n            : (SQRT(1 - POW(-2 * x + 2, 2)) + 1) / 2;\n    },\n    easeInBack: function (x)\n    {\n        return c3 * x * x * x - C1 * x * x;\n    },\n    easeOutBack: function (x)\n    {\n        return 1 + c3 * POW(x - 1, 3) + C1 * POW(x - 1, 2);\n    },\n    easeInOutBack: function (x)\n    {\n        return x < 0.5\n            ? (POW(2 * x, 2) * ((C2 + 1) * 2 * x - C2)) / 2\n            : (POW(2 * x - 2, 2) * ((C2 + 1) * (x * 2 - 2) + C2) + 2) / 2;\n    },\n    easeInElastic: function (x)\n    {\n        return x === 0\n            ? 0\n            : x === 1\n            ? 1\n            : -POW(2, 10 * x - 10) * SIN((x * 10 - 10.75) * C4);\n    },\n    easeOutElastic: function (x)\n    {\n        return x === 0\n            ? 0\n            : x === 1\n            ? 1\n            : POW(2, -10 * x) * SIN((x * 10 - 0.75) * C4) + 1;\n    },\n    easeInOutElastic: function (x)\n    {\n        return x === 0\n            ? 0\n            : x === 1\n            ? 1\n            : x < 0.5\n            ? -(POW(2, 20 * x - 10) * SIN((20 * x - 11.125) * C5)) / 2\n            : (POW(2, -20 * x + 10) * SIN((20 * x - 11.125) * C5)) / 2 + 1;\n    },\n    easeInBounce: function (x)\n    {\n        return 1 - bounceOut(1 - x);\n    },\n    easeOutBounce: bounceOut,\n    easeInOutBounce: function (x)\n    {\n        return x < 0.5\n            ? (1 - bounceOut(1 - 2 * x)) / 2\n            : (1 + bounceOut(2 * x - 1)) / 2;\n    },\n};\n\nconst CSS_EASINGS = \n{\n    // Defaults\n    ease: 'ease',\n    linear: 'linear',\n    easeIn: 'cubic-bezier(0.4, 0, 1, 1)',\n    easeOut: 'cubic-bezier(0, 0, 0.2, 1)',\n    easeInOut: 'cubic-bezier(0.4, 0, 0.2, 1)',\n\n    // sine\n    easeInSine: 'cubic-bezier(0.47, 0, 0.745, 0.715)',\n    easeOutSine: 'cubic-bezier(0.39, 0.575, 0.565, 1)',\n    easeInOutSine: 'cubic-bezier(0.445, 0.05, 0.55, 0.95)',\n\n    // Quad\n    easeInQuad: 'cubic-bezier(0.55, 0.085, 0.68, 0.53)',\n    easeOutQuad: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n    easeInOutQuad: 'cubic-bezier(0.455, 0.03, 0.515, 0.955)',\n\n    // Cubic\n    easeInCubic: 'cubic-bezier(0.55, 0.055, 0.675, 0.19)',\n    easeOutCubic: 'cubic-bezier(0.215, 0.61, 0.355, 1)',\n    easeInOutCubic: 'cubic-bezier(0.645, 0.045, 0.355, 1)',\n\n    // Queart\n    easeInQuart: 'cubic-bezier(0.895, 0.03, 0.685, 0.22)',\n    easeOutQuart: 'cubic-bezier(0.165, 0.84, 0.44, 1)',\n    easeInOutQuart: 'cubic-bezier(0.77, 0, 0.175, 1)',\n\n    // Quint\n    easeInQuint: 'cubic-bezier(0.755, 0.05, 0.855, 0.06)',\n    easeOutQuint: 'cubic-bezier(0.23, 1, 0.32, 1)',\n    easeInOutQuint: 'cubic-bezier(0.86, 0, 0.07, 1)',\n\n    // Expo\n    easeInExpo: 'cubic-bezier(0.95, 0.05, 0.795, 0.035)',\n    easeOutExpo: 'cubic-bezier(0.19, 1, 0.22, 1)',\n    easeInOutExpo: 'cubic-bezier(1, 0, 0, 1)',\n\n    // Circ\n    easeInCirc: 'cubic-bezier(0.6, 0.04, 0.98, 0.335)',\n    easeOutCirc: 'cubic-bezier(0.075, 0.82, 0.165, 1)',\n    easeInOutCirc: 'cubic-bezier(0.785, 0.135, 0.15, 0.86)',\n\n    // Back\n    easeInBack: 'cubic-bezier(0.6, -0.28, 0.735, 0.045)',\n    easeOutBack: 'cubic-bezier(0.175, 0.885, 0.32, 1.275)',\n    easeInOutBack: 'cubic-bezier(0.68, -0.55, 0.265, 1.55)',\n};\n\n/**\n * Array of HTML events\n *\n * @var {array}\n */\nconst DOC_EVENTS = Object.getOwnPropertyNames(document).concat(Object.getOwnPropertyNames(Object.getPrototypeOf(Object.getPrototypeOf(document)))).concat(Object.getOwnPropertyNames(Object.getPrototypeOf(window))).filter(function(i){return !i.indexOf('on')&&(document[i]==null||typeof document[i]=='function');}).filter(function(elem, pos, self){return self.indexOf(elem) == pos;}).map((x) => x.replace('on', '').toLowerCase());\n/**\n * Boolean attributes\n *\n * @var {array}\n */\nconst BOOLEAN_ATTRS = \n[\n\t'allowfullscreen',\n\t'async',\n\t'autofocus',\n\t'autoplay',\n\t'checked',\n\t'controls',\n\t'default',\n\t'defer',\n\t'disabled',\n\t'formnovalidate',\n\t'inert',\n\t'ismap',\n\t'itemscope',\n\t'loop',\n\t'multiple',\n\t'muted',\n\t'nomodule',\n\t'novalidate',\n\t'open',\n\t'playsinline',\n\t'readonly',\n\t'required',\n\t'reversed',\n\t'selected',\n\t'hidden',\n];\n\n/**\n * Property attributes\n *\n * @var {array}\n */\nconst PROP_ATTRIBUTES = ['href', 'list', 'form', 'tabIndex', 'download'];\n\n(function()\n{\n    var _THIS = null;\n\n    const _ = function()\n    {\n        this.version = \"1.0.0\";\n\n        this.author = \"Joe Howard\";\n\n        this.browser = false;\n\n        this._events = {};\n\n        this._guid = 1;\n\n        _THIS = this;\n    }\n\n    _.prototype._guidgen = function()\n    {\n        return `__${this._guid++}`;\n    }\nconst AnimateJS = function(DOMElement, options)\n{\n    this.DOMElement = DOMElement;\n\n    this.options = options;\n\n    this.keyframes = [];\n\n    this.currentKeyframe = 0;\n\n    this.duration = options.duration;\n\n    this.intervalDelay = Math.floor(1000 / options.fps);\n\n    this.keyFrameCount = Math.floor(this.duration / this.intervalDelay) + 1;\n\n    this.easing = options.easing;\n\n    this.CSSProperty = options.property;\n\n    this.isTransform = this.CSSProperty.toLowerCase().includes('transform');\n\n    this.isScroll = this.CSSProperty.toLowerCase().replace('-', '') === 'scrollto' && DOMElement === window;\n\n    this.isColor = options.property.includes('color') || options.to.startsWith('#') || options.to.startsWith('rgb');\n\n    this.clearAnimating(DOMElement);\n\n    this.parseOptions();\n\n    this.generateKeyframes();\n\n    this.stopped = true;\n\n    return this;\n}\n\nAnimateJS.prototype.clearAnimating = function(DOMElement)\n{\n    const CSSprop = this.CSSProperty;\n\n    _THIS.each(ANIMATING, function(i, animation)\n    {\n        if (animation.CSSProperty === CSSprop && animation.DOMElement === DOMElement)\n        {\n            animation.stop();\n\n            ANIMATING.splice(i, 1);\n\n            return false;\n        }\n    });\n}\n\nAnimateJS.prototype.start = function()\n{\n    if (this.keyFrameCount === 0) return this._complete();\n\n    this.stopped = false;\n\n    if (!this.isScroll) this.clearTransitions();\n\n    if (this.options.start) this.options.start(this.DOMElement);\n\n    const loop = () =>\n    {        \n        if (this.stopped) return;\n\n        this._applyKeyframe(this.keyframes.shift());\n\n        if (this.keyframes.length === 0)\n        {            \n            return this._complete();\n        }\n\n        setTimeout(loop, this.intervalDelay);\n    }\n\n    loop();\n\n    this._failTimer = setTimeout(() =>\n    {            \n        if (this.options.fail) this.options.fail(this.DOMElement);\n\n    }, this.duration + 50 );\n\n    ANIMATING.push(this);\n\n    return this;\n}\n\nAnimateJS.prototype._applyKeyframe = function(keyframe)\n{\n    if (!keyframe) return;\n\n    let prop = Object.keys(keyframe)[0];\n\n    this.isScroll ? window.scrollTo(keyframe[0], keyframe[1]) : _THIS.css(this.DOMElement, prop, keyframe[prop]);\n}\n\nAnimateJS.prototype._complete = function()\n{\n    clearTimeout(this._failTimer);\n\n    _THIS.each(ANIMATING, (i, animation) =>\n    {\n        if (animation === this)\n        {\n            ANIMATING.splice(i, 1);\n\n            return false;\n        }\n    });\n\n    let DOMElement = this.DOMElement;\n\n    if (this.options.complete) this.options.complete(DOMElement);\n\n    if (this.options.callback) this.options.callback(DOMElement);\n\n    if (!this.isScroll) _THIS.css(DOMElement, 'transition', this._pre_transition );\n}\n\nAnimateJS.prototype.stop = function()\n{\n    this.stopped = true;\n\n    clearTimeout(this._failTimer);\n\n    return this;\n}\n\nAnimateJS.prototype.parseOptions = function()\n{\n    if (this.isScroll)\n    {\n        this.parseScrollOptions();\n    }\n    else if (this.isTransform)\n    {\n        this.parseTransformOptions();\n    }\n    else if (this.isColor)\n    {\n        this.parseColorOptions();\n    }\n    else\n    {\n        this.parseDefaultOptions();\n    }\n}\n\nAnimateJS.prototype.parseScrollOptions = function()\n{\n    if (!this.options.to.includes(','))\n    {\n        throw new Error('Invalid scroll value. Animating scroll should be provided as [Y, X].');\n    }\n\n    // We ignore 'from'\n    let startY = window.scrollY;\n    let startX = window.scrollX;\n    let endX   = parseInt(this.options.to.split(',').shift().trim());\n    let endY   = parseInt(this.options.to.split(',').pop().trim());\n    let distX  = Math.abs(endX < startX ? (startX - endX) : (endX - startX))\n    let distY  = Math.abs(endY < startY ? (startY - endY) : (endY - startY))\n\n    this.startValue    = [startX, startY];\n    this.endValue      = [endX, endY];\n    this.backAnimation = [endX < startX, endY < startY];\n    this.distance      = [distX, distY] ;\n    this.CSSunits      = '';\n}\n\nAnimateJS.prototype.parseDefaultOptions = function()\n{\n    var startVal = _THIS.is_undefined(this.options.from) ? _THIS.rendered_style(this.DOMElement, this.CSSProperty) : this.options.from;\n    var endVal   = this.options.to;\n\n    // We need to set the end value, then remove it and re-apply any inline styles if they\n    // existed\n    if (endVal === 'auto' || endVal === 'initial' || endVal === 'unset')\n    {\n        let prevStyle = _THIS.inline_style(this.DOMElement, this.CSSProperty);\n\n        _THIS.css(this.DOMElement, this.CSSProperty, endVal);\n        \n        endVal = _THIS.rendered_style(this.DOMElement, this.CSSProperty);\n        \n        _THIS.css(this.DOMElement, this.CSSProperty, prevStyle ? prevStyle : false);\n    }\n\n    // From auto\n    if (startVal === 'auto' || startVal === 'initial')\n    {\n        startVal = _THIS.rendered_style(this.DOMElement, this.CSSProperty);\n    }\n\n    var startUnit = _THIS.css_value_unit(startVal);\n    var endUnit   = _THIS.css_value_unit(endVal);\n\n    if (startUnit !== endUnit && this.CSSProperty !== 'opacity')\n    {\n        if (startUnit !== 'px')\n        {\n            startVal  = _THIS.css_to_px(startVal + startUnit, this.DOMElement, this.CSSProperty);\n            startUnit = 'px';\n        }\n        if (endUnit !== 'px')\n        {\n            endVal  = _THIS.css_to_px(this.options.to, this.DOMElement, this.CSSProperty);\n            endUnit = 'px';\n        }\n    }\n\n    startVal = _THIS.css_unit_value(startVal);\n    endVal   = _THIS.css_unit_value(endVal);\n\n    this.startValue    = _THIS.css_unit_value(startVal);\n    this.endValue      = _THIS.css_unit_value(endVal);\n    this.backAnimation = endVal < startVal;\n    this.distance      = Math.abs(endVal < startVal ? (startVal - endVal) : (endVal - startVal));\n    this.CSSunits      = endUnit;\n}\n\nAnimateJS.prototype.parseTransformOptions = function()\n{\n    var DOMElement    = this.DOMElement;\n    var startValues   = _THIS.css_transform_props(DOMElement, false);\n    var endValues     = _THIS.css_transform_props(this.options.to, false);\n\n    // If a start value was specified it gets overwritten as the transform\n    // property is singular\n    if (this.options.from)\n    {\n        startValues = _THIS.css_transform_props(this.options.from);\n    }\n\n    this.CSSProperty    = [];\n    this.startValue     = [];\n    this.endValue       = [];\n    this.CSSunits       = [];\n    this.backAnimation  = [];\n    this.distance       = [];\n    this.baseTransforms = _THIS.is_empty(startValues) ? '' : _THIS.join_obj(_THIS.map(startValues, (prop, val) => !endValues[prop] ? val : false), '(', ') ', false, false);\n\n    _THIS.each(endValues, function(propAxis, valueStr)\n    {\n        var startValStr        = !startValues[propAxis] ? (propAxis.includes('scale') ? '1' : '0') : startValues[propAxis];\n        var startVal           = _THIS.css_unit_value(startValStr);\n        var endVal             = _THIS.css_unit_value(valueStr);\n        var startUnit          = _THIS.css_value_unit(startValStr);\n        var endUnit            = _THIS.css_value_unit(valueStr);\n        var CSSpropertyUnits   = endUnit;\n\n        if (startUnit !== endUnit)\n        {\n            // 0 no need to convert\n            if (_THIS.is_empty(startUnit))\n            {\n                startUnit = endUnit;\n            }\n            else\n            {\n                if (startUnit !== 'px') startVal = _THIS.css_to_px(startVal + startUnit, DOMElement, propAxis.includes('Y') ? 'height' : 'width');\n                if (endUnit !== 'px') endVal = _THIS.css_to_px(endVal + endUnit, DOMElement, propAxis.includes('Y') ? 'height' : 'width');\n                CSSpropertyUnits = 'px';\n            }\n        }\n\n        this.CSSProperty.push(propAxis);\n        this.CSSunits.push(endUnit);\n        this.endValue.push(endVal);\n        this.startValue.push(startVal);\n        this.backAnimation.push(endVal < startVal);\n        this.distance.push(Math.abs(endVal < startVal ? (startVal - endVal) : (endVal - startVal)));\n\n    }, this);\n}\n\nAnimateJS.prototype.parseColorOptions = function()\n{\n    this.startValue = this.sanitizeColor(this.options.from || _THIS.rendered_style(this.DOMElement, this.CSSProperty));\n    this.endValue   = this.sanitizeColor(this.options.to);\n}\n\n/**\n * Sanitize the start and end colors to RGB arrays.\n * \n * @param  {string} color  hex or rgb color as as string\n * @return {array}\n */\nAnimateJS.prototype.sanitizeColor = function(color)\n{\n    if (color.startsWith('rgb('))\n    {\n        return color.split(' ', 3).map((x) => parseInt(x.replaceAll(/[^\\d+]/g, '')));\n    }\n    else if (color.length === 7 )\n    {\n        let rgb = [];\n\n        color.match(/#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})/i).forEach((item) =>\n        {\n            if (item.length === 2)\n            {\n                const color = parseInt(item, 16);\n\n                rgb.push(color);\n            }\n        });\n\n        return rgb;\n    }\n}\n\nAnimateJS.prototype.generateKeyframes = function()\n{    \n    if (_THIS.is_equal(this.startValue, this.endValue))\n    {\n        this.keyFrameCount = 0;\n\n        return;\n    }\n\n    if (this.isScroll)\n    {\n        _THIS.for(this.keyFrameCount, function(index)\n        {\n            let x = this.generateKeyframe(index, 0);\n            let y = this.generateKeyframe(index, 1);\n\n            this.keyframes.push([x, y]);\n                            \n        }, this);\n\n        // Fallback\n        this.keyframes.push([this.endValue[0], this.endValue[1]]);\n\n        return;\n    }\n\n    if (this.isTransform)\n    {\n        _THIS.for(this.endValue, function(transformIndex)\n        {\n            _THIS.for(this.keyFrameCount, function(index)\n            {\n                this.keyframes.push(this.generateKeyframe(index, transformIndex));\n                \n            }, this);\n            \n        }, this);\n\n        return;\n    }\n\n    _THIS.for(this.keyFrameCount, function(index)\n    {\n        this.keyframes.push(this.generateKeyframe(index));\n        \n    }, this);\n\n    // Failsafe\n    if (this.keyframes[this.keyFrameCount -1][this.CSSProperty] !== `${this.endValue}${this.CSSunits}`)\n    {\n        this.keyframes.push({[this.CSSProperty]: `${this.endValue}${this.CSSunits}`});\n    }\n}\n\nAnimateJS.prototype.generateKeyframe = function(index, transformIndex)\n{\n    if (this.isColor)\n    {\n        const change = this.tween(this.easing, (index / this.keyFrameCount));\n        \n        return { [this.CSSProperty]: this.mixColors(this.startValue, this.endValue, change) };\n    }\n    \n    const backAnimation = this.isTransform || this.isScroll ? this.backAnimation[transformIndex] : this.backAnimation;\n\n    const startValue = this.isTransform || this.isScroll ? this.startValue[transformIndex] : this.startValue;\n\n    const distance = this.isTransform || this.isScroll ? this.distance[transformIndex] : this.distance;\n\n    const change = (distance * this.tween(this.easing, (index / this.keyFrameCount)));\n\n    const keyVal = this.roundNumber(backAnimation ? startValue - change : startValue + change, this.CSSProperty === 'opacity' ? 5 : 1);\n\n    var property = this.isTransform ? 'transform' : this.CSSProperty;\n\n    var prefix  = this.isTransform ? `${this.CSSProperty[transformIndex]}(` : '';\n\n    var suffix  = this.isTransform ? `${this.CSSunits[transformIndex]})` : this.CSSunits;\n    \n    var keyframe = { [property]:  `${prefix}${keyVal}${suffix}` };\n    \n    if (this.isScroll)\n    {\n        return keyVal;\n    }\n\n    if (this.isTransform && _THIS.is_undefined(this.keyframes[index]))\n    {\n        keyframe[property] = `${this.baseTransforms} ${keyframe[property]}`.trim();\n    }\n\n    return keyframe;\n}\n\n/**\n * Mix 2 colors.\n * \n * @param  {array}  color1 RGB color array\n * @param  {array}  color2 RGB color array\n * @param  {number} blend % between 0 and 1\n * @return {string} \n */\nAnimateJS.prototype.mixColors = function(color1RGB, color2RGB, blend)\n{\n    function linearInterpolation(y1, y2, x)\n    {\n        return Math.round(x * (y2 - y1) + y1);\n    }\n    \n    const colorRGB  = [];\n\n    color1RGB.forEach((c1, index) =>\n    {\n        const mixedColor = linearInterpolation(c1, color2RGB[index], blend);\n\n        colorRGB.push(mixedColor);\n    });\n\n    return 'rgb(' + colorRGB + ')';\n}\n\n/**\n * Calculate the easing pattern.\n * \n * @private\n * @link    {https://gist.github.com/gre/1650294}\n * @param   {String} type Easing pattern\n * @param   {Number} time Time animation should take to complete\n * @returns {Number}\n */\nAnimateJS.prototype.clearTransitions = function()\n{        \n    var CSSProperty    = this.isTransform ? 'transform' : this.CSSProperty;\n    var transitions    = _THIS.css_transition_props(this.DOMElement);\n    var css_transition = _THIS.inline_style(this.DOMElement, 'transition'); \n\n    if (_THIS.is_empty(transitions) || !transitions[CSSProperty]) return;\n\n    transitions[CSSProperty] = '0s linear 0s';\n\n    _THIS.css(this.DOMElement, 'transition', _THIS.join_obj(transitions, ' ', ', '));\n\n    this._pre_transition = !css_transition ? false : css_transition;\n}\n\nAnimateJS.prototype.roundNumber = (n, dp) => \n{\n    const h = +('1'.padEnd(dp + 1, '0')) // 10 or 100 or 1000 or etc\n\n    return Math.round(n * h) / h;\n}\n\n/**\n * Calculate the easing pattern.\n * \n * @private\n * @link    {https://gist.github.com/gre/1650294}\n * @param   {String} type Easing pattern\n * @param   {Number} time Time animation should take to complete\n * @returns {Number}\n */\nAnimateJS.prototype.tween = function(type, time)\n{\n    return ANIMATION_EASING_FUNCTIONS[type].call(null, time) || time;\n}\n\n_.prototype.__animate_js = function(DOMElement, options)\n{\n    return (new AnimateJS(DOMElement, options)).start();\n}\nconst AnimateCss = function(DOMElement, options)\n{     \n    // Domeleement   \n    this.DOMElement = DOMElement;\n\n    // Options\n    this.options = options;\n\n    // Props to animate\n    this.animatedProps = {};\n\n    // Pre animation transitions to restore\n    this.preAnimatedTransitions = {};\n\n    // Cache stopvalues\n    this.stopValues = {};\n\n    // Fail timer\n    this._failTimer = null;\n    \n    // Max duration\n    this.duration  = 0;\n    \n    // Callbacks\n    this._callbackStart    = () => {};\n    this._callbackComplete = () => {};\n    this._callbackFail     = () => {};\n    this._callbackStep     = () => {};\n\n    this.preProcessStartEndValues();\n\n    return this;\n};\n\n/**\n * Start animation.\n *\n */\nAnimateCss.prototype.start = function()\n{\n    this._callbackStart(this.DOMElement);\n\n    this.applyStartValues();\n\n    this.applyTransitions();\n\n    _THIS.on(this.DOMElement, 'transitionend', this.transitionEnd, this);\n\n    let _this = this;\n\n    this._failTimer = setTimeout(() =>\n    {\n        _this._callbackFail(_this.DOMElement);\n\n        _this.stop();\n\n    }, this.duration + 50 );\n\n    this._stepTimer = setInterval(() => this._callbackStep(), 16);\n\n    this.applyEndValues();\n\n    return this;\n}\n\n/**\n * Stop animation.\n *\n */\nAnimateCss.prototype.stop = function()\n{\n    clearTimeout(this._failTimer);\n\n    clearInterval(this._stepTimer);\n\n    this.resotoreElement();\n\n    _THIS.css(this.DOMElement, this.stopValues);\n}\n\n/**\n * Stop animation and destroy.\n *\n */\nAnimateCss.prototype.destory = function()\n{\n    this.stop();\n\n    this.animatedProps = {};\n\n    this.preAnimatedTransitions = {};\n}\n\n/**\n * On transition end.\n * \n * Note if a multiple animation properties wer supplied\n * we only want to call the callback once when all transitions\n * have completed.\n *\n * @param  {Event} e transitionEnd event\n */\nAnimateCss.prototype.resotoreElement = function()\n{\n    _THIS.css(this.DOMElement, 'transition', this.preAnimatedTransitions);\n\n    _THIS.off(this.DOMElement, 'transitionend', this.transitionEnd, this);\n}\n\n/**\n * On transition end.\n * \n * Note if a multiple animation properties wer supplied\n * we only want to call the callback once when all transitions\n * have completed.\n *\n * @param  {Event} e transitionEnd event\n */\nAnimateCss.prototype.transitionEnd = function(e)\n{\n    e = e || window.event;\n\n    let prop = _THIS.css_prop_to_hyphen_case(e.propertyName);\n\n    // Convert to shorthand if needed\n    if (prop.includes('-'))\n    {\n        let shorthand = prop.split('-').shift();\n\n        if (this.animatedProps[shorthand]) prop = shorthand;\n    }\n\n    let endVal = this.animatedProps[prop];\n\n    // Change inline style back to auto\n    if (endVal === 'auto' || endVal === 'initial' || endVal === 'unset') _THIS.css(this.DOMElement, prop, endVal);\n\n    delete this.animatedProps[prop];\n    \n    if (_THIS.is_empty(this.animatedProps))\n    {        \n        clearTimeout(this._failTimer);\n\n        clearInterval(this._stepTimer);\n\n        this.resotoreElement();\n\n        this._callbackComplete(this.DOMElement);\n    }\n}\n\n/**\n * Checks for \"auto\" transtions.\n * \n */\nAnimateCss.prototype.preProcessStartEndValues = function()\n{\n    var DOMElement = this.DOMElement;\n    \n    // We need to set the end value explicitly as these values will not\n    // transition with CSS\n    _THIS.each(this.options, function(i, option)\n    {\n        // Cache start and fail callbacks\n        if (option.start) this._callbackStart = option.start;\n        if (option.fail) this._callbackFail = option.fail;\n        if (option.step) this._callbackStep = option.step;\n\n        // Keep the longest callback\n        if (option.duration >= this.duration && (option.callback || option.complete))\n        {\n            this._callbackComplete = (option.callback || option.complete);\n        }\n\n        // Store the maximum duration\n        if (option.duration >= this.duration) this.duration = option.duration;\n\n        let startValue  = option.from;\n        let endValue    = option.to;\n        let CSSProperty = option.property;\n        \n        if (startValue === 'auto' || startValue === 'initial' || startValue === 'unset' || !startValue)\n        {\n            option.from = _THIS.rendered_style(DOMElement, CSSProperty);\n        }\n\n        if (endValue === 'auto' || endValue === 'initial' || endValue === 'unset')\n        {\n            let inlineStyle = _THIS.inline_style(DOMElement, CSSProperty);\n\n            _THIS.css(DOMElement, CSSProperty, endValue);\n\n            option.to = _THIS.rendered_style(DOMElement, CSSProperty);\n\n            _THIS.css(DOMElement, CSSProperty, inlineStyle ? inlineStyle : false);\n        }\n\n        this.animatedProps[CSSProperty] = endValue;\n\n        this.stopValues[CSSProperty] = _THIS.inline_style(DOMElement, CSSProperty) || false;\n\n    }, this);\n}\n\n/**\n * Apply start values.\n * \n */\nAnimateCss.prototype.applyStartValues = function()\n{\n    var styles = {};\n\n    _THIS.each(this.options, function(i, option)\n    {\n        styles[option.property] = option.from;\n    });\n\n    if (!_THIS.is_empty(styles)) _THIS.css(this.DOMElement, styles);\n}\n\n/**\n * Apply animation transitions.\n * \n */\nAnimateCss.prototype.applyTransitions = function()\n{\n    let transitions = _THIS.css_transition_props(this.DOMElement);\n\n    this.preAnimatedTransitions  = _THIS.inline_style(this.DOMElement, 'transition') || false;\n\n    _THIS.each(this.options, function(i, option)\n    {\n        // Setup and convert duration from MS to seconds\n        let property = option.property;\n        let duration = (option.duration / 1000);\n        let easing   = CSS_EASINGS[option.easing] || 'ease';\n\n        // Set the transition for the property\n        // in our merged obj\n        transitions[property] = `${duration}s ${easing}`;\n\n    }, this);\n\n    _THIS.css(this.DOMElement, 'transition', _THIS.join_obj(transitions, ' ', ', '));\n}\n\n/**\n * Apply animation end values.\n * \n */\nAnimateCss.prototype.applyEndValues = function()\n{\n    let styles = {};\n\n    _THIS.each(this.options, function(i, option)\n    {\n        styles[option.property] = option.to;\n\n    }, this);\n\n    _THIS.css(this.DOMElement, styles);\n}\n\n/**\n * CSS Animation.\n *\n * @access {private}\n * @param  {DOMElement}     DOMElement          Target DOM node\n * @param  {object}   options             Options object\n * @param  {string}   options.property    CSS property\n * @param  {mixed}    options.from        Start value\n * @param  {mixed}    options.to          Ending value\n * @param  {int}      options.duration    Animation duration in MS\n * @param  {string}   options.easing      Easing function in camelCase\n * @param  {function} options.callback    Callback to apply when animation ends (optional)\n * Options can be provided three ways:\n * \n * 1. Flat object with single property\n *      animate(el, { height: '500px', easing 'easeOut' })\n * \n * 2. Flat Object with multiple properties \n *      Note this way you can only animate from the existing rendered element style (you cannot provide a 'from' value)\n *      animate(el, { height: '500px', width: '500px', easing 'easeOut' })\n * \n * 3. Multi object with different options per property\n *      animate(el, { height:{ from: '100px', to: '500px', easing: 'easeInOutElastic'}, opacity:{ to: 0, easing: 'linear'} } );\n * \n */\n_.prototype.__animate_css = function(DOMElement, options)\n{    \n    return new AnimateCss(DOMElement, options).start();\n}\n\n/**\n * Animate JS\n *\n * @access {public}\n * @param  {DOMElement} DOMElement                  Target DOM node\n * @param  {object}     options             Options object\n * @param  {string}     options.property    CSS property\n * @param  {mixed}      options.from        Start value\n * @param  {mixed}      options.to          Ending value\n * @param  {int}        options.duration    Animation duration in MS\n * @param  {string}     options.easing      Easing function in camelCase\n * @param  {function}   options.callback    Callback to apply when animation ends (optional)\n * @return {array}\n * Options can be provided three ways:\n * \n * 1. Flat object with single property\n *      animate(el, { height: '500px', easing 'easeOut' })\n * \n * 2. Flat Object with multiple properties \n *      Note this way you can only animate from the existing rendered element style (you cannot provide a 'from' value)\n *      animate(el, { height: '500px', width: '500px', easing 'easeOut' })\n * \n * 3. Multi object with different options per property\n *      animate(el, { height:{ from: '100px', to: '500px', easing: 'easeInOutElastic'}, opacity:{ to: 0, easing: 'linear'} } );\n * \n */\n_.prototype.animate = function(DOMElement, options)\n{    \n    const animationSet = [];\n\n    const Animation = function()\n    {\n        return this;\n    };\n\n    Animation.prototype.start = function()\n    {\n        for (var i = 0; i < animationSet.length; i++)\n        {\n            animationSet[i].start();\n        }\n    };\n\n    Animation.prototype.stop = function()\n    {\n        for (var i = 0; i < animationSet.length; i++)\n        {\n            animationSet[i].stop(true);\n        }\n    };\n\n    Animation.prototype.destory = function()\n    {\n        for (var i = 0; i < animationSet.length; i++)\n        {\n            animationSet[i].destory();\n        }\n\n        animationSet = [];\n    };\n\n    const factoryOptions = !options.FROM_FACTORY ? this.__animation_factory(DOMElement, options) : options;\n\n    const AnimationInstance = new Animation;\n\n    this.each(factoryOptions, function(i, opts)\n    {\n        animationSet.push(this.__animate_js(DOMElement, opts));\n\n    }, this);\n\n    return AnimationInstance;\n}\n\n/**\n * Animate CSS\n *\n * @access {public}\n * @param  {DOMElement} DOMElement                  Target DOM node\n * @param  {object}     options             Options object\n * @param  {string}     options.property    CSS property\n * @param  {mixed}      options.from        Start value\n * @param  {mixed}      options.to          Ending value\n * @param  {int}        options.duration    Animation duration in MS\n * @param  {string}     options.easing      Easing function in camelCase\n * @param  {function}   options.callback    Callback to apply when animation ends (optional)\n * @return {array}\n * Options can be provided three ways:\n * \n * 1. Flat object with single property\n *      animate(el, { height: '500px', easing 'easeOut' })\n * \n * 2. Flat Object with multiple properties \n *      Note this way you can only animate from the existing rendered element style (you cannot provide a 'from' value)\n *      animate(el, { height: '500px', width: '500px', easing 'easeOut' })\n * \n * 3. Multi object with different options per property\n *      animate(el, { height:{ from: '100px', to: '500px', easing: 'easeInOutElastic'}, opacity:{ to: 0, easing: 'linear'} } );\n * \n */\n_.prototype.animate_css = function(DOMElement, options)\n{\n    let cssAnimation;\n\n    const Animation = function()\n    {\n        return this;\n    };\n\n    Animation.prototype.start = function()\n    {\n        cssAnimation.start();\n    };\n\n    Animation.prototype.stop = function()\n    {\n        cssAnimation.stop(true);\n    };\n\n    Animation.prototype.destory = function()\n    {\n        cssAnimation.destory(true);\n    };\n\n    const factoryOptions = !options.FROM_FACTORY ? this.__animation_factory(DOMElement, options) : options;\n\n    cssAnimation = this.__animate_css(DOMElement, factoryOptions);\n    \n    return new Animation;\n}\n\n/**\n * Animation factory.\n *\n * @access {private}\n * @param  {DOMElement} DOMElement                  Target DOM node\n * @param  {object}     options             Options object\n * @param  {string}     options.property    CSS property\n * @param  {mixed}      options.from        Start value\n * @param  {mixed}      options.to          Ending value\n * @param  {int}        options.duration    Animation duration in MS\n * @param  {string}     options.easing      Easing function in camelCase\n * @param  {function}   options.callback    Callback to apply when animation ends (optional)\n * @return {array}\n * Options can be provided three ways:\n * \n * 1. Flat object with single property\n *      animate(el, { height: '500px', easing 'easeOut' })\n * \n * 2. Flat Object with multiple properties \n *      Note this way you can only animate from the existing rendered element style (you cannot provide a 'from' value)\n *      animate(el, { height: '500px', width: '500px', easing 'easeOut' })\n * \n * 3. Multi object with different options per property\n *      animate(el, { height:{ from: '100px', to: '500px', easing: 'easeInOutElastic'}, opacity:{ to: 0, easing: 'linear'} } );\n * \n */\n_.prototype.__animation_factory = function(DOMElement, opts)\n{\n    var optionSets = [];\n\n    this.each(opts, function(key, val)\n    {\n        // animation_factory('foo', { property : 'left', from : '-300px', to: '0',  easing: 'easeInOutElastic', duration: 3000} );\n        if (key === 'property')\n        {\n            var options = { ...ANIMATION_DEFAULT_OPTIONS, ...opts};\n\n            options.FROM_FACTORY = true;\n            options.property     = this.css_prop_to_hyphen_case(val);\n            options.el           = DOMElement;\n            optionSets.push(options);\n\n            // break\n            return false;\n        }\n        else if (!this.in_array(key, ANIMATION_ALLOWED_OPTIONS))\n        {\n            // Only worth adding if the property is valid\n            var camelProp = this.css_prop_to_camel_case(key);\n            \n            if (!this.is_undefined(document.body.style[camelProp]))\n            {\n                var isObjSet = this.is_object(val);\n                var toMerge  = isObjSet ? val : opts;\n                var options  = { ...ANIMATION_DEFAULT_OPTIONS, ...toMerge};\n                \n                // animation_factory('foo', { height: '100px', opacity: 0 } );\n                if (!isObjSet)\n                {\n                    options.to = val;\n                }\n\n                // animation_factory('foo', { height: { from: '100px', to: '500px', easing: 'easeInOutElastic'}, opacity:{ to: 0, easing: 'linear'} } );\n                options.FROM_FACTORY = true;\n                options.property     = this.css_prop_to_hyphen_case(key);\n                options.el           = DOMElement;\n                optionSets.push(options);\n            }\n        }\n    }, this);\n\n    // Santize callbacks\n    let longest  = 0;\n    let longestI = 0;\n    let start    = () => {};\n    let fail     = () => {};\n    let complete = () => {};\n    let step     = () => {};\n\n    this.each(optionSets, function(i, options)\n    {\n        if (options.start)\n        {\n            start = options.start;\n\n            delete options.start;\n        }\n\n        if (options.fail)\n        {\n            fail = options.fail;\n\n            delete options.fail;\n        }\n\n        if (options.step)\n        {\n            step = options.step;\n\n            delete options.step;\n        }\n\n        // Store the maximum duration\n        if (options.duration >= longest)\n        {\n            if ((options.callback || options.complete)) complete = (options.callback || options.complete);\n\n            delete options.callback;\n\n            delete options.complete;\n\n            longest = options.duration;\n\n            longestI = i;\n        }\n\n        // Not nessaray, but sanitize out redundant options\n        options = this.map(options, function(key, val)\n        {\n            return this.in_array(key, ANIMATION_FILTER_OPTIONS) ? val : false;\n\n        }, this);\n\n        // Sanitize to/from to strings\n        if (this.array_has('to', options)) options.to = options.to + '';\n        if (this.array_has('from', options)) options.from = options.from + '';\n\n        if (!ANIMATION_EASING_FUNCTIONS[options.easing]) options.easing = 'ease';\n\n        options.FROM_FACTORY = true;\n\n        optionSets[i] = options;\n\n    }, this);\n\n    if (this.is_empty(optionSets))\n    {\n        console.error('Animation Error: Either no CSS property(s) was provided or the provided property(s) is unsupported.');\n    }\n\n    optionSets[longestI].fail     = fail;\n    optionSets[longestI].start    = start;\n    optionSets[longestI].complete = complete;\n    optionSets[longestI].step     = step;\n\n    return optionSets;\n}\n/**\n * Recursively delete from array/object.\n *\n * @param   {array}        keys    Keys in search order\n * @param   {object|array} object  Object to get from\n * @returns {mixed}\n */\n_.prototype.__array_delete_recursive = function(keys, object)\n{\n    var key = keys.shift();\n\n    var islast = keys.length === 0;\n\n    if (islast)\n    {\n        if (TO_STR.call(object) === '[object Array]')\n        {\n            object.splice(key, 1);\n        }\n        else\n        {\n            delete object[key];\n        }\n    }\n\n    if (!object[key])\n    {\n        return false;\n    }\n\n    return this.__array_delete_recursive(keys, object[key]);\n}\n\n/**\n * Recursively search from array/object.\n *\n * @param   {array}        keys    Keys in search order\n * @param   {object|array} object  Object to get from\n * @returns {mixed}\n */\n_.prototype.__array_get_recursive = function(keys, object)\n{\n    var key = keys.shift();\n    var islast = keys.length === 0;\n\n    if (islast)\n    {\n        return object[key];\n    }\n\n    if (!object[key])\n    {\n        return undefined;\n    }\n\n    return this.__array_get_recursive(keys, object[key]);\n}\n\n/**\n * Recursively set array/object.\n *\n * @param {array}          keys     Keys in search order\n * @param {mixed}          value    Value to set\n * @param {object|array}   object   Object to get from\n * @param {string|number}  nextKey  Next key to set\n */\n_.prototype.__array_set_recursive = function(keys, value, object, nextKey)\n{\n    var key = keys.shift();\n    var islast = keys.length === 0;\n    var lastObj = object;\n    object = !nextKey ? object : object[nextKey];\n\n    // Trying to set a value on nested array that doesn't exist\n    if (!['object', 'function'].includes(typeof object))\n    {\n        throw new Error('Invalid dot notation. Cannot set key \"' + key + '\" on \"' + JSON.stringify(lastObj) + '[' + nextKey + ']\"');\n    }\n\n    if (!object[key])\n    {\n        // Trying to put object key into an array\n        if (TO_STR.call(object) === '[object Array]' && typeof key === 'string')\n        {\n            var converted = Object.assign({}, object);\n\n            lastObj[nextKey] = converted;\n\n            object = converted;\n        }\n\n        if (keys[0] && typeof keys[0] === 'string')\n        {\n            object[key] = {};\n        }\n        else\n        {\n            object[key] = [];\n        }\n    }\n\n    if (islast)\n    {\n        object[key] = value;\n\n        return;\n    }\n\n    this.__array_set_recursive(keys, value, object, key);\n}\n\n/**\n * Segments an array/object path using from \"dot.notation\" into an array of keys in order.\n *\n * @param   {string}  path Path to parse\n * @returns {array}\n */\n_.prototype.__array_key_segment = function(path)\n{\n    var result = [];\n    var segments = path.split('.');\n\n    for (var i = 0; i < segments.length; i++)\n    {\n        var segment = segments[i];\n\n        if (!segment.includes('['))\n        {\n            result.push(segment);\n\n            continue;\n        }\n\n        var subSegments = segment.split('[');\n\n        for (var j = 0; j < subSegments.length; j++)\n        {\n            if (['0', '1', '2', '3', '4', '5', '6', '7', '8', '9'].includes(subSegments[j][0]))\n            {\n                result.push(parseInt(subSegments[j].replace(']')));\n            }\n            else if (subSegments[j] !== '')\n            {\n                result.push(subSegments[j])\n            }\n        }\n    }\n\n    return result;\n}\n\n/**\n * Recursively delete from array/object.\n *\n * @param   {array}        keys    Keys in search order\n * @param   {object|array} object  Object to get from\n * @returns {mixed}\n */\n_.prototype.__array_delete_recursive = function(keys, object)\n{\n    var key = keys.shift();\n\n    var islast = keys.length === 0;\n\n    if (islast)\n    {\n        if (TO_STR.call(object) === '[object Array]')\n        {\n            object.splice(key, 1);\n        }\n        else\n        {\n            delete object[key];\n        }\n    }\n\n    if (!object[key])\n    {\n        return false;\n    }\n\n    return this.__array_delete_recursive(keys, object[key]);\n}\n/**\n * Deletes from an array/object using dot/bracket notation.\n *\n * @param   {string}        path   Path to delete\n * @param   {object|array}  object Object to delete from\n * @returns {object|array}\n */\n_.prototype.array_delete = function(path, object)\n{\n    this.__array_delete_recursive(this.__array_key_segment(path), object);\n\n    return object;\n}\n/**\n * Filters empty array entries and returns new array\n *\n * @param   {object|array}  object Object to delete from\n * @returns {object|array}\n */\n_.prototype.array_filter = function(arr)\n{\n    let isArr = this.is_array(arr);\n\n    let ret = isArr ? [] : {};\n\n    this.each(arr, function(i, val)\n    {\n        if (!this.is_empty(val))\n        {\n            isArr ? ret.push(val) : ret[i] = val;\n        }\n        \n    }, this);\n\n    return ret;\n}\n/**\n * Gets an from an array/object using dot/bracket notation.\n *\n * @param   {string}        path    Path to get\n * @param   {object|array}  object  Object to get from\n * @returns {mixed}\n */\n_.prototype.array_get = function(path, object)\n{\n    return this.__array_get_recursive(this.__array_key_segment(path), object);\n}\n\n\n/**\n * Checks if array/object contains path using dot/bracket notation.\n *\n * e.g array_has('foo.bar.baz[0]', obj)\n * \n * @param   {string}        path   Path to check\n * @param   {object|array}  object Object to check on\n * @returns {boolean}\n */\n_.prototype.array_has = function(path, object)\n{\n    return !this.is_undefined(this.array_get(path, object));\n}\n/**\n * Set a key using dot/bracket notation on an object or array.\n *\n * @param   {string}       path   Path to set\n * @param   {mixed}        value  Value to set\n * @param   {object|array} object Object to set into\n * @returns {object|array}\n */\n_.prototype.array_set = function(path, value, object)\n{\n    this.__array_set_recursive(this.__array_key_segment(path), value, object);\n\n    return object;\n}\n/**\n * Removes duplicates and returns new array.\n *\n * @param   {array} arr Array to run\n * @returns {array}\n */\n_.prototype.array_unique = function(arr)\n{\n    return arr.filter((value, index, self) => self.indexOf(value) === index);\n}\n/**\n * Checks if element is last element in array or object.\n *\n * @access {public}\n * @param  {string} needle    The value to search for\n * @param  {array}  haystack  The target array to index\n * @param  {bool}   strict    Strict comparison (optional) (default false)\n * @return {bool}\n * \n */\n_.prototype.is_array_last = function(needle, haystack, strict)\n{\n    strict = this.is_undefined(strict) ? false : strict;\n\n    let last = TO_STR.call(haystack) === '[object Array]' ? haystack[haystack.length -1] : haystack[Object.keys(haystack).pop()];\n    \n    return this.is_equal(needle, last, strict);\n}\n/**\n * Foreach loop\n * \n * @access {public}\n * @param  {object}  obj       The target object to loop over\n * @param  {closure} callback  Callback to apply to each iteration\n * @param  {array}   args      Array of params to apply to callback (optional) (default null)\n */\n_.prototype.each = function(obj, callback)\n{\n    if (typeof obj !== 'object' || obj === null) return;\n\n    let isArray = this.is_array(obj);\n    let i       = 0;\n    let keys    = isArray ? null : Object.keys(obj);\n    let len     = isArray ? obj.length : keys.length;\n    let args    = TO_ARR.call(arguments).slice(2);\n    let ret     = isArray ? [] : {};\n    let key;\n    let val;\n    let clbkVal;\n\n    // Applies the value of \"this\" to the callback as the array or object provided\n    //var thisArg = typeof args !== 'undefined' && TO_STR.call(args) !== '[object Array]' ? args : obj;\n\n    // Applies this arg as first extra arg if provided\n    // otherwise falls back to the array or object provided\n    // Removes \"this\" from args to callback\n    var thisArg = this.is_empty(args) ? obj : args[0];\n    args        = !this.is_empty(args) ? args.slice(1) : null;\n    args        = this.is_empty(args) ? null : args;\n\n    if (TO_STR.call(args) === '[object Array]')\n    {\n        for (; i < len; i++)\n        {\n            key   = isArray ? i : keys[i];\n            val   = isArray ? obj[i] : obj[key];\n            clbkVal = callback.apply(thisArg, [...[key, val], ...args]);\n\n            if (clbkVal === false)\n            {\n                break;\n            }\n        }\n\n        // A special, fast, case for the most common use of each (no extra args provided)\n    }\n    else\n    {\n        for (; i < len; i++)\n        {\n            key   = isArray ? i : keys[i];\n            val   = isArray ? obj[i] : obj[key];\n            clbkVal = callback.call(thisArg, key, val);\n\n            if (clbkVal === false)\n            {\n                break;\n            }\n        }\n    }\n\n    return obj;\n}\n\n_.prototype.foreach = function()\n{\n    return this.each.apply(this, arguments);\n}\n\n/**\n * For loop with count\n * \n * @access {public}\n * @param  {object}  obj       The target object to loop over\n * @param  {closure} callback  Callback to apply to each iteration\n * @param  {array}   args      Array of params to apply to callback (optional) (default null)\n */\n_.prototype.for = function(count, callback)\n{\n    var args = TO_ARR.call(arguments);\n\n    args[0] = Array.from(Array(count).keys());\n\n    return this.each.apply(this, args);\n}\n\n\n/**\n * Checks if an array contains a value\n *\n * @access {public}\n * @param  {string} needle    The value to search for\n * @param  {array}  haystack  The target array to index\n * @param  {bool}   strict    Strict comparison (optional) (default false)\n * @return {bool}\n * \n */\n_.prototype.in_array = function(needle, haystack, strict)\n{\n    strict = this.is_undefined(strict) ? false : strict;\n    \n    if (!strict) \n    {\n        if (this.is_object(haystack))\n        {\n            let ret = false;\n\n            this.each(haystack, (k, v) =>\n            {\n                ret = v === needle;\n\n                if (ret) return false;\n            });\n\n            return ret;\n        }\n\n        return haystack.includes(needle);\n    }\n\n    let ret = false;\n\n    this.each(haystack, function(k, v)\n    {\n        ret = this.is_equal(needle, v, strict);\n\n        if (ret) return false;\n\n    }, this);\n\n    return ret;\n}\n/**\n * Map.\n *  \n * return undefined to break loop, true to keep, false to reject\n * \n * @param   {array|object}  obj\n * @param   {function}      callback\n * @param   {array|mixed}   args      If single arg provided gets apllied as this to callback, otherwise args apllied to callback\n * @returns {array|object}\n */\n_.prototype.map = function(obj, callback)\n{\n    if (typeof obj !== 'object' || obj === null) return;\n\n    let isArray = this.is_array(obj);\n    let i       = 0;\n    let keys    = isArray ? null : Object.keys(obj);\n    let len     = isArray ? obj.length : keys.length;\n    let args    = TO_ARR.call(arguments).slice(2);\n    let ret     = isArray ? [] : {};\n    let key;\n    let val;\n    let clbkVal;\n\n    // Applies the value of \"this\" to the callback as the array or object provided\n    //var thisArg = typeof args !== 'undefined' && TO_STR.call(args) !== '[object Array]' ? args : obj;\n\n    // Applies this arg as first extra arg if provided\n    // otherwise falls back to the array or object provided\n    // Removes \"this\" from args to callback\n    var thisArg = this.is_empty(args) ? obj : args[0];\n    args        = !this.is_empty(args) ? args.slice(1) : null;\n    args        = this.is_empty(args) ? null : args;\n\n    if (TO_STR.call(args) === '[object Array]')\n    {\n        for (; i < len; i++)\n        {\n            key   = isArray ? i : keys[i];\n            val   = isArray ? obj[i] : obj[key];\n            clbkVal = callback.apply(thisArg, [...[key, val], ...args]);\n\n            if (clbkVal === false)\n            {\n                continue;\n            }\n            else if (typeof clbkVal === 'undefined')\n            {\n                break;\n            }\n            else\n            {\n                isArray ? ret.push(clbkVal) : ret[key] = clbkVal;\n            }\n        }\n\n        // A special, fast, case for the most common use of each (no extra args provided)\n    }\n    else\n    {\n        for (; i < len; i++)\n        {\n            key   = isArray ? i : keys[i];\n            val   = isArray ? obj[i] : obj[key];\n            clbkVal = callback.call(thisArg, key, val);\n\n            if (clbkVal === false)\n            {\n                continue;\n            }\n            else if (typeof clbkVal === 'undefined')\n            {\n                break;\n            }\n            else\n            {\n                isArray ? ret.push(clbkVal) : ret[key] = clbkVal;\n            }\n        }\n    }\n\n    return ret;\n}\n/**\n * Set, get or remove DOM attribute.\n *\n * No third arg returns attribute value, third arg set to null or false removes attribute.\n * \n * @param {HTMLElement}  DOMElement  Dom node\n * @param {string}       name        Property name\n * @apram {mixed}        value       Property value\n */\n_.prototype.attr = function(DOMElement, name, value)\n{            \n    // Get attribute\n    // e.g attr(node, style)\n    if ((TO_ARR.call(arguments)).length === 2 && this.is_string(name))\n    {\n        return this.__get_attribute(DOMElement, name);\n    }\n\n    // attr(node, {foo : 'bar', baz: 'bar'})\n    if (this.is_object(name))\n    {\n        this.each(name, function(prop, value)\n        {\n            this.attr(DOMElement, prop, value);\n\n        }, this);\n\n        return;\n    }\n\n    // Set or remove attibute.\n    switch (name)\n    {\n        // innerHTML\n        case 'innerHTML':\n            DOMElement.innerHTML = !value ? '' : value;\n            break;\n\n        // innerText\n        case 'innerText':\n            DOMElement.innerText = !value ? '' : value;\n            break;\n\n        // Children\n        case 'children':\n\n            this.each(DOMElement.children, function(node)\n            {\n                this.remove_from_dom(node);\n            \n            }, this);\n\n            this.each(value, function(node)\n            {\n                DOMElement.appendChild(node);\n            });\n\n            break;\n\n        // Class\n        case 'class':\n        case 'className':\n\n            // Cleanup classname\n            value = this.is_string(value) ? this.str_replace(value, ['undefined', 'null', 'false', 'true'], '').replace(/\\s\\s+/g, ' ').trim() : value;\n\n            if (this.is_empty(value))\n            {\n                DOMElement.removeAttribute('class');\n            }\n            else\n            {\n                DOMElement.className = value;\n            }\n\n            break;\n\n        // Style\n        case 'style':\n\n            // remove all styles completely\n            if (this.is_empty(value))\n            {\n                DOMElement.removeAttribute('style');\n            }\n\n            DOMElement.style = '';\n\n            let style = this.is_string(value) ? this.css_to_object(value) : value;\n\n            this.each(style, (prop, value) => this.css(DOMElement, prop, value));\n           \n            break;\n\n        // Events / attributes\n        default:\n\n            // Events\n            if (name[0] === 'o' && name[1] === 'n')\n            {\n                var evt = name.slice(2).toLowerCase();\n\n                // Remove old listeners\n                this.off(DOMElement, evt);\n\n                // Add new listener if one provided\n                if (value)\n                {\n                    this.on(DOMElement, evt, value);\n                }\n            }\n            // All other node attributes\n            else\n            {\n                let isEmpty    = this.is_empty(value);\n                let isData     = name.startsWith('data');\n                let isAria     = name.startsWith('aria');\n                let camelName  = name.includes('-') ? this.to_camel_case(name) : name;\n                let hyphenName = name.includes('-') ? name : this.camel_case_to_hyphen(name);\n                let isBoolean  = this.in_array(camelName, BOOLEAN_ATTRS);\n\n                if (value === 'false' || value === 'null' || value === 'undefined') value = isBoolean ? false : isAria || isData ? 'false' : '';\n\n                // Special data\n                if (isData)\n                {\n                    if (isEmpty)\n                    {\n                        DOMElement.removeAttribute(hyphenName);\n\n                        delete DOMElement.dataset[this.lc_first(camelName.substring(4))];\n                    }\n                    else\n                    {\n                        DOMElement.setAttribute(hyphenName, value);\n\n                        DOMElement.dataset[this.lc_first(camelName.substring(4))] = value;\n                    }\n\n                    break;\n                }\n\n                if (camelName !== 'viewBox')\n                    \n                    try\n                    {                        \n                        DOMElement[camelName] = value;\n\n                    } catch (e) {}\n\n                if (isEmpty)\n                {\n                    DOMElement.removeAttribute(hyphenName);\n                }\n                else\n                {\n                    DOMElement.setAttribute(hyphenName, value);\n                }\n            }\n\n            break;\n    }\n}\n\n/**\n * Simple get html attribute.\n *\n * No third arg returns attribute value, third arg set to null or false removes attribute.\n * \n * @access {private}\n * @param  {HTMLElement}      DOMElement  Dom node\n * @param  {string}           name        Property name\n * @return {string|undefined}\n */\n_.prototype.__get_attribute = function(DOMElement, name)\n{\n    let camelName  = name.includes('-') ? this.to_camel_case(name) : name;\n    let hyphenName = name.includes('-') ? name : this.camel_case_to_hyphen(name);\n\n    // Data need to check dataset\n    if (name.startsWith('data'))\n    {\n        if (!DOMElement.dataset) return DOMElement.getAttribute(hyphenName);\n\n        return DOMElement.dataset[this.lc_first(camelName.substring(4))];\n    }\n\n    // Special booleans\n    if (this.in_array(name, BOOLEAN_ATTRS))\n    {\n        if (DOMElement[name] === '' || DOMElement[name] === 'true' || DOMElement[name] === true) return true;\n\n        return DOMElement[name] === 'false' || !DOMElement[name] ? false : true;\n    }\n\n    let retCamel = DOMElement[camelName];\n    let retAttr  = DOMElement.getAttribute(hyphenName);\n\n    if (retAttr && retAttr !== '') return retAttr;\n\n    if (retCamel && retCamel !== '') return retCamel;\n\n    return retCamel || retAttr;\n}\n/**\n * Set, get or remove DOM attribute.\n *\n * No third arg returns attribute value, third arg set to null or false removes attribute.\n * \n * @param {HTMLElement}  DOMElement  Dom node\n * @param {string}       name        Property name\n * @apram {mixed}        value       Property value\n */\n_.prototype.attrs = function(DOMElement)\n{\n\tlet ret = {};\n\n\tthis.each(DOMElement.attributes, (i, attribute) => ret[attribute.nodeName] = this.attr(DOMElement, attribute.nodeName));\n\t\n\treturn ret;\n}\n/**\n * Set, get or remove CSS value(s) on element.\n * \n * Note that this will only return inline styles, use 'rendered_style' for\n * currently displayed styles.\n *\n * @access {public}\n * @param  {DOMElement}   el     Target DOM node\n * @param  {string|object} Assoc array of property->value or string property\n * @example {Helper.css(node,} { display : 'none' });\n * @example {Helper.css(node,} 'display', 'none');\n */\n_.prototype.css = function(el, property, value)\n{\n    // If their is no value and property is an object\n    if (this.is_object(property))\n    {\n        this.each(property, function(prop, val)\n        {\n            this.css(el, prop, val);\n\n        }, this);\n    }\n    else\n    {\n        // Getting not settings\n        if (this.is_undefined(value))\n        {\n            return this.inline_style(el, property);\n        }\n        // Value is either null or false we remove\n        else if (this.is_null(value) || value === false)\n        {\n            if (el.style.removeProperty)\n            {\n                el.style.removeProperty(property);\n            }\n            else\n            {\n                el.style.removeAttribute(property);\n            }\n        }\n        else\n        {\n            if (value.includes('important') || property.startsWith('--'))\n            {\n                let styles = el.getAttribute('style');\n\n                if (styles && styles.includes(property))\n                {\n                    let re = new RegExp(`${property}\\s?:[^;]+;?`, 'g');\n\n                    styles = styles.replace(re, '').trim();\n                }\n                \n                styles = !styles ? `${property}:${value}` : `${this.rtrim(styles, ';')};${property}:${value}`;\n\n                el.setAttribute('style', styles);\n\n                return;\n            }\n            else\n            {\n                el.style[property] = value;    \n            }\n        }\n    }\n}\n/**\n * Converts CSS property to camel case.\n *\n * @access {public}\n * @param  {string} prop Property to convert\n * @retirm {string}\n */\n_.prototype.css_prop_to_camel_case = function(prop)\n{\n    if (!prop.includes('-')) return prop;\n\n    let camelProp = this.to_camel_case(prop);\n\n    if (this.in_array(prop, Object.keys(CSS_PROP_TO_CAMEL_CASES)))\n    {\n        return CSS_PROP_TO_CAMEL_CASES[prop];\n    }\n\n    // First char is always lowercase\n    let ret = camelProp.charAt(0).toLowerCase() + camelProp.slice(1);\n\n    CSS_PROP_TO_CAMEL_CASES[prop] = ret;\n\n    return ret;\n}\n/**\n * Converts CSS property to hyphen case.\n *\n * @access {public}\n * @param  {string} prop Property to convert\n * @retirm {string}\n */\n_.prototype.css_prop_to_hyphen_case = function(prop)\n{\n    if (!/[A-Z]/.test(prop)) return prop;\n    \n    if (this.in_array(prop, Object.keys(CSS_PROP_TO_HYPHEN_CASES)))\n    {\n        return CSS_PROP_TO_HYPHEN_CASES[prop];\n    }\n\n    var hyphenProp = this.camel_case_to_hyphen(prop);\n\n    if (hyphenProp.startsWith('webkit-') || hyphenProp.startsWith('moz-') || hyphenProp.startsWith('ms-') || hyphenProp.startsWith('o-'))\n    {\n        hyphenProp = '-' + hyphenProp;\n    }\n\n    CSS_PROP_TO_CAMEL_CASES[prop] = hyphenProp;\n\n    return hyphenProp;\n}\n/**\n * Expand shorthand property to longhand properties \n *\n * @access {private}\n * @param  {string}  CSS rules\n * @return {object}\n */\n_.prototype.css_to_longhand = function(css)\n{\n    var ret    = {};\n    var values = this.css_to_object(css);\n\n    this.each(values, function(prop, value)\n    {\n        if (SHORTHAND_PROPS.hasOwnProperty(prop))\n        {\n            var splits  = value.split(' ').map( (x) => x.trim());\n            var dfault  = prop === 'margin' || prop === 'padding' ? '0' : 'initial';\n\n            this.each(SHORTHAND_PROPS[prop], function(i, longhand)\n            {\n                // Object is setup so that if it starts with a '-'\n                // then it gets concatenated to the oridional prop\n                // e.g 'background' -> '-image'\n                longhand = longhand.startsWith('-') ? prop + longhand : longhand;\n\n                // otherwise it gets replaced\n                // e.g 'border-color' -> 'border-top-color', 'border-right-color'... etc\n                ret[longhand] = this.is_undefined(splits[i]) ? dfault : splits[i];\n\n            }, this);\n        }\n        else\n        {\n            ret[prop] = value;\n        }\n\n    }, this);\n\n    return ret;\n}\n/**\n * Concats longhand property to shorthand\n *\n * Note if values are not provide not all browsers will except initial\n * for all properties in shorthand syntax\n * \n * @access {private}\n * @param  {string}  CSS rules\n * @return {object}\n */\n_.prototype.css_to_shorthand = function(css)\n{\n    const needsFilling = ['margin', 'padding', 'transition', 'animation'];\n    var ret            = {};\n    var styles         = this.css_to_object(css);\n\n    // 'margin': ['-top', '-right', '-bottom', '-left'],\n    this.each(SHORTHAND_PROPS, function(property, longhands)\n    {\n        var value       = '';\n        var matched     = false;\n        var needsDefault = this.in_array(property, needsFilling) || property.includes('border');\n\n        this.each(longhands, function(i, longhand)\n        {\n            longhand = longhand.startsWith('-') ? property + longhand : longhand;\n\n            var suppliedVal = styles[longhand];\n\n            if (!this.is_undefined(suppliedVal))\n            {\n                matched = true;\n                // Colors get flatted\n                if (longhand.includes('-color'))\n                {\n                    value = suppliedVal;\n                }\n                else\n                {\n                    value += suppliedVal + ' ';\n                }\n            }\n            else if (needsDefault)\n            {\n                this.each(SHORTHAND_DEFAULTS, function(matcher, defaltVal)\n                {\n                    if (longhand.includes(matcher))\n                    {\n                        value += ` ${defaltVal} `;\n                    }\n                });\n            }\n            \n        }, this);\n\n        if (!this.is_empty(value) && matched) ret[property] = value.trim();\n        \n    }, this);\n\n    return ret;\n}\n/**\n * Converts string styles into an object\n *\n * @param  {string} styles CSS\n * @return {object}\n */\n_.prototype.css_to_object = function(styles)\n{\n    var ret = {};\n\n    const nested_regex = /([^\\{]+\\{)([\\s\\S]+?\\})(\\s*\\})/g;\n\n    const css_regex = /([^{]+\\s*\\{\\s*)([^}]+)(\\s*\\}\\s*)/g;\n\n    if (styles.includes('{'))\n    {\n        var nestedStyles = [...css.matchAll(nested_regex)];\n    }\n\n    this.each(styles.split(/;(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/g), function(i, rule)\n    {\n        var style = rule.split(':');\n\n        if (style.length >= 2)\n        {\n            var prop = style.shift().trim();\n            var val  = style.join(':').trim();\n\n            ret[prop] = val;\n        }\n    }, this);\n\n    return ret;\n}\n/**\n * Get CSS property.\n * \n * @param  {string} value CSS value (e.g \"12px\")\n * @return {Number}\n */\n_.prototype.css_unit_value = function(value)\n{\n    value = value + '';\n\n    if (this.is_numeric(value))\n    {\n        return parseFloat(value);\n    }\n\n    if (this.is_empty(value))\n    {\n        return 0;\n    }\n\n    return parseFloat(value.replaceAll(/[^0-9-.]/g, ''));\n}\n\n/**\n * Get CSS property unit.\n * \n * @param  {string} value CSS value (e.g \"12px\")\n * @return {string}\n */\n_.prototype.css_value_unit = function(value)\n{\n    value = value + '';\n\n    return value.split(/[0-9]/).pop().replaceAll(/[^a-z%]/g, '').trim();\n}\n\n/**\n * Converts CSS units to px.\n * \n * @param  {String}     value      CSS value (e.g \"12rem\")\n * @param  {DomElement} DOMElement CSS value (optional) (used to relative units)\n * @param  {String}     property   CSS property (optional) (used for % unit)\n * @return {Number}\n */\n_.prototype.css_to_px = function(valueStr, DOMElement, property)\n{\n    valueStr = valueStr + '';\n    \n    if (valueStr.includes('calc')) return valueStr;\n\n    var unit  = this.css_value_unit(valueStr);\n    var value = this.css_unit_value(valueStr);\n\n    if (valueStr.includes('px')) return value;\n\n    if (!this.is_undefined(CSS_ABSOLUTE_UNITS[unit]))\n    {\n        return (value * CSS_ABSOLUTE_UNITS[unit]);\n    }\n\n    if (!this.is_undefined(CSS_RELATIVE_UNITS[unit]))\n    {\n        if (unit === 'em' || unit === 'ex' || 'unit' === 'ch')\n        {\n            if (!DOMElement) return value * CSS_RELATIVE_UNITS[unit];\n            let psize = this.css_unit_value(this.rendered_style(DOMElement.parentNode, 'font-size'));\n            if (unit === 'em') return value * psize;\n            if (unit === 'ex') return value * (psize / 1.8);\n            if (unit === 'ch') return value * (psize / 2);\n            if (unit === '%')  return value * psize;\n        }\n        else if (unit === '%')\n        {\n            if (!DOMElement) return value * CSS_RELATIVE_UNITS[unit];\n            if (!property) property = 'height';\n            \n            let psize = this.css_unit_value(this.rendered_style(DOMElement, property));\n\n            return psize * (value / 100);\n        }\n        else if (unit === 'rem')\n        {\n            // font sizes are always returned in px with JS\n            return value * this.css_unit_value(this.rendered_style(document.documentElement, 'font-size'));\n        }\n        else if (unit === 'vw')\n        {\n            return this.width(window) * (value / 100);\n        }\n        else if (unit === 'vh')\n        {\n            return this.height(window) * (value / 100);\n        }\n        else if (unit === 'vmin' || unit === 'vmax')\n        {\n            let w = this.width(window);\n            let h = this.height(window);\n            let m = unit === 'vmin' ? Math.min(w, h) : Math.max(w, h)\n\n            return m * (value / 100);\n        }\n    }\n\n    return value;\n}\n\n/**\n * Get an element's inline style if it exists\n *\n * @access {public}\n * @param  {DOMElement}   el   Target element\n * @param  {string} prop CSS property to check\n * @return {string}\n */\n_.prototype.inline_style = function(element, prop)\n{\n    const elementStyle = element.style;\n\n    prop = this.css_prop_to_hyphen_case(prop);\n\n    // Native\n    if (!this.is_undefined(elementStyle[prop]) && elementStyle[prop] !== '')\n    {\n        const val = elementStyle.getPropertyValue(elementStyle[prop]) || elementStyle[prop];\n        \n        return val === '' ? undefined : val;\n    }\n\n    let styles = element.getAttribute('style');\n\n    if (styles && styles.includes(prop))\n    {\n        let style = styles.match(new RegExp(`${prop}\\s?:[^;]+;?`));\n\n        if (style)\n        {\n            return this.rtrim(style[0].split(':').pop().trim(), ';').trim();\n        }\n    }\n}\n/**\n * Remove inline css style\n * \n * @access {public}\n * @param  {DOMElement}   el   Target element\n * @param  {string} prop CSS property to removes\n */\n_.prototype.remove_style = function(el, prop)\n{\n    if (typeof prop === 'undefined')\n    {\n        DOMElement.removeAttribute('style');\n\n        return;\n    }\n\n    this.css(el, prop);\n}\n/**\n * Get the element's computed style on a property\n *\n * @access {public}\n * @param  {DOMElement}   el   Target element\n * @param  {string} prop CSS property to check (in camelCase) (optional)\n * @return {mixed}\n */\n_.prototype.rendered_style = function(DOMElement, property)\n{\n    if (property.includes('ransform'))\n    {\n        return this.css_transform_props(DOMElement, true);\n    }\n\n    return this.__computed_style(DOMElement, property);\n}\n\n/**\n * Get the elements computed style.\n *\n * @access {private}\n * @param  {DOMElement}          el   Target element\n * @param  {string}        prop CSS property to check (in camelCase) (optional)\n * @return {string|object}\n */\n_.prototype.__computed_style = function(DOMElement, property)\n{\n    if (window.getComputedStyle)\n    {\n        let styles = window.getComputedStyle(DOMElement, null);\n\n        if (property && property.startsWith('--')) return styles.getPropertyValue(property);\n\n        return !property ? styles : styles[property];\n    }\n    else if (DOMElement.currentStyle)\n    {\n        let styles = DOMElement.currentStyle;\n\n        return !property ? styles : styles[property];\n    }\n\n    return '';\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Returns an object of CSS transitions by transition property as keys.\n *\n * @param  {node|string} DOMElement  Target element or transition value string\n * @return {object}\n */\n_.prototype.css_transition_props = function(DOMElement)\n{\n    if (!DOMElement) return {};\n    var transitions   = {};\n    var transitionVal = this.is_string(DOMElement) ? DOMElement : this.rendered_style(DOMElement, 'transition');\n\n    // No transition\n    if (!transitionVal || transitionVal.startsWith('all 0s ease 0s') || transitionVal === 'none' || transitionVal === 'unset' || transitionVal === 'auto')\n    {\n        return transitions;\n    }\n\n    let transitionSplit = transitionVal.includes('cubic-bezier') ? '' : transitionVal.trim().split(',');\n\n    if (transitionVal.includes('cubic-bezier'))\n    {\n        let map      = [];\n        let inBezier = false;\n        let block    = '';\n        let char;\n\n        this.for(transitionVal.length, function(i)\n        {\n            char = transitionVal[i];\n\n            if (char === '(') inBezier = true;\n            if (char === ')') inBezier = false;\n\n            if (char === ',' && !inBezier)\n            {\n                map.push(block.trim());\n                block = '';\n\n                // next\n                return;\n            }\n\n            block += char;\n\n            if (i === transitionVal.length -1) map.push(block.trim());\n        });\n\n        transitionSplit = map;\n    }\n\n    this.each(transitionSplit, function(i, transition)\n    {\n        transition = transition.trim();\n\n        // Variants of all\n        if (transition[0] === '.' || transition.startsWith('all ') ||  this.is_numeric(transition[0]))\n        {\n            transitions.all = transition.replace('all ', '');\n\n            return false;\n        }\n\n        var prop = transition.split(' ', 4).shift();\n\n        transitions[prop] = transition.replace(prop, '').trim();\n\n    }, this);\n\n    return transitions;\n}\n/**\n * Returns an object of CSS transforms by property as keys or transforms as string.\n *\n * @param  {node|string} DOMElement     Target element or transition value string\n * @param  {bool}        returnAsString Returns transforms as string (optional) (default true)\n * @return {object}\n */\n_.prototype.css_transform_props = function(DOMElement, returnAsString)\n{\n    if (this.is_string(DOMElement))\n    {\n        return this.__un_css_matrix(DOMElement, returnAsString);\n    }\n\n    returnAsString = this.is_undefined(returnAsString) ? true : returnAsString;\n\n    let styles = this.__computed_style(DOMElement, 'transform');\n\n    // If element is set to \"display:none\" only inline transforms will show up\n    // so we check those first\n    let inline   = this.inline_style(DOMElement, 'transform');\n    let emptys   = [undefined, '', 'none', 'unset', 'initial', 'inherit'];\n\n    // Has inline styles - inline do not need to converted\n    if (!emptys.includes(inline))\n    {\n        return returnAsString ? inline : this.__un_css_matrix(inline, false);\n    }\n\n    // If element is hiddien we need to display it quickly\n    // to get the CSS defined transform prop to be renderd\n    let inlineDisplay = this.inline_style(DOMElement, 'display');\n    let cssDisplay    = this.rendered_style(DOMElement, 'display');\n    let isHidden      = cssDisplay === 'none';\n\n    // Re-get transform value\n    if (isHidden)\n    {\n        this.css(DOMElement, 'display', 'unset');\n\n        styles = this.__computed_style(DOMElement, 'transform');\n    }\n\n    // Doesn't have stylesheet styles\n    if (this.in_array(styles, emptys))\n    {\n        styles = styles === 'none' || styles === undefined ? '' : styles;\n    }\n\n    // Empty return\n    if (!styles)\n    {\n        return returnAsString ? '' : {};\n    }\n\n    // revert matrix\n    styles = this.__un_css_matrix(DOMElement, returnAsString);\n    \n    // Revert back origional styles\n    if (isHidden)\n    {\n        this.css(DOMElement, 'display', !inlineDisplay ? false : inlineDisplay);\n    }\n\n    return returnAsString ? styles : styles;\n}\n\n/**\n * Converts an element's matrix transform value back to component transforms\n *\n * @access {private}\n * @param  {DOMElement}   DOMElement     Target element\n * @param  {bool}   returnAsString Returns string\n * @return {string|object}\n */\n_.prototype.__un_css_matrix = function(DOMElement, returnAsString)\n{\n    if (!this.is_string(DOMElement))\n    {\n        if (!DOMElement.computedStyleMap)\n        {\n            return returnAsString ? '' : {};\n        }\n\n        var computedTransforms = DOMElement.computedStyleMap().get('transform');\n\n        var transforms = Array.prototype.slice.call(computedTransforms).map( (x) => x.toString() ).sort().reverse();\n    }\n    else\n    {\n        var transforms = DOMElement.split(')');\n    }\n\n    const axisMap = ['X', 'Y', 'Z'];\n\n    const ret = {};\n\n    this.each(transforms, function(i, transform)\n    {\n        if (transform.trim() === '') return;\n\n        var split    = transform.split('(');\n        var bsName   = split[0].replace('3d', '');\n        var prop     = split.shift().trim();\n        var value    = split.pop().trim().replace(')', '');\n        var values   = value.split(',').map((x) => x.trim());\n        var lastChar = prop.slice(-1);\n\n        if (prop === 'perspective')\n        {\n            ret.perspective = value;\n\n            return;\n        }\n        \n        this.each(values, function(i, val)\n        {\n            if (i > 2) return false;\n\n            let defltVal = prop.includes('scale') ? 1 : 0;\n            let axisProp = !axisMap.includes(lastChar) ? `${bsName}${axisMap[i]}` : bsName;\n\n            if (prop === 'rotate')\n            {\n                ret.rotateZ = val;\n            }\n            else if (prop === 'rotate3d')\n            {\n                if (parseFloat(val) !== defltVal)\n                {\n                    ret[axisProp] = values[values.length - 1];\n                }\n            }\n            else if (parseFloat(val) === defltVal && ret[axisProp])\n            {\n                return;\n            }\n            else\n            {\n                ret[axisProp] = val;\n            }\n        });\n\n    }, this);\n\n    if (returnAsString)\n    {\n        return !this.is_empty(ret) ? this.join_obj(ret, '(', ') ') + ')' : '';\n    }\n    \n    return ret;\n}\n/**\n * Returns an object of CSS transitions by transition property as keys.\n *\n * @param  {string} transforms A CSS transform value e.g translateY(300px) \n * @return {object}\n */\n_.prototype.css_to_3d_transform = function(transformsStr)\n{        \n    var transforms = {};\n\n    var _this = this;\n\n    /**\n     * Get value number\n     * \n     * @private\n     */\n    var getPropValue = function(value)\n    {\n        if (_this.is_numeric(value))\n        {\n            return parseFloat(value);\n        }\n\n        if (_this.is_empty(value))\n        {\n            return 0;\n        }\n\n        return parseFloat(value.replaceAll(/[^0-9-.]/g, ''));\n    }\n\n    if (transformsStr.includes('matrix'))\n    {\n        return transformsStr;\n    }\n\n    // Split into object\n    this.each(transformsStr.trim().split(')'), function(i, transform)\n    {\n        transform = transform.trim();\n\n        if (transform === '') return;\n\n        transform      = transform.split('(');\n        var prop       = transform.shift().trim();\n        var value      = transform.pop().trim();\n        var values     = value.split(',').map((x) => x.trim());\n        var valueCount = CSS_TRANSFORM_VALUES_COUNT[prop];\n\n        if (prop === 'perspective')\n        {\n            transforms.perspective = values[0];\n        }\n        else if (valueCount === 1 || valueCount === 2)\n        {\n            var initialVal = prop === 'scale' ? 1 : 0;\n            var name3d     = valueCount === 1 ? `${prop.slice(0,-1)}3d` : `${prop}3d`;\n                name3d     = name3d.includes('skew') ? 'skew' : name3d;\n                name3d     = name3d === 'rotat3d' ? 'rotate3d' : name3d;\n            var key        = CSS_3D_TRANSFORM_MAP_KEYS[prop.slice(-1).toLowerCase()];\n            \n            if (this.is_empty(transforms[name3d]))\n            {\n                transforms[name3d] = CSS_3D_TRANSFORM_DEFAULTS[name3d];\n            }\n            \n            if (prop === 'rotate')\n            {\n                transforms.rotate3d[3] = values[0];\n            }\n            else\n            {\n                this.each(values, function(i, value)\n                {\n                    var compValue = parseFloat(value.replaceAll(/[^0-9]-/g, ''));\n\n                    if (getPropValue(value) !== initialVal)\n                    {\n                        transforms[name3d][!key ? i : key] = value;\n                    }\n                });\n            }\n        }\n        else \n        {\n            transforms[prop] = values;\n        }\n\n    }, this);\n\n    return transforms;\n}\n/**\n * Add a css class or list of classes\n *\n * @access {public}\n * @param  {DOMElement}         DOMElement Target element\n * @param  {array|string} className  Class name(s) to add\n */\n_.prototype.add_class = function(DOMElement, className)\n{    \n    if (this.is_array(DOMElement))\n    {\n        this.each(DOMElement, (i, _DOMElement) =>  this.add_class(_DOMElement, className));\n\n        return this;\n    }\n\n    if (this.is_array(className))\n    {\n        this.each(className, (i, _className) =>  this.add_class(DOMElement, _className));\n    \n        return this;\n    }\n\n    if (className.includes(','))\n    {\n        this.each(this.array_filter(className.split(',')), (i, _className) => this.add_class(DOMElement, _className));\n    \n        return this;\n    }\n\n    if (className.includes('.'))\n    {\n        this.each(this.array_filter(className.split('.')), (i, _className) => this.add_class(DOMElement, _className));\n    \n        return this;\n    }\n\n    className = className.trim();\n\n    if (className[0] === '.') className = className.slice(1);\n\n    DOMElement.classList.add(className);\n\n    return this;\n}\n/**\n * Returns element classNames\n *\n * @param   {HTMLElement}  element  Element to check\n * @return  {Array}\n */\n_.prototype.class_names = function(element)\n{\n    if (this.is_htmlElement(element) && element.className && element.className.trim() !== '')\n    {\n        return element.className.replace( /\\s\\s+/g, ' ').trim().split(' ');\n    }\n\n    return [];\n}\n/**\n * Closest parent node by type/class or array of either\n *\n * @access {public}\n * @param  {DOMElement}   el   Target element\n * @param  {string} type Node type to find\n * @return {node\\null}\n */\n_.prototype.closest = function(el, type)\n{    \n    // Match OR split by comma\n    if (this.is_string(type) && type.includes(',')) type = type.split(',').filter((x) => x.trim() !== '').map((x) => x.trim());\n\n    // Match OR as an array\n    if (this.is_array(type))\n    {        \n        let ret = false;\n\n        this.each(type, (i , itype) =>\n        {\n            ret = this.closest(el, itype);\n\n            if (ret) return false;\n        });\n\n        return ret;\n    }\n    \n    let isElement = this.is_htmlElement(type);\n    let isClass   = !isElement && type.includes('.');\n    let isType    = !isElement && !isClass;\n    let ret       = false;\n\n    this.traverse_up(el, (parent, pType) =>\n    {\n        if (isElement && parent === type)\n        {\n            ret = parent;\n\n            return false;\n        }\n        else if (isClass && this.has_class(parent, type))\n        {\n            ret = parent;\n\n            return false;\n        }\n        else if (isType && type === pType)\n        {\n            ret = parent;\n\n            return false;\n        }\n    });\n\n    return ret;\n}\n\n/**\n * Closest parent node by class\n *\n * @access {public}\n * @param  {DOMElement}   el   Target element\n * @param  {string} clas Node class to find\n * @return {node\\null}\n */\n_.prototype.closest_class = function(el, classNames)\n{    \n    let ret = false;\n\n    this.traverse_up(el, (parent) =>\n    {\n        ret = this.has_class(parent, classNames) ? parent : ret;\n        \n        if (ret) return false;\n    });\n\n    return ret;\n}\n/**\n * Get an element's absolute coordinates\n *\n * @access {public}\n * @param  {DOMElement}   el Target element\n * @return {object}\n */\n_.prototype.coordinates = function(DOMElement)\n{\n    // If element is hiddien we need to display it quickly\n    var inlineDisplay = this.inline_style(DOMElement, 'display');\n    var hidden        = this.rendered_style(DOMElement, 'display');\n    \n    if (hidden === 'none')\n    {\n        // If the element was 'display:none' with an inline\n        // style, remove the inline display so it defaults to\n        // whatever styles are set on in through stylesheet\n        if (inlineDisplay)\n        {\n            this.css(DOMElement, 'display', false);\n        }\n        // Otherwise set it to unset\n        else\n        {\n            this.css(DOMElement, 'display', 'unset');\n        }\n    }\n\n    var box        = DOMElement.getBoundingClientRect();\n    var body       = document.body;\n    var docEl      = document.documentElement;\n    var scrollTop  = window.pageYOffset || docEl.scrollTop || body.scrollTop;\n    var scrollLeft = window.pageXOffset || docEl.scrollLeft || body.scrollLeft;\n    var clientTop  = docEl.clientTop || body.clientTop || 0;\n    var clientLeft = docEl.clientLeft || body.clientLeft || 0;\n    var borderL    = parseInt(this.rendered_style(DOMElement, 'border-left-width')) || 0;\n    var borderR    = parseInt(this.rendered_style(DOMElement, 'border-right-width')) || 0;\n    var borderT    = parseInt(this.rendered_style(DOMElement, 'border-top-width')) || 0;\n    var borderB    = parseInt(this.rendered_style(DOMElement, 'border-bottom-width')) || 0;\n    var top        = box.top + scrollTop - clientTop - borderT - borderB;\n    var left       = box.left + scrollLeft - clientLeft + borderL - borderR;\n    var width      = parseFloat(this.rendered_style(DOMElement, 'width'))\n    var height     = parseFloat(this.rendered_style(DOMElement, 'height'));\n\n    if (inlineDisplay)\n    {\n        this.css(DOMElement, 'display', inlineDisplay);\n    }\n    else\n    {\n        this.css(DOMElement, 'display', false);\n    }\n    \n    return {\n        top: top,\n        left: left,\n        right: left + width,\n        bottom: top + height,\n        height: height,\n        width: width,\n    };\n}\n/**\n * Get all first level children\n *\n * @access {public}\n * @param  {DOMElement}   el   Target element\n * @return {node\\null}\n */\n_.prototype.first_children = function(el)\n{\n    return this.find_all('> *', el);\n}\n/**\n * Get all input elements from a form\n *\n * @access {public}\n * @param  {DOMElement}   form Target element\n * @return {array}\n */\n_.prototype.form_inputs = function(form)\n{\n    return this.find_all('input, textarea, select', form);\n}\n/**\n * Get an array of name/value objects for all inputs in a form\n *\n * @access {public}\n * @param  {DOMElement}   form Target element\n * @return {array}\n */\n_.prototype.form_values = function(form)\n{\n    var inputs = this.form_inputs(form);\n    var ret    = {};\n    \n    this.each(inputs, (i, input) =>\n    {\n        let key = this.attr(input, 'name');\n\n        let val = this.input_value(input);\n\n        if (input.type !== 'radio')\n        {\n            ret[key] = val;\n        }\n        else\n        {\n            if (val) ret[key] = val;\n        }\n\n        if (key.includes('[]'))\n        {\n            if (!ret[key] || !this.is_array(ret[key]))\n            {\n                ret[key] = [];\n            }\n\n            ret[key].push(val);\n        }\n    });\n   \n    return ret;\n}\n/**\n * Check if a node has a class\n *\n * @access {public}\n * @param  {DOMElement}         el         Target element\n * @param  {string|array} className  Class name(s) to check for\n * @return {bool}\n */\n_.prototype.has_class = function(DOMElement, className)\n{    \n    let ret = false;\n\n    if (this.is_array(className))\n    {\n        this.each(className, (i, _className) => { if (this.has_class(DOMElement, _className)) ret = true; return false; });\n        \n        return ret;\n    }\n\n    if (className.includes(','))\n    {\n        this.each(this.array_filter(className.split(',')), (i, _className) => { if (this.has_class(DOMElement, _className)) ret = true; return false; });\n    \n        return ret;\n    }\n\n    if (className.includes('.'))\n    {\n        let count = className.split('.').length;\n\n        if (count >= 3)\n        {\n            this.each(this.array_filter(className.split('.')), (i, _className) => { ret = this.has_class(DOMElement, _className); if (!ret) return false; });\n\n            return ret;\n        }\n    }\n\n    className = className.trim();\n\n    if (className[0] === '.') className = className.slice(1);\n\n    if (!DOMElement || !DOMElement.classList) return false;\n\n    return DOMElement.classList.contains(className);\n}\n/**\n * Check if an element is in current viewport\n *\n * @access {public}\n * @param  {DOMElement}   el Target DOM node\n * @return {bool}\n */\n_.prototype.in_viewport = function(el)\n{\n    var rect = el.getBoundingClientRect();\n\n    return (\n        rect.top >= 0 &&\n        rect.left >= 0 &&\n        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) && /*or find(window).height() */\n        rect.right <= (window.innerWidth || document.documentElement.clientWidth) /*or find(window).width() */\n    );\n}\n/**\n * Replace or append a node's innerHTML\n *\n * @access {public}\n * @param  {DOMElement}   DOMElement  Target element\n * @param  {string} content     Target content\n * @param  {bool}   append      Append innerHTML or replace (optional) (default false)\n */\n_.prototype.inner_HTML = function(DOMElement, content, append)\n{\n    content = this.is_array(content) ? content.join(\"\\n\") : content;\n\n    if (append)\n    {\n        DOMElement.innerHTML += content;\n    }\n    else\n    {\n        this.clear_event_listeners(DOMElement, true);\n\n        DOMElement.innerHTML = content;\n    }\n\n    this.trigger_event(DOMElement, `frontbx:dom:mutate`);\n\n    this.trigger_event(window, `frontbx:dom:mutate`, { DOMElement: DOMElement });\n}\n/**\n * Gets an input element's value\n *\n * @access {public}\n * @param  {DOMElement}   input Target element\n * @return {mixed}\n */\n_.prototype.input_value = function(input)\n{\n    if (input.type == 'checkbox')\n    {\n        return this.attr(input, 'checked');\n    }\n    if (input.type == 'radio')\n    {\n        return this.attr(input, 'checked') ? this.attr(input, 'value') : undefined;\n    }\n    if (input.type == 'number')\n    {\n        return input.value.includes('.') ? parseInt(input.value) : parseFloat(input.value);\n    }\n    if (input.type == 'file')\n    {\n        if (input.multiple == true)\n        {\n            return input.files;\n        }\n\n        return input.files[0];\n    }\n\n    let ret = input.type == 'select' ? input.options[input.selectedIndex].value : input.value;\n\n    return this.is_numeric(ret) ? (input.value.includes('.') ? parseInt(input.value) : parseFloat(input.value)) : ret.trim();\n}\n/**\n * Create and insert a new node\n *\n * @param {object} options\n */\n_.prototype.dom_element = function(options, appendTo, innerHTMLOrChildren)\n{    \n    // dom_element(null, wrappper, content);\n    if (!options && appendTo && innerHTMLOrChildren)\n    {\n        this._recursive_dom_element(innerHTMLOrChildren, appendTo);\n\n        return appendTo;\n    }\n\n    if (!options.tag) throw new Error('Element tag not provided.');\n\n    let node = document.createElement(options.tag);\n\n    delete options.tag;\n\n    this.attr(node, options);\n\n    if (innerHTMLOrChildren)\n    {\n        this._recursive_dom_element(innerHTMLOrChildren, node);\n    }\n\n    if (appendTo)\n    {\n        appendTo.appendChild(node);\n    }\n\n    return node;\n}\n\n_.prototype._recursive_dom_element = function(mixedVar, parent)\n{\n    if (this.is_htmlElement(mixedVar))\n    {\n        parent.appendChild(mixedVar);\n    }\n    else if (this.is_array(mixedVar))\n    {\n        this.each(this.array_filter(mixedVar), (i, child) =>\n        {\n            this._recursive_dom_element(child, parent);\n        }); \n    }\n    else if (this.is_object(mixedVar))\n    {\n        this.dom_element(mixedVar, node);\n    }\n    else\n    {\n        parent.innerHTML += mixedVar;\n    }\n}\n\n\n/**\n * Traverse nextSibling untill type or class or array of either\n *\n * @access {public}\n * @param  {DOMElement}   el   Target element\n * @param  {string} type Target node type\n * @return {node\\null}\n */\n_.prototype.next = function(el, type)\n{\n    // Match OR split by comma\n    if (this.is_string(type) && type.includes(',')) type = type.split(',').filter((x) => x.trim() !== '').map((x) => x.trim());\n\n    // Match OR as an array\n    if (this.is_array(type))\n    {        \n        let ret = false;\n\n        this.each(type, (i , itype) =>\n        {\n            ret = this.next(el, itype);\n\n            if (ret) return false;\n        });\n\n        return ret;\n    }\n    \n    let isElement = this.is_htmlElement(type);\n    let isClass   = !isElement && type.includes('.');\n    let isType    = !isElement && !isClass;\n    let ret       = false;\n\n    this.traverse_next(el, (sibling, sType) =>\n    {\n        if (isElement && sibling === type)\n        {\n            ret = sibling;\n\n            return false;\n        }\n        else if (isClass && this.has_class(sibling, type))\n        {\n            ret = sibling;\n\n            return false;\n        }\n        else if (isType && type === sType)\n        {\n            ret = sibling;\n\n            return false;\n        }\n    });\n\n    return ret;\n}\n/**\n * Traverse nextSibling untill class type or class or array of either\n *\n * @access {public}\n * @param  {DOMElement}   el         Target element\n * @param  {string}       classNames Target node classname\n * @return {node\\null}\n */\n_.prototype.next_class = function(el, classNames)\n{\n    let ret = false;\n\n    this.traverse_next(el, (sibling) =>\n    {\n        ret = this.has_class(sibling, classNames) ? sibling : ret;\n        \n        if (ret) return false;\n    });\n\n    return ret;\n}\n/**\n * Inserts node as first child\n *\n * @access {public}\n * @param  {DOMElement} node     New node to insert\n * @param  {DOMElement} wrapper  Parent to preappend new node into\n * @return {DOMElement}\n */\n_.prototype.preapend = function(node, wrapper)\n{\n    wrapper.insertBefore(node, wrapper.firstChild);\n\n    return node;\n}\n/**\n * Traverse previousSibling untill type\n *\n * @access {public}\n * @param  {DOMElement}   el   Target element\n * @param  {string} type Target node type\n * @return {node\\null}\n */\n_.prototype.previous = function(el, type)\n{\n    // Match OR split by comma\n    if (this.is_string(type) && type.includes(',')) type = type.split(',').filter((x) => x.trim() !== '').map((x) => x.trim());\n\n    // Match OR as an array\n    if (this.is_array(type))\n    {        \n        let ret = false;\n\n        this.each(type, (i , itype) =>\n        {\n            ret = this.previous(el, itype);\n\n            if (ret) return false;\n        });\n\n        return ret;\n    }\n    \n    let isElement = this.is_htmlElement(type);\n    let isClass   = !isElement && type.includes('.');\n    let isType    = !isElement && !isClass;\n    let ret       = false;\n\n    this.traverse_prev(el, (sibling, pType) =>\n    {\n        if (isElement && sibling === type)\n        {\n            ret = sibling;\n\n            return false;\n        }\n        else if (isClass && this.has_class(sibling, type))\n        {\n            ret = sibling;\n\n            return false;\n        }\n        else if (isType && type === pType)\n        {\n            ret = sibling;\n\n            return false;\n        }\n    });\n\n    return ret;\n}\n/**\n * Traverse previousSibling untill class\n *\n * @access {public}\n * @param  {DOMElement}   el        Target element\n * @param  {string} className Target node classname\n * @return {node\\null}\n */\n_.prototype.previous_class = function(el, classNames)\n{\n    let ret = false;\n\n    this.traverse_prev(el, (sibling) =>\n    {\n        ret = this.has_class(sibling, classNames) ? sibling : ret;\n        \n        if (ret) return false;\n    });\n\n    return ret;\n}\n/**\n * Remove a css class or list of classes\n *\n * @access {public}\n * @param  {DOMElement}         DOMElement Target element\n * @param  {array|string} className  Class name(s) to remove\n */\n_.prototype.remove_class = function(DOMElement, className)\n{\n    if (this.is_array(DOMElement))\n    {\n        this.each(DOMElement, (i, _DOMElement) =>  this.remove_class(_DOMElement, className));\n\n        return this;\n    }\n\n    if (this.is_array(className))\n    {\n        this.each(className, (i, _className) =>  this.remove_class(DOMElement, _className));\n    \n        return this;\n    }\n\n    if (className.includes(','))\n    {\n        this.each(this.array_filter(className.split(',')), (i, _className) => this.remove_class(DOMElement, _className));\n    \n        return this;\n    }\n\n    if (className.includes('.'))\n    {\n        this.each(this.array_filter(className.split('.')), (i, _className) => this.remove_class(DOMElement, _className));\n    \n        return this;\n    }\n\n    className = className.trim();\n\n    if (className[0] === '.') className = className.slice(1);\n\n    DOMElement.classList.remove(className);\n\n    return this;\n}\n/**\n * Remove an element from the DOM\n *\n * This function also removes all attached event listeners\n * \n * @access {public}\n * @param  {DOMElement}   el Target element\n */\n_.prototype.remove_from_dom = function(el)\n{\n    if (this.is_array(el))\n    {\n        return this.each(el, (i, DOMElement) => this.remove_from_dom(DOMElement));\n    }\n\n    if (this.in_dom(el))\n    {\n        el.parentNode.removeChild(el);\n\n        var children = this.find_all('*', el).reverse();\n\n        for (var i = 0, len = children.length; i < len; i++)\n        {\n            this.off(children[i]);\n\n            this.trigger_event(children[i], `frontbx:dom:remove`);\n        }\n\n        this.off(el);\n\n        this.trigger_event(el, `frontbx:dom:remove`);\n\n        this.trigger_event(window, `frontbx:dom:remove`, { DOMElement: el });\n    }\n}\n/**\n * Get the current document scroll position\n *\n * @access {private}\n * @return {obj}\n */\n_.prototype.scroll_pos = function(context)\n{\n    if (context && this.is_htmlElement(context))\n    {\n        return {\n            top: context.scrollTop,\n            left: context.scrollLeft\n        };\n    }\n\n    var doc  = document.documentElement;\n    var top  = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);\n    var left = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);\n    \n    return {\n        top: top,\n        left: left\n    };\n}\n/**\n * Select single node by selector\n *\n * @access {public}\n * @param  {string} selector CSS selector\n * @param  {DOMElement}   context (optional) (default document)\n * @return {DOMElement}\n */\n_.prototype.find = function(selector, context, includeContextEl)\n{\n    selector = selector.trim();\n\n    context = (typeof context === 'undefined' ? document : context);\n\n    includeContextEl = (typeof includeContextEl === 'undefined' ? false : includeContextEl && context !== document);\n\n    let fchild = selector.substring(0, 1) === '>';\n    let multi  = selector.includes(',');\n\n    // Fast\n    if (!fchild && !multi) return selector[0] === '#' ? context.getElementById(selector.substring(1)) : context.querySelector(selector);\n\n    if (multi) selector = selector.replaceAll(/,\\s?>/g, ', :scope >');\n    \n    if (fchild) selector = `:scope ${selector}`;\n\n    // Fixes IDs that start with a number - rare\n    if (/\\#\\d/.test(selector)) selector = selector.replaceAll(/(\\#\\d[^ ,]+)/g, '[id=\"$1\"]').replaceAll('[id=\"#', '[id=\"');\n\n    return context.querySelector(selector);\n}\n\n\n/**\n * Select and return all nodes by selector\n *\n * @access {public}\n * @param  {string} selector CSS selector\n * @param  {DOMElement}   context (optional) (default document)\n * @return {DOMElement}\n */\n_.prototype.find_all = function(selector, context, includeContextEl)\n{\n    selector = selector.trim();\n\n    context = (typeof context === 'undefined' ? document : context);\n\n    includeContextEl = (typeof includeContextEl === 'undefined' ? false : includeContextEl && context !== document);\n\n    let fchild       = selector.substring(0, 1) === '>';\n    let multi        = selector.includes(',');\n    let hasParent    = context.parentNode; \n    let deleteParent = false;\n\n    if (includeContextEl)\n    {\n        if (!hasParent)\n        {\n            parent = document.createElement('div');\n            parent.appendChild(context);\n            deleteParent = true;\n        }\n\n        context = context.parentNode;\n    }\n\n    if (multi)  selector = selector.replaceAll(/,\\s?>/g, ', :scope >');\n    if (fchild) selector = `:scope ${selector}`;\n\n    // Fixes IDs that start with a number - rare\n    if (/\\#\\d/.test(selector)) selector = selector.replaceAll(/(\\#\\d[^ ,]+)/g, '[id=\"$1\"]').replaceAll('[id=\"#', '[id=\"');\n\n    let ret = TO_ARR.call(context.querySelectorAll(selector));\n\n    if (deleteParent) context.parentNode.removeChild(context);\n\n    return ret;\n}\n/**\n * Toogle a classname\n *\n * @access {public}\n * @param  {DOMElement}         el         Target element\n * @param  {string}       className  Class name to toggle\n */\n_.prototype.toggle_class = function(DOMElement, className)\n{    \n    if (this.has_class(DOMElement, className))\n    {\n        this.remove_class(DOMElement, className);\n    }\n    else\n    {\n        this.add_class(DOMElement, className);\n    }\n}\n/**\n * Triggers an event on an element\n *\n * @access {public}\n * @param  {DOMElement}   DOMElement   Target element\n * @param  {string}       eventName    Event name\n * @param  {mixed}        data         Extra data to pass to custom events \n */\n_.prototype.trigger_event = function(DOMElement, eventName, data)\n{    \n    if (this.in_array(eventName.toLowerCase(), DOC_EVENTS))\n    {\n        if ('createEvent' in document)\n        {\n            var evt = document.createEvent('HTMLEvents');\n\n            evt.initEvent(eventName, false, true);\n\n            DOMElement.dispatchEvent(evt);\n        }\n        else\n        {\n            DOMElement.fireEvent(eventName);\n        }\n    }\n    else\n    {\n        let detail = { DOMElement: DOMElement, name: eventName };\n        \n        if (this.is_object(data))\n        {\n            detail = { ...detail, ...data }\n        }\n        else\n        {\n            detail = { ...detail, state: data };\n        }\n\n        const event = new CustomEvent(eventName, { detail: detail });\n\n        DOMElement.dispatchEvent(event);\n\n        if (eventName.includes(':'))\n        {\n            var events = eventName.split(':').slice(0, -1);\n            var base   = events.shift();\n            var count  = events.length + 1;\n\n            this.for(count, function(i)\n            {\n                let subevent = i === (count -1) ? base : `${base}:${events.join(':')}`;\n\n                detail.name = eventName;\n\n                const evt = new CustomEvent(subevent, { detail: detail });\n\n                DOMElement.dispatchEvent(evt);\n\n                events.pop();\n            });\n        }\n    }\n}\n/**\n * Traverse up dom tree.\n *\n * @access {public}\n * @param  {DOMElement}   DOMElement Target element\n * @param  {Function}     callback   callback\n */\n_.prototype.traverse_up = function(DOMElement, callback)\n{    \n    // Stop on document\n    if (DOMElement === document || this.is_undefined(DOMElement) || DOMElement === null) return;\n\n    let response = callback(DOMElement, DOMElement.tagName.toLowerCase(), DOMElement.className);\n\n    if (response)\n    {\n        return DOMElement;\n    }\n    else if (response === false)\n    {\n        return;\n    }\n\n    return this.traverse_up(DOMElement.parentNode, callback);\n}\n\n/**\n * Traverse down dom tree.\n *\n * @access {public}\n * @param  {DOMElement}   DOMElement Target element\n * @param  {Function}     callback   callback\n */\n_.prototype.traverse_down = function(DOMElement, callback, includeText)\n{\n    includeText = typeof includeText === 'undefined' ? false : includeText;\n\n    if (this.is_undefined(DOMElement) || DOMElement === null) return;\n\n    let ret;\n\n    this.each(Array.prototype.slice.call(includeText ? DOMElement.childNodes : DOMElement.children), (i, child) => \n    {\n        if (includeText && (child.nodeType !== 1 && child.nodeType !== 3)) return;\n\n        let response = callback(child, child.tagName ? child.tagName.toLowerCase() : null, child.className);\n\n        if (response || response === false)\n        {\n            ret = response === false ? undefined : child;\n\n            return false;\n        }\n\n        response = this.traverse_down(child, callback, includeText);\n\n        if (response || response === false)\n        {\n            ret = response === false ? undefined : child;\n\n            return false;\n        }\n    });\n\n    return ret;\n}\n\n/**\n * Traverse next siblings.\n *\n * @access {public}\n * @param  {DOMElement}   DOMElement Target element\n * @param  {Function}     callback   callback\n */\n_.prototype.traverse_next = function(DOMElement, callback)\n{\n    allNodes = typeof allNodes === 'undefined' ? false : allNodes;\n\n    // Stop on document\n    if (DOMElement === document || this.is_undefined(DOMElement) || DOMElement === null) return;\n\n    let response = callback(DOMElement, DOMElement.tagName.toLowerCase(), DOMElement.className);\n\n    if (response)\n    {\n        return DOMElement;\n    }\n    else if (response === false)\n    {\n        return;\n    }\n\n    return this.traverse_next(DOMElement.nextSibling, callback);\n}\n\n/**\n * Traverse previous siblings.\n *\n * @access {public}\n * @param  {DOMElement}   DOMElement Target element\n * @param  {Function}     callback   callback\n */\n_.prototype.traverse_prev = function(DOMElement, callback)\n{\n    // Stop on document\n    if (DOMElement === document || this.is_undefined(DOMElement) || DOMElement === null) return;\n\n    let response = callback(DOMElement, DOMElement.tagName.toLowerCase(), DOMElement.className);\n\n    if (response)\n    {\n        return DOMElement;\n    }\n    else if (response === false)\n    {\n        return;\n    }\n\n    return this.traverse_prev(DOMElement.previousSibling, callback);\n}\n\n/**\n * Get an element's actual width in px\n *\n * @access {public}\n * @param  {DOMElement}   DOMElement Target element\n * @return {object}\n */\n_.prototype.width = function(DOMElement, borderBox)\n{\n\tif (DOMElement === window || DOMElement === document || DOMElement === document.documentElement ) return Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\n\n\tif (borderBox)\n    {\n        let w    = parseInt(this.rendered_style(DOMElement, 'width'));\n        let padL = parseInt(this.rendered_style(DOMElement, 'padding-left'));\n        let padR = parseInt(this.rendered_style(DOMElement, 'padding-right'));\n\n        return parseInt(w - padL - padR);\n    }\n\n    return this.css_unit_value(this.rendered_style(DOMElement, 'width'));\n}\n/**\n * Get an element's actual height in px\n *\n * @access {public}\n * @param  {DOMElement}   DOMElement Target element\n * @return {object}\n */\n_.prototype.height = function(DOMElement, borderBox)\n{\n    if (DOMElement === window || DOMElement === document || DOMElement === document.documentElement) return Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);\n\n    if (borderBox)\n    {\n        let h    = parseInt(this.rendered_style(DOMElement, 'height'));\n        let padT = parseInt(this.rendered_style(DOMElement, 'padding-top'));\n        let padB = parseInt(this.rendered_style(DOMElement, 'padding-bottom'));\n\n        return parseInt(h - padT - padB);\n    }\n\n    return this.css_unit_value(this.rendered_style(DOMElement, 'height'));\n}\n/**\n * Returns nth child\n *\n * @access {public}\n * @param  {DOMElement}   el   Target element\n * @return {node\\null}\n */\n_.prototype.nth_child = function(el, n)\n{\n    let children = this.first_children(el);\n\n    if (children[n]) return children[n];\n}\n/**\n * Returns nth position from siblings\n *\n * @access {public}\n * @param  {DOMElement}   el   Target element\n * @return {node\\null}\n */\n_.prototype.sibling_index = function(DOMElement)\n{\n    let children = this.first_children(DOMElement.parentNode);\n\n    for (var i = 0; i < children.length; i++)\n    {\n        if (children[i] === DOMElement) return i;\n    }\n\n    return 0;\n}\n/**\n * Add an event listener\n *\n * @access {public}\n * @param  {DOMElement}    element    The target DOM node\n * @param  {string}        eventName  Event type\n * @param  {closure}       handler    Callback event\n * @param  {array}         args       Args to pass to handler (first array element gets set to \"this\")\n * @param  {boolean}       pushfirst  If boolean (true) is provided, pushes callback to first in stack (default false)\n */\n_.prototype.on = function(DOMElement, eventName, handler)\n{    \n    var args = TO_ARR.call(arguments);\n\n    // Multiple elements\n    if (this.is_array(DOMElement))\n    {\n        var baseArgs = args.slice(1);\n\n        this.each(DOMElement, function(i, el)\n        {            \n            this.on.apply(this, [el, ...baseArgs]);\n\n        }, this);\n    }\n    else\n    {\n        // If event has a comma or is an array we're doing multiple events\n        if (this.is_array(eventName) || eventName.includes(','))\n        {\n            let eventsArr = this.is_array(eventName) ? eventName : eventName.split(',').map((x) => x.trim()).filter((x) => x !== '');\n\n            this.each(eventsArr, function(i, event)\n            {\n                args[1] = event;\n\n                this.on.apply(this, args);\n                \n            }, this);\n\n            return;\n        }\n\n        // If array of arguments is provided, \"this\" will always be the first\n        // argument provided\n        // However the first and second argument passed to the callback will always the event object and the element\n        // e.g. on(el, 'click', callback, ['baz', 'foo', 'bar']) -> callback(e, el, foo, bar) this = 'baz'\n\n        // Remove element, eventName, handler from args\n        let argsNormal = this.__normaliseListenerArgs(DOMElement, args);\n\n        this.__addListener(DOMElement, eventName, handler, argsNormal.thisArg, argsNormal.args, argsNormal.pushFirst);\n    }\n}\n\n/**\n * Nomralize event listener args\n * \n * @param  {DOMElement}    DOMElement   The target DOM node\n * @param  {array}         args         Args passed to 'on' or 'off'\n */\n_.prototype.__normaliseListenerArgs = function(DOMElement, args)\n{\n    // Remove DOMElement, eventName, handler\n    args = args.slice(3);\n\n    // Default \"this\" to the dom element\n    let thisArg   = DOMElement;\n    let pushFirst = false;\n\n    // Push first\n    if (!this.is_empty(args))\n    {\n        thisArg   = args.shift();\n        pushFirst = this.bool(args.shift());\n    }\n\n    return {args, thisArg, pushFirst};\n}\n\n/**\n * Adds a listener to the element\n *\n * @access {private}\n * @param  {DOMElement}    element    The target DOM node\n * @param  {string}  eventName  Event type\n * @param  {closure} handler    Callback event\n * @param  {bool}    data Use capture (optional) (defaul false)\n */\n_.prototype.__addListener = function(element, eventName, callback, thisArg, args, pushFirst)\n{\n    // Apply GUID to element and callback\n    element.guid = element.guid || (element.guid = this._guidgen());\n    callback.guid    = callback.guid || (callback.guid = this._guidgen());\n\n    let hasHandler = true;\n    let guid       = element.guid;\n\n    // Make sure an array for event type exists\n    if (!this._events[guid])\n    {\n        hasHandler = false;\n\n        this._events[guid] = {};\n    }\n\n    if (!this._events[guid][eventName])\n    {\n        hasHandler = false;\n\n        this._events[guid][eventName] = [];\n    }\n\n    // Push the details to the events object\n    const handlerObj = {callback, thisArg, args, element};\n    \n    pushFirst ? this._events[guid][eventName].unshift(handlerObj) : this._events[guid][eventName].push(handlerObj);\n\n    if (!hasHandler)\n    {\n        element.addEventListener(eventName, this.__event_dispatcher);\n    }\n}\n\n/**\n * Event dispatcher\n *\n * @access {private}\n * @param  {eventObject}  e  \n */\n_.prototype.__event_dispatcher = function(e)\n{\n    e = e || window.event;\n\n    let DOMElement = this;\n\n    let guid = DOMElement.guid;\n\n    if (!guid) return;\n\n    let callbacks =  _THIS._events[guid][e.type] || [];\n\n    _THIS.each(callbacks, (i, handler) =>\n    {        \n        if (handler)\n        {\n            let handled = handler.callback.apply(handler.thisArg, [e, DOMElement, ...handler.args]);\n\n            if (handled === false || handled === null)\n            {\n                e.preventDefault();\n\n                e.stopPropagation();\n\n                if (handled === null) return false;\n            }\n        }\n    });\n}\n\n/**\n * Remove an event listener\n *\n * @access {public}\n * @param  {DOMElement}    element    The target DOM node\n * @param  {string}        eventName  Event type\n * @param  {closure}       handler    Callback event\n * @param  {array}         args       Args to pass to handler (first array element gets set to \"this\")\n * @param  {boolean}       pushfirst  If boolean (true) is provided, pushes callback to first in stack (default false)\n */\n_.prototype.off = function(DOMElement, eventName, handler)\n{\n    var args = TO_ARR.call(arguments);\n\n    if (this.is_array(DOMElement))\n    {\n        var baseArgs = args.slice(1);\n\n        this.each(DOMElement, function(i, el)\n        {            \n            this.off.apply(this, [el, ...baseArgs]);\n        \n        }, this);\n    }\n    else\n    {\n        // If the eventName name was not provided - remove all event handlers on element\n        if (!eventName)\n        {\n            return this.__remove_element_listeners(DOMElement);\n        }\n\n        // If event has a comma or is an array we're doing multiple events\n        if (this.is_array(eventName) || eventName.includes(','))\n        {\n            let eventsArr = this.is_array(eventName) ? eventName : eventName.split(',').map((x) => x.trim()).filter((x) => x !== '');\n\n            this.each(eventsArr, function(i, event)\n            {\n                args[1] = event;\n\n                this.off.apply(this, args);\n                \n            }, this);\n\n            return;\n        }\n\n        // If the callback was not provided - remove all events of the type on the element\n        if (!handler)\n        {\n            return this.__remove_element_type_listeners(DOMElement, eventName);\n        }\n        \n        let guid = DOMElement.guid;\n\n        // Nothing to remove\n        if (!guid) return;\n\n        let handlers = this.array_get(`${guid}.${eventName}`, this._events);\n\n        // Nothing to remove\n        if (!handlers) return;\n\n        // Loop stored events and match node, event name, handler, use capture\n        this.each(handlers, function(i, _handler)\n        {            \n            if (_handler.callback.guid === handler.guid || this.is_equal(_handler.callback, handler))\n            {\n                this._events[guid][eventName].splice(i, 1);\n\n                if (this.is_empty(this._events[guid][eventName]))\n                {\n                    delete this._events[guid][eventName];\n\n                    this.__remove_listener(DOMElement, eventName);\n                }\n\n                if (this.is_empty(this._events[guid]))\n                {\n                    delete this._events[guid];\n                }\n                \n                // Break only remove first\n                return false;\n            } \n        \n        }, this);\n    }\n}\n\n/**\n * Removes all registered event listeners on an element\n *\n * @access {private}\n * @param  {DOMElement} DOMElement Target node element\n */\n_.prototype.__remove_element_listeners = function(DOMElement)\n{\n    let guid = DOMElement.guid;\n\n    if (!guid) return;\n\n    if (this._events[guid])\n    {\n        this.each(this._events[guid], function(type, callbacks)\n        {\n            this.__remove_listener(DOMElement, type);\n            \n        }, this);\n    }\n\n    delete this._events[guid];\n}\n\n/**\n * Removes all registered event listeners of a specific type on an element\n *\n * @access {private}\n * @param  {DOMElement} DOMElement Target node element\n * @param  {string}     type       Event listener type\n */\n_.prototype.__remove_element_type_listeners = function(DOMElement, type)\n{\n    let guid = DOMElement.guid;\n\n    if (!guid) return;\n\n    // Make sure an array for event type exists\n    if (this._events[guid] && this._events[guid][type])\n    {\n        delete this._events[guid][type];\n\n        this.__remove_listener(DOMElement, type);\n\n        if (this.is_empty(this._events[guid]))\n        {\n            delete this._events[guid];\n        }\n    }\n}\n\n/**\n * Removes a listener from the element\n *\n * @access {private}\n * @param  {DOMElement} DOMElement The target DOM node\n * @param  {string}     eventType  Event type\n * @param  {closure}    handler    Callback event\n * @param  {bool}       useCapture Use capture (optional) (defaul false)\n */\n_.prototype.__remove_listener = function(DOMElement, eventType)\n{    \n    DOMElement.removeEventListener(eventType, this.__event_dispatcher);\n}\n\n/**\n * Removes all event listeners registered by the library\n *\n * @access {public}\n */\n_.prototype.clear_event_listeners = function(DOMElement, onlyChildren)\n{\n    DOMElement = this.is_undefined(DOMElement) ? document : DOMElement;\n\n    onlyChildren = this.is_undefined(onlyChildren) ? false : onlyChildren;\n\n    if (DOMElement !== document)\n    {\n        let children = this.find_all('*', DOMElement).reverse();\n\n        this.each(children, (i, child) => this.off(child));\n\n        if (!onlyChildren) this.off(DOMElement);\n        \n        return;\n    }\n\n    var events = this._events;\n\n    let _this = this;\n\n    _this.each(this._events, (guid, types) =>\n    {\n        _this.each(types, (type, callbacks) =>\n        {\n            let DOMElement = callbacks[0].element;\n            \n            _this.__remove_listener(DOMElement, type);\n        });\n    });\n\n    this._events = {};\n\n\n\n}\n/**\n * Removes all event listeners registered by the library on nodes\n * that are no longer part of the DOM tree\n *\n * @access {public}\n */\n_.prototype.collect_garbage = function()\n{\n\n    this.each(this._events, (guid, types) =>\n    {\n        let cleared = false;\n\n        this.each(types, (type, callbacks) =>\n        {\n            let DOMElement = callbacks[0].element;\n            \n            if (!this.in_dom(DOMElement))\n            {\n                cleared = true;\n\n                this.__remove_listener(DOMElement, type);\n            }\n        });\n\n        if (cleared) delete this._events[guid];\n    });\n}\n/**\n * Removes event listeners on a DOM node\n *\n * If no element given, all attached event listeners are returned.\n * If no event name is given, all attached event listeners are returned on provided element.\n * If single arguement is provided and arg is a string, e.g 'click', all events of that type are returned\n * \n * @access {public}\n * @param  {mixed}   element    The target DOM node\n * @param  {string}  eventName  Event type\n * @return {array}\n */\n_.prototype.event_listeners = function(DOMElement, eventName)\n{\n    var args = TO_ARR.call(arguments);\n    var ret  = [];\n\n    // No args, return all events\n    if (args.length === 0)\n    {\n        this.each(this._events, function(guid, types)\n        {\n            this.each(types, function(type, callbacks)\n            {\n                let summary = callbacks.map( (details) => ({ el: details.element, callback: details.callback, type: type }) );\n\n                ret = [...ret, ...summary];\n            });\n\n        }, this);\n\n        return ret;\n    }\n    \n    // eventListeners(node) or\n    // eventListeners('click')\n    else if (args.length === 1)\n    {\n        // eventListeners('click')\n        if (this.is_string(DOMElement))\n        {   \n            this.each(this._events, function(guid, types)\n            {\n                this.each(types, function(type, callbacks)\n                {\n                    if (type === DOMElement)\n                    {\n                        let summary = callbacks.map( (details) => ({ el: details.element, callback: details.callback, type: type }) );\n\n                        ret = [...ret, ...summary];\n                    }\n                });\n\n            }, this);\n\n            return ret;\n        }\n        \n        // eventListeners(node)\n        let guid = DOMElement.guid;\n\n        if (!guid || !this._events[guid]) return ret;\n\n        this.each(this._events[guid], function(type, callbacks)\n        {\n            let summary = callbacks.map( (details) => ({ el: details.element, callback: details.callback, type: type }) );\n\n            ret = [...ret, ...summary];\n\n        }, this);\n\n        return ret;\n    }\n\n    // eventListeners(node)\n    let guid = DOMElement.guid;\n\n    if (!guid || !this._events[guid] || !this._events[guid][eventName]) return ret;\n\n    this.each(this._events[guid][eventName], function(i, details)\n    {\n        ret.push({ el: details.element, callback: details.callback, type: eventName });\n\n    }, this);\n\n    return ret;\n}\n/**\n * Is this a mobile user agent?\n *\n * @return {bool}\n */\n_.prototype.is_retina = function()\n{\n    var mediaQuery = \"(-webkit-min-device-pixel-ratio: 1.5),\\\n                      (min--moz-device-pixel-ratio: 1.5),\\\n                      (-o-min-device-pixel-ratio: 3/2),\\\n                      (min-resolution: 1.5dppx)\";\n\n    if (window.devicePixelRatio > 1)\n    {\n        return true;\n    }\n\n    if (window.matchMedia && window.matchMedia(mediaQuery).matches)\n    {\n        return true;\n    }\n\n    return false;\n}\n\n/**\n * Parse url\n *\n * @param  {string}    str       The URL to parse. Invalid characters are replaced by _.\n * @return {object}\n */\n_.prototype.parse_url = function(str)\n{\n    var ret = {};\n    var url = new URL(str);\n\n    if (url.search)\n    {\n        var queries = url.search.substring(1).split('&');\n        var qret    = {};\n        \n        this.each(queries, function(i, query)\n        {\n            if (query.includes('='))\n            {\n                var set   = query.split('=');\n                var key   = decodeURI(set[0].trim());\n                var val   = true;\n\n                if (set.length === 2)\n                {\n                    val = set[1].trim();\n                }\n\n                if (key !== '' && val !== '')\n                {\n                    qret[key] = val;\n                }\n            }\n            else\n            {\n                qret[query] = true;\n            }\n        });\n\n        url.query = qret;\n    }\n\n    return url;\n}\n/**\n * Gets url query\n *\n * @access {public}\n * @param  {string}  name String query to get (optional)\n * @return {object|string}\n */\n_.prototype.url_query = function(name)\n{\n    var results = {};\n\n    if (window.location.search !== '')\n    {\n        var params = window.location.search.substring(1).split('&');\n\n        for (var i = 0; i < params.length; i++)\n        {\n            if (!params[i].includes('='))\n            {\n                continue;\n            }\n\n            var split = params[i].split('=');\n\n            results[decodeURIComponent(split[0])] = decodeURIComponent(split[1]);\n        }\n    }\n\n    // No param return all url query\n    if (typeof name === 'undefined')\n    {\n        return results;\n    }\n\n    name = decodeURIComponent(name);\n\n    if (name in results)\n    {\n        return results[name];\n    }\n\n    return false;\n}\n/**\n * Normalises a url\n *\n * @access {public}\n * @param  {string}  url The url to normalise\n * @return {string}\n */\n_.prototype.normalize_url = function(url)\n{\n    // Remove www.\n    if (url.startsWith('www.') || url.includes('//www.')) url = url.replace('www.', '');\n\n    // Back dirs\n    if (url.startsWith('../'))\n    {\n        let paths = this.parse_url(this.trim(window.location.href, '/')).pathname.split('/');\n\n        if (!this.is_empty(paths))\n        {\n            // Remove file\n            if (paths.slice(-1).includes('.')) paths.pop();\n\n            let backs = url.split('../').length;\n\n            this.for(backs, () => paths.pop());\n\n            url = '/' + this.trim(`${paths.join('/')}/${url.replace(/\\.\\.\\//g, '')}`, '/');\n        }\n    }\n\n    // Local\n    if (url[0] === '/') url = window.location.origin + url;\n\n    // Add protocol\n    if (!url.startsWith('https') && !url.startsWith('http')) url = `${window.location.protocol}//${url}`;\n\n    return url;\n}\n/**\n * Clones any variables\n * \n * @param   {mixed}  mixed_var\n * @param   {mixed}  context   Context to bind functions\n * @returns {mixed}\n */\n_.prototype.clone_deep = function(mixed_var, context)\n{\n    return this.__clone_var(mixed_var, this.is_undefined(context) ? mixed_var : context);\n}\n\n/**\n * Clone's variable with context.\n * \n * @param   {mixed}  mixed_var  Variable to clone\n * @param   {mixed}  context    Context when cloning recursive objects and arrays.\n * @returns {mixed}\n */\n_.prototype.__clone_var = function(mixed_var, context)\n{\n    let tag = this.var_type(mixed_var);\n\n    switch (tag)\n    {\n        case OBJECT_TAG:\n            return this.__clone_obj(mixed_var, context);\n\n        case ARRAY_TAG:\n        case NODELST_TAG:\n        case ARGS_TAG:\n            return this.__clone_array(mixed_var, context);\n\n        case FUNC_TAG:\n            return this.__clone_func(mixed_var);\n\n        case NULL_TAG:\n            return null;\n\n        case UNDEF_TAG:\n            return;\n\n        case BOOL_TAG:\n            return mixed_var === true ? true : false;\n\n        case STRING_TAG:\n            return mixed_var.slice();\n\n        case NUMBER_TAG:\n            let n = mixed_var;\n            return n;\n\n        case REGEXP_TAG:\n            return this.__clone_RegExp(mixed_var, context);\n\n        case SYMBOL_TAG:\n            return this.__clone_symbol(mixed_var);\n\n        case DATE_TAG:\n            return this.__clone_date(mixed_var);\n\n        case SET_TAG:\n            return this.__clone_set(mixed_var, context);\n\n        case MAP_TAG:\n            return this.__clone_map(mixed_var, context);\n\n        case ARRAY_BUFFER_TAG:\n            return this.__clone_array_buffer(mixed_var);\n\n        case DATAVIEW_TAG:\n            return this.__clone_data_view(mixed_var);\n\n        case ARRAY_BUFFER_TAG:\n            return this.__clone_buffer(mixed_var);\n\n        case FLOAT32_TAG:\n        case FLOAT64_TAG:\n        case INT8_TAG:\n        case INT16_TAG:\n        case INT32_TAG:\n        case UINT8_TAG:\n        case UINT8CLAMPED_TAG:\n        case UINT16_TAG:\n        case UINT32_TAG:\n            return this.__clone_typed_array(object);\n\n        case ERROR_TAG:\n        case WEAKMAP_TAG:\n            return {};\n    }\n\n    return mixed_var;\n}\n\n/**\n * Clones an object\n * \n * @param   {object}  obj\n * @returns {object}\n */\n_.prototype.__clone_obj = function(obj, context)\n{\n    // Shallow keys\n    let keys = this.object_props(obj);\n\n    let ret  = {};\n\n    // Empty object\n    if (keys.length === 0 || this.is_empty(obj))\n    {\n        return ret;\n    }\n\n    this.each(keys, (i, key) => ret[key] = this.clone_deep(obj[key], context));\n    \n    // Clone prototypes\n    let protos = this.prototypes(obj);\n\n    if (protos.length >= 1)\n    {\n        let curr = ret;\n\n        while(protos.length > 0)\n        {\n            let proto        = protos.shift();\n            let clone        = this.clone_deep(proto, context);\n            clone.constrctor = this.clone_deep(proto.constructor, context);\n            \n            Object.setPrototypeOf(curr, clone);\n            \n            curr = clone;\n        }\n    }\n\n    return ret;\n}\n\n/**\n * Clones a function\n * \n * @param   {function}  function\n * @param   {mixed}     context   Context to bind function\n * @returns {function}\n */\n_.prototype.__clone_func = function(func)\n{\n    let statics = this.object_props(func, true);\n\n    if (!this.is_constructable(func))\n    {\n        let bound = this.bind(func);\n\n        this.each(statics, (i, method) => bound[method] = func[method] ? this.bind(func[method]) : null);\n\n        return bound;\n    }\n\n    let bound = function()\n    {\n        this.super(...arguments)\n    }\n\n    this.each(statics, (i, method) => bound[method] = this.bind(func[method]));\n\n    return this.extend(func, bound);\n}\n\n/**\n * Clones an array\n * \n * @param   {array}  arr\n * @returns {array}\n */\n_.prototype.__clone_array = function(arr, context)\n{\n    let ret = [];\n\n    this.each(arr, (i, val) =>\n    {\n        ret[i] = this.clone_deep(val, context);\n    \n    });\n\n    return ret;\n}\n\n_.prototype.__clone_date = function(d)\n{\n    let r = new Date();\n\n    r.setTime(d.getTime());\n\n    return r;\n}\n\n_.prototype.__clone_symbol = function(symbol)\n{\n    return Object(Symbol.prototype.valueOf.call(symbol));\n}\n\n_.prototype.__clone_RegExp = function(regexp)\n{\n    let reFlags = /\\w*$/;\n\n    let result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n\n    result.lastIndex = regexp.lastIndex;\n\n    return result;\n}\n\n_.prototype.__clone_map = function(m, context)\n{\n    const ret = new Map();\n\n    m.this.each((v, k) =>\n    {\n        ret.set(k, this.clone_deep(v, context));\n    \n    }, this);\n\n    return ret;\n}\n\n_.prototype.__clone_set = function(s, context)\n{\n    const ret = new Set();\n\n    s.this.each((val, k) =>\n    {\n        ret.add(k, this.clone_deep(v, context));\n    \n    });\n\n    return ret;\n}\n\n_.prototype.__clone_array_buffer = function(arrayBuffer)\n{\n    const result = new arrayBuffer.constructor(arrayBuffer.byteLength)\n\n    new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n\n    return result;\n}\n\n_.prototype.__clone_data_view = function(dataView)\n{\n    const buffer = this.__clone_array_buffer(dataView.buffer);\n\n    return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\n/**\n * Creates a clone of `buffer`.\n *\n * @param   {Buffer}   buffer   The buffer to clone.\n * @param   {boolean} [isDeep]  Specify a deep clone.\n * @returns {Buffer}   Returns  the cloned buffer.\n */\n_.prototype.__clone_buffer = function(buffer)\n{\n    const length = buffer.length;\n\n    const result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n    buffer.copy(result);\n\n    return result;\n}\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\n_.prototype.__clone_typed_array = function(typedArray)\n{\n    const buffer = this.__clone_array_buffer(typedArray.buffer);\n\n    return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\n/**\n * Binds a function so that it can be identified.\n * \n * @param   {function}  func    Function to bind\n * @param   {mixed}     context Context to bind \"this\"\n * @returns {function}\n */\n_.prototype.bind = function(func, context)\n{\n    context = typeof context === 'undefined' ? (window || global) : context;\n\n    const bound = function()\n    {\n        return func.apply(context, arguments);\n    }\n\n    Object.defineProperty(bound, 'name', { value: func.name });\n\n    bound.__isBound      = true;\n    bound.__boundContext = context;\n    bound.__origional    = func;\n\n    return bound;\n}\n/**\n * Extends a function with prototype inheritance.\n *\n * @param   {function}           superType    Base function to extend\n * @param   {function}           subType  Function to get extended.\n * @param   {undefined|boolean}  callSuper   If true \"subType\" is treated as a constructor and the superType / any nested prototypes will get instantiated. (default true)\n * @returns {function}\n */\n_.prototype.extend = function(base, extension)\n{\n    const _this = this;\n\n    function proxySuper(superFn, fn)\n    {\n        return function()\n        {\n            var tmp = this.super;\n            \n            this.super = superFn;\n            \n            var ret = fn.apply(this, arguments);\n            \n            this.super = tmp;\n\n            return ret;\n        }\n    }\n\n    function Class() {}\n\n    Class.extend = function(protoProps)\n    {\n        var parent = this, _super = parent.prototype, child;\n\n        if (protoProps && protoProps.hasOwnProperty('constructor'))\n        {\n            child = proxySuper(parent, protoProps.constructor);\n            \n            delete protoProps.constructor; // remove constructor\n        }\n        else\n        {\n            child = function()\n            {\n                parent.apply(this, arguments);\n            };\n        }\n\n        var prototype = Object.create(parent.prototype,\n        {\n            constructor:\n            {\n                value: child,\n                enumerable: false,\n                writable: true,\n                configurable: true\n            }\n        });\n\n        for (var name in protoProps)\n        {\n            prototype[name] = _this.is_function(protoProps[name]) && _this.is_function(_super[name]) && /\\bsuper\\b/.test(protoProps[name])\n            ? proxySuper(_super[name], protoProps[name]) : protoProps[name];\n        }\n\n        child.prototype = prototype;\n        child.extend = Class.extend;\n\n        return child;\n    };\n\n    if (this.var_type(base) !== this.var_type(extension)) throw new Error('Extended variables need to be the same type.');\n\n    if (this.is_object(base)) return this.extend_obj(base, extension);\n\n    const baseProto   = base.prototype;\n    const extendProto = extension.prototype;\n\n    if (!baseProto.hasOwnProperty('constructor')) baseProto['constructor'] = base;\n   \n    if (!extendProto.hasOwnProperty('constructor')) extendProto['constructor'] = extension;\n    \n    var b = Class.extend(baseProto);\n\n    var e = b.extend(extendProto);\n\n    Object.defineProperty(e, 'name', { value: extension.name, writable: false });\n\n    return e;\n}\n\n/**\n * Extends a function with prototype inheritance.\n *\n * @param   {function}           superType    Base function to extend\n * @param   {function}           subType  Function to get extended.\n * @param   {undefined|boolean}  callSuper   If true \"subType\" is treated as a constructor and the superType / any nested prototypes will get instantiated. (default true)\n * @returns {function}\n */\n_.prototype.extend_obj = function(base, extension)\n{\n    const extProto  = this.prototypes(extension);\n    const baseProto = this.prototypes(base);\n\n    // Plain objects\n    if (this.is_empty(extProto) && this.is_empty(baseProto)) return {...base, ...extension};\n\n    const newProto = new (function() {});\n    \n    Object.setPrototypeOf(newProto, base);\n\n    this.each(extProto, (i, proto) =>\n    {\n        this.each(proto, (k, v) =>\n        {\n            newProto[k] = v;\n        })\n\n    }, this);\n\n    Object.defineProperty(newProto, 'name', { value: 'Class', writable: false });\n\n    Object.setPrototypeOf(extension, newProto);\n\n    return extension;\n}\n\n\n/**\n * Joins an object into a string\n * \n * @param   {Object} obj       Object\n * @param   {string} seperator Seperator Between key & value\n * @param   {string} glue      Glue between value and next key\n * @returns {string} \n */\n_.prototype.join_obj = function(obj, seperator, glue, recursive, trimLast)\n{\n    seperator = this.is_undefined(seperator) ? '' : seperator;\n    glue      = this.is_undefined(glue) ? '' : glue;\n    recursive = this.is_undefined(recursive) ? false : recursive;\n    trimLast  = this.is_undefined(trimLast)  ? true : trimLast;\n    \n    var ret = '';\n\n    this.each(obj, function(key, val)\n    {\n        if (this.is_object(val))\n        {\n            val = recursive ? '{' + this.join_obj(val, seperator, glue, recursive, trimLast) + '}' : {};\n        }\n        else if (this.is_array(val))\n        {\n            val = recursive ? this.join_obj(val, seperator, glue, recursive, trimLast) : val.join(', ').replaceAll('[object Object]', '{}');\n        }\n        else\n        {            \n            val = `${val}`;\n        }\n\n        ret += `${glue}${key}${seperator}${val}`;\n\n    }, this);\n\n    if (ret === `${glue}${seperator}` || ret.trim() === '') return '';\n\n    return trimLast ? this.rtrim(this.ltrim(ret, glue), seperator) : this.ltrim(ret, glue).trim() + glue;\n}\n/**\n * Returns object properties and methods as array of keys.\n * \n * @param   {mixed}    mixed_var    Variable to test\n * @param   {boolean}  withMethods  Return methods and props (optional) (default \"true\")\n * @returns {array}\n */\n_.prototype.object_props = function(mixed_var, deep)\n{\n    if (!mixed_var) return [];\n\n    deep = typeof deep === 'undefined' ? false : deep;\n    \n    let keys = deep ?this.array_unique([...Object.keys(mixed_var), ...Object.getOwnPropertyNames(mixed_var)]) : Object.keys(mixed_var);\n\n    if (deep)\n    {\n        let protos = this.prototypes(mixed_var);\n\n        this.each(protos, (i, proto) => keys = [...keys, ...this.object_props(proto, true)] );\n    }\n    \n    return this.array_unique(keys.filter((key) => !EMPTY_OBJ_KEYS.includes(key) && !FORBIDDEN_OBJ_KEYS.includes(key)));\n}\n\n/**\n * Returns an array of prototypes\n * \n * @param   {mixed}    mixed_var    Variable to test\n * @param   {boolean}  withMethods  Return methods and props (optional) (default \"true\")\n * @returns {array}\n */\n_.prototype.prototypes = function(mixed_var)\n{\n    let ret = [];\n\n    if (!mixed_var) return ret;\n\n    const _this = this;\n\n    const recursive = function(obj)\n    {\n        let proto = obj.prototype || Object.getPrototypeOf(obj);\n\n        // No prototype\n        if (!proto) return;\n\n        // Prototype is native object\n        let protokeys = Object.getOwnPropertyNames(proto);\n\n        if (protokeys.filter(x => !EMPTY_OBJ_KEYS.includes(x)).length === 0) return;\n\n        ret.push(proto);\n\n        recursive(proto);\n    }\n\n    recursive(mixed_var);\n\n    return ret;\n}\n\n\n/**\n * Returns object properties and methods as array of keys.\n * \n * @param   {mixed}    mixed_var    Variable to test\n * @param   {boolean}  withMethods  Return methods and props (optional) (default \"true\")\n * @returns {array}\n */\n_.prototype.flatten_obj = function(obj, deep)\n{\n    deep = typeof deep === 'undefined' ? false : deep;\n\n    var ret = {};\n\n    this.each(obj, (k,v) => ret[k] = v);\n   \n    if (deep)\n    {\n        let proto = mixed_var.prototype || Object.getPrototypeOf(mixed_var);\n\n        ret = {...ret, ...this.flatten_obj(proto, true)};\n    }\n    \n    return ret;\n}\n_.prototype.camel_case_to_hyphen = function(str)\n{\n    if (str === str.toLowerCase()) return str;\n    \n    return str.replace(/([a-z])([A-Z])/g, '$1-$2').replace(/\\b([A-Z]+)([A-Z])([a-z])/, '$1-$2$3').toLowerCase();\n}\n/**\n * Json encode\n * \n * @param  {mixed} str String JSON\n * @return {object|false}\n */\n_.prototype.json_decode = function(str)\n{\n    var obj;\n    try\n    {\n        obj = JSON.parse(str);\n    }\n    catch (e)\n    {\n        return false;\n    }\n    return obj;\n}\n/**\n * Json encode\n * \n * @param  {mixed} str String JSON\n * @return {object|false}\n */\n_.prototype.json_encode = function(str)\n{\n    var obj;\n    try\n    {\n        obj = JSON.stringify(str);\n    }\n    catch (e)\n    {\n        return false;\n    }\n    return obj;\n}\n/**\n * Left trim string \n * \n * @param  {str}           str\n * @return {array|string} charlist (optional)\n */\n_.prototype.ltrim = function(str, charlist)\n{\n    // Special fast cases\n    if (!charlist) return str.trimStart();\n\n    if (this.is_string(charlist))\n    {\n        return str.slice(0, charlist.length) === charlist ? str.replace(charlist, '') : str;\n    }\n\n    var ret = str;\n\n    this.each(charlist, function(i, char)\n    {\n        if (str.slice(0, char.length) === char)\n        {\n            ret = str.replace(char, '');\n            \n            // break            \n            return false;\n        }\n\n    }, this);\n\n    return ret;\n}\n\n\n/**\n * Make a random string\n *\n * @param  {int}    length String length\n * @return {string}\n */\n_.prototype.makeid = function(length)\n{\n    var text = \"\";\n    var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\";\n\n    for (var i = 0; i < length; i++)\n    {\n        text += possible.charAt(Math.floor(Math.random() * possible.length))\n    }\n\n    return text;\n}\n/**\n * Left trim string \n * \n * @param  {str}           str\n * @return {array|string} charlist (optional)\n */\n_.prototype.rtrim = function(str, charlist)\n{\n    if (!charlist) return str.trimEnd();\n\n    if (this.is_string(charlist))\n    {\n        let len = charlist.length; \n\n        return str.slice(-len) === charlist ? str.slice(0, -len) : str;\n    }\n\n    var ret = str;\n\n    this.each(charlist, function(i, chars)\n    {\n        var len = chars.length;\n\n        if (str.slice(-len) === chars)\n        {\n            ret = str.slice(0, -len);\n\n            return false;\n        }\n\n    }, this);\n\n    return ret;\n}\n_.prototype.to_camel_case = function(str)\n{\n    str = str.trim();\n\n    // Shouldn't be changed\n    if (!str.includes(' ') && !str.includes('-') && /[A-Z]/.test(str))\n    {\n        return str;\n    }\n\n    return str.toLowerCase().replace(/['\"]/g, '').replace(/\\W+/g, ' ').replace(/ (.)/g, function($1)\n    {\n        return $1.toUpperCase();\n    })\n    .replace(/ /g, '');\n}\n/**\n * Left and right trim string.\n * \n * @param  {str}           str\n * @return {array|string} charlist (optional)\n */\n_.prototype.trim = function(str, charlist)\n{\n    if (!charlist) return str.trim();\n\n    return this.rtrim(this.ltrim(str, charlist), charlist);\n}\n/* Capatalize first letter */\n_.prototype.uc_first = function(string)\n{\n    return string.charAt(0).toUpperCase() + string.slice(1);\n}\n/* Capatalize first letter of all words */\n_.prototype.ucwords = function(str)\n{\n    return (str + '').replace(/^([a-z\\u00E0-\\u00FC])|\\s+([a-z\\u00E0-\\u00FC])/g, function($1)\n    {\n        return $1.toUpperCase();\n    });\n}\n_.prototype.lc_first = function(string)\n{\n    return string.charAt(0).toLowerCase() + string.slice(1);\n}\n/**\n * String replace\n * \n * @param  {str}           str\n * @return {array|string} charlist (optional)\n */\n_.prototype.str_replace = function(str, charlist, value)\n{\n    if (this.is_string(charlist) || this.is_regexp(charlist))\n    {\n        return str.replaceAll(charlist, value)\n    }\n\n    this.each(charlist, function(i, char)\n    {\n        str = str.replaceAll(char, value);\n\n    }, this);\n\n    return str;\n}\n\n\n/**\n * Checks if variable should be considered \"true\" or \"false\" using \"common sense\".\n * \n * @param   {mixed} mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.bool = function(mixed_var)\n{\n    mixed_var = (typeof mixed_var === 'undefined' ? false : mixed_var);\n\n    if (this.is_bool(mixed_var))\n    {\n        return mixed_var;\n    }\n\n    if (this.is_number(mixed_var))\n    {\n        return mixed_var > 0;\n    }\n\n    if (this.is_array(mixed_var))\n    {\n        return mixed_var.length > 0;\n    }\n\n    if (this.is_object(mixed_var))\n    {\n        return Object.keys(mixed_var).length > 0;\n    }\n\n    if (this.is_string(mixed_var))\n    {\n        mixed_var = mixed_var.toLowerCase().trim();\n\n        if (mixed_var === 'false')\n        {\n            return false;\n        }\n        if (mixed_var === 'true')\n        {\n            return true;\n        }\n        if (mixed_var === 'on')\n        {\n            return true;\n        }\n        if (mixed_var === 'off')\n        {\n            return false;\n        }\n        if (mixed_var === 'undefined')\n        {\n            return false;\n        }\n        if (this.is_numeric(mixed_var))\n        {\n            return Number(mixed_var) > 0;\n        }\n        if (mixed_var === '')\n        {\n            return false;\n        }\n    }\n\n    return false;\n}\n\n/**\n * Returns function / class name\n *\n * @param   {mixed}  mixed_var Variable to evaluate\n * @returns {string}\n */\n_.prototype.callable_name = function(mixed_var)\n{\n    if (this.is_callable(mixed_var))\n    {\n        return mixed_var.name;\n    }\n    else if (this.is_object(mixed_var))\n    {\n        return mixed_var.constructor.name;\n    }\n}\n/**\n * Count\n *\n * @access {public}\n * @param  {mixed}  mixed_var Variable to count\n * @return {int}\n */\n_.prototype.count = function(mixed_var)\n{\n    return this.size(mixed_var);\n}\n/**\n * Checks if HtmlElement is in current DOM\n *\n * @param   {HTMLElement}  element  Element to check\n * @returns {boolean}\n */\n_.prototype.in_dom = function(element)\n{\n    // Element types\n    if (element === window || element === document || element === document.body || element === document.documentElement)\n    {\n        return true;\n    }\n\n    // Not an HTML element\n    if (!this.is_htmlElement(element))\n    {\n        return false;\n    }\n\n    // No parent node\n    if (!element.parentNode) return false;\n\n    // Matching by selector is faster than traversing up the\n    // DOM tree - especially if element is deeply nested.\n    let selector = element.tagName.toLowerCase();\n\n    if (element.id && element.id.trim() !== '')\n    {\n        selector = `#${element.id}`;\n    }\n    else if (element.className && element.className.trim() !== '')\n    {\n        let classNames = this.class_names(element);\n\n        selector = classNames.length === 1 ? `.${classNames[0]}` : `.${classNames.join('.')}`;\n    }\n    else\n    {\n        let classNames = this.class_names(element.parentNode);\n\n        if (classNames.length >= 1) selector = classNames.length === 1 ? `.${classNames[0]} ${selector}` : `.${classNames.join('.')} ${selector}`;\n    }\n\n    let matches = this.find_all(selector);\n\n    // Fast check\n    if (matches.length === 1 && matches[0] === element) return true;\n\n    // Loop through\n    let ret = false;\n\n    this.each(matches, (i, match) =>\n    {\n        if (match === element)\n        {\n            ret = true;\n\n            return false;\n        }\n    });\n\n    return ret;\n}\n/**\n * Is args array.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.is_args = function(mixed_var)\n{\n    return this.var_type(mixed_var) === ARGS_TAG;\n}\n/**\n * Is array.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.is_array = function(mixed_var, strict)\n{\n    strict = typeof strict === 'undefined' ? false : strict;\n\n    let type = this.var_type(mixed_var);\n\n    return !strict ? ARRAYISH_TAGS.includes(type) : type === ARRAY_TAG;\n}\n/**\n * Is bool.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.is_bool = function(mixed_var)\n{\n    return this.var_type(mixed_var) === BOOL_TAG;\n}\n/**\n * Is Array buffer.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.is_buffer = function(mixed_var)\n{\n    return this.var_type(mixed_var) === ARRAY_BUFFER_TAG;\n}\n/**\n * Is variable a function / constructor.\n *\n * @param   {mixed}  mixed_var  Variable to check\n * @returns {boolean}\n */\n_.prototype.is_callable = function(mixed_var)\n{\n    return this.is_function(mixed_var);\n}\n/**\n * Checks if variable is a class declaration or extends a class and/or constructable function.\n *\n * @param   {mixed}                        mixed_var  Variable to evaluate\n * @oaram   {string} | undefined | boolean} classname  Classname or strict if boolean provided\n * @param   {boolean}                      strict     If \"true\" only returns true on ES6 classes (default \"false\")\n * @returns {boolean}\n */\n_.prototype.is_class = function(mixed_var, classname, strict)\n{\n    // this.is_class(foo, true)\n    if (classname === true || classname === false)\n    {\n        strict = classname;\n        classname = null;\n    }\n    // this.is_class(foo, 'Bar') || this.is_class(foo, 'Bar', false)\n    else\n    {\n        strict = typeof strict === 'undefined' ? false : strict;\n    }\n\n    if (typeof mixed_var !== 'function' || !this.is_constructable(mixed_var))\n    {\n        return false;\n    }\n\n    let isES6 = /^\\s*class\\s+\\w+/.test(mixed_var.toString());\n\n    if (classname)\n    {\n        if (!isES6 && strict)\n        {\n            return false;\n        }\n\n        if (mixed_var.name === classname || mixed_var.prototype.constructor.name === classname)\n        {\n            return true;\n        }\n\n        let protos = [];\n        let proto = mixed_var.prototype || Object.getPrototypeOf(mixed_var);\n        let ret = false;\n\n        while (proto && proto.constructor)\n        {\n            // recursive stopper\n            if (protos.includes.proto)\n            {\n                break;\n            }\n\n            protos.push(proto);\n\n            if (proto.constructor.name === classname)\n            {\n                ret = true;\n\n                break;\n            }\n\n            proto = proto.prototype || Object.getPrototypeOf(proto);\n        }\n\n        return ret;\n    }\n\n    // ES6 class declaration depending on strict\n\n    return strict ? isES6 : this.is_constructable(mixed_var);\n}\n/**\n * Checks if variable is construable.\n *\n * @param   {mixed}  mixed_var  Variable to evaluate\n * @returns {boolean}\n */\n_.prototype.is_constructable = function(mixed_var)\n{\n    // Not a function\n    if (typeof mixed_var !== 'function' || mixed_var === null)\n    {\n        return false;\n    }\n\n    // Strict ES6 class\n    if (/^\\s*class\\s+\\w+/.test(mixed_var.toString()))\n    {\n        return true;\n    }\n\n    // Native arrow functions\n    if (!mixed_var.prototype || !mixed_var.prototype.constructor)\n    {\n        return false;\n    }\n\n    // If prototype is empty \n    return this.object_props(mixed_var.prototype).length > 0;\n}\n/**\n * Checks if variable is constructed object function.\n *\n * @param   {mixed}  mixed_var  Variable to evaluate\n * @returns {boolean}\n */\n_.prototype.is_constructed = function(mixed_var)\n{\n    if (typeof mixed_var === 'object' && mixed_var.constructor && typeof mixed_var.constructor === 'function')\n    {\n        var constr = mixed_var.constructor.toString().trim();\n        \n        return constr.startsWith('function (') || constr.startsWith('function(') || constr.startsWith('function Object(') || constr.startsWith('class ') ;\n    }\n\n    return false;\n}\n/**\n * Is dataView obj.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.is_dataview = function(mixed_var)\n{\n    return this.var_type(mixed_var) === DATAVIEW_TAG;\n}\n/**\n * Is date object.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.is_date = function(mixed_var)\n{\n    return this.var_type(mixed_var) === DATE_TAG;\n}\n/**\n * Is empty\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.is_empty = function(mixed_var)\n{\n    if (mixed_var === false || mixed_var === null || (typeof mixed_var === 'undefined'))\n    {\n        return true;\n    }\n    else if (this.is_array(mixed_var))\n    {\n        return mixed_var.length === null || mixed_var.length <= 0;\n    }\n    else if (this.is_object(mixed_var))\n    {\n        if (Object.keys(mixed_var).length > 0) return false;\n\n        if (this.prototypes(mixed_var).length > 0) return false;\n\n        return true;\n    }\n    else if (this.is_string(mixed_var))\n    {\n        return mixed_var.trim() === '';\n    }\n    else if (this.is_number(mixed_var))\n    {\n        return isNaN(mixed_var);\n    }\n    else if (this.is_function(mixed_var))\n    {\n        return false;\n    }\n\n    return false;\n}\n/**\n * Deep check for equal\n * \n * @param   {mixed}  a\n * @param   {mixed}  b\n * @param   {bool}   strict Strict comparison (optional) (default false)\n * @returns {bool}\n * \n *  * Note that strict set to true would return false in the following:\n *  is_equal ({ foo : 'bar'}, { foo : 'bar'});\n */\n_.prototype.is_equal = function(a, b, strict)\n{    \n    strict = this.is_undefined(strict) ? false : strict;\n\n    if ((typeof a) !== (typeof b))\n    {\n        return false;\n    }\n    else if (this.is_string(a) || this.is_number(a) || this.is_bool(a) || this.is_null(a) || this.is_htmlElement(a))\n    {\n        return a === b;\n    }\n    else if (this.is_function(a))\n    {        \n        return strict ? a === b : this.__is_equal_func(a, b);\n    }\n    else if (this.is_array(a) || this.is_object(b))\n    {\n        if (strict)\n        {\n            if (a !== b || this.is_array(a) && !this.is_array(b))\n            {\n                return false;\n            }\n            \n            return true;\n        }\n        \n        return this.__is_equal_traverseable(a, b);\n    }\n\n    return true;\n}\n\n/**\n * Checks if two functions are equal\n * \n * @param   {function}  a\n * @param   {function}  b\n * @returns {boolean}\n */\n_.prototype.__is_equal_func = function(a, b)\n{\n    // Functions have the same name\n    if (a.name === b.name)\n    {\n        // If the functions were bound or cloned by the library they can technically still be equal\n        if (a.__isBound)\n        {\n            if (!b.__isBound) return false;\n\n            if (!this.is_equal(a.__boundContext, b.__boundContext)) return false;\n            \n            if (!this.is_equal(a.__origional, b.__origional)) return false;\n        }\n\n        // Check string\n        if (a.toString() !== b.toString()) return false;\n\n        // Prototypes are different\n        if (!this.__is_equal_protos(a, b)) return false;\n\n        return true;\n    }\n\n    return false;\n}\n\n/**\n * Checks if object prototypes are equal\n * \n * @param   {array} | object}  a\n * @param   {array} | object}  b\n * @returns {boolean}\n */\n_.prototype.__is_equal_protos = function(a, b)\n{\n    // Check the prototypes\n    let aProtos = this.prototypes(a);\n    let bProtos = this.prototypes(b);\n\n    if (aProtos.length !== bProtos.length) return false;\n\n    if (aProtos.length === 0 && bProtos.length === 0) return true;\n\n    let ret = true;\n\n    this.each(aProtos, (i, proto) =>\n    {                \n        if (!this.is_equal(proto, bProtos[i]))\n        {\n            ret = false;\n\n            return false;\n        }\n\n    }, this);\n\n    return ret;\n}\n\n\n/**\n * Checks if traversable's are equal\n * \n * @param   {array} | object}  a\n * @param   {array} | object}  b\n * @returns {boolean}\n */\n_.prototype.__is_equal_traverseable = function(a, b)\n{\n    if (this.size(a) !== this.size(b))\n    {\n        return false;\n    }\n\n    let ret = true;\n\n    this.each(a, function(i, val)\n    {\n        if (!this.is_equal(val, b[i]))\n        {\n            ret = false;\n\n            return false;\n        }\n    }, this);\n\n    if (!ret) return false;\n\n    if (this.is_object(a)) return this.__is_equal_protos(a, b);\n\n    return ret;\n}\n\n/**\n * Is function.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.is_function = function(mixed_var)\n{\n    return this.var_type(mixed_var) === FUNC_TAG;\n}\n/**\n * Checks if variable is HTMLElement.\n *\n * @param   {mixed}  mixed_var  Variable to evaluate\n * @returns {boolean}\n */\n_.prototype.is_htmlElement = function(mixed_var)\n{\n    if (mixed_var && mixed_var.nodeType)\n    {\n        let type = this.var_type(mixed_var);\n\n        return HTML_REGXP.test(type) || type === '[object HTMLDocument]' || type === '[object Text]';\n    }\n\n    return false;\n}\n/**\n * Is valid JSON\n * \n * @param  {mixed} str String JSON\n * @return {object|false}\n */\n_.prototype.is_json = function(str)\n{\n    var obj;\n    try\n    {\n        obj = JSON.parse(str);\n    }\n    catch (e)\n    {\n        return false;\n    }\n    return obj;\n}\n\n\n/**\n * Is Map.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.is_map = function(mixed_var)\n{\n    return this.var_type(mixed_var) === MAP_TAG;\n}\n/**\n * Is node type.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @param   {string} tag        Tag to compare\n * @returns {boolean}\n */\n_.prototype.is_node_type = function(mixed_var, tag)\n{\n    return mixed_var.tagName.toUpperCase() === tag.toUpperCase();\n}\n\n/**\n * Is nodelist.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.is_nodelist = function(mixed_var)\n{\n    return this.var_type(mixed_var) === NODELST_TAG;\n}\n/**\n * Is null.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.is_null = function(mixed_var)\n{\n    return this.var_type(mixed_var) === NULL_TAG;\n}\n/**\n * Is number.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.is_number = function(mixed_var)\n{\n    return !isNaN(mixed_var) && this.var_type(mixed_var) === NUMBER_TAG;\n}\n/**\n * Is string.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.is_numeric = function(mixed_var)\n{\n    if (this.is_number(mixed_var))\n    {\n        return true;\n    }\n    else if (this.is_string(mixed_var))\n    {\n        return /^-?(0|[1-9]\\d*)(\\.\\d+)?$/.test(mixed_var.trim());\n    }\n\n    return false;\n}\n/**\n * Checks if variable is an object.\n *\n * @param   {mixed}  mixed_var Variable to evaluate\n * @returns {boolean}\n */\n_.prototype.is_object = function(mixed_var)\n{\n    return mixed_var !== null && this.var_type(mixed_var) === OBJECT_TAG;\n}\n/**\n * Is regexp.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.is_regexp = function(mixed_var)\n{\n    return this.var_type(mixed_var) === REGEXP_TAG;\n}\n/**\n * Is Set.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.is_set = function(mixed_var)\n{\n    return this.var_type(mixed_var) === SET_TAG;\n}\n/**\n * Is string.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.is_string = function(mixed_var)\n{\n    return this.var_type(mixed_var) === STRING_TAG;\n}\n/**\n * Is Symbol.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.is_symbol = function(mixed_var)\n{\n    return this.var_type(mixed_var) === SYMBOL_TAG;\n}\n/**\n * Is undefined.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.is_undefined = function(mixed_var)\n{\n    return this.var_type(mixed_var) === UNDEF_TAG;\n}\n/**\n * Returns array/object/string/number size.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {number}\n */\n_.prototype.size = function(mixed_var)\n{\n    if (this.is_string(mixed_var) || this.is_array(mixed_var))\n    {\n        return mixed_var.length;\n    }\n    else if (this.is_number(mixed_var))\n    {\n        return mixed_var;\n    }\n    else if (this.is_bool(mixed_var))\n    {\n        return mixed_var === true ? 1 : -1;\n    }\n    else(this.is_object(mixed_var))\n    {\n        return Object.keys(mixed_var).length;\n    }\n\n    return 1;\n}\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @public\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\n_.prototype.var_type = function(value)\n{\n    if (value == null)\n    {\n        return value === undefined ? '[object Undefined]' : '[object Null]'\n    }\n\n    return TO_STR.call(value);\n}\n// Destructor\n_.prototype.destruct = function()\n{\n    this.clear_event_listeners();\n}\n\ncontainer.singleton('_', _);\n\n})();\n\n// frontbx core\n(function()\n{\n    const EXCLUDED_SERVICES = ['services','boot','set','singleton','has','delete','get','import','bind','_setproto','_singletonfunc','_isinvokable','_isinvoked','_newinstance','_storeobj','_normalizekey','_is_func'];\n\n    /**\n     * Application core\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Application = function()\n    {\n        this.version_major = '0';\n\n        this.version_minor = '0';\n\n        this.version_patch = '2';\n\n        this.version = `${this.version_major}.${this.version_minor}.${this.version_patch }`;\n    }\n\n    /**\n     * Returns registered services.\n     *\n     * @access {public}\n     * @return {Object}\n     */\n    Application.prototype.services = function()\n    {\n        let proto = this.prototype || Object.getPrototypeOf(this);\n\n        let ret = {};\n\n        for (let key in proto)\n        {\n            let val = proto[key];\n\n            if (!EXCLUDED_SERVICES.includes(key.toLowerCase()) && {}.toString.call(val) === '[object Function]')\n            {\n                ret[key] = val;\n            }\n        }\n\n        return ret;\n    }\n\n    /**\n     * Called when the application is first initialized\n     *\n     * @access {public}\n     */\n    Application.prototype.boot = function()\n    {\n        this.dom().boot();\n\n        this._().trigger_event(window, 'frontbx:ready', this);\n    }\n\n    /**\n     * Get the DOM component\n     *\n     * @access {public}\n     * @return {object}\n     */\n    Application.prototype.dom = function()\n    {\n        return this.Dom();\n    }\n\n    container._().trigger_event(window, 'frontbx:loading');\n\n    FBX_ROOT.frontbx = container._().extend(container, new Application);\n\n    container = undefined;\n\n})();\n(function()\n{\n    /**\n     * Utility functions\n     *\n     * @var {Function}\n     */\n    const [each, trigger_event, collect_garbage, is_undefined, is_string, is_htmlElement] = frontbx.import(['each', 'trigger_event', 'collect_garbage', 'is_undefined', 'is_string', 'is_htmlElement']).from('_');\n\n    /**\n     * DOM Manager\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Dom = function()\n    {\n        this._isReady = false;\n\n        this.components = [];\n    }\n\n    /**\n     * Boot Dom\n     *\n     * @access {public}\n     * @param {string} name   Name of the module\n     * @param {object} module Uninvoked module object\n     */\n    Dom.prototype.boot = function()\n    {\n        this._dispatchReady();\n\n        this._isReady = true;\n    }\n\n    /**\n     * Register a DOM component\n     *\n     * @access {public}\n     * @param {string} name   Name of the module\n     * @param {object} module Uninvoked module object\n     */\n    Dom.prototype.register = function(name, component)\n    {\n        this.components.push(name);\n\n        frontbx.singleton(name, component);\n\n        this._bindComponent(name, document);\n    }\n\n    /**\n     * Returns a component.\n     *\n     * @access {public}\n     */\n    Dom.prototype.component = function(name)\n    {\n        return frontbx.get(name);\n    }\n\n    /**\n     * Returns a component.\n     *\n     * @access {public}\n     */\n    Dom.prototype.create = function(name, options, appendTo)\n    {\n        return this.component(name).create(options, appendTo);\n    }\n\n    /**\n     * Boot Dom\n     *\n     * @access {public}\n     * @param {string} name   Name of the module\n     * @param {object} module Uninvoked module object\n     */\n    Dom.prototype._dispatchReady = function()\n    {\n        trigger_event(window, 'frontbx:dom:ready', {dom: this});\n    }\n\n    /**\n     * Boot Dom\n     *\n     * @access {public}\n     * @param {string} name   Name of the module\n     * @param {object} module Uninvoked module object\n     */\n    Dom.prototype._dispatchComponent = function(name, event, component, context)\n    {\n        trigger_event(window, `frontbx:dom:${event}:${name}`, { component: component, context: context});\n    }\n\n    /**\n     * Bind a single module\n     *\n     * @param {string} key Name of module to bind\n     * @access {private}\n     */\n    Dom.prototype._bindComponent = function(name, context, isRefresh)\n    {                \n        let component = frontbx.get(name);\n\n        if (this._hasMethod(component, 'construct') && isRefresh)\n        {\n            component.construct(context);\n            \n            this._dispatchComponent(name, 'refresh', component, context);\n        }\n\n        this._dispatchComponent(name, 'bind', component, context);\n    }\n\n    /**\n     * Unbind a single module\n     *\n     * @param  {string}  key Name of module to unbind\n     * @access {private}\n     */\n    Dom.prototype._unbindComponent = function(name, context)\n    {            \n        let component = frontbx.get(name);\n\n        if (this._hasMethod(component, 'destruct'))\n        {\n            component.destruct(context);\n        }\n\n        this._dispatchComponent(name, 'unbind', component, context);\n    }\n\n    /**\n     * Refresh the DOM modiules or a string module\n     *\n     * @access {public}\n     * @param  {string}               name    Name of the module (optional) (default false)\n     * @param  {DOMElement|undefined} context Context to refresh (default document)\n     */\n    Dom.prototype.refresh = function(component, context)\n    {\n        let globalRefresh = false;\n\n        // refresh()\n        if (arguments.length === 0)\n        {\n            component = false;\n\n            context = document;\n\n            globalRefresh = true;\n        }\n        else\n        {\n            // refresh(DOMElement)\n            if (is_htmlElement(component))\n            {\n                context  = component;\n                \n                component = false;\n\n                globalRefresh = true;\n            }\n\n            // refresh('module')\n            // refresh('module', DOMElement)\n            else if (is_string(component))\n            {\n                context = is_undefined(context) ? document : context;\n            }\n        }\n\n        each(this.components, function(i, name)\n        {\n            if (!component || component === name)\n            {\n                this._unbindComponent(name, context);\n\n                this._bindComponent(name, context, true);\n            }\n        }, this);\n\n        collect_garbage();\n\n        trigger_event(window, `frontbx:dom:refresh`, { context: context});\n\n        if (globalRefresh) this._dispatchReady();\n    }\n\n    /**\n     * Checks if a class object has a method by name\n     *\n     * @access {private}\n     * @param  {mixed}  classObj The object instance or reference\n     * @param  {string} method   The name of the method to check for\n     * @return {bool}\n     */\n    Dom.prototype._hasMethod = function(classObj, method)\n    {\n        return typeof classObj === 'object' && typeof classObj[method] === 'function';\n    }\n\n    // Load into container and invoke\n    frontbx.singleton('Dom', Dom);\n    \n})();\n(function()\n{\n    const [find_all, each, map, traverse_up, is_empty, array_unique] = frontbx.import(['find_all','each','map','traverse_up','is_empty','array_unique']).from('_');\n\n    /**\n     * Component base class\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Component = function(selector)\n    {\n        /**\n         * Default props.\n         *\n         * @var {object}\n         */\n        this.defaultProps = !this.defaultProps ? {} : this.defaultProps;\n\n        /**\n         * Selector.\n         *\n         * @var {string}\n         */\n        this._selector = selector;\n\n        /**\n         * Dom elements\n         *\n         * @var {array}\n         */\n        this._DOMElements = [];\n\n        // Init\n        if (!is_empty(this._selector)) this.construct(document);\n\n        return this;\n    }\n\n    /**\n     * Module constructor\n     *\n     * @access {public}\n     */\n    Component.prototype.construct = function(context)\n    {\n        if (is_empty(this._selector)) return;\n\n        let nodes = map(find_all(this._selector, context, context !== document), (i, node) => !this._DOMElements.includes(node) ? node : false);\n\n        if (!is_empty(nodes))\n        {\n            this._DOMElements = [...this._DOMElements, ...nodes];\n\n            each(nodes, (i, node) => this.bind(node), this);\n        }\n    }\n\n    /**\n     * Module destructor\n     *\n     * @access {public}\n     */\n    Component.prototype.destruct = function(context)\n    {\n        if (!context || context === document)\n        {\n            each(this._DOMElements, (i, node) => this.unbind(node), this);\n            \n            this._DOMElements = [];\n\n            return;\n        }\n\n        each(this._DOMElements, (i, DOMElement) =>\n        {\n            if (DOMElement === context)\n            {\n                this.unbind(DOMElement);\n\n                this._DOMElements.splice(i, 1);\n            }\n            else\n            {\n                traverse_up(DOMElement, (parent) =>\n                {                \n                    if (parent === context)\n                    {\n                        this.unbind(DOMElement);\n\n                        this._DOMElements.splice(i, 1);\n\n                        return false;\n                    }\n                });\n            }\n        });\n    }\n\n    /**\n     * Create DOM elements and bind\n     * \n     */\n    Component.prototype.create = function(props, appendTo)\n    {\n        props = !props ? {} : props;\n\n        props = {...this.defaultProps, ...props};\n\n        let node = this.render(props);\n\n        if (appendTo) appendTo.appendChild(node);\n\n        frontbx.Dom().refresh(node);\n\n        return node;\n    }\n\n    /**\n     * Template abstract method\n     *\n     * @access {public}\n     */\n    Component.prototype.render = function()\n    {\n        throw new Error('[render] method must be implemented.');\n    }\n\n\n    /**\n     * Bind abstract method\n     *\n     * @access {public}\n     */\n    Component.prototype.bind = function(context)\n    {\n        throw new Error('[bind] method must be implemented.');\n    }\n\n    /**\n     * Unbind abstract method\n     *\n     * @access {public}\n     */\n    Component.prototype.unbind = function(context)\n    {\n        throw new Error('[unbind] method must be implemented.');\n    }\n\n    // Register\n    frontbx.set('Component', Component);\n\n})();\n\n// lazyload\n/**\n * --------------------------------------------------------------------------\n * Frontbx Lazyload\n * \n * @version  {0.0.4}\n * @see      {https://github.com/frontbx/ui}\n * @licensed {https://github.com/frontbx/ui/blob/main/LICENSE}\n * --------------------------------------------------------------------------\n */\n(function()\n{\n\n    var root = typeof FBX_ROOT === 'undefined' ? (typeof process === 'object' && typeof global === 'object' ? global : window) : FBX_ROOT;\n\n    if (!root.LAZY_FALLBACK_IMAGE)\n    {\n        root.LAZY_FALLBACK_IMAGE = 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBmaWxsPSJ3aGl0ZSI+CiAgPHBhdGggZD0iTTAgNCBMMCAyOCBMMzIgMjggTDMyIDQgeiBNNCAyNCBMMTAgMTAgTDE1IDE4IEwxOCAxNCBMMjQgMjR6IE0yNSA3IEE0IDQgMCAwIDEgMjUgMTUgQTQgNCAwIDAgMSAyNSA3Ij48L3BhdGg+Cjwvc3ZnPg==';\n    }\n\n    /**\n     * JS Async Queue\n     *\n     * @see https://medium.com/@griffinmichl/asynchronous-javascript-queue-920828f6327\n     */\n    var Queue = function(concurrency)\n    {\n        this.running     = 0;\n        this.concurrency = concurrency;\n        this.taskQueue   = [];\n        \n        return this;\n    }\n\n    Queue.prototype.add = function(task)\n    {\n        if (this.running < this.concurrency)\n        {\n            this._runTask(task);\n        }\n        else\n        {\n            this._enqueueTask(task);\n        }\n    }\n\n    Queue.prototype.next = function()\n    {        \n        this.running--;\n\n        if (this.taskQueue.length > 0)\n        {\n            this._runTask(this.taskQueue.shift());\n        }\n    }\n\n    Queue.prototype._runTask = function(task)\n    {       \n        this.running++;\n\n        task(this);\n    }\n\n    Queue.prototype._enqueueTask = function(task)\n    {\n        this.taskQueue.push(task);\n    }\n\n    /**\n     * Module constructor\n     *\n     * @access public\n     * @constructor\n     * @return this\n     */\n    const LazyLoad = function()\n    {\n        this._DOMElements = [];\n\n        this.construct(document);       \n\n        return this;\n    }\n\n    /**\n     * Destroy\n     *\n     * @access public\n     */\n    LazyLoad.prototype.construct = function(context)\n    {               \n        this._queue = new Queue(15);\n\n        let nodes = Array.prototype.slice.call(context.querySelectorAll('.js-lazyload'));\n\n        if (nodes.length >= 1)\n        {\n            for (var i = 0; i < nodes.length; i++)\n            {\n                this.bind(nodes[i]);\n            }\n\n            this._DOMElements = [...this._DOMElements, ...nodes];\n        }\n    }\n\n    /**\n     * Destroy\n     *\n     * @access public\n     */\n    LazyLoad.prototype.destruct = function(context)\n    {       \n        if (!context || context === document)\n        {            \n            this._DOMElements = [];\n\n            return;\n        }\n\n        const [each, closest] = frontbx.import(['each', 'closest']).from('_');\n\n        each(this._DOMElements, function(i, DOMElement)\n        {                \n            if (closest(DOMElement, context))\n            {\n                this._DOMElements.splice(i, 1);\n            }\n\n        }, this);\n    }\n\n    /**\n     * Bind and load images\n     *\n     * @access private\n     */\n    LazyLoad.prototype.bind = function(node)\n    {\n        var url = this._getSrc(node);\n\n        if (this._canLoad(node))\n        {\n            this._loadImage(node, url, this._isImage(node));\n        }\n    }\n\n    /**\n     * Bind and load images\n     *\n     * @access private\n     * @param  node    node    DOM node\n     * @param  string  url     The image URL to load\n     * @param  bool    isImage Is the node an <img> tag\n     */\n    LazyLoad.prototype._loadImage = function(node, url, isImage)\n    {\n        // Placeholder and image are the same\n        if (isImage && node.src === url)\n        {\n            this._markLoaded(node);\n        }\n        else\n        {\n            this._queue.add(this._getLoadFunc(node, url, isImage));\n        }\n    }\n\n    /**\n     * Return the image load function\n     *\n     * @access private\n     * @param  node    node       DOM node\n     * @param  string  url        The image URL to load\n     * @param  bool    isImage    Is the node an <img> tag?\n     * @return function\n     */\n    LazyLoad.prototype._getLoadFunc = function(node, url, isImage)\n    {\n        const _this = this;\n\n        let _fallback = LAZY_FALLBACK_IMAGE;\n\n        return function loadImage(queue)\n        {\n            var _image = new Image();\n\n            _image.onload = function()\n            {\n                if (isImage)\n                {\n                    node.src = url;\n                }\n                else\n                {\n                    node.style.backgroundImage = 'url('+ url +')';\n                }\n\n                _this._markLoaded(node);\n\n                _image.onload  = {};\n                _image.onerror = {};\n                \n                queue.next();\n            };\n\n            _image.onerror = function()\n            {\n                if (isImage)\n                {\n                    node.src = _fallback;\n                }\n                else\n                {\n                    node.style.backgroundImage = `url(\"${_fallback}\")`;\n                }\n\n                _this._markFailed(node);\n\n                queue.next();\n\n                _image.onload  = {};\n                _image.onerror = {};\n            };\n\n            _image.classList.add('lazy-loading');\n\n            _image.src = url;\n        };\n    }\n\n    /**\n     * Mark node as loaded\n     *\n     * @access private\n     * @param  node    node Image node element\n     * @return string\n     */\n    LazyLoad.prototype._markFailed = function(node)\n    {\n        node.classList.add('failed');\n\n        this._markLoaded(node);\n    }\n\n    /**\n     * Mark node as loaded\n     *\n     * @access private\n     * @param  node    node Image node element\n     * @return string\n     */\n    LazyLoad.prototype._markLoaded = function(node)\n    {\n        node.classList.add('lazy-loaded');\n\n        node.classList.remove('lazy-loading');\n    }\n\n    /**\n     * Get an image's src attribute\n     *\n     * @access private\n     * @param  node    node Image node element\n     * @return string\n     */\n    LazyLoad.prototype._getSrc = function(node)\n    {\n        return node.getAttribute('data-src') || node.dataset.src;\n    }\n\n    /**\n     * Should we load this image\n     *\n     * @access private\n     * @param  node    node Image node element\n     * @return bool\n     */\n    LazyLoad.prototype._canLoad = function(node)\n    {\n        return typeof this._getSrc(node) !== 'undefined' && (!node.classList.contains('lazy-loading') || !node.classList.contains('lazy-loaded'));\n    }\n\n    /**\n     * Is node an image\n     *\n     * @access private\n     * @param  node    node Image node element\n     * @return bool\n     */\n    LazyLoad.prototype._isImage = function(node)\n    {\n        return node.nodeName.toLowerCase() === 'img';\n    }\n\n    if (!root.frontbx)\n    {\n        window.addEventListener('DOMContentLoaded', () =>\n        {\n            // Invoke and start loading images\n            const lazy = new LazyLoad();\n\n            // Listen for frontbx:ready and register into dom\n            // Will not be invoked unless dom().refresh() is called\n            frontbx.dom().register('LazyLoad', lazy, false);\n        })\n    }\n    \n})();\n\n// vendors\n(function()\n{\n        /* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress * @license MIT */\n        var NProgress = {};\n\n        NProgress.version = '0.2.0';\n\n        var Settings = NProgress.settings = {\n            minimum: 0.08,\n            easing: 'linear',\n            positionUsing: '',\n            speed: 200,\n            trickle: true,\n            trickleSpeed: 200,\n            showSpinner: true,\n            barSelector: '[role=\"bar\"]',\n            spinnerSelector: '[role=\"spinner\"]',\n            parent: 'body',\n            template: '<div class=\"bar\" role=\"bar\"><div class=\"peg\"></div></div><div class=\"spinner\" role=\"spinner\"><div class=\"spinner-icon\"></div></div>'\n        };\n\n        /**\n        * Updates configuration.\n        *\n        *     NProgress.configure({\n        *       minimum: 0.1\n        *     });\n        */\n        NProgress.configure = function(options) {\n            var key, value;\n            for (key in options) {\n                value = options[key];\n                if (value !== undefined && options.hasOwnProperty(key)) Settings[key] = value;\n            }\n\n            return this;\n        };\n\n    /**\n    * Last number.\n    */\n\n        NProgress.status = null;\n\n    /**\n    * Sets the progress bar status, where `n` is a number from `0.0` to `1.0`.\n    *\n    *     NProgress.set(0.4);\n    *     NProgress.set(1.0);\n    */\n\n        NProgress.set = function(n) {\n            var started = NProgress.isStarted();\n\n            n = clamp(n, Settings.minimum, 1);\n            NProgress.status = (n === 1 ? null : n);\n\n            var progress = NProgress.render(!started),\n            bar      = progress.querySelector(Settings.barSelector),\n            speed    = Settings.speed,\n            ease     = Settings.easing;\n\n    progress.offsetWidth; /* Repaint */\n\n            queue(function(next) {\n    // Set positionUsing if it hasn't already been set\n                if (Settings.positionUsing === '') Settings.positionUsing = NProgress.getPositioningCSS();\n\n    // Add transition\n                css(bar, barPositionCSS(n, speed, ease));\n\n                if (n === 1) {\n      // Fade out\n                  css(progress, {\n                    transition: 'none',\n                    opacity: 1\n                });\n      progress.offsetWidth; /* Repaint */\n\n                  setTimeout(function() {\n                    css(progress, {\n                      transition: 'all ' + speed + 'ms linear',\n                      opacity: 0\n                  });\n                    setTimeout(function() {\n                      NProgress.remove();\n                      next();\n                  }, speed);\n                }, speed);\n              } else {\n                  setTimeout(next, speed);\n              }\n          });\n\n            return this;\n        };\n\n        NProgress.isStarted = function() {\n            return typeof NProgress.status === 'number';\n        };\n\n    /**\n    * Shows the progress bar.\n    * This is the same as setting the status to 0%, except that it doesn't go backwards.\n    *\n    *     NProgress.start();\n    *\n    */\n        NProgress.start = function() {\n            if (!NProgress.status) NProgress.set(0);\n\n            var work = function() {\n                setTimeout(function() {\n                  if (!NProgress.status) return;\n                  NProgress.trickle();\n                  work();\n              }, Settings.trickleSpeed);\n            };\n\n            if (Settings.trickle) work();\n\n            return this;\n        };\n\n    /**\n    * Hides the progress bar.\n    * This is the *sort of* the same as setting the status to 100%, with the\n    * difference being `done()` makes some placebo effect of some realistic motion.\n    *\n    *     NProgress.done();\n    *\n    * If `true` is passed, it will show the progress bar even if its hidden.\n    *\n    *     NProgress.done(true);\n    */\n\n        NProgress.done = function(force) {\n            if (!force && !NProgress.status) return this;\n\n            return NProgress.inc(0.3 + 0.5 * Math.random()).set(1);\n        };\n\n    /**\n    * Increments by a random amount.\n    */\n\n        NProgress.inc = function(amount) {\n            var n = NProgress.status;\n\n            if (!n) {\n                return NProgress.start();\n            } else if(n > 1) {\n                return;\n            } else {\n                if (typeof amount !== 'number') {\n                  if (n >= 0 && n < 0.2) { amount = 0.1; }\n                  else if (n >= 0.2 && n < 0.5) { amount = 0.04; }\n                  else if (n >= 0.5 && n < 0.8) { amount = 0.02; }\n                  else if (n >= 0.8 && n < 0.99) { amount = 0.005; }\n                  else { amount = 0; }\n              }\n\n              n = clamp(n + amount, 0, 0.994);\n              return NProgress.set(n);\n          }\n      };\n\n      NProgress.trickle = function() {\n        return NProgress.inc();\n    };\n\n    /**\n    * Waits for all supplied jQuery promises and\n    * increases the progress as the promises resolve.\n    *\n    * @param $promise jQUery Promise\n    */\n    (function() {\n        var initial = 0, current = 0;\n\n        NProgress.promise = function($promise) {\n            if (!$promise || $promise.state() === \"resolved\") {\n              return this;\n          }\n\n          if (current === 0) {\n              NProgress.start();\n          }\n\n          initial++;\n          current++;\n\n          $promise.always(function() {\n              current--;\n              if (current === 0) {\n                  initial = 0;\n                  NProgress.done();\n              } else {\n                  NProgress.set((initial - current) / initial);\n              }\n          });\n\n          return this;\n      };\n\n    })();\n\n    /**\n    * (Internal) renders the progress bar markup based on the `template`\n    * setting.\n    */\n\n    NProgress.render = function(fromStart) {\n        if (NProgress.isRendered()) return document.getElementById('nprogress');\n\n        addClass(document.documentElement, 'nprogress-busy');\n\n        var progress = document.createElement('div');\n        progress.id = 'nprogress';\n        progress.innerHTML = Settings.template;\n\n\n\n        var bar = progress.querySelector(Settings.barSelector),\n        perc = fromStart ? '-100' : toBarPerc(NProgress.status || 0),\n        parent = isDOM(Settings.parent)\n        ? Settings.parent\n        : document.querySelector(Settings.parent),\n        spinner\n\n        css(bar, {\n            transition: 'all 0 linear',\n            transform: 'translate3d(' + perc + '%,0,0)'\n        });\n\n        if (!Settings.showSpinner) {\n            spinner = progress.querySelector(Settings.spinnerSelector);\n            spinner && removeElement(spinner);\n        }\n\n        if (parent != document.body) {\n            addClass(parent, 'nprogress-custom-parent');\n        }\n\n        parent.appendChild(progress);\n        return progress;\n    };\n\n    /**\n    * Removes the element. Opposite of render().\n    */\n\n    NProgress.remove = function() {\n        removeClass(document.documentElement, 'nprogress-busy');\n        var parent = isDOM(Settings.parent)\n        ? Settings.parent\n        : document.querySelector(Settings.parent)\n        removeClass(parent, 'nprogress-custom-parent')\n        var progress = document.getElementById('nprogress');\n        progress && removeElement(progress);\n    };\n\n    /**\n    * Checks if the progress bar is rendered.\n    */\n\n    NProgress.isRendered = function() {\n        return !!document.getElementById('nprogress');\n    };\n\n    /**\n    * Determine which positioning CSS rule to use.\n    */\n\n    NProgress.getPositioningCSS = function() {\n    // Sniff on document.body.style\n        var bodyStyle = document.body.style;\n\n    // Sniff prefixes\n        var vendorPrefix = ('WebkitTransform' in bodyStyle) ? 'Webkit' :\n        ('MozTransform' in bodyStyle) ? 'Moz' :\n        ('msTransform' in bodyStyle) ? 'ms' :\n        ('OTransform' in bodyStyle) ? 'O' : '';\n\n        if (vendorPrefix + 'Perspective' in bodyStyle) {\n    // Modern browsers with 3D support, e.g. Webkit, IE10\n            return 'translate3d';\n        } else if (vendorPrefix + 'Transform' in bodyStyle) {\n    // Browsers without 3D support, e.g. IE9\n            return 'translate';\n        } else {\n    // Browsers without translate() support, e.g. IE7-8\n            return 'margin';\n        }\n    };\n\n    /**\n    * Helpers\n    */\n\n    function isDOM (obj) {\n        if (typeof HTMLElement === 'object') {\n            return obj instanceof HTMLElement\n        }\n        return (\n            obj &&\n            typeof obj === 'object' &&\n            obj.nodeType === 1 &&\n            typeof obj.nodeName === 'string'\n            )\n    }\n\n    function clamp(n, min, max) {\n        if (n < min) return min;\n        if (n > max) return max;\n        return n;\n    }\n\n    /**\n    * (Internal) converts a percentage (`0..1`) to a bar translateX\n    * percentage (`-100%..0%`).\n    */\n\n    function toBarPerc(n) {\n        return (-1 + n) * 100;\n    }\n\n\n    /**\n    * (Internal) returns the correct CSS for changing the bar's\n    * position given an n percentage, and speed and ease from Settings\n    */\n\n    function barPositionCSS(n, speed, ease) {\n        var barCSS;\n\n        if (Settings.positionUsing === 'translate3d') {\n            barCSS = { transform: 'translate3d('+toBarPerc(n)+'%,0,0)' };\n        } else if (Settings.positionUsing === 'translate') {\n            barCSS = { transform: 'translate('+toBarPerc(n)+'%,0)' };\n        } else {\n            barCSS = { 'margin-left': toBarPerc(n)+'%' };\n        }\n\n        barCSS.transition = 'all '+speed+'ms '+ease;\n\n        return barCSS;\n    }\n\n    /**\n    * (Internal) Queues a function to be executed.\n    */\n\n    var queue = (function() {\n        var pending = [];\n\n        function next() {\n            var fn = pending.shift();\n            if (fn) {\n              fn(next);\n          }\n      }\n\n      return function(fn) {\n        pending.push(fn);\n        if (pending.length == 1) next();\n    };\n    })();\n\n    /**\n    * (Internal) Applies css properties to an element, similar to the jQuery\n    * css method.\n    *\n    * While this helper does assist with vendor prefixed property names, it\n    * does not perform any manipulation of values prior to setting styles.\n    */\n\n    var css = (function() {\n        var cssPrefixes = [ 'Webkit', 'O', 'Moz', 'ms' ],\n        cssProps    = {};\n\n        function camelCase(string) {\n            return string.replace(/^-ms-/, 'ms-').replace(/-([\\da-z])/gi, function(match, letter) {\n              return letter.toUpperCase();\n          });\n        }\n\n        function getVendorProp(name) {\n            var style = document.body.style;\n            if (name in style) return name;\n\n            var i = cssPrefixes.length,\n            capName = name.charAt(0).toUpperCase() + name.slice(1),\n            vendorName;\n            while (i--) {\n              vendorName = cssPrefixes[i] + capName;\n              if (vendorName in style) return vendorName;\n          }\n\n          return name;\n      }\n\n      function getStyleProp(name) {\n        name = camelCase(name);\n        return cssProps[name] || (cssProps[name] = getVendorProp(name));\n    }\n\n    function applyCss(element, prop, value) {\n        prop = getStyleProp(prop);\n        element.style[prop] = value;\n    }\n\n    return function(element, properties) {\n        var args = arguments,\n        prop,\n        value;\n\n        if (args.length == 2) {\n          for (prop in properties) {\n            value = properties[prop];\n            if (value !== undefined && properties.hasOwnProperty(prop)) applyCss(element, prop, value);\n        }\n    } else {\n      applyCss(element, args[1], args[2]);\n    }\n    }\n    })();\n\n    /**\n    * (Internal) Determines if an element or space separated list of class names contains a class name.\n    */\n\n    function hasClass(element, name) {\n        var list = typeof element == 'string' ? element : classList(element);\n        return list.indexOf(' ' + name + ' ') >= 0;\n    }\n\n    /**\n    * (Internal) Adds a class to an element.\n    */\n\n    function addClass(element, name) {\n        var oldList = classList(element),\n        newList = oldList + name;\n\n        if (hasClass(oldList, name)) return;\n\n    // Trim the opening space.\n        element.className = newList.substring(1);\n    }\n\n    /**\n    * (Internal) Removes a class from an element.\n    */\n\n    function removeClass(element, name) {\n        var oldList = classList(element),\n        newList;\n\n        if (!hasClass(element, name)) return;\n\n    // Replace the class name.\n        newList = oldList.replace(' ' + name + ' ', ' ');\n\n    // Trim the opening and closing spaces.\n        element.className = newList.substring(1, newList.length - 1);\n    }\n\n    /**\n    * (Internal) Gets a space separated list of the class names on the element.\n    * The list is wrapped with a single space on each end to facilitate finding\n    * matches within the list.\n    */\n\n    function classList(element) {\n        return (' ' + (element && element.className || '') + ' ').replace(/\\s+/gi, ' ');\n    }\n\n    /**\n    * (Internal) Removes an element from the DOM.\n    */\n\n    function removeElement(element) {\n        element && element.parentNode && element.parentNode.removeChild(element);\n    }\n\n    // Load into container \n    frontbx.singleton('NProgress', NProgress);\n\n})();\n\n// utility\n// utility\n(function()\n{\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [each, is_function, is_object, is_empty, callable_name, array_filter] = frontbx.import(['each','is_function','is_object','is_empty','callable_name', 'array_filter']).from('_');\n\n    /**\n     * Named callbacks\n     * \n     * @var {array}\n     */\n    const NAMED_CALLBACKS = ['success', 'error', 'complete', 'abort', 'progress'];\n\n    /**\n     * JS Queue\n     *\n     * @class\n     * @see {https://medium.com/@griffinmichl/asynchronous-javascript-queue-920828f6327}\n     */\n    const Queue = function(concurrency)\n    {\n        this.running = 0;\n        this.concurrency = concurrency;\n        this.taskQueue = [];\n    };\n\n    Queue.prototype.add = function(task, _this, _args)\n    {\n        if (this.running < this.concurrency)\n        {\n            this._runTask(task, _this, _args);\n        }\n        else\n        {\n            this._enqueueTask(task, _this, _args);\n        }\n    }\n\n    Queue.prototype.next = function()\n    {\n        this.running--;\n\n        if (this.taskQueue.length > 0)\n        {\n            var task = this.taskQueue.shift();\n\n            this._runTask(task['callback'], task['_this'], task['_args']);\n        }\n    }\n\n    Queue.prototype._runTask = function(task, _this, _args)\n    {\n        this.running++;\n\n        task.apply(_this, _args);\n    }\n\n    Queue.prototype._enqueueTask = function(task, _this, _args)\n    {\n        this.taskQueue.push(\n        {\n            'callback': task,\n            '_this': _this,\n            '_args': _args\n        });\n    }\n\n    const AJAX_QUEUE = new Queue(15);\n\n    /**\n     * Module constructor\n     *\n     * @access {public}\n     * @class\n     */\n    const Ajax = function()\n    {\n        this._settings =\n        {\n            'url': '',\n            'async': true,\n            'timeout': 10000,\n            'headers':\n            {\n                'Content-Type': 'application/x-www-form-urlencoded',\n                'Accepts': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9',\n                'Cache-Control': 'no-cache',\n                'Pragma': 'no-cache'\n            },\n        };\n\n        this._complete = () => {};\n        this._success  = () => {};\n        this._error    = () => {};\n        this._abort    = () => {};\n        this._progress = () => {};\n        this._xhr      = null;\n    }\n\n    /**\n     * Ajax Methods \n     *\n     * @access {public}\n     * @param  {string}        url     Destination URL\n     * @param  {string|object} data    Data (optional)\n     * @param  {function}      success Success callback (optional)\n     * @param  {function}      error   Error callback (optional)\n     * @param  {function}      abort   Abort callback (optional)\n     * @param  {object}        headers Request headers (optional)\n     * @return {this}\n     */\n    Ajax.prototype.post = function(url, data, success, error, complete, abort, headers)\n    {\n        this._setResponseHandlers('POST', url, data, success, error, complete, abort, headers);\n\n        AJAX_QUEUE.add(this._call, this);\n\n        return this;\n    }\n    Ajax.prototype.get = function(url, data, success, error, complete, abort, headers)\n    {\n        this._setResponseHandlers('GET', url, data, success, error, complete, abort, headers);\n\n        AJAX_QUEUE.add(this._call, this);\n\n        return this;\n    }\n    Ajax.prototype.head = function(url, data, success, error, complete, abort, headers)\n    {\n        this._setResponseHandlers('HEAD', url, data, success, error, complete, abort, headers);\n\n        AJAX_QUEUE.add(this._call, this);\n\n        return this;\n    }\n    Ajax.prototype.put = function(url, data, success, error, complete, abort, headers)\n    {\n        this._setResponseHandlers('PUT', url, data, success, error, complete, abort, headers);\n\n        AJAX_QUEUE.add(this._call, this);\n\n        return this;\n    }\n    Ajax.prototype.delete = function(url, data, success, error, complete, abort, headers)\n    {\n        this._setResponseHandlers('DELETE', url, data, success, error, complete, abort, headers);\n\n        AJAX_QUEUE.add(this._call, this);\n\n        return this;\n    }\n    Ajax.prototype.upload = function(url, data, success, error, complete, abort, progress, headers)\n    {\n        this._settings.async = true;\n\n        this._setResponseHandlers('UPLOAD', url, data, success, error, complete, abort, headers, progress);\n\n        AJAX_QUEUE.add(this._call, this);\n\n        return this;\n    }\n\n\n    /**\n     * Set async\n     *\n     * @param  {function}  callback Callback function\n     * @return {this}\n     */\n    Ajax.prototype.async = function(bool)\n    {\n        this._settings.async = bool;\n\n        return this;\n    }\n\n    /**\n     * Adds headers\n     *\n     * @param  {object}  headers\n     * @return {this}\n     */\n    Ajax.prototype.headers = function(_headers)\n    {\n        this._settings.headers = {...this._settings.headers, ..._headers};\n\n        return this;\n    }\n\n    /**\n     * Adds progress handler\n     *\n     * @param  {object}  headers\n     * @return {this}\n     */\n    Ajax.prototype.progress = function(callback)\n    {\n        this._progress = callback;\n\n        return this;\n    }\n\n    /**\n     * Success function\n     *\n     * @param  {function}  callback Callback function\n     * @return {this}\n     */\n    Ajax.prototype.success = function(callback)\n    {\n        this._success = callback;\n\n        return this;\n    }\n\n    /**\n     * Error function\n     *\n     * @param  {function}  callback Callback function\n     * @return {this}\n     */\n    Ajax.prototype.error = function(callback)\n    {\n        this._error = callback;\n\n        return this;\n    }\n\n    /**\n     * Alias for complete\n     *\n     * @param  {function}  callback Callback function\n     * @return {this}\n     */\n    Ajax.prototype.then = function(callback)\n    {\n        return this.complete(callback);\n    }\n\n    /**\n     * Complete function\n     *\n     * @param  {function}  callback Callback function\n     * @return {this}\n     */\n    Ajax.prototype.complete = function(callback)\n    {\n        this._complete = callback;\n\n        return this;\n    }\n\n    /**\n     * Abort an ajax call\n     *\n     * @param  {function}  callback Callback function\n     * @return {this}\n     */\n    Ajax.prototype.abort = function(callback)\n    {\n        let xhr = this._xhr;\n\n        // Called before XHR request\n        if (!xhr)\n        {\n            this._abort = callback;\n\n            return this;\n        }\n\n        // Already completed\n        if (!xhr.readyState >= 4)\n        {\n            return this;\n        }\n\n        xhr.onreadystatechange = () => {};\n        this._complete = null;\n        this._success  = null;\n        xhr.abort();\n\n        this._makeCallback(this._abort, this, [xhr.responseText, false]);\n\n        this._makeCallback(this._error, this, [xhr.responseText]);\n    }\n\n    /**\n     * Call callback function\n     *\n     * @param  {function}  callback Callback function\n     * @return {this}\n     */\n    Ajax.prototype._makeCallback = function(callback, _this, args)\n    {\n        if (is_function(callback)) callback.apply(_this, args);\n    }\n\n    /**\n     * Ajax call \n     *\n     * @access {private}\n     * @param  {string}        method   Request method\n     * @param  {string}        url      Destination URL\n     * @param  {string|object} data     Data (optional)\n     * @param  {function}      success  Success callback (optional)\n     * @param  {function}      error    Error callback (optional)\n     * @param  {function}      complete Complete callback (optional)\n     * @param  {function}      abort    Abort callback (optional)\n     * @param  {object}        headers  Request headers (optional)\n     * @return {this}\n     */\n    Ajax.prototype._call = function()\n    {\n        let [method, url] = [this.method, this.url];\n\n        var xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP');\n\n        this._xhr = xhr;\n\n        xhr.requestURL = url;\n\n        xhr.mthod = method === 'UPLOAD' ? 'POST' : method;\n\n        if (method === 'UPLOAD' && is_function(this._progress))\n        {\n            xhr.upload.addEventListener('progress', this._progress, false);\n        }\n\n        if (method === 'UPLOAD')\n        {\n            if (is_function(this._progress)) xhr.upload.addEventListener('progress', this._progress, false);\n\n            if (is_function(this._complete)) xhr.upload.addEventListener('load', this._complete, false);\n        }\n\n        xhr.open(method, url, this._settings.async);\n\n        xhr.timeout = this._settings.timeout;\n\n        this._sendHeaders();\n\n        if (this._settings.async)\n        {\n            xhr.onreadystatechange = () => { this._ready() };\n\n            xhr.send(this.data || null);\n        }\n        else\n        {\n            xhr.send(this.data || null);\n\n            this._ready();\n        }\n\n        return this;\n    }\n\n    /**\n     * Send XHR headers\n     *\n     * @access {private}\n     * @param  {object}    xhr     XHR object\n     * @param  {object}    headers Request headers (optional)\n     * @return {This}\n     */\n    Ajax.prototype._sendHeaders = function()\n    {\n        if (this.method === 'POST') this._settings.headers['REQUESTED-WITH'] = 'XMLHttpRequest';\n\n        each(this._settings.headers, (k,v) => this._xhr.setRequestHeader(k, v));\n    }\n\n    /**\n     * Normalise arguments from original call function\n     *\n     * @param  {string}        method   Request method\n     * @param  {string}        url      Destination URL\n     * @param  {string|object} data     Data (optional)\n     * @param  {function}      success  Success callback (optional)\n     * @param  {function}      error    Error callback (optional)\n     * @param  {function}      complete Complete callback (optional)\n     * @param  {function}      error    Abort callback (optional)\n     * @param  {object}        headers  Request headers (optional)\n     * @return {This}\n     */\n    Ajax.prototype._setResponseHandlers = function()\n    {\n        // Cleanup\n        let args    = Array.prototype.slice.call(arguments);\n        let method  = args.shift();\n        let url     = args.shift();\n        let data    = is_object(args[0]) ? args.shift() : null;\n        let headers = null;\n        let argmap  = ['success', 'error', 'complete', 'abort', 'headers', 'progress'];\n        \n        each(args, (i, arg) =>\n        {\n            if (is_function(arg))\n            {\n                let funcname = callable_name(arg).toLowerCase();\n\n                let k = NAMED_CALLBACKS.includes(funcname) ? funcname : argmap[i];\n\n                this[k](arg);\n            }\n            else if (is_object(arg))\n            {\n                this.headers(arg);\n            }\n        });\n\n        // Ajax.get('foo.com?foo=bar&baz')\n        if (is_object(data) && !is_empty(data))\n        {\n            if (method === 'UPLOAD')\n            {\n                let form = new FormData();\n\n                each(data, (k, v) => form.append(k, v, v.type));\n\n                data = form;\n            }\n            else if (method !== 'POST')\n            {   \n                let suffix = url.includes('?') ? '&' : '?';\n                let params = this._params(data);\n                url  = `${url}${suffix}${params}`;\n                data = undefined;\n            }\n            else\n            {\n                data = this._params(data);\n            }\n        }\n\n        this.method = method;\n        this.data   = data;\n        this.url    = url;\n    }\n\n    /**\n     * Ready callback\n     *\n     * @param  {XMLHttpRequest} xhr     XHR Object\n     * @param  {function}      success  Success callback (optional)\n     * @param  {function}      error    Error callback (optional)\n     * @param  {function}      complete Complete callback (optional)\n     * @param  {function}      abort    Abort callback (optional)\n     */\n    Ajax.prototype._ready = function()\n    {        \n        let xhr = this._xhr;\n\n        if (xhr.readyState == 4)\n        {\n            let successfull = xhr.status >= 200 && xhr.status < 300 || xhr.status === 304;\n\n            let response = xhr.responseText;\n\n            this._makeCallback(successfull ? this._success : this._error, xhr, [response]);\n\n            this._makeCallback(this._complete, xhr, [response, successfull]);\n\n            // Next queue\n            AJAX_QUEUE.next();\n        }\n    }\n\n    /**\n     * Converts parameters to string\n     *\n     * @param  {Object} obj\n     * @return {String}\n     */\n    Ajax.prototype._params = function(obj)\n    {\n        let s = [];\n\n        each(obj, (k,v) => s.push(encodeURIComponent(k) + '=' + encodeURIComponent(v)))\n\n        return s.join('&');\n    }\n\n    frontbx.set('Ajax', Ajax);\n})();\n(function()\n{\n    /**\n     * Helper functions.\n     * \n     * @var {Function}\n     */\n    const [on, add_class, remove_class, animate, css, dom_element, each, find, find_all, first_children, height, in_array, in_dom, inline_style, inner_HTML, is_empty, is_string, map, normalize_url, remove_from_dom, rendered_style, scroll_pos, trigger_event, width, is_object, is_htmlElement] = frontbx.import(['on','add_class','remove_class','animate','css','dom_element','each','find','find_all','first_children','height','in_array','in_dom','inline_style','inner_HTML','is_empty','is_string','map','normalize_url','remove_from_dom','rendered_style','scroll_pos','trigger_event','width','is_object','is_htmlElement']).from('_');\n    \n    /**\n     * Are we listening for state changes ?\n     * \n     * @var {bool}\n     */\n    var POP_LISTENING = false;\n    \n    /**\n     * Default options\n     * \n     * @var {object}\n     */\n    const DEFAULT_OPTIONS = \n    {\n        element:   'body',\n        nocache:    false,\n        once:       false,\n        scrolltop:  false,\n        pushstate:  false,\n        urlhash:    false,\n        animate:    false,\n    };\n    \n    /**\n     * Wrappers that need \"position:relative\" to hide overflow.\n     * \n     * @var {Array}\n     */\n    const STATIC_POSITIONS = ['static', 'unset', 'initial'];\n    \n    /**\n     * AnimationTimeout\n     * \n     * @var {Object}\n     */\n    const CURRENT_REQUESTS = new Map;\n    \n    /**\n     * AnimationTimeout\n     * \n     * @var {Object}\n     */\n    const TRANSITION_TIMERS = new Map;\n    /**\n     * Pjax component\n     *\n     * @class\n     * @extends   {Ajax}\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Pjax = function()\n    {\n        this.completed = false;\n        \n        if (!POP_LISTENING)\n        {\n            on(window, 'popstate', this._popStateHandler, this);\n    \n            POP_LISTENING = true;\n        }\n    }\n    \n    /**\n     * Normalise provided options.\n     *\n     * @access {private}\n     * @param  {String}  URL     Request url\n     * @param  {Object}  options User options\n     * @return {Object}\n     */\n    Pjax.prototype._normalizeOptions = function(url, options)\n    {\n        // Store URL in options for callbacks\n        url = normalize_url(url.trim());\n    \n        // Merge options with defaults\n        return typeof options === 'undefined' ? { ...DEFAULT_OPTIONS, url  } : { ...DEFAULT_OPTIONS, ...options, url };\n    }\n    \n    /**\n     * Returns the element from provided options.\n     *\n     * @access {private}\n     * @return {HTMLElement}\n     */\n    Pjax.prototype._optionsElement = function()\n    {\n        let element = this.options.element;\n    \n        if (is_htmlElement(element))\n        {\n            if (element === document || element === document.documentElement)\n            {\n               return document.body;\n            }\n    \n            return element;\n        }\n    \n        if (is_string(element)) return find(element);\n    \n        return element;\n    }\n    Pjax.prototype.request = function(url, options, success, error, complete, abort, headers)\n    {\n        // Create ajax instance\n        this.ajax = frontbx.Ajax();\n    \n        // Normalise options\n        options = this._normalizeOptions(url, options);\n    \n        // Cache options\n        this.options = options;\n    \n        // cache headers\n        this.headers = !is_object(headers) ? { 'X-PJAX': true } : { 'X-PJAX': true, ...headers };\n    \n        // If we are already loading a pjax, cancel it and\n        this._preAbort();\n    \n        // Set current request\n        CURRENT_REQUESTS.set(options.element, this.ajax);\n    \n        // Cache user defined callbacks\n        this.callbacks = { success, error, complete, abort };\n    \n        // Cache current state\n        this._saveState();\n    \n        // Fire the start event\n        trigger_event(window, 'frontbx:pjax:start', options);\n    \n        // Start nprogress\n        frontbx.NProgress().start();\n    \n        this._sendAjax();\n    }\n    \n    Pjax.prototype._sendAjax = function()\n    {\n        let options = this.options;\n    \n        this.ajax.headers(this.headers)\n        \n        .success((response) => this._onsuccess(response.trim()))\n    \n        .error((response) => this._onerror(response))\n        \n        .abort((response) => this._onabort(response))\n        \n        .complete((response, successfull) => this._oncomplete(response, successfull))\n        \n        .get(options.url, options.nocache ? { t: Date.now().toString() } : {});\n    }\n    /**\n     * Insert response.\n     *\n     * @access {private}\n     * @param  {string}  HTML HTML string response from server\n     */\n    Pjax.prototype._insertResponse = function(HTML)\n    {\n        // Parse the HTML\n        this._parseResponse(HTML);\n    \n        // Update meta\n        this._updateMeta();\n    \n        // Insert content\n        if (this.options.animate)\n        {\n            this._animateSwap(this._targetElem, this._responseElem);\n        }\n        else\n        {\n            inner_HTML(this._targetElem, this._responseElem.innerHTML);\n    \n            this._appendScripts();\n        }\n    }\n    \n    /**\n     * Parse response from server.\n     *\n     * @access {private}\n     * @param  {string}  HTML HTML string response from server\n     */\n    Pjax.prototype._parseResponse = function(HTML)\n    {\n        let responseDoc = this._parseHTML(HTML);\n    \n        this._responseTitle = this._findDomTitle(responseDoc);\n    \n        this._responseDesc = this._findDomDesc(responseDoc);\n    \n        let currScripts = this._getScripts(document);\n    \n        let newScripts = this._getScripts(responseDoc);\n    \n        this._newScripts = this._scriptsDiff(currScripts, newScripts);\n    \n        this._responseDoc = this._removeScripts(responseDoc);\n    \n        // Move scripts to head incase we're replacing content\n        each(currScripts, (i, script) => script.node.parentNode.nodeName.toLowerCase() !== 'head' ? find('head').appendChild(script.node) : null);\n    \n        this._findElems();\n    }\n    \n    /**\n     * Finds target and response DOM elements.\n     *\n     * @access {private}\n     */\n    Pjax.prototype._findElems = function()\n    {\n        // Default to document bodys\n        let targetEl   = this._optionsElement();\n        let responseEl = this._responseDoc.body;\n        let selector   = this.options.element;\n    \n        // Html element\n        if (is_htmlElement(selector) && selector !== document && selector !== document.documentElement)\n        {\n            responseEl = find(selector.id, this._responseDoc);\n        }\n    \n        if (is_string(selector) && selector !== 'body')\n        {\n            targetEl = find(selector);\n    \n            // Try to find the target element in the response\n            let tmpResponseEl = find(selector, this._responseDoc);\n    \n            if (tmpResponseEl) responseEl = tmpResponseEl;\n    \n        }\n    \n        this._targetElem   = targetEl;\n        this._responseElem = responseEl;\n    }\n    \n    /**\n     * Append new scripts.\n     * \n     * Note that appending or replacing content via 'innerHTML' or even\n     * native Nodes with scripts inside their 'innerHTML'\n     * will not load scripts so we need to compare what scripts have loaded\n     * on the current page with any scripts that are in the new DOM tree \n     * and load any that don't already exist\n     *\n     * @access {private}\n     */\n    Pjax.prototype._appendScripts = function()\n    {\n        if (this._newScripts.length > 0)\n        {\n            return each(scripts, (i, script) =>  this._appendScript(script, i === scripts.length -1));\n        }\n    \n        this._contentComplete();\n    }\n    \n    /**\n     * Append individual script or stylsheet.\n     *\n     * @access {private}\n     * @param  {Object}  scriptObj Parse script config\n     * @param  {Boolean} isLast    Is this the last script to load\n     */\n    Pjax.prototype._appendScript = function(scriptObj, isLast)\n    {\n        let element = document.createElement(scriptObj.type);\n    \n        element.type = scriptObj.type === 'script' ? 'text/javascript' : 'text/css';\n    \n        if (scriptObj.type === 'script')\n        {\n            element.async = false;\n    \n            if (!scriptObj.inline)\n            {\n                element.src = scriptObj.src;\n    \n                if (isLast) element.onload = () => this._contentComplete();\n            }\n            else\n            {\n                element.innerHTML = scriptObj.src;\n    \n                if (isLast) this._contentComplete()\n            }\n        }\n        else\n        {\n            element.rel = 'stylesheet';\n            \n            element.href = scriptObj.src;\n    \n            if (isLast) element.onload = () => this._contentComplete();\n        }\n    \n        find('head').appendChild(element);\n    }\n    \n    /**\n     * Filter scripts with unique key/values into an array\n     *\n     * @access {private}\n     * @param  {Document}  doc Document element\n     * @return {array}\n     */\n    Pjax.prototype._getScripts = function(doc)\n    {\n        var ret     = [];\n        var scripts = find_all('script, link[rel=stylesheet]', doc);\n    \n        each(scripts, function(i, script)\n        {\n            let type    = script.nodeName.toLowerCase();\n            let src     = type === 'link' ? normalize_url(script.getAttribute('href')) : normalize_url(script.getAttribute('src'));\n            let inline  = false;\n            let content = null;\n            let node    = script;\n    \n            if (!src)\n            {\n                inline  = true;\n                src     = null;\n                content = script.innerHTML.trim()\n            }\n    \n            ret.push({type, src, inline, node, content });\n        });\n    \n        return ret;\n    }\n    \n    /**\n     * Remove all scripts from a document\n     *\n     * @access {private}\n     * @param  {Document} doc Document element\n     * @return {Document}\n     */\n    Pjax.prototype._removeScripts = function(doc)\n    {\n        var scripts = find_all('script, link[rel=stylesheet]', doc);\n    \n        each(scripts, (i, script) => script.parentNode.removeChild(script));\n    \n        return doc;\n    }\n    \n    /**\n     * Try to find the page title in a DOM tree.\n     *\n     * @access {private}\n     * @param  {Document}     doc Document element\n     * @return {string|false}\n     */\n    Pjax.prototype._findDomTitle = function(doc)\n    {\n        var title = doc.getElementsByTagName('title');\n    \n        if (title.length)\n        {\n            return title[0].innerHTML.trim();\n        }\n    \n        return false;\n    }\n    \n    /**\n     * Try to find the page meta description.\n     *\n     * @access {private}\n     * @param  {Document}     doc Document element\n     * @return {string|false}\n     */\n    Pjax.prototype._findDomDesc = function(doc)\n    {\n        var desc = find('meta[name=description]', doc);\n    \n        if (desc)\n        {\n            return desc.content.trim();\n        }\n    \n        return false;\n    }\n    \n    /**\n     * Parse HTML from string into a document\n     *\n     * @access {private}\n     * @param  {string}    html HTML as a string (with or without full doctype)\n     * @return {Document}\n     */\n    Pjax.prototype._parseHTML = function(html)\n    {\n        var parser = new DOMParser();\n    \n        return parser.parseFromString(html, 'text/html');\n    }\n    \n    /**\n     * Diff current scripts with new scripts\n     *\n     * @access {private}\n     * @param  {Array}   currScripts Parsed current scripts array\n     * @param  {Array}   newScripts  Parsed new scripts array\n     * @param  {Array}\n     */\n    Pjax.prototype._scriptsDiff = function(currScripts, newScripts)\n    {\n        return map(newScripts, (j, script) =>\n        {\n            let ret = script;\n    \n            each(currScripts, (i, cScript) =>\n            {   \n                // Inline scripts\n                if (script.inline && cScript.inline && cScript.content === script.content)\n                {\n                    currScripts.splice(i, 1);\n    \n                    ret = false;\n    \n                    return false;\n                }\n                if (!script.inline && !cScript.inline && cScript.src === script.src)\n                {\n                    currScripts.splice(i, 1);\n    \n                    ret = false;\n    \n                    return false;\n                }\n            });\n    \n            return ret;\n        });\n    }\n    \n    /**\n     * Updated Meta title and description.\n     *\n     * @access {private}\n     */\n    Pjax.prototype._updateMeta = function()\n    {\n        let descrMeta = find('meta[name=description]');\n    \n        if (this._responseTitle) document.title = this._responseTitle;\n    \n        if (this._responseDesc && descrMeta) descrMeta.content = this._responseDesc;\n    }\n    \n    Pjax.prototype._onsuccess = function(response)\n    {\n        this._insertResponse(response);\n    \n        trigger_event(window, 'frontbx:pjax:success', this.options);\n    \n        this.ajax._makeCallback(this.callbacks.success, this._xhr, [response]);\n    }\n    \n    Pjax.prototype._onerror = function(response)\n    {\n        trigger_event(window, 'frontbx:pjax:abort', this.options);\n    \n        this.ajax._makeCallback(this.callbacks.error, this._xhr, [response, false]);\n    }\n    \n    Pjax.prototype._onabort = function(response)\n    {\n        let selector = this.options.element;\n        \n        let swapTimer = TRANSITION_TIMERS.get(selector);\n    \n        if (swapTimer) clearTimeout(swapTimer);\n    \n        CURRENT_REQUESTS.delete(selector);\n    \n        TRANSITION_TIMERS.delete(selector);\n    \n        if (this._abortAnimations) this._abortAnimations();\n    \n        frontbx.NProgress().done();\n    \n        trigger_event(window, 'frontbx:pjax:abort', this.options);\n    \n        this.ajax._makeCallback(this.callbacks.abort, this._xhr, [response, false]);\n    }\n    \n    Pjax.prototype._oncomplete = function(response, successfull)\n    {\n        if (this.options.scrolltop) animate(window, { property : 'scrollTo', to: '0, 0', duration: 150, callback: () => this._pushState() });\n    \n        trigger_event(window, 'frontbx:pjax:complete', this.options);\n    \n        this.ajax._makeCallback(this.callbacks.complete, this._xhr, [response, successfull]);\n    \n        frontbx.NProgress().done();\n    }\n    \n    Pjax.prototype._contentComplete = function()\n    {\n        if (!this.options.scrolltop) this._pushState(); \n       \n        CURRENT_REQUESTS.delete(this.options.element);\n    \n        TRANSITION_TIMERS.delete(this.options.element);\n    \n        let _elem = this._optionsElement();\n    \n        frontbx.dom().refresh(_elem === document.body ? document : _elem);\n    \n        this.completed = true;\n    }\n    \n    Pjax.prototype._preAbort = function()\n    {\n        let ajax = CURRENT_REQUESTS.get(this.options.element);\n    \n        if (ajax) ajax.abort();\n    }\n    /**\n     * Fades / in out content.\n     *\n     * \n     * @access {private}\n     */\n    Pjax.prototype._animateSwap = function(target, content)\n    {\n        // Cache wrapper height and width and so we can transition content without changing layout\n        const h           = height(target);\n        const w           = width(target);\n        const padW        = width(target, true);\n        const padH        = height(target, true);\n        const padL        = parseInt(rendered_style(target, 'padding-left'));\n        const padT        = parseInt(rendered_style(target, 'padding-top'));\n        const position    = rendered_style(target, 'position');\n        const InlOverflow = inline_style(target, 'overflow') || false;\n        const InlPosition = inline_style(target, 'overflow') || false;\n        const InlHeight   = inline_style(target, 'height') || false;\n        const InlWidth    = inline_style(target, 'width') || false;\n        const InlStyles   = { overflow: InlOverflow, position: InlPosition, height: InlHeight, width: InlWidth };\n        const newStyles   = { overflow: 'hidden', height: `${h}px`, width: `${w}px` };\n        const tmpStyles   = { left: `${padL}px`, top: `${padT}px`, height: `${padH}px`, width: `${padW}px` };\n    \n        if (STATIC_POSITIONS.includes(position)) newStyles.position = 'relative';\n    \n        // Cache content for afterwards\n        const oldContnet = first_children(target);\n        const newContent = first_children(content);\n    \n        // Prep content for inserting\n        let tempWrapper = dom_element({tag: 'div', class: 'pjax-temp-swap-wrapper', style: tmpStyles}, null, newContent);\n    \n        // Fix dimensions, overflow and positioning while transition.\n        css(target, newStyles);\n    \n        // Add wrapper class to position content swap while transitioning\n        add_class(target, 'pjax-swapping-content');\n    \n        // Transition out\n        each(oldContnet, (i, node) => add_class(node, 'pjax-prev-content'));\n    \n        // Finally append content\n        target.appendChild(tempWrapper);\n    \n        // Offset height for CSS transitions\n        tempWrapper.offsetHeight;\n    \n        // Activate animation\n        add_class(target, 'active');\n    \n        // On complete\n        let completedTransition = setTimeout(() =>\n        {\n            // Remove old content\n            each(oldContnet, (i, child) => remove_from_dom(child));\n    \n            // Move new content to direct child\n            each(newContent, (i, child) => target.appendChild(child));\n    \n            // Remove the temp wrapper\n            if (tempWrapper.parentNode) tempWrapper.parentNode.removeChild(tempWrapper);\n    \n            // Remove pjax swap class on parent\n            remove_class(target, ['pjax-swapping-content', 'active']);\n    \n            // Set inline styles back to original\n            css(target, InlStyles);\n    \n            // Append scripts\n            this._appendScripts();\n    \n        }, 500);\n    \n        this._abortAnimations = () =>\n        {\n            if (tempWrapper.parentNode) tempWrapper.parentNode.removeChild(tempWrapper);\n    \n            remove_class(target, ['pjax-swapping-content', 'active']);\n    \n            css(target, InlStyles);\n        }\n    \n        // Wait for transition to end\n        TRANSITION_TIMERS.set(target, completedTransition);\n    }\n    /**\n     * State change event handler (back/forward clicks)\n     *\n     * Popstate is treated as another pjax request essentially\n     * \n     * @access {private}\n     * @param  {e}       event JavaScript 'popstate' event\n     */\n    Pjax.prototype._popStateHandler = function(e)\n    {\n        // State obj exists \n        if (e.state && typeof e.state.id !== 'undefined')\n        {\n            let options = e.state;\n    \n            this.request(options.id, {...options, nocache: false, pushstate: false });\n    \n            return false;\n        }\n    }\n    \n    /**\n     * Push state after complete.\n     *\n     * @access {private}\n     */\n    Pjax.prototype._pushState = function()\n    {    \n        if (this.options.pushstate)\n        {            \n            let state = { ...this.options, id: this.options.url, scrolltop: false, scroll: scroll_pos() };\n    \n            window.history.pushState(state, '', state.id);\n        }\n        // Adjust hash\n        else if (this.options.urlhash)\n        {\n            let url = window.location.href.split('#').shift();\n    \n            window.history.replaceState({}, '', `${url}#${this._optionsElement().id}`);\n        }\n    }\n    \n    /**\n     * Save state before requesting.\n     *\n     * @access {private}\n     */\n    Pjax.prototype._saveState = function()\n    {    \n        if (this.options.pushstate)\n        {            \n            let state = { ...this.options, id: normalize_url(window.location.href), scrolltop: false, scroll: scroll_pos() };\n    \n            window.history.pushState(state, '', state.id);\n        }\n        // Adjust hash\n        else if (this.options.urlhash)\n        {\n            window.history.replaceState({}, '', window.location.href);\n        }\n    }\n\n    frontbx.set('Pjax', Pjax);\n\n})();\n(function()\n{\n    /**\n     * \n     * @var {Helper} obj\n     */\n    const [find, each, _for, is_array, is_object, in_array, is_undefined, is_callable, is_htmlElement, in_dom, is_empty, animate, add_class, remove_class, width, height, inline_style, rendered_style, css, is_array_last, dom_element] = frontbx.import(['find','each','for','is_array', 'is_object', 'in_array','is_undefined','is_callable','is_htmlElement','in_dom','is_empty','animate', 'add_class','remove_class', 'width', 'height', 'inline_style', 'rendered_style', 'css', 'is_array_last','dom_element']).from('_');\n\n    /**\n     * Wrappers that need \"position:relative\" to hide overflow.\n     * \n     * @var {array}\n     */\n    const STATIC_POSITIONS = ['static', 'unset', 'initial'];\n\n    /**\n     * Default options.\n     * \n     * @var {array}\n     */\n    const DEFAULT_OPTIONS =\n    {\n        count: 1,\n        lines: 0,\n        height: null,\n        width: null,\n        variant: 'block',\n        aspectratio: '',\n\n    };\n\n    /**\n     * Class variants.\n     * \n     * @var {array}\n     */\n    const CLASS_VARIANTS = ['block', 'text', 'btn', 'input', 'circle', 'wave', 'rounded', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6'];\n\n    /**\n     * Class variants.\n     * \n     * @var {array}\n     */\n    const WRAPPER_VARIANTS = ['text-block', 'block-h1', 'block-h2', 'block-h3', 'block-h4', 'block-h5', 'block-h6'];\n\n    /**\n     * Skeleton.\n     *\n     * @param  {DOMElement}   DOMElement Target node\n     * @param  {object|array} options\n     * @return {this}\n     */\n    const Skeleton = function(DOMElement, options)\n    {\n    this._DOMElement = DOMElement;\n\n    this._nodes = [];\n\n    this._isMulti = is_array(options);\n\n    if (is_empty(options)) return this;\n\n    if (is_array(options))\n    {\n        each(options, function(i, optionSet)\n        {\n            optionSet = {...DEFAULT_OPTIONS, ...optionSet};\n\n            this._build(optionSet);\n\n        }, this);\n    }\n    else\n    {\n        options = {...DEFAULT_OPTIONS, ...options};\n\n        this._build(options);\n    }\n    }\n\n    /**\n     * Gracefully individual content\n     * \n     * @param  {DOMElement|String} content\n     * @param  {function|null}     callback\n     * @access {public}\n     */\n    Skeleton.prototype.load = function(content, callback, wrapper)\n    {\n        if (is_object(content))\n        {\n            each(content, (selector, node) => \n            {\n                let cb = is_array_last(node, content) ? callback : null;\n\n                this.load(node, cb, find(selector, this._DOMElement));\n\n            }, this);\n\n            return;\n        }\n\n        wrapper = !wrapper ? this._DOMElement : wrapper;\n        const isHTML  = is_htmlElement(content);\n        \n        // Cache wrapper height and width and so we can transition content without changing layout\n        const h           = height(wrapper);\n        const w           = width(wrapper);\n        const position    = rendered_style(wrapper, 'position');\n        const InlOverflow = inline_style(wrapper, 'overflow') || false;\n        const InlPosition = inline_style(wrapper, 'overflow') || false;\n        const InlHeight   = inline_style(wrapper, 'height') || false;\n        const InlWidth    = inline_style(wrapper, 'width') || false;\n        const InlStyles   = { overflow: InlOverflow, position: InlPosition, height: InlHeight, width: InlWidth };\n        const newStyles   = { overflow: 'hidden', height: `${h}px`, width: `${w}px` };\n        if (in_array(position, STATIC_POSITIONS)) newStyles.position = 'relative';\n\n        // Prep content for inserting\n        var isFragment = false;\n        var oldContnet;\n\n        if (isHTML)\n        {\n            add_class(content, 'swapping-content-wrapper');\n        }\n        else\n        {\n            let div    = dom_element({tag: 'div', class: 'swapping-content-wrapper'}, null, content);\n            isFragment = div.children.length > 1;\n            if (isFragment) div.className += ' fragment';\n            oldContnet = content;\n            content    = div;\n        }\n\n        const _this = this;\n\n        const complete = function()\n        {\n            // Make optional user callback\n            if (is_callable(callback))\n            {\n                callback();\n            }\n\n            // If we wrapped 'content' we need to remove the outer '.swapping-content-wrapper'\n            if (!isHTML)\n            {\n                if (isFragment)\n                {\n                    wrapper.innerHTML = '';\n\n                    dom_element(null, wrapper, oldContnet);\n                }\n                else\n                {\n                    wrapper.replaceChild(content.children[0], content);\n                }\n            }\n            else\n            {\n                remove_class(content, 'swapping-content-wrapper');\n            }\n\n            // Remove skeletons\n            each(_this._nodes, function(i, node)\n            {\n                if (in_dom(node)) node.parentNode.removeChild(node);                    \n            });\n\n            // Set inline styles back to original\n            css(wrapper, InlStyles);\n\n            // Remove wrapper classes\n            remove_class(wrapper, 'skeleton-swapping-content');\n        }\n\n        // Fix dimensions, overflow and positioning while transition.\n        css(wrapper, newStyles);\n\n        // Add wrapper class to position content swap while transitioning\n        add_class(wrapper, 'skeleton-swapping-content');\n\n        // Finally append content\n        wrapper.appendChild(content);\n\n        each(this._nodes, function(i, node)\n        {\n            animate(node, { property : 'opacity', to : 0, duration: 500 });\n        });\n\n        animate(content, { property : 'opacity', from: '0', to : '1', duration: 750, callback: complete});\n    }\n\n    /**\n     * Remove and destroy\n     *\n     * @params {function} callback (optional)\n     * @params {boolean}  destroy  (optional default true)\n     * @access {private}\n     */\n    Skeleton.prototype.fade_out = function(callback, destroy)\n    {\n        destroy = is_undefined(destroy) ? true : destroy;\n        \n        let _this = this;\n\n        const complete = function()\n        {\n            if (destroy)\n            {\n                _this.destroy();\n            }\n\n            if (is_callable(callback))\n            {\n                callback();\n            }\n        }\n\n        let madeCallback = false;\n\n        each(this._nodes, function(i, node)\n        {\n            let _callback = madeCallback ? undefined : complete;\n\n            animate(node, { property : 'opacity', to : 0, duration: 500, callback: complete});\n\n            madeCallback = true;\n        });\n    }\n\n    /**\n     * Remove and destroy\n     *\n     * @params {_node} node\n     * @access {private}\n     */\n    Skeleton.prototype.destroy = function()\n    {\n        each(this._nodes, function(i, node)\n        {\n            node.parentNode.removeChild(node);\n        });\n\n        this._nodes = [];\n    }\n\n    /**\n     * Remove a notification\n     *\n     * @params {_node} node\n     * @access {private}\n     */\n    Skeleton.prototype._build = function(options)\n    {\n        let wrapper    = null;\n        let skeleton   = document.createElement('div');\n        let variants   = options.variant.split(' ').map((x) => x.trim().toLowerCase()).filter((x) => x !== '');\n        let DOMElement = options.selector ? find(options.selector, this._DOMElement) : this._DOMElement;\n        let width      = options.width;\n        let height     = options.height;\n        let classes    = ['skeleton'];\n\n        each(variants, function(i, variant)\n        {\n            if (in_array(variant, CLASS_VARIANTS))\n            {\n                classes.push(`skeleton-${variant}`);\n            }\n            else if (in_array(variant, WRAPPER_VARIANTS))\n            {\n                classes = ['skeleton'];\n\n                if (!wrapper)\n                {\n                    wrapper = document.createElement('div');\n                    wrapper.className = options.lines > 1 ? 'skeleton-text-block skeleton-lines' : 'skeleton-text-block' ;\n                }\n\n                if (variant !== 'text-block')\n                {\n                    wrapper.className += ` skeleton-text-${variant}`;\n                }\n            }\n        });\n\n        skeleton.className = classes.join(' ');\n\n        let skeletons = [skeleton];\n\n        if (options.count > 1 || options.lines > 1)\n        {\n            let count = Math.max(options.count, options.lines);\n\n            _for(count -1, (i) => skeletons.push(skeleton.cloneNode(true)));\n        }\n\n        each(skeletons, function(i, _skeleton)\n        {\n            this._setDimensions(_skeleton, width, height, wrapper, options.aspectratio, options.lines > 1);\n\n            if (wrapper)\n            {\n                wrapper.appendChild(_skeleton);\n            }\n            else\n            {\n                DOMElement.appendChild(_skeleton);\n            }\n\n        }, this);\n\n        if (wrapper)\n        {                \n            DOMElement.appendChild(wrapper);\n\n            this._nodes.push(wrapper);\n        }\n        else\n        {\n            each(skeletons, (i, skel) => this._nodes.push(skel), this);\n        }\n    }\n\n    /**\n     * Remove and destroy\n     *\n     * @params {callback} node\n     * @access {private}\n     */\n    Skeleton.prototype._setDimensions = function(skeleton, width, height, wrapper, aspectRatio, isLines)\n    {\n        // Text blocks get random width;\n        if (wrapper)\n        {\n            let min = isLines ? 70 : 15;\n            let max = isLines ? 95 : 85;\n            let w   = Math.floor(Math.random() * (max - min + 1) + min);\n\n            skeleton.style.width = `${w}%`;\n\n            return;\n        }\n\n        if (aspectRatio !== '')\n        {\n            skeleton.style.width  = '100%';\n            skeleton.style.height = 'auto';\n            skeleton.style.aspectRatio = aspectRatio;\n\n            return;\n        }\n\n        if (width)\n        {\n            skeleton.style.width = width;\n        }\n\n        if (height)\n        {\n            skeleton.style.height = height;\n        }\n    }\n\n    // Add to container\n    frontbx.set('Skeleton', Skeleton);\n\n})();\n(function()\n{\n    /**\n     * TinyGesture.js\n     *\n     * This service uses passive listeners, so you can't call event.preventDefault()\n     * on any of the events.\n     *\n     * Adapted from https://gist.github.com/SleepWalker/da5636b1abcbaff48c4d\n     * and https://github.com/uxitten/xwiper\n     * plus a bunch more of my own code.\n     */\n    class TinyGesture\n    {\n        constructor(element, options)\n        {\n            this.element = element;\n            this.touch1 = null;\n            this.touch2 = null;\n            this.touchStartX = null;\n            this.touchStartY = null;\n            this.touchEndX = null;\n            this.touchEndY = null;\n            this.touchMove1 = null;\n            this.touchMove2 = null;\n            this.touchMoveX = null;\n            this.touchMoveY = null;\n            this.velocityX = null;\n            this.velocityY = null;\n            this.longPressTimer = null;\n            this.doubleTapTimer = null;\n            this.doubleTapWaiting = false;\n            this.thresholdX = 0;\n            this.thresholdY = 0;\n            this.disregardVelocityThresholdX = 0;\n            this.disregardVelocityThresholdY = 0;\n            this.swipingHorizontal = false;\n            this.swipingVertical = false;\n            this.swipingDirection = null;\n            this.swipedHorizontal = false;\n            this.swipedVertical = false;\n            this.originalDistance = null;\n            this.newDistance = null;\n            this.scale = null;\n            this.originalAngle = null;\n            this.newAngle = null;\n            this.rotation = null;\n            this.handlers = {\n                panstart: [],\n                panmove: [],\n                panend: [],\n                swipeleft: [],\n                swiperight: [],\n                swipeup: [],\n                swipedown: [],\n                tap: [],\n                doubletap: [],\n                longpress: [],\n                pinch: [],\n                pinchend: [],\n                rotate: [],\n                rotateend: [],\n            };\n            this._onTouchStart = this.onTouchStart.bind(this);\n            this._onTouchMove = this.onTouchMove.bind(this);\n            this._onTouchEnd = this.onTouchEnd.bind(this);\n            this.opts = Object.assign({}, TinyGesture.defaults, options);\n            this.element.addEventListener('touchstart', this._onTouchStart, passiveIfSupported);\n            this.element.addEventListener('touchmove', this._onTouchMove, passiveIfSupported);\n            this.element.addEventListener('touchend', this._onTouchEnd, passiveIfSupported);\n            if (this.opts.mouseSupport && !('ontouchstart' in window)) {\n                this.element.addEventListener('mousedown', this._onTouchStart, passiveIfSupported);\n                document.addEventListener('mousemove', this._onTouchMove, passiveIfSupported);\n                document.addEventListener('mouseup', this._onTouchEnd, passiveIfSupported);\n            }\n        }\n        destroy() {\n            var _a, _b;\n            this.element.removeEventListener('touchstart', this._onTouchStart);\n            this.element.removeEventListener('touchmove', this._onTouchMove);\n            this.element.removeEventListener('touchend', this._onTouchEnd);\n            this.element.removeEventListener('mousedown', this._onTouchStart);\n            document.removeEventListener('mousemove', this._onTouchMove);\n            document.removeEventListener('mouseup', this._onTouchEnd);\n            clearTimeout((_a = this.longPressTimer) !== null && _a !== void 0 ? _a : undefined);\n            clearTimeout((_b = this.doubleTapTimer) !== null && _b !== void 0 ? _b : undefined);\n        }\n        on(type, fn) {\n            if (this.handlers[type]) {\n                this.handlers[type].push(fn);\n                return {\n                    type,\n                    fn,\n                    cancel: () => this.off(type, fn),\n                };\n            }\n        }\n        off(type, fn) {\n            if (this.handlers[type]) {\n                const idx = this.handlers[type].indexOf(fn);\n                if (idx !== -1) {\n                    this.handlers[type].splice(idx, 1);\n                }\n            }\n        }\n        fire(type, event) {\n            for (let i = 0; i < this.handlers[type].length; i++) {\n                this.handlers[type][i](event);\n            }\n        }\n        onTouchStart(event) {\n            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1;\n            let didTouch1 = false;\n            let didTouch2 = false;\n            if (event.type !== 'mousedown') {\n                if (!this.touch1) {\n                    this.touch1 = event.changedTouches[0];\n                    didTouch1 = true;\n                }\n                if (((didTouch1 && event.changedTouches.length > 1) || !didTouch1) && !this.touch2) {\n                    this.touch2 =\n                        [...event.changedTouches].find((touch) => { var _a; return touch.identifier !== ((_a = this.touch1) === null || _a === void 0 ? void 0 : _a.identifier); }) ||\n                            null;\n                    this.originalDistance = Math.sqrt(Math.pow(((_b = (_a = this.touch2) === null || _a === void 0 ? void 0 : _a.screenX) !== null && _b !== void 0 ? _b : 0) - ((_f = (_d = (_c = this.touchMove1) === null || _c === void 0 ? void 0 : _c.screenX) !== null && _d !== void 0 ? _d : (_e = this.touch1) === null || _e === void 0 ? void 0 : _e.screenX) !== null && _f !== void 0 ? _f : 0), 2) +\n                        Math.pow(((_h = (_g = this.touch2) === null || _g === void 0 ? void 0 : _g.screenY) !== null && _h !== void 0 ? _h : 0) - ((_m = (_k = (_j = this.touchMove1) === null || _j === void 0 ? void 0 : _j.screenY) !== null && _k !== void 0 ? _k : (_l = this.touch1) === null || _l === void 0 ? void 0 : _l.screenY) !== null && _m !== void 0 ? _m : 0), 2));\n                    this.originalAngle =\n                        Math.atan2(((_p = (_o = this.touch2) === null || _o === void 0 ? void 0 : _o.screenY) !== null && _p !== void 0 ? _p : 0) - ((_t = (_r = (_q = this.touchMove1) === null || _q === void 0 ? void 0 : _q.screenY) !== null && _r !== void 0 ? _r : (_s = this.touch1) === null || _s === void 0 ? void 0 : _s.screenY) !== null && _t !== void 0 ? _t : 0), ((_v = (_u = this.touch2) === null || _u === void 0 ? void 0 : _u.screenX) !== null && _v !== void 0 ? _v : 0) - ((_z = (_x = (_w = this.touchMove1) === null || _w === void 0 ? void 0 : _w.screenX) !== null && _x !== void 0 ? _x : (_y = this.touch1) === null || _y === void 0 ? void 0 : _y.screenX) !== null && _z !== void 0 ? _z : 0)) /\n                            (Math.PI / 180);\n                    return;\n                }\n                if (!didTouch1 && !didTouch2) {\n                    return;\n                }\n            }\n            if (didTouch1 || event.type === 'mousedown') {\n                this.thresholdX = this.opts.threshold('x', this);\n                this.thresholdY = this.opts.threshold('y', this);\n                this.disregardVelocityThresholdX = this.opts.disregardVelocityThreshold('x', this);\n                this.disregardVelocityThresholdY = this.opts.disregardVelocityThreshold('y', this);\n                this.touchStartX = event.type === 'mousedown' ? event.screenX : ((_0 = this.touch1) === null || _0 === void 0 ? void 0 : _0.screenX) || 0;\n                this.touchStartY = event.type === 'mousedown' ? event.screenY : ((_1 = this.touch1) === null || _1 === void 0 ? void 0 : _1.screenY) || 0;\n                this.touchMoveX = null;\n                this.touchMoveY = null;\n                this.touchEndX = null;\n                this.touchEndY = null;\n                this.swipingDirection = null;\n                this.longPressTimer = setTimeout(() => this.fire('longpress', event), this.opts.longPressTime);\n                this.scale = 1;\n                this.rotation = 0;\n                this.fire('panstart', event);\n            }\n        }\n        onTouchMove(event) {\n            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o;\n            if (event.type === 'mousemove' && (!this.touchStartX || this.touchEndX !== null)) {\n                return;\n            }\n            let touch1 = undefined;\n            let touch2 = undefined;\n            if (event.type !== 'mousemove') {\n                touch1 = [...event.changedTouches].find((touch) => { var _a; return touch.identifier === ((_a = this.touch1) === null || _a === void 0 ? void 0 : _a.identifier); });\n                this.touchMove1 = touch1 || this.touchMove1;\n                touch2 = [...event.changedTouches].find((touch) => { var _a; return touch.identifier === ((_a = this.touch2) === null || _a === void 0 ? void 0 : _a.identifier); });\n                this.touchMove2 = touch2 || this.touchMove2;\n            }\n            if (event.type === 'mousemove' || touch1) {\n                const touchMoveX = (event.type === 'mousemove' ? event.screenX : (_a = touch1 === null || touch1 === void 0 ? void 0 : touch1.screenX) !== null && _a !== void 0 ? _a : 0) - ((_b = this.touchStartX) !== null && _b !== void 0 ? _b : 0);\n                this.velocityX = touchMoveX - ((_c = this.touchMoveX) !== null && _c !== void 0 ? _c : 0);\n                this.touchMoveX = touchMoveX;\n                const touchMoveY = (event.type === 'mousemove' ? event.screenY : (_d = touch1 === null || touch1 === void 0 ? void 0 : touch1.screenY) !== null && _d !== void 0 ? _d : 0) - ((_e = this.touchStartY) !== null && _e !== void 0 ? _e : 0);\n                this.velocityY = touchMoveY - ((_f = this.touchMoveY) !== null && _f !== void 0 ? _f : 0);\n                this.touchMoveY = touchMoveY;\n                const absTouchMoveX = Math.abs(this.touchMoveX);\n                const absTouchMoveY = Math.abs(this.touchMoveY);\n                this.swipingHorizontal = absTouchMoveX > this.thresholdX;\n                this.swipingVertical = absTouchMoveY > this.thresholdY;\n                this.swipingDirection =\n                    absTouchMoveX > absTouchMoveY\n                        ? this.swipingHorizontal\n                            ? 'horizontal'\n                            : 'pre-horizontal'\n                        : this.swipingVertical\n                            ? 'vertical'\n                            : 'pre-vertical';\n                if (Math.max(absTouchMoveX, absTouchMoveY) > this.opts.pressThreshold) {\n                    clearTimeout((_g = this.longPressTimer) !== null && _g !== void 0 ? _g : undefined);\n                }\n                this.fire('panmove', event);\n            }\n            if (event.type !== 'mousemove' && this.touchMove1 != null && this.touchMove2 != null) {\n                this.newDistance = Math.sqrt(Math.pow(this.touchMove2.screenX - this.touchMove1.screenX, 2) +\n                    Math.pow(this.touchMove2.screenY - this.touchMove1.screenY, 2));\n                this.scale = this.newDistance / ((_h = this.originalDistance) !== null && _h !== void 0 ? _h : 0);\n                this.fire('pinch', event);\n                this.newAngle =\n                    Math.atan2(((_j = this.touchMove2.screenY) !== null && _j !== void 0 ? _j : 0) - ((_k = this.touchMove1.screenY) !== null && _k !== void 0 ? _k : 0), ((_l = this.touchMove2.screenX) !== null && _l !== void 0 ? _l : 0) - ((_m = this.touchMove1.screenX) !== null && _m !== void 0 ? _m : 0)) /\n                        (Math.PI / 180);\n                this.rotation = this.newAngle - ((_o = this.originalAngle) !== null && _o !== void 0 ? _o : 0);\n                this.fire('rotate', event);\n            }\n        }\n        onTouchEnd(event) {\n            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n            let touch1 = undefined;\n            if (event.type !== 'mouseup') {\n                touch1 = [...event.changedTouches].find((touch) => { var _a; return touch.identifier === ((_a = this.touch1) === null || _a === void 0 ? void 0 : _a.identifier); });\n                if (![...event.touches].find((touch) => { var _a; return touch.identifier === ((_a = this.touch1) === null || _a === void 0 ? void 0 : _a.identifier); })) {\n                    this.touch1 = null;\n                    this.touchMove1 = null;\n                }\n                if (![...event.touches].find((touch) => { var _a; return touch.identifier === ((_a = this.touch2) === null || _a === void 0 ? void 0 : _a.identifier); })) {\n                    this.touch2 = null;\n                    this.touchMove2 = null;\n                }\n            }\n            if (event.type === 'mouseup' && (!this.touchStartX || this.touchEndX !== null)) {\n                return;\n            }\n            if (event.type === 'mouseup' || touch1) {\n                this.touchEndX = event.type === 'mouseup' ? event.screenX : (_a = touch1 === null || touch1 === void 0 ? void 0 : touch1.screenX) !== null && _a !== void 0 ? _a : 0;\n                this.touchEndY = event.type === 'mouseup' ? event.screenY : (_b = touch1 === null || touch1 === void 0 ? void 0 : touch1.screenY) !== null && _b !== void 0 ? _b : 0;\n                this.fire('panend', event);\n                clearTimeout((_c = this.longPressTimer) !== null && _c !== void 0 ? _c : undefined);\n                const x = this.touchEndX - ((_d = this.touchStartX) !== null && _d !== void 0 ? _d : 0);\n                const absX = Math.abs(x);\n                const y = this.touchEndY - ((_e = this.touchStartY) !== null && _e !== void 0 ? _e : 0);\n                const absY = Math.abs(y);\n                const distance = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\n                const absDistance = Math.abs(distance);\n                const diagonal = absY / absX;\n                if (absX > this.thresholdX ||\n                    absY > this.thresholdY ||\n                    (this.opts.diagonalSwipes && (absDistance > this.thresholdX || absDistance > this.thresholdY))) {\n                    this.swipedHorizontal = absX > this.thresholdX || (this.opts.diagonalSwipes && absDistance > this.thresholdX);\n                    this.swipedVertical = absY > this.thresholdY || (this.opts.diagonalSwipes && absDistance > this.thresholdY);\n                    if (!this.opts.diagonalSwipes ||\n                        diagonal < Math.tan(((45 - this.opts.diagonalLimit) * Math.PI) / 180) ||\n                        diagonal > Math.tan(((45 + this.opts.diagonalLimit) * Math.PI) / 180)) {\n                        if (absX >= absY) {\n                            this.swipedVertical = false;\n                        }\n                        if (absY > absX) {\n                            this.swipedHorizontal = false;\n                        }\n                    }\n                    if (this.swipedHorizontal) {\n                        if (x < 0) {\n                            if (((_f = this.velocityX) !== null && _f !== void 0 ? _f : 0) < -this.opts.velocityThreshold || distance < -this.disregardVelocityThresholdX) {\n                                this.fire('swipeleft', event);\n                            }\n                        }\n                        else {\n                            if (((_g = this.velocityX) !== null && _g !== void 0 ? _g : 0) > this.opts.velocityThreshold || distance > this.disregardVelocityThresholdX) {\n                                this.fire('swiperight', event);\n                            }\n                        }\n                    }\n                    if (this.swipedVertical) {\n                        if (y < 0) {\n                            if (((_h = this.velocityY) !== null && _h !== void 0 ? _h : 0) < -this.opts.velocityThreshold || distance < -this.disregardVelocityThresholdY) {\n                                this.fire('swipeup', event);\n                            }\n                        }\n                        else {\n                            if (((_j = this.velocityY) !== null && _j !== void 0 ? _j : 0) > this.opts.velocityThreshold || distance > this.disregardVelocityThresholdY) {\n                                this.fire('swipedown', event);\n                            }\n                        }\n                    }\n                }\n                else if (absX < this.opts.pressThreshold && absY < this.opts.pressThreshold) {\n                    if (this.doubleTapWaiting) {\n                        this.doubleTapWaiting = false;\n                        clearTimeout((_k = this.doubleTapTimer) !== null && _k !== void 0 ? _k : undefined);\n                        this.fire('doubletap', event);\n                    }\n                    else {\n                        this.doubleTapWaiting = true;\n                        this.doubleTapTimer = setTimeout(() => (this.doubleTapWaiting = false), this.opts.doubleTapTime);\n                        this.fire('tap', event);\n                    }\n                }\n            }\n            if (!this.touch1 && !this.touch2) {\n                this.fire('pinchend', event);\n                this.fire('rotateend', event);\n                this.originalDistance = null;\n                this.newDistance = null;\n                this.scale = null;\n                this.originalAngle = null;\n                this.newAngle = null;\n                this.rotation = null;\n            }\n        }\n    }\n    TinyGesture.defaults = {\n        threshold: (type, _self) => Math.max(25, Math.floor(0.15 *\n            (type === 'x'\n                ? window.innerWidth || document.body.clientWidth\n                : window.innerHeight || document.body.clientHeight))),\n        velocityThreshold: 10,\n        disregardVelocityThreshold: (type, self) => Math.floor(0.5 * (type === 'x' ? self.element.clientWidth : self.element.clientHeight)),\n        pressThreshold: 8,\n        diagonalSwipes: false,\n        diagonalLimit: 15,\n        longPressTime: 500,\n        doubleTapTime: 300,\n        mouseSupport: true,\n    };\n    let passiveIfSupported = false;\n    try {\n        window.addEventListener('test', null, Object.defineProperty({}, 'passive', {\n            get: function () {\n                passiveIfSupported = { passive: true };\n            },\n        }));\n    }\n    catch (err) { }\n\n    frontbx.set('TinyGesture', TinyGesture);\n\n})();\n(function()\n{\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, find_all, each, dom_element, add_class, toggle_class, on, off, has_class, remove_class, remove_from_dom, css, height, width, preapend, scroll_pos, animate_css, rendered_style] = frontbx.import(['find','find_all','each','dom_element','add_class','toggle_class','on','off','has_class','remove_class','remove_from_dom', 'css', 'height', 'width', 'preapend', 'scroll_pos', 'animate_css', 'rendered_style']).from('_');\n\n    /**\n     * Default options\n     * \n     * @var {obj}\n     */\n    var DEFAULT_OPTIONS =\n    {\n        // Content - can be a node, nodelist, or string of HTML\n        content: '',\n        \n        // Overlay color - dark, light, none,\n        overlay: 'dark',\n\n        // Force overlay on persistent drawer\n        persistentOverlay: false,\n\n        // When true allows swiping on screen to hide/show\n        swipeable: false,\n\n        // When keepEdge is true, the default state to set \"expanded\"|\"collapsed\"\n        state: 'expanded',\n\n        // Where the drawer comes from - left,right,top,bottom\n        direction: 'left',\n\n        // Collapses to icon size\n        peekable: false,\n\n        // Adapt body body\n        persistent: false,\n\n        // Responsive\n        responsive: false,\n\n        // Push body instead of changing width\n        pushbody: false,\n\n        // Animiation time\n        animationTime: 250,\n\n        // Animation easing\n        easing: 'easeOut',\n\n        // HTML initialized\n        fromHTML: false,\n        \n        // Additional classes to apply to wrapper\n        classes: '',\n\n        // State callbacks\n        callbackBuilt:    () => { },\n        callbackRender:   () => { },\n        callbackClose:    () => { },\n        callbackOpen:     () => { },\n        callbackValidate: () => true,\n    };\n\n    /**\n     * Closing arrow icons.\n     * \n     * @var {obj}\n     */\n    const PUSH_ARROWS =\n    {\n        left: 'left',\n        right: 'right',\n        top: 'up',\n        bottom: 'down'\n    };\n\n    /**\n     * Swipe open/close directions.\n     * \n     * @var {obj}\n     */\n    const SWIPE_DIRECTIONS =\n    {\n        left: ['swiperight', 'swipeleft'],\n        right: ['swipeleft', 'swiperight'],\n        top:  ['swipedown', 'swipeup'],\n        bottom: ['swipeup', 'swipedown'],\n    };\n\n    /**\n     * Don't double wrap body.\n     * \n     * @var {boolean}\n     */\n    var WRAPPED_BODY = false;\n\n    /**\n     * Don't double wrap body.\n     * \n     * @var {boolean}\n     */\n    var WRAPPED_DRAWERS = 0;\n\n    /**\n     * Module constructor\n     *\n     * @class\n     * @params {options} obj\n     * @access {public}\n     */\n    const Drawer = function(options)\n    { \n        // Merge options\n        this._options = {...DEFAULT_OPTIONS, ...options};\n\n        if (!SWIPE_DIRECTIONS[this._options.direction]) throw new Error('Unsupported direction.');\n\n        if (this._options.peekable) this._options.persistent = true;\n\n        if (this._options.pushbody)\n        {\n            this._options.persistent = true;\n\n            this._options.peekable = false;\n        }\n\n        // Save state\n        this._state = this._options.state;\n\n        // Animating\n        this._animating = false;\n\n        // Already mounted?\n        this._mounted = false;\n\n        // Initial mount\n        this._animateOnMount = typeof this._options.animateOnMount === 'undefined' ? this._state === 'expanded' && !this._options.fromHTML : this._options.animateOnMount;\n\n        // Do we have an overlay\n        this._hasOverlay = !this._options.persistent || (this._options.persistent && this._options.persistentOverlay);\n\n        // Cache resize throttle\n        this._resizeThrottle = throttle(() => this.resize(), 100);\n\n        // Build the drawer\n        this._build();\n\n        // Render the drawer        \n        this._mount();\n\n        // Add listeners\n        this._bindListeners();\n\n        return this;\n    }\n\n    /**\n     * Is drawer open?\n     *\n     * @access {public}\n     * @return {Boolean}\n     */\n    Drawer.prototype.opened = function()\n    {\n        return this._state === 'expanded';\n    }\n\n    /**\n     * Is drawer closed?\n     *\n     * @access {public}\n     * @return {Boolean}\n     */\n    Drawer.prototype.closed = function()\n    {\n        return this._state === 'collapsed';\n    }\n\n    /**\n     * Is drawer open or closed?\n     *\n     * @access {public}\n     * @return {String}\n     */\n    Drawer.prototype.state = function()\n    {\n        return this._state;\n    }\n\n    /**\n     * Returns drawer direction.\n     *\n     * @access {public}\n     * @return {String}\n     */\n    Drawer.prototype.direction = function()\n    {\n        return this._options.direction;\n    }\n\n    /**\n     * Window resize handler\n     *\n     * @access {public}\n     */\n    Drawer.prototype.resize = function()\n    {\n        if (this._animating) return;\n\n        let x = width(window);\n\n        if (x < 768 && this.opened())\n        {\n            this.close();\n        }\n        else if (x > 768 && this.closed())\n        {\n            this.open();\n        }\n    }\n\n    /**\n     * Destroy drawer.\n     *\n     * @access {public}\n     */\n    Drawer.prototype.destroy = function()\n    {\n        // Close\n        this.close();\n\n        // Remove gestures\n        this._gestures.destroy();\n\n        // Unwrap body\n        if (this._options.persistent) this._unwrapBody();\n\n        if (this._options.responsive && this._options.persistent) \n        {\n            off(window, 'resize', this._resizeThrottle, this);\n        }\n\n        if (WRAPPED_DRAWERS <= 0)\n        {\n            remove_from_dom(this._containerWrap);\n        }\n        else\n        {\n            if (this._hasOverlay) remove_from_dom(this._overlay);\n\n            remove_from_dom(this._drawer);\n        }\n    }\n\n    /**\n     * Close drawer.\n     *\n     * @access {public}\n     */\n    Drawer.prototype.open = function()\n    {\n        // Don't open when animating or not already closed\n        if (this._state !== 'collapsed' || this._animating) return;\n\n        this._animating = true;\n\n        remove_class(this._containerWrap, 'closed, closing');\n\n        add_class(this._containerWrap, 'opening');\n\n        remove_class(this._drawer, 'disabled');\n\n        this._animteDrawer();\n\n        if (this._hasOverlay)\n        {\n            add_class(document.body, 'no-scroll');\n\n            this._animateOverlay();\n        }\n\n        if (this._options.pushbody) add_class(document.body, 'no-scroll');\n\n        if (this._options.persistent) this._animateBody();\n\n        if (!this._mounted) this._toggleEnd();\n    }\n\n    /**\n     * Open drawer.\n     *\n     * @access {public}\n     */\n    Drawer.prototype.close = function()\n    {\n        if (this._state !== 'expanded' || this._animating) return;\n\n        this._animating = true;\n\n        add_class(this._containerWrap, 'closing');\n\n        remove_class(this._containerWrap, 'expanded, opening');\n\n        remove_class(document.body, 'no-scroll');\n\n        this._animteDrawer();\n\n        if (this._hasOverlay) this._animateOverlay();\n\n        if (this._options.persistent) this._animateBody();\n\n        if (!this._mounted) this._toggleEnd();\n    }\n\n    /**\n     * Wrap body when 'persistent' true.\n     *\n     * @access {private}\n     */\n    Drawer.prototype._animteDrawer = function()\n    {\n        let peekable  = this._options.peekable;\n        let state     = this._state;\n        let direction = this._options.direction;\n        let duration  = this._options.animationTime;\n        let easing    = this._options.easing;\n        let property  = peekable ? (direction === 'left' || direction === 'right' ? 'width' : 'height') : 'transform';\n        let to        = peekable ? (state === 'collapsed' ? this._drawerSize : this._peekableSize) : 'translate3d(0px, 0px, 0px)';\n        let from      = peekable ? (state === 'collapsed' ? this._peekableSize : 'auto') : null;\n\n        if (peekable && state === 'collapsed' && (direction === 'top' || direction === 'bottom'))\n        {\n            to = this._drawerSize;\n        }\n\n        if (!peekable)\n        {\n            let x = (direction === 'left' || direction === 'right') ? (direction === 'left' ? '-100%' : '100%') : '0px';\n            let y = (direction === 'top' || direction === 'bottom') ? (direction === 'top' ? '-100%' : '100%') : '0px';\n            let tofrom = `translate3d(${x}, ${y}, 0px)`;\n\n            state === 'expanded' ? to = tofrom : from = tofrom;\n        }\n\n        (this._mounted || (!this._mounted && this._animateOnMount)) ? animate_css(this._drawer, {property, from, to, duration, easing, callback: () => this._toggleEnd() }) : css(this._drawer, property, to);\n    }\n\n    /**\n     * Wrap body when 'persistent' true.\n     *\n     * @access {private}\n     */\n    Drawer.prototype._animateOverlay = function()\n    {\n        let duration  = this._options.animationTime;\n        let easing    = this._options.easing;\n        let property  = 'opacity';\n        let to        = this._state === 'collapsed' ? '1' : '0';\n        let from      = this._state === 'collapsed' ? '0' : '1';\n\n        (this._mounted || (!this._mounted && this._animateOnMount)) ? animate_css(this._overlay, {property, from, to, duration, easing }) : css(this._overlay, property, to);\n    }\n\n    /**\n     * Wrap body when 'persistent' true.\n     *\n     * @access {private}\n     */\n    Drawer.prototype._animateBody = function()\n    {\n        if (!this._options.persistent) return;\n\n        let peekable  = this._options.peekable;\n        let state     = this._state;\n        let direction = this._options.direction;\n        let duration  = this._options.animationTime;\n        let easing    = this._options.easing;\n        let property  = 'margin';\n        let n, e, s, w;\n        n = e = s = w = '0px';\n\n        if (direction === 'left')   w = state === 'collapsed' ? this._drawerSize  : (peekable ? this._peekableSize : '0px');\n        if (direction === 'right')  e = state === 'collapsed' ? this._drawerSize  : (peekable ? this._peekableSize : '0px');\n        if (direction === 'top')    n = state === 'collapsed' ? `${height(this._drawer)}px` : (peekable ? this._peekableSize : '0px');\n\n        let to = `${n} ${e} ${s} ${w}`;\n\n        if (this._options.pushbody)\n        {\n            property = 'transform';\n            to = 'translate3d(0px, 0px, 0px)';\n\n            if (state === 'collapsed')\n            {\n                let x, y;\n                x = y = '0px';\n                if (e !== '0px') x = `-${e}`;\n                if (w !== '0px') x = w;\n                if (n !== '0px') y = n;\n                to = `translate3d(${x}, ${y}, 0px)`;\n            }\n        }\n\n        (this._mounted || (!this._mounted && this._animateOnMount)) ? animate_css(this._bodyWrap, {property, to, duration, easing }) : css(this._bodyWrap, property, to);\n    }\n\n    /**\n     * Completed opening / closing.\n     *\n     * @access {private}\n     */\n    Drawer.prototype._toggleEnd = function()\n    {        \n        // Multiple transitions\n        if (!this._animating) return;\n\n        this._state = this._state === 'collapsed' ? 'expanded' : 'collapsed';\n\n        add_class(this._containerWrap, this._state === 'expanded' ? 'expanded' : 'closed');\n\n        remove_class(this._containerWrap, this._state === 'expanded' ? 'opening' : 'closing');\n\n        this._makeCallback(this._state === 'expanded' ? this._options.callbackOpen : this._options.callbackClose);\n\n        this._animating = false;\n    }\n\n    /**\n     * Build DOM Elements for drawer.\n     *\n     * @access {private}\n     */\n    Drawer.prototype._build = function()\n    {\n        let container = dom_element({tag: 'div', class: `js-drawer-container drawer-container drawer-${this._options.direction} ${this._options.persistent ? 'persistent' : ''} ${this._options.peekable ? 'peekable' : null } overlay-${this._options.overlay} ${this._options.classes}`});\n        let overlay   = dom_element({tag: 'div', class: 'js-drawer-overlay drawer-overlay'}, !this._hasOverlay ? null : container);\n        let drawer    = dom_element({tag: 'aside', class: 'js-drawer-wrap drawer-wrap'}, container, \n            dom_element({tag: 'div', class: 'drawer-dialog js-drawer-dialog' }, null, this._options.content )\n        );\n\n        this._containerWrap = container;\n        this._drawer        = drawer;\n        this._overlay       = overlay;\n        this._dialog        = find('.js-drawer-dialog', this._drawer);\n\n        if (this._options.persistent)\n        {\n            let header = dom_element({tag: 'div', class: `flex-row-fluid align-cols-center-y drawer-header ${this._options.direction !== 'right' ? 'align-cols-right' : ''}`});\n            let closer = dom_element({tag: 'button', type: 'button', class: 'btn btn-pure btn-circle btn-xs close-btn'}, header, dom_element({tag: 'span', class: `fa fa-chevron-${PUSH_ARROWS[this._options.direction]}`}));\n            \n            this._options.direction === 'top' ? this._dialog.appendChild(header) : preapend(header, this._dialog);\n\n            on(closer, 'click', this._closeValidate, this);\n        }\n\n        this._makeCallback(this._options.callbackBuilt);\n    }\n\n    /**\n     * Mount and render the drawer.\n     *\n     * @access {private}\n     */\n    Drawer.prototype._mount = function()\n    {\n        document.body.appendChild(this._containerWrap);\n\n        this._containerWrap.offsetHeight;\n\n        this._peekableSize = this._options.peekableSize || rendered_style(this._containerWrap, '--fbx-drawer-size-peekable');\n        this._drawerSize   = this._options.drawerSize || rendered_style(this._containerWrap, '--fbx-drawer-width');\n\n        if (this._options.persistent) this._wrapBody();\n\n        this._state = this._state === 'expanded' ? 'collapsed' : 'expanded';\n\n        this._state === 'collapsed' ? this.open() : this.close();\n\n        this._mounted = true;\n\n        this._makeCallback(this._options.callbackRender);\n    }\n\n    /**\n     * Wrap body when 'persistent' true.\n     *\n     * @access {private}\n     */\n    Drawer.prototype._wrapBody = function()\n    {\n        WRAPPED_DRAWERS++;\n\n        // Don't double-wrap body\n        if (WRAPPED_BODY)\n        {\n            // Disable other drawers\n            each(find_all('.js-drawer-wrap'), (i, drawer) => add_class(drawer, 'disabled'));\n\n            let classN = this._containerWrap.className;\n\n            if (this._containerWrap.parentNode) this._containerWrap.parentNode.removeChild(this._containerWrap);\n\n            this._containerWrap = find('.js-drawer-container');\n\n            this._bodyWrap = find('.js-drawer-body-wrap');\n\n            this._containerWrap.className = classN;\n\n            this._containerWrap.appendChild(this._drawer);\n\n            return;\n        }\n\n        WRAPPED_BODY = true;\n\n        let pos = scroll_pos();\n\n        let content = find_all('body > *');\n\n        this._bodyWrap = dom_element({tag: 'div', class: 'js-drawer-body-wrap drawer-body-wrap'});\n\n        preapend(this._bodyWrap, this._containerWrap);\n        \n        each(content, (i, node) => node !== this._containerWrap ? this._bodyWrap.appendChild(node) : null);\n\n        this._containerWrap.scrollTo(pos.left, pos.top);\n    }\n\n    /**\n     * Unwrap body when 'persistent' true.\n     *\n     * @access {private}\n     */\n    Drawer.prototype._unwrapBody = function()\n    {\n        if (!WRAPPED_BODY) return;\n\n        WRAPPED_DRAWERS--;\n\n        // Only unwrap if we're the last drawer using the container.\n        if (WRAPPED_DRAWERS <= 0)\n        {\n            let pos = scroll_pos(this._containerWrap);\n\n            let content = find_all('> *', this._bodyWrap);\n\n            each(content, (i, node) => document.body.appendChild(node));\n           \n            window.scrollTo(pos.left, pos.top);\n\n            WRAPPED_BODY = false;\n        }\n    }\n\n    /**\n     * Validate closing.\n     *\n     * @access {private}\n     */\n    Drawer.prototype._closeValidate = function()\n    {\n        if (this._makeCallback(this._options.callbackValidate)) this.close();\n    }\n\n    /**\n     * Bind event listeners for drawer.\n     *\n     * @access {private}\n     */\n    Drawer.prototype._bindListeners = function()\n    {\n        if (!this._options.fromHTML) \n        {            \n            frontbx.dom().refresh(this._drawer);\n        }\n\n        if (this._options.responsive && this._options.persistent) \n        {\n            on(window, 'resize', this._resizeThrottle, this);\n        }\n\n        on(this._overlay, 'click', this._closeValidate, this);\n\n        let directions = SWIPE_DIRECTIONS[this._options.direction];\n\n        this._gestures = frontbx.TinyGesture(this._options.swipeable ? window : this._drawer, { mouseSupport: true, velocityThreshold: 3, threshold: (type, self) => this._options.swipeable ? 20 : 3 });\n\n        this._gestures.on(directions[0], () => this.open() );\n\n        this._gestures.on(directions[1], () => this._closeValidate() );\n    }\n\n    /**\n     * Fire callbacks.\n     *\n     * @access {private}\n     */\n    Drawer.prototype._makeCallback = function(callback)\n    {\n        if (callback) return callback(this._containerWrap, this._drawer, this._overlay, this._bodyWrap);\n    }\n\n    // Load into container \n    frontbx.set('Drawer', Drawer);\n\n})();\n(function()\n{\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [on, find, dom_element, extend] = frontbx.import(['on','find','dom_element','extend']).from('_');\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const Drawer = frontbx.Drawer(frontbx.IMPORT_AS_REF);\n\n    /**\n     * @var {obj}\n     */\n    var DEFAULT_OPTIONS =\n    {\n        // Content - can be a node, nodelist, or string of HTML\n        content: '',\n\n        // Confirm button text or null + confirm button class\n        confirmBtn: null,\n        confirmClass: '',\n        \n        // Overlay color - \"dark\"| \"light\"\n        overlay: 'dark',\n\n        // Allows collapsing,expanding\n        peekable: false,\n\n        // When true allows swiping on screen to hide/show\n        swipeable: false,\n\n        // When keepEdge is true, the default state to set \"expanded\"|\"collapsed\"\n        state: 'expanded',\n\n        // Private\n        animationTime: 225,\n        persistentOverlay: true,\n        direction: 'bottom',\n        classes: '',\n        persistent: false,\n\n        // State callbacks\n        callbackBuilt:    () => { },\n        callbackRender:   () => { },\n        callbackConfirm:  () => { },\n        callbackClose:    () => { },\n        callbackOpen:     () => { },\n        callbackValidate: () => true,\n    };\n\n    /**\n     * Module constructor\n     *\n     * @class\n     * @params {options} obj\n     * @access {public}\n     * @return {this}\n     */\n    const Frontdrop = function(options)\n    {\n        let classes = options.confirmBtn ? `frontdrop with-confirmation ${options.classes}` : `frontdrop ${options.classes}`;\n\n        options = {...DEFAULT_OPTIONS, ...options, classes};\n\n        let content = this._buildFD(options);\n\n        options = {...options, content};\n\n        this.super(options);\n\n        if (options.confirmBtn) on(find('.js-frontdrop-confirm', content), 'click', this._closeValidate, this);\n    }\n\n    /**\n     * Build the frontdrop and overlay.\n     *\n     * @access {private}\n     */\n    Frontdrop.prototype._buildFD = function(options)\n    {\n        let footer = options.confirmBtn ? dom_element({tag: 'div', class: 'card-footer'}, null, \n            dom_element({tag: 'div', class: 'card-footer'}, null,\n                dom_element({tag: 'div', class: 'card-footer-content'}, null,\n                    dom_element({tag: 'div', class: 'container-fluid'}, null,\n                        dom_element({tag: 'button', type: 'button', class: `btn btn-block js-frontdrop-confirm ${options.confirmClass}`}, null, options.confirmBtn)\n                    )\n                )\n            )\n        ) : null;\n\n        return dom_element({tag: 'div', class: 'card js-frontdrop-inner'}, null,\n        [ \n            dom_element({tag: 'div', class: 'card-header'}, null,\n                dom_element({tag: 'div', class: 'container-fluid'}, null, \n                    dom_element({tag: 'div', class: 'card-header-content'}, null,\n                        dom_element({tag: 'div', class: 'card-title'}, null, options.title)\n                    )\n                )\n            ),\n            dom_element({tag: 'div', class: 'card-block'}, null, \n                dom_element({tag: 'div', class: 'container-fluid'}, null, options.content)\n            ),\n            footer\n        ])\n    }\n\n    // Load into container \n    frontbx.set('Frontdrop', extend(Drawer, Frontdrop));\n\n})();\n(function()\n{\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [on, find, dom_element, extend] = frontbx.import(['on','find','dom_element','extend']).from('_');\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const Drawer = frontbx.Drawer(frontbx.IMPORT_AS_REF);\n\n    /**\n     * Module constructor\n     *\n     * @class\n     * @params {options} obj\n     * @access {public}\n     * @return {this}\n     */\n    const Backdrop = function(options)\n    {\n        let classes = !options.classes ? 'backdrop' : `backdrop ${options.classes}`;\n\n        let persistent = true;\n\n        options = {...options, classes, persistent };\n\n        this.super(options);\n    }\n\n    // Load into container \n    frontbx.set('Backdrop', extend(Drawer, Backdrop));\n})();\n(function()\n{\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, dom_element, add_class, on, off, remove_class, remove_from_dom, attr] = frontbx.import(['find','dom_element','add_class','on','off','remove_class','remove_from_dom','attr']).from('_');\n\n    /**\n     * Default options\n     * \n     * @var {obj}\n     */\n    var DEFAULT_OPTIONS =\n    {\n        // Title\n        title: '',\n\n        // Content - can be a node, nodelist, or string of HTML\n        content: '',\n\n        // Additional classes to pass to modal\n        classes: '',\n\n        // Does not create card\n        custom: false,\n\n        // Click anywhere to close\n        closeAnywhere: true,\n\n        // Scroll 'content' or 'modal'\n        scroll: 'modal',\n\n        // Cancel btn\n        cancelBtn: null,\n        cancelClass: 'btn-danger btn-pure',\n\n        // Confirm btn\n        confirmBtn: null,\n        confirmClass: 'btn-pure',\n        \n        // Overlay color - dark, light, none,\n        overlay: 'dark',\n\n        // Default state when created/mounted set \"open\"|\"closed\"\n        state: 'open',\n\n        // Loaded from HTML DOM\n        fromHTML: false,\n\n        // State callbacks\n        callbackBuilt:    () => { },\n        callbackRender:   () => { },\n        callbackClose:    () => { },\n        callbackOpen:     () => { },\n        callbackValidate: () => true,\n    };\n\n    /**\n     * Module constructor\n     *\n     * @class\n     * @params {options} obj\n     * @access {public}\n     */\n    const Modal = function(options)\n    { \n        // Merge options\n        this._options = {...DEFAULT_OPTIONS, ...options};\n\n        // Save state\n        this._state = this._options.state;\n\n        // Animating\n        this._animating = false;\n\n        // Build the Modal\n        this._build();\n\n        // Add listeners\n        this._bindListeners();\n\n        // Render the Modal        \n        this._mount();\n\n        return this;\n    }\n\n    /**\n     * Is Modal open?\n     *\n     * @access {public}\n     * @return {Boolean}\n     */\n    Modal.prototype.opened = function()\n    {\n        return this._state === 'open';\n    }\n\n    /**\n     * Is Modal closed?\n     *\n     * @access {public}\n     * @return {Boolean}\n     */\n    Modal.prototype.closed = function()\n    {\n        return this._state === 'closed';\n    }\n\n    /**\n     * Is Modal open or closed?\n     *\n     * @access {public}\n     * @return {String}\n     */\n    Modal.prototype.state = function()\n    {\n        return this._state;\n    }\n\n    /**\n     * Destroy Modal.\n     *\n     * @access {public}\n     */\n    Modal.prototype.destroy = function()\n    {\n        this.close();\n\n        remove_from_dom(this._modal);\n\n        remove_from_dom(this._overlay);\n    }\n\n    /**\n     * Close Modal.\n     *\n     * @access {public}\n     */\n    Modal.prototype.open = function()\n    {\n        // Don't open when animating or not already closed\n        if (this._state !== 'closed' || this._animating) return;\n\n        this._animating = true;\n\n        on(this._dialog, 'transitionend', this._toggleEnd, this);\n\n        remove_class([this._modal, this._overlay], 'closed, closing');\n\n        add_class([this._modal, this._overlay], 'opening');\n\n        if (this._options.overlay !== false) add_class(document.body, 'no-scroll');\n\n        attr(this._modal, 'aria-hidden', 'false');\n\n        attr(this._overlay, 'aria-hidden', 'false');\n    }\n\n    /**\n     * Open Modal.\n     *\n     * @access {public}\n     */\n    Modal.prototype.close = function()\n    {\n        if (this._state !== 'open' || this._animating) return;\n\n        this._animating = true;\n\n        on(this._dialog, 'transitionend', this._toggleEnd, this);\n\n        remove_class([this._modal, this._overlay], 'opening, opened');\n\n        add_class([this._modal, this._overlay], 'closing');\n\n        remove_class(document.body, 'no-scroll');\n\n        attr(this._modal, 'aria-hidden', 'true');\n\n        attr(this._overlay, 'aria-hidden', 'true');\n\n        this._dialog.blur();\n    }\n\n    /**\n     * Completed opening / closing.\n     *\n     * @access {private}\n     */\n    Modal.prototype._toggleEnd = function()\n    {                \n        // Multiple transitions\n        if (!this._animating) return;\n\n        if (this._state === 'closed') this._dialog.focus();\n\n        this._state = this._state === 'closed' ? 'open' : 'closed';\n\n        remove_class([this._modal, this._overlay], this._state === 'open' ? 'opening' : 'closing');\n\n        add_class([this._modal, this._overlay], this._state === 'open' ? 'opened' : 'closed');\n\n        this._makeCallback(this._state === 'open' ? this._options.callbackOpen : this._options.callbackClose);\n\n        off(this._dialog, 'transitionend', this._toggleEnd, this);\n\n        this._animating = false;\n    }\n\n    /**\n     * Build DOM Elements for Modal.\n     *\n     * @access {private}\n     */\n    Modal.prototype._build = function()\n    {\n        this._cancelBtn  = this._options.cancelBtn  ? dom_element({tag: 'button', type: 'button', class: `btn ${this._options.cancelClass}`}, null, this._options.cancelBtn) : null; \n        \n        this._confirmBtn = this._options.confirmBtn ? dom_element({tag: 'button', type: 'button', class: `btn ${this._options.confirmClass}`}, null, this._options.confirmBtn) : null;\n        \n        this._overlay = dom_element({tag: 'div', role: 'presentation', class: `modal-overlay closed overlay-${this._options.overlay} ${this._options.overlay === false ? 'disabled' : ''}`});\n        \n        this._modal    = dom_element({tag: 'div', role: 'presentation', tabindex: '-1', class: `modal-wrap closed scroll-${this._options.scroll} ${this._options.classes}`}, null, \n        dom_element({tag: 'div', class: 'modal-dialog js-modal-dialog'}, null,\n            this._options.custom ? this._options.content : dom_element({tag: 'div', class: `card ${this._options.scroll === 'content' ? 'card-scrollable-content' : 'card-scrollable'} `}, null, \n                [\n                    dom_element({tag: 'div', class: 'card-header'}, null, \n                        dom_element({tag: 'div', class: 'card-header-content'}, null, \n                            dom_element({tag: 'div', class: 'card-title'}, null, this._options.title)\n                        )\n                    ),\n                    dom_element({tag: 'div', class: 'card-block'}, null, this._options.content),\n                    (this._cancelBtn || this._confirmBtn ? \n                        dom_element({tag: 'div', class: 'card-footer'}, null, [ dom_element({tag: 'div', class: 'card-footer-content'}, null, '&nbsp;'),\n                            dom_element({tag: 'div', class: 'card-footer-right'}, null, [ this._cancelBtn, this._confirmBtn ])]\n                        ) : null)\n                ])\n            )\n        );\n\n        this._dialog = find('.js-modal-dialog', this._modal);\n\n        this._makeCallback(this._options.callbackBuilt);\n    }\n\n    /**\n     * Mount and render the Modal.\n     *\n     * @access {private}\n     */\n    Modal.prototype._mount = function()\n    {\n        document.body.appendChild(this._overlay);\n\n        document.body.appendChild(this._modal);\n\n        this._modal.offsetHeight;\n\n        this._overlay.offsetHeight;\n\n        if (!this._options.fromHTML) frontbx.dom().refresh(this._modal);\n\n        if (this._state === 'open')\n        {\n            this._state = 'closed';\n\n            this.open();\n        }\n    }\n\n    /**\n     * Bind event listeners for Modal.\n     *\n     * @access {private}\n     */\n    Modal.prototype._bindListeners = function()\n    {\n        if (this._options.closeAnywhere) on(this._modal, 'click', this._closeClick, this);\n\n        if (this._cancelBtn) on(this._cancelBtn, 'click', this._closeValidate, this);\n\n        if (this._confirmBtn) on(this._confirmBtn, 'click', this._closeValidate, this);\n    }\n\n    /**\n     * Validate closing.\n     *\n     * @access {private}\n     */\n    Modal.prototype._closeClick = function(e, clicked)\n    {\n        if (e.target === this._modal) this._closeValidate();\n    }\n\n    /**\n     * Validate closing.\n     *\n     * @access {private}\n     */\n    Modal.prototype._closeValidate = function()\n    {\n        if (this._makeCallback(this._options.callbackValidate)) this.close();\n    }\n\n    /**\n     * Fire callbacks.\n     *\n     * @access {private}\n     */\n    Modal.prototype._makeCallback = function(callback)\n    {\n        if (callback) return callback(this._modal, this._Modal, this._overlay, this._bodyWrap);\n    }\n\n    // Load into container \n    frontbx.set('Modal', Modal);\n\n})();\n(function()\n{\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, find_all, add_class, on, in_dom, remove_class, remove_from_dom, dom_element] = frontbx.import(['find','find_all','add_class','on','in_dom','remove_class','remove_from_dom','dom_element']).from('_');\n\n    /**\n     * Default options\n     * \n     * @var {array}\n     */\n    const DEFAULT_OPTIONS =\n    {\n        text:             '',\n        variant:          '',\n        closebtn:         false,\n        responsive:       false,\n        btn:              false,\n        stacked:          false,\n        dense:            true,\n        icon:             '',\n        position:         'bottom',\n        timeout:          6000,\n        btnVariant:       'primary',\n        callbackBuilt:    () => {},\n        callbackRender:   () => {},\n        callbackDismiss:  () => {},        \n        callbackValidate: () => { return true; }\n    };\n\n    /**\n     * Notification\n     *\n     * The Notification class is a utility class used to\n     * display a notification.\n     *\n     */\n    const Notification = function(options)\n    {\n        this._options = {...DEFAULT_OPTIONS, ...options };\n\n        this._buildNotificationContainer();\n\n        this._build();\n\n        this._render();\n\n        this._bindListeners();\n    }\n\n    /**\n     * Returns the notification element.\n     *\n     * @access {public}\n     */\n    Notification.prototype.domElement = function()\n    {\n        return this._notification;\n    }\n\n    /**\n     * Remove the notification.\n     *\n     * @access {public}\n     */\n    Notification.prototype.remove = function()\n    {\n        clearTimeout(this._timeout);\n\n        const wrappper = this._DOMElementWrapper;\n\n        add_class(this._notification, this._animateOutClass);\n        \n        remove_class(this._notification, this._animateInClass);\n\n        this._makeCallback(this._options.callbackDismiss);\n\n        setTimeout(() =>\n        {\n            if (wrappper.children.length === 0) remove_class(wrappper, 'active');\n\n            remove_from_dom(this._notification);\n\n        }, 300);\n    }\n\n    /**\n     * Build the notification container\n     *\n     * @access {private}\n     */\n    Notification.prototype._buildNotificationContainer = function()\n    {\n        this._wrapperClass = `.js-nofification-wrap.position-${this._options.position}`;\n\n        let wrapper = find(this._wrapperClass);\n\n        if (!wrapper)\n        {\n            wrapper = dom_element({tag: 'div', class: `notification-wrap position-${this._options.position} js-nofification-wrap`}, document.body);\n        }\n\n        this._DOMElementWrapper = wrapper;\n    }\n\n    /**\n     * Build the notification\n     *\n     * @access {private}\n     */\n    Notification.prototype._build = function()\n    {        \n        let options = this._options;\n\n        this._animateInClass = this._animateIn();\n\n        this._animateOutClass = this._animateOut();\n\n        let notif = dom_element({tag: 'div', class: `msg ${options.closebtn || options.btn ? 'msg-with-btn' : ''} ${options.responsive ? 'msg-responsive' : ''} ${options.stacked ? 'msg-stacked' : ''} ${options.variant ? `msg-${options.variant}` : ''} ${options.dense ? 'msg-dense' : ''} ${this._animateInClass}`} );\n        \n        if (options.closebtn)\n        {\n            dom_element({tag: 'button', type: 'button', role: 'button', ariaLabel: 'close', class: 'btn btn-pure btn-xs btn-circle btn-msg-close js-notif-btn' }, notif, dom_element({tag: 'span', class: 'fa fa-xmark' }));\n        }\n\n        if (options.icon)\n        {\n            dom_element({tag: 'div', class: 'msg-icon' }, notif, dom_element({tag: 'span', class: `fa fa-${options.icon}` }));\n        }\n\n        dom_element({tag: 'div', class: 'msg-body'}, notif, options.text.trim().startsWith('<') ? options.text : dom_element({tag: 'p', innerHTML: options.text }) );\n\n        if (options.btn)\n        {\n            this._btn = dom_element({tag: 'div', class: 'msg-btn' }, notif, options.btn.trim().startsWith('<') ? options.btn : dom_element({tag: 'button', class: `btn btn-pure btn-${options.btnVariant} btn-sm js-notif-btn`, innerText: options.btn }));\n            \n            add_class(find_all('button', this._btn), 'js-notif-btn');\n        }\n\n        this._notification = notif;\n\n        this._makeCallback(this._options.callbackBuilt);\n    }\n\n    /**\n     * Build the notification\n     *\n     * @access {private}\n     */\n    Notification.prototype._animateIn = function()\n    {\n        if (this._options.position.includes('top')) return 'animate-in-down';\n\n        return 'animate-in-up';\n    }\n\n     /**\n     * Build the notification\n     *\n     * @access {private}\n     */\n    Notification.prototype._animateOut = function()\n    {\n        if (this._options.position.includes('top')) return 'animate-out-up';\n\n        return 'animate-out-down';\n    }\n\n    /**\n     * Render the notification.\n     *\n     * @access {private}\n     */\n    Notification.prototype._render = function()\n    {\n        add_class(this._DOMElementWrapper, 'active');\n\n        this._DOMElementWrapper.appendChild(this._notification);\n\n        this._notification.offsetHeight;\n\n        this._makeCallback(this._options.callbackRender);\n\n    }\n\n    /**\n     * Render the notification.\n     *\n     * @access {private}\n     */\n    Notification.prototype._removeValidate = function()\n    {\n        if (this._makeCallback(this._options.callbackValidate)) this.remove();\n    }\n\n    /**\n     * Render the notification.\n     *\n     * @access {private}\n     */\n    Notification.prototype._bindListeners = function()\n    {\n        if (this._options.timeout !== false)\n        {\n            this._timeout = setTimeout(() => this._removeValidate(), this._options.timeout);\n        }\n\n        on(this._options.closebtn || this._options.btn ? find_all('.js-notif-btn', this._notification) : this._notification, 'click', this._removeValidate, this);\n    }\n\n    /**\n     * Fire callbacks.\n     *\n     * @access {private}\n     */\n    Notification.prototype._makeCallback = function(callback,)\n    {\n        if (callback) return callback(this._notification);\n    }\n\n    // Add to container\n    frontbx.set('Notification', Notification);\n\n})();\n(function()\n{\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, in_dom, normalize_url, is_string, coordinates, height, animate] = frontbx.import(['find','in_dom','normalize_url','is_string','coordinates','height','animate']).from('_');\n\n    /**\n     * Default options\n     * \n     * @var {object}\n     */\n    const DEFAULT_OPTIONS =\n    {\n        'speed'     : 500,\n        'easing'    : 'easeInOutCubic',\n        'updateURL' : true,\n    };\n\n    /**\n     * Smooth scroll to an element or id\n     *\n     * @access {private}\n     */\n    function SmoothScroll(nodeOrId, options)\n    {\n        options = {...DEFAULT_OPTIONS, ...options};\n\n        let DOMElement = is_string(nodeOrId) ? find(nodeOrId) : nodeOrId;\n\n        if (!in_dom(DOMElement)) return;\n\n        let pos = coordinates(DOMElement).top;\n\n        let url = normalize_url(window.location.href);\n\n        let isHashable = is_string(nodeOrId);\n\n        let fixednav = find('.navbar.navbar-fixed');\n\n        if (fixednav)\n        {\n            let h = height(fixednav);\n\n            if (pos >= h)\n            {\n                pos = pos - h;\n            }\n        }\n\n        const complete = function()\n        {\n            window.history.replaceState({}, \"\", nodeOrId);\n        }\n\n        animate(window, { property : 'scrollTo', to: `0, ${pos}`,  easing: options.easing, duration: options.speed, callback: isHashable && options.updateURL ? complete : null});\n    }\n\n\n    // Load into frontbx DOM core\n    frontbx.set('SmoothScroll', SmoothScroll);\n\n})();\n(function()\n{\n    /**\n     * JS Helper reference\n     * \n     * @var {object}\n     */\n    const [is_htmlElement, dom_element, remove_class] = frontbx.import(['is_htmlElement', 'dom_element', 'remove_class']).from('_');\n\n    /**\n     * Create popover.\n     * \n     * @param  {object} options\n     * @return {Object}\n     */\n    function popover(options)\n    {\n        if (typeof options.content === 'string')\n        {\n            let contents = [];\n\n            if (options.title)\n            {\n                contents.push(dom_element({tag: 'h5', class: 'popover-title'}, null, options.title));\n            }\n\n            contents.push(dom_element({tag: 'div', class: 'popover-content'}, null, dom_element({tag: 'p'}, null, options.content)));\n\n            options.content = contents;\n        }\n        else if (is_htmlElement(options.content))\n        {\n            remove_class(options.content, 'hidden');\n\n            options.content.style = '';\n        }\n\n        let handler = frontbx.get('PopHandler', options);\n\n        handler.render();\n\n        return handler;\n    }\n\n    // Load into container \n    frontbx.set('Popover', popover);\n\n})();\n(function()\n{\n    /**\n     * Cached helper functions.\n     * \n     * @var {functions}\n     */\n    const [on, off, _map, is_regexp] = frontbx.import(['on', 'off', 'map', 'is_regexp']).from('_');\n\n    /**\n     * Regex masks\n     * \n     * @var {object}\n     */\n    const MASK_MAP = \n    {\n        creditcard: /[0-9]/,\n        money: /[0-9.]/,\n        numeric: /[0-9]/,\n        numericdecimal: /[0-9.]/,\n        alphanumeric: /[A-z0-9-]/,\n        alphaspace: /[A-z ]/,\n        alphadash: /[A-z-]/,\n        alphanumericdash: /[A-z0-9-]/,\n    };\n\n    /**\n     * Credit card formatters.\n     * \n     * @var {function}\n     */\n    const _format_464 = function(cc)\n    {\n        return [cc.substring(0,4),cc.substring(4,10),cc.substring(10,14)].join(' ').trim()\n    };\n    const _format_465 = function(cc)\n    {\n        return [cc.substring(0,4),cc.substring(4,10),cc.substring(10,15)].join(' ').trim()\n    };\n    const _format_4444 = function(cc)\n    {\n        return cc?cc.match(/[0-9]{1,4}/g).join(' '):''\n    };\n\n    /**\n     * Credit card formatting.\n     * \n     * @var {object}\n     */\n    const _CARD_TYPES =\n    [\n        {'type':'visa','pattern':/^4/, 'format': _format_4444, 'maxlength': 19},\n        {'type':'master','pattern':/^((5[12345])|(2[2-7]))/, 'format': _format_4444, 'maxlength': 16},\n        {'type':'amex','pattern':/^3[47]/, 'format': _format_465, 'maxlength':15},\n        {'type':'jcb','pattern':/^35[2-8]/, 'format': _format_465, 'maxlength':19},\n        {'type':'maestro','pattern':/^(5018|5020|5038|5893|6304|6759|676[123])/, 'format': _format_4444, 'maxlength':19},\n        {'type':'discover','pattern':/^6[024]/, 'format': _format_4444, 'maxlength':19},\n        {'type':'instapayment','pattern':/^63[789]/, 'format': _format_4444, 'maxlength':16},\n        {'type':'diners_club','pattern':/^54/, 'format': _format_4444, 'maxlength':16},\n        {'type':'diners_club_international','pattern':/^36/, 'format': _format_464, 'maxlength':14},\n        {'type':'diners_club_carte_blanche','pattern':/^30[0-5]/, 'format': _format_464, 'maxlength':14}\n    ];\n\n    /**\n     * Component constructor.\n     *\n     * @constructor\n     * @param       {DOMElement}  element  Input element\n     * @param       {string}      mask     Supported mask name or regex filter as string\n     * @param       {string}      format   Optional format e.g (xxxx-xxxx-xxxx-xxxx);\n     */\n    const InputMasker = function(element, mask, format)\n    {\n        this.DOMElement = element;\n\n        this.maskRegexp = this._getMaskRegexp(mask);\n\n        this.format = !format ? null : this._buildFormatRegexp(format);\n\n        this.maskName = mask;\n\n        this.handler = function(){};\n\n        this._bind();\n\n    }\n\n    /**\n     * Disable the mask\n     *\n     * @access {public}\n     */\n    InputMasker.prototype.destroy = function()\n    {\n        off(this.DOMElement, 'input', this.handler);\n        off(this.DOMElement, 'paste', this.handler);\n    }\n\n    /**\n     * Binds input events.\n     *\n     * @access {private}\n     */\n    InputMasker.prototype._bind = function()\n    {\n        var _this      = this;\n        var DOMElement = this.DOMElement;\n        var maskRegexp = this.maskRegexp;\n        var format     = this.format;\n        var isCC       = _this.maskName === 'creditcard';\n\n        const _handler = function(e)\n        {\n            e = e || window.event;\n\n            _this._handle(DOMElement, DOMElement.value, maskRegexp, isCC);\n        }\n\n        this.handler = _handler;\n\n        on(this.DOMElement, 'input', _handler);\n        on(this.DOMElement, 'paste', _handler);\n    }\n\n    /**\n     * Get or builds mask regexp.\n     *\n     * @access {private}\n     * @param  {string}  mask\n     * @return {RegExp}\n     */\n    InputMasker.prototype._getMaskRegexp = function(mask)\n    {\n        if (is_regexp(mask)) return mask;\n        \n        let regexp = MASK_MAP[mask.replaceAll('-', '').toLowerCase()];\n\n        if (!regexp)\n        {\n            return new RegExp(mask);\n        }\n\n        return regexp;\n    }\n\n    /**\n     * Builds custom format values.\n     *\n     * @access {private}\n     * @param  {string}  format Formatting string\n     * @return {object}\n     */\n    InputMasker.prototype._buildFormatRegexp = function(format)\n    {\n        let raw        = format;\n        let seperators = format.split('x').filter((x) => x !== '');\n        let regexp     = new RegExp(_map(format.split(/[^x]/), (i, x) => x.includes('x') ? `(.{0,${x.length}})` : false ).join(''));\n        let prefix     = format.startsWith('x') ? '' : seperators.shift();\n        let suffix     = format.endsWith('x') ? '' : seperators.pop();\n        let len        = (raw.length -suffix.length);\n\n        return { seperators, regexp, prefix, suffix, raw, len };\n    }\n\n    /**\n     * Custom format function.\n     *\n     * @access {private}\n     * @param  {string}  str\n     * @return {str}\n     */\n    InputMasker.prototype._formatFilter = function(str)\n    {\n        // Regex filter\n        str = _map(str.split(''), (x, char) => !this.maskRegexp.test(char) ? null : char ).join('');\n\n        // Ignore or no formatting\n        if (str === '' || !this.format) return str;\n\n        // Cache seperators\n        let { seperators, regexp, prefix, suffix, raw, len } = this.format;\n\n        let splits = _map(str.match(regexp).slice(1), (i, str) => str === '' ? false : str);\n        let mapped = _map(splits, function(i, match)\n        {\n            return i === 0 ? prefix + match : seperators[i-1] + match;\n            \n        }).join('');\n\n        if (mapped.length === len)\n        {\n            mapped += suffix;\n        }\n\n        return mapped;\n    }\n\n    /**\n     * Sepcial handler for creditcard\n     *\n     * @access {private}\n     */\n    InputMasker.prototype._formatCC = function(cc)\n    {           \n        cc = cc.replaceAll(/[^0-9]/g, '');\n\n        for(var i in _CARD_TYPES)\n        {\n            const ct = _CARD_TYPES[i];\n\n            if (cc.match(ct.pattern))\n            {\n                cc = cc.substring(0, ct.maxlength)\n                \n                return ct.format(cc);\n            }\n        }\n\n        cc = cc.substring(0,19);\n\n        return _format_4444(cc);\n    }\n\n    /**\n     * Handles input event\n     *\n     * @access {private}\n     * @param  {DOMElement} DOMElement\n     * @param  {string}     oldval     \n     * @param  {RegExp}     maskRegexp \n     * @param  {bool}       isCC \n     */\n    InputMasker.prototype._handle = function(DOMElement, oldval, maskRegexp, isCC)\n    {\n        // Filter\n        let newVal = isCC ? this._formatCC(oldval) : this._formatFilter(oldval);\n\n        // Ignore no change\n        if (newVal == oldval) return;\n\n        // Set position and format\n        var pos          = DOMElement.selectionStart;\n        var before_caret = oldval.substring(0, pos);\n        before_caret     = isCC ? this._formatCC(oldval) : this._formatFilter(before_caret);\n        pos              = before_caret.length;\n        \n        DOMElement.value = newVal;\n        DOMElement.focus();\n        DOMElement.setSelectionRange(pos,pos);\n    }\n\n    // SET IN IOC\n    frontbx.set('InputMasker', InputMasker);\n\n})();\n(function()\n{\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find_all, add_class, attr, bool, closest, each, form_inputs, form_values, on, off, input_value, is_callable, is_empty, remove_class] = frontbx.import(['find_all','add_class','attr','bool','closest','each','form_inputs','form_values','on','off','input_value','is_callable','is_empty','remove_class']).from('_');\n\n    /**\n     * Validator functions\n     *\n     * @access {private}\n     * @return {boolean}\n     */\n    const VALIDATORS = \n    {\n        specialchars: ['!', '\"', '`', '#', 'find', '%', '&', '\\'', '(', ')', '*', '+', '-', '.', '/', ':', ';', '<', '=', '>', '?', '@', '[', ']', '^', '_', '{', '|', '}', '~'],\n\n        email: function(value)\n        {\n            var re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n            return re.test(value);\n        },\n        name: function(value)\n        {\n            return /[^A-z'\\ -'❜]/.test(value) === false;\n        },\n        password: function(value)\n        {   \n            if (!VALIDATORS.minlength(value, 6) || !VALIDATORS.maxlength(value, 40)) return false;\n\n            let chars = `${value}`;\n            let valid = false;\n\n            each(VALIDATORS.specialchars, (i, char) =>\n            {\n                if (value.includes(char))\n                {\n                    valid = true;\n\n                    return false;\n                }\n            });\n\n            return valid;\n        },\n        url: function(value)\n        {\n            re = /^(www\\.|[A-z]|https:\\/\\/www\\.|http:\\/\\/|https:\\/\\/)[a-z0-9]+([\\-\\.]{1}[a-z0-9]+)*\\.[a-z]{2,5}(:[0-9]{1,5})?(\\/.*)?$/;\n            return re.test(value);\n        },\n        alpha: function(value)\n        {\n            return /[^A-z]/.test(value) === false;\n        },\n        alphaspace: function(value)\n        {\n            return /[^A-z ]/.test(value) === false;\n        },\n        alphanumeric: function(value)\n        {\n            return /[^A-z0-9]/.test(value) === false;\n        },\n        alphadash: function(value)\n        {\n            return /[^A-z-]/.test(value) === false;\n        },\n        alphadot: function(value)\n        {\n            return /[^A-z\\.]/.test(value) === false;\n        },\n        alphadashdot: function(value)\n        {\n            return /[^A-z\\.-]/.test(value) === false;\n        },\n        alphadashes: function(value)\n        {\n            return /[^A-z-_]/.test(value) === false;\n        },\n        alphadashesdot: function(value)\n        {\n            return /[^A-z-_\\.]/.test(value) === false;\n        },\n        alphanumericdash: function(value)\n        {\n            return /[^A-z0-9-]/.test(value) === false;\n        },\n        alphanumericdot: function(value)\n        {\n            return /[^A-z0-9\\.]/.test(value) === false;\n        },\n        alphanumericdashdot: function(value)\n        {\n            return /[^A-z0-9\\.-]/.test(value) === false;\n        },\n        alphanumericdashesdot: function(value)\n        {\n            return /[^A-z0-9\\._-]/.test(value) === false;\n        },\n        numeric: function(value)\n        {\n            return /[^0-9]/.test(value) === false;\n        },\n        numericdecimal: function(value)\n        {\n            return /[^0-9\\.]/.test(value) === false;\n        },\n        list: function(value)\n        {\n            var re = /^[-\\w\\s]+(?:,[-\\w\\s]*)*$/;\n\n            return re.test(value);\n        },\n        creditcard: function(value)\n        {\n            /*Amex Card: ^3[47][0-9]{13}$\n            BCGlobal: ^(6541|6556)[0-9]{12}$\n            Carte Blanche Card: ^389[0-9]{11}$\n            Diners Club Card: ^3(?:0[0-5]|[68][0-9])[0-9]{11}$\n            Discover Card: ^65[4-9][0-9]{13}|64[4-9][0-9]{13}|6011[0-9]{12}|(622(?:12[6-9]|1[3-9][0-9]|[2-8][0-9][0-9]|9[01][0-9]|92[0-5])[0-9]{10})$\n            Insta Payment Card: ^63[7-9][0-9]{13}$\n            JCB Card: ^(?:2131|1800|35\\d{3})\\d{11}$\n            KoreanLocalCard: ^9[0-9]{15}$\n            Laser Card: ^(6304|6706|6709|6771)[0-9]{12,15}$\n            Maestro Card: ^(5018|5020|5038|6304|6759|6761|6763)[0-9]{8,15}$\n            Mastercard: ^(5[1-5][0-9]{14}|2(22[1-9][0-9]{12}|2[3-9][0-9]{13}|[3-6][0-9]{14}|7[0-1][0-9]{13}|720[0-9]{12}))$\n            Solo Card: ^(6334|6767)[0-9]{12}|(6334|6767)[0-9]{14}|(6334|6767)[0-9]{15}$\n            Switch Card: ^(4903|4905|4911|4936|6333|6759)[0-9]{12}|(4903|4905|4911|4936|6333|6759)[0-9]{14}|(4903|4905|4911|4936|6333|6759)[0-9]{15}|564182[0-9]{10}|564182[0-9]{12}|564182[0-9]{13}|633110[0-9]{10}|633110[0-9]{12}|633110[0-9]{13}$\n            Union Pay Card: ^(62[0-9]{14,17})$\n            Visa Card: ^4[0-9]{12}(?:[0-9]{3})?$\n            Visa Master Card: ^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14})$*/\n\n            var arr = [0, 2, 4, 6, 8, 1, 3, 5, 7, 9];\n            var ccNum = String(value).replace(/[- ]/g, '');\n\n            var\n                len = ccNum.length,\n                bit = 1,\n                sum = 0,\n                val;\n\n            while (len)\n            {\n                val = parseInt(ccNum.charAt(--len), 10);\n                sum += (bit ^= 1) ? arr[val] : val;\n            }\n\n            return sum && sum % 10 === 0;\n        },\n        minlength: function(value, min)\n        {\n            value = `${value}`;\n\n            return value.length >= parseInt(min);\n        },\n        maxlength: function(value, max)\n        {\n            value = `${value}`;\n\n            return value.length <= parseInt(max);\n        }\n    };\n\n    /**\n     * FormValidator\n     *\n     * This class is used to validate a form and \n     * also apply and classes to display form results and input errors.\n     *\n     */\n    const FormValidator = function(form)\n    {\n        // Save inputs\n        this._formEl = form;\n        this._inputs = form_inputs(form);\n\n        // Defaults\n        this._ruleSets = [];\n        this._formObj  = {};\n        this._valid    = false;\n\n        // Initialize\n        this._buildRuleSets();\n    }\n\n    /**\n     * Validate the form.\n     *\n     * @access {public}\n     * @return {boolean}\n     */\n    FormValidator.prototype.validate = function()\n    {\n        // Remove all listeners\n        this._unListen();\n\n        // Clear any invalids\n        this._clearForm();\n\n        // Validate inputs\n        this._validateRuleSets();\n\n        // Show invalid inputs\n        each(this._ruleSets, (i, ruleset) =>\n        {\n            if (!ruleset.valid) this._devalidateField(ruleset.node, ruleset.failClass);\n        });\n\n        // Listen to input changes.\n        this._listen();\n\n        return this._valid;\n    }\n\n    /**\n     * Destroy the validator.\n     *\n     * @access {public}\n     */\n    FormValidator.prototype.destroy = function()\n    {\n        this._unListen();\n\n        this._clearForm();\n\n        each(this._ruleSets, (i, ruleset) =>\n        {\n            this._validateField(ruleset.node, ruleset.failClass);\n        });\n    }\n\n    /**\n     * Show form result\n     *\n     * @access {public}\n     */\n    FormValidator.prototype.showResult = function(result)\n    {\n        this._clearForm();\n\n        add_class(this._formEl, result);\n    }\n\n    /**\n     * Append a key/pair and return form obj\n     *\n     * @access {public}\n     * @return {obj}\n     */\n    FormValidator.prototype.append = function(key, value)\n    {\n        this._formObj[key] = value;\n\n        let form = this.form();\n\n        return {...form, ...this._formObj};\n    };\n\n    /**\n     * Get the form object\n     *\n     * @access {public}\n     * @return {obj}\n     */\n    FormValidator.prototype.form = function()\n    {\n        return form_values(this._formEl);\n    }\n\n    /**\n     * Build validation rule sets.\n     *\n     * @access {private}\n     */\n    FormValidator.prototype._buildRuleSets = function()\n    {\n        each(this._inputs, (i, input) =>\n        {\n            // No name or radio\n            if (!input.name) return;\n\n            let node = input;\n\n            let required   = bool(attr(input, 'data-js-required') || attr(input, 'required'));\n            let minlength  = attr(input, 'data-js-min-length') || attr(input, 'minlength');\n            let maxlength  = attr(input, 'data-js-max-length') || attr(input, 'maxlength');\n            let valid      = true;\n            let validation = this._validationFunc(attr(input, 'data-js-validation'));\n            let failClass  = attr(input, 'data-js-validation-fail') || 'danger'; \n\n            this._ruleSets.push({node, required, minlength, maxlength, validation, failClass, valid});\n        });\n    }\n\n    /**\n     * Returns the validation callback function by name.\n     *\n     * @access {private}\n     * @param  {String}   name Validation name\n     * @return {Function}\n     */\n    FormValidator.prototype._validationFunc = function(name)\n    {\n        if (!name) return;\n\n        let key = name.replaceAll('-', '').toLowerCase();\n\n        if (!VALIDATORS[key]) throw new error(`Unsupported input validation [${name}].`)\n\n        return VALIDATORS[key];\n    }\n\n    /**\n     * Validate all rule sets.\n     *\n     * @access {private}\n     * @return {Boolean}\n     */\n    FormValidator.prototype._validateRuleSets = function()\n    {\n        this._valid = true;\n\n        each(this._ruleSets, (i, ruleset) => { this._validateRuleSet(ruleset) });\n        \n        return this._valid;\n    }\n\n    /**\n     * Validate an individual ruleset.\n     *\n     * @access {private}\n     * @param  {Object}  ruleset Ruleset to validate\n     * @return {Boolean}\n     */\n    FormValidator.prototype._validateRuleSet = function(ruleset)\n    {\n        let value = input_value(ruleset.node);\n\n        // Skip radios, they don't have any validation\n        if (ruleset.node.type === 'radio') return true;\n        \n        if (ruleset.required && is_empty(value))\n        {\n            this._valid = false;\n            ruleset.valid = false;\n        }\n        else if (ruleset.minlength && !VALIDATORS.minlength.call(null, value, ruleset.minlength))\n        {\n            this._valid = false;\n            ruleset.valid = false;\n        }\n        else if (ruleset.maxlength && !VALIDATORS.maxlength.call(null, value, ruleset.maxlength))\n        {\n            this._valid = false;\n            ruleset.valid = false;\n        }\n        else if (is_callable(ruleset.validation) && !ruleset.validation.call(null, value))\n        {\n            this._valid = false;\n            ruleset.valid = false;\n        }\n        else\n        {\n            ruleset.valid = true;\n        }\n\n        return ruleset.valid;\n    }\n\n    /**\n     * Listen to input\n     *\n     * @access {private}\n     * @param  {HTMLElement} node Input\n     */\n    FormValidator.prototype._listen = function()\n    {\n        each(this._ruleSets, (i, ruleset) => \n        {\n            on(ruleset.node, 'input, change', this._liveValidate, this);\n        });\n    }\n\n    /**\n     * Listen to inputs.\n     *\n     * @access {private}\n     */\n    FormValidator.prototype._unListen = function()\n    {\n        each(this._ruleSets, (i, ruleset) => \n        {\n            off(ruleset.node, 'input, change', this._liveValidate, this);\n        });\n    }\n\n    /**\n     * Live validate an input.\n     *\n     * @access {private}\n     * @param  {Object}      e     Event\n     * @param  {HTMLElement} input Input\n     */\n    FormValidator.prototype._liveValidate = function(e, input)\n    {\n        each(this._ruleSets, (i, ruleset) => \n        {\n            if (ruleset.node === input)\n            {\n                let valid = this._validateRuleSet(ruleset);\n\n                valid ? this._validateField(input, ruleset.failClass) : this._devalidateField(input, ruleset.failClass);\n            }\n        });\n    }\n\n    /**\n     * Show form field as valid.\n     *\n     * @access {private}\n     * @param  {HTMLElement} node Input\n     */\n    FormValidator.prototype._validateField = function(input, failClass)\n    {\n        let fieldWrap = closest(input, '.form-field');\n\n        if (fieldWrap) remove_class(fieldWrap, ['info', 'success', 'warning', 'danger', failClass]);\n    }\n\n    /**\n     * Show form field as invalid.\n     *\n     * @access {private}\n     */\n    FormValidator.prototype._devalidateField = function(input, failClass)\n    {\n        let fieldWrap = closest(input, '.form-field');\n\n        if (fieldWrap) add_class(fieldWrap, failClass);\n    }\n\n    /**\n     * Clear form results.\n     *\n     * @access {private}\n     */\n    FormValidator.prototype._clearForm = function()\n    {\n        // Remove the form result\n        remove_class(this._formEl, ['info', 'success', 'warning', 'danger']);\n    }\n\n    // Load into container\n    frontbx.set('FormValidator', FormValidator);\n\n})();\n\n// JSX\n(function()\n{\n\t/**\n\t * Currently rendering Component.\n\t *\n\t * @var  {Osbject}\n\t */\n\tconst CURR_RENDER =\n\t{\n\t    current: null\n\t};\n\t\n\t/**\n\t * Bindings / variable caching.\n\t *\n\t * @var  {Osbject}\n\t */\n\tconst BINDINGS_CACHE = {};\n\t\n\t// Assume a browser environment.\n\tconst RESERVED_WORDS =\n\t[\n\t    'break',\n\t    'do',\n\t    'in',\n\t    'typeof',\n\t    'case',\n\t    'else',\n\t    'instanceof',\n\t    'var',\n\t    'let',\n\t    'catch',\n\t    'export',\n\t    'new',\n\t    'void',\n\t    'class',\n\t    'extends',\n\t    'return',\n\t    'while',\n\t    'const',\n\t    'finally',\n\t    'super',\n\t    'with',\n\t    'continue',\n\t    'for',\n\t    'switch',\n\t    'yield',\n\t    'debugger',\n\t    'function',\n\t    'this',\n\t    'delete',\n\t    'import',\n\t    'try',\n\t    'enum',\n\t    'implements',\n\t    'package',\n\t    'protected',\n\t    'static',\n\t    'interface',\n\t    'private',\n\t    'public',\n\t    'eval',\n\t    'global',\n\t    'process',\n\t    'module',\n\t    'require',\n\t    'document',\n\t    'window',\n\t    'Window',\n\t    'Function',\n\t    'JSON',\n\t    'Object',\n\t    'Array',\n\t    'String',\n\t    'Boolean',\n\t    'Number',\n\t    'Date',\n\t    'RegExp',\n\t    'Error',\n\t    'EvalError',\n\t    'RangeError',\n\t    'ReferenceError',\n\t    'SyntaxError',\n\t    'TypeError',\n\t    'URIError',\n\t    'frontbx',\n\t    'jsx',\n\t    '__defineGetter__',\n\t    '__defineSetter__',\n\t    '__lookupGetter__',\n\t    '__lookupSetter__',\n\t    '__proto__',\n\t    'callee',\n\t    'caller',\n\t    'constructor',\n\t    'hasOwnProperty',\n\t    'isPrototypeOf',\n\t    'propertyIsEnumerable',\n\t    'prototype',\n\t    'toLocaleString',\n\t    'toString',\n\t    'valueOf',\n\t];\n\t\n\t/**\n\t * Fragment.\n\t *\n\t * @var  {Function}\n\t */\n\tconst Fragment = function(props)\n\t{\n\t    return props.children;\n\t}\n\t\n\t/**\n\t * Local lexer.\n\t * \n\t * @var {Function}\n\t */\n\tvar lexer;\n\t\n\t/**\n\t * Local tokenizer.\n\t * \n\t * @var {Function}\n\t */\n\tvar Tokenizer;\n\t\n\t/**\n\t * Local parser.\n\t * \n\t * @var {Function}\n\t */\n\tvar Parser;\n\t\n\t/**\n\t * Local createElement.\n\t * \n\t * @var {Function}\n\t */\n\tvar createElement;\n\t\n\t/**\n\t * Local sanbox.\n\t * \n\t * @var {Function}\n\t */\n\tvar sandbox;\n\t\n\t/**\n\t * Local jsx.\n\t * \n\t * @var {Function}\n\t */\n\tvar jsx;\n\t(function()\n\t{    \n\t    /**\n\t     * Utility Regexes.\n\t     * \n\t     * @var {Regexp}\n\t     */\n\t    const SPACE = /[\\t\\r\\n\\f ]/;\n\t    const ALPHA = /[A-z]/;\n\t    const ALPHA_DASH = /[A-z-]/;\n\t    const QUOTES = ['\"', '\\'', '`'];\n\t\n\t    /**\n\t     * Void tags.\n\t     * \n\t     * @var {Array}\n\t     */\n\t    const VOID_ELS =\n\t    [\n\t        'area',\n\t        'base',\n\t        'br',\n\t        'circle',\n\t        'col',\n\t        'ellipse',\n\t        'embed',\n\t        'hr',\n\t        'img',\n\t        'input',\n\t        'line',\n\t        'link',\n\t        'meta',\n\t        'param',\n\t        'polygon',\n\t        'polyline',\n\t        'rect',\n\t        'source',\n\t        'track',\n\t        'use',\n\t        'wbr',\n\t        'doctype',\n\t    ];\n\t\n\t    /**\n\t     * Lexer.\n\t     * \n\t     * @param {String}   html\n\t     * @param {Function} emit\n\t     */\n\t    const Lexer = function(html, emit)\n\t    {\n\t        this.html = html;\n\t        this.emit = emit;\n\t        this.currentTag  = null;\n\t        this.pos         = 0;\n\t        this.braceDepth  = 0;\n\t        this.attrValStack = [];\n\t    }\n\t\n\t    /**\n\t     * Parse and emit.\n\t     * \n\t     * @access {public}\n\t     */\n\t    Lexer.prototype.parse = function()\n\t    {\n\t        let scan = 'text';\n\t\n\t        while (scan = this[scan](this.peek()));\n\t\n\t        if (this.html === '')\n\t        {\n\t            scan = null;\n\t\n\t            this.complete();\n\t        }\n\t    }\n\t\n\t    /**\n\t     * next.\n\t     * \n\t     * @access {private}\n\t     * @return {String}\n\t     */\n\t    Lexer.prototype.next = function()\n\t    {\n\t        return this.html.charAt(this.pos++);\n\t    }\n\t\n\t    /**\n\t     * peek next.\n\t     * \n\t     * @access {private}\n\t     * @return {String}\n\t     */\n\t    Lexer.prototype.peek = function()\n\t    {\n\t        return this.html.charAt(this.pos);\n\t    }\n\t\n\t    /**\n\t     * peek next.\n\t     * \n\t     * @access {private}\n\t     * @return {String}\n\t     */\n\t    Lexer.prototype.peekback = function()\n\t    {\n\t        return this.html.charAt(this.pos -1);\n\t    }\n\t\n\t    /**\n\t     * peek n chars.\n\t     * \n\t     * @access {private}\n\t     * @param  {Integer} n\n\t     * @return {String}\n\t     */\n\t    Lexer.prototype.peekn = function(n)\n\t    {            \n\t        return this.html.slice(this.pos, this.pos + n);\n\t    }\n\t\n\t    /**\n\t     * Chunk position buffer.\n\t     * \n\t     * @access {private}\n\t     * @return {String}\n\t     */\n\t    Lexer.prototype.chunk = function()\n\t    {\n\t        let buff = this.html.slice(0, this.pos);\n\t        \n\t        this.consume(this.pos);\n\t\n\t        return buff;\n\t    }\n\t\n\t    /**\n\t     * consume n chars.\n\t     * \n\t     * @access {private}\n\t     * @param  {Integer} n\n\t     */\n\t    Lexer.prototype.consume = function(n)\n\t    {\n\t        this.html = this.html.substr(n);\n\t\n\t        this.pos  = 0;\n\t    }\n\t\n\t    /**\n\t     * consume whitespace.\n\t     * \n\t     * @access {private}\n\t     */\n\t    Lexer.prototype.whitespace = function()\n\t    {\n\t        while (SPACE.test(this.peek()) && this.next());\n\t\n\t        this.consume(this.pos);\n\t    }\n\t\n\t    /**\n\t     * Scan until chars\n\t     * \n\t     * @access {private}\n\t     * @return {Boolean}\n\t     */\n\t    Lexer.prototype.scan = function(chars)\n\t    {\n\t        let len = chars.length;\n\t\n\t        while (this.peekn(len) !== chars)\n\t        {\n\t            if (!this.next()) break;\n\t        }\n\t\n\t        return this.html.slice(0, this.pos);\n\t    }\n\t\n\t    /**\n\t     * JSX spread attribute.\n\t     * \n\t     * @access {private}\n\t     * @return {String}\n\t     */\n\t    Lexer.prototype.bufferjsx = function()\n\t    {\n\t        let braceDepth = 0;\n\t\n\t        // Collect the intial spread\n\t        let jsx = this.buffer((char) =>\n\t        {\n\t            if (char === '{')\n\t            {\n\t                braceDepth++;\n\t            }\n\t            else if (char === '}')\n\t            {\n\t                braceDepth--;\n\t            }\n\t\n\t            if (braceDepth === 0) return true;\n\t        });\n\t\n\t        if (braceDepth > 0) throw new Error('Unclosed JSX bracket found');\n\t\n\t        this.next();\n\t\n\t        return this.chunk();\n\t    }\n\t\n\t    /**\n\t     * Buffer until callback on each char\n\t     * \n\t     * @access {private}\n\t     * @return {String}\n\t     */\n\t    Lexer.prototype.buffer = function(validator)\n\t    {\n\t        let buff = '';\n\t\n\t        while (!validator(this.peek(), buff))\n\t        {\n\t            let n = this.peek();\n\t\n\t            if (n === '') break;\n\t\n\t            buff += n;\n\t\n\t            this.next();\n\t        }\n\t        \n\t        return buff;\n\t    }\n\t\n\t    /**\n\t     * Complete.\n\t     * \n\t     */\n\t    Lexer.prototype.complete = function()\n\t    {\n\t        this.emit('complete');\n\t    }\n\t\n\t    /**\n\t     * Text default state.\n\t     * \n\t     * @access {private}\n\t     * @return {String}\n\t     */\n\t    Lexer.prototype.text = function()\n\t    {\n\t        if ('>' == this.peek()) this.consume(1);\n\t        \n\t        let next = false;\n\t\n\t        let buff = this.buffer((char) => \n\t        { \n\t            // JSX Func was left open\n\t            if (\n\t                    (\n\t                        this.braceDepth > 0 &&\n\t                        (char !== '>' && char !== '<') &&\n\t                        !this.currentTag\n\t                    ) \n\t                    ||\n\t                    (\n\t                        this.peekback() !== '\\\\' && \n\t                        (char === '{' || char === '}')\n\t                    )\n\t                )\n\t            {\n\t                next = 'jsx_block';\n\t\n\t                return true;\n\t            }\n\t\n\t            if (char === '<' && !SPACE.test(this.peek()))\n\t            {\n\t                next = 'tag_open';\n\t\n\t                return true;\n\t            }\n\t        });\n\t\n\t        if (buff && buff !== '<')\n\t        {\n\t            this.consume(buff.length);\n\t\n\t            this.emit('text', buff);\n\t        }\n\t\n\t        if (next === 'tag_open') this.consume(1);\n\t\n\t        return next;\n\t    }\n\t\n\t    /**\n\t     * Tag open.\n\t     * \n\t     * @access {private}\n\t     * @return {String}\n\t     */\n\t    Lexer.prototype.tag_open = function(char)\n\t    {                \n\t        // Markup declaration\n\t        if (char === '!')\n\t        {\n\t            this.consume(1);\n\t\n\t            return 'markup_declaration_open';\n\t        }\n\t\n\t        // Bogus tag\n\t        if (char === '?')\n\t        {\n\t            this.consume(1);\n\t\n\t            return 'bogus_tag';\n\t        }\n\t\n\t        // Close\n\t        if (char === '/')\n\t        {\n\t            this.consume(1);\n\t\n\t            return 'tag_close';\n\t        }\n\t\n\t        let tag = this.buffer(char => SPACE.test(char) || char === '>');\n\t\n\t        if (tag.length === 0) throw new Error('Empty tag name.');\n\t\n\t        this.consume(tag.length);\n\t\n\t        this.currentTag = tag;\n\t\n\t        this.emit('tag:open', tag);\n\t\n\t        return 'attr_key';\n\t    }\n\t\n\t    /**\n\t     * Tag close self close. Reached after \"/\" in a tag.\n\t     * \n\t     * @access {private}\n\t     * @return {String}\n\t     */\n\t    Lexer.prototype.tag_close_self = function()\n\t    {\n\t        // Consume any whitespace\n\t        this.whitespace();\n\t\n\t        // Emit and close the tag.\n\t        if ('>' === this.peek())\n\t        {\n\t            this.currentTag = null;\n\t\n\t            this.emit('tag:close:self', '');\n\t\n\t            return 'text';\n\t        }\n\t\n\t        // Fallback to error.\n\t        throw new Error('Invalid self closing tag.');\n\t    }\n\t\n\t    /**\n\t     * Tag close self close. Reached after \">\" in void tag.\n\t     * \n\t     * @access {private}\n\t     * @return {String}\n\t     */\n\t    Lexer.prototype.tag_close_void = function()\n\t    {\n\t        this.consume(1);\n\t\n\t        this.currentTag = null;\n\t\n\t        this.emit('tag:close:void');\n\t\n\t        return 'text';\n\t    }\n\t\n\t    /**\n\t     * Tag close.\n\t     * \n\t     * @access {private}\n\t     * @return {String}\n\t     */\n\t    Lexer.prototype.tag_close = function()\n\t    {\n\t        let tag = this.buffer(char => char === '>');\n\t        \n\t        this.consume(tag.length);\n\t        \n\t        this.emit('tag:close', tag);\n\t\n\t        this.currentTag = null;\n\t        \n\t        return 'text';\n\t    }\n\t\n\t    /**\n\t     * Attribute key.\n\t     * \n\t     * @access {private}\n\t     * @return {String}\n\t     */\n\t    Lexer.prototype.attr_key = function()\n\t    {\n\t        this.whitespace();\n\t\n\t        if ('>' === this.peek())\n\t        {\n\t            if (this.currentTag && VOID_ELS.includes(this.currentTag)) return 'tag_close_void';\n\t\n\t            this.consume(1);\n\t\n\t            return 'text';\n\t        }\n\t\n\t        if ('/' === this.peek())\n\t        {\n\t            this.consume(1);\n\t\n\t            return 'tag_close_self';\n\t        }\n\t\n\t        if ('{' === this.peek()) return 'attr_jsx_spread';\n\t        \n\t        let attr = this.buffer(char => SPACE.test(char) || char === '=' || char === '>');\n\t\n\t        this.consume(attr.length);\n\t        \n\t        if (attr) this.emit('attr:key', attr);\n\t\n\t        let peek = this.peek();\n\t\n\t        if (peek === '=')\n\t        {\n\t            this.consume(1);\n\t\n\t            return 'attr_val';\n\t        }\n\t\n\t        if (peek === '>')\n\t        {\n\t            if (this.currentTag && VOID_ELS.includes(this.currentTag)) return 'tag_close_void';\n\t\n\t            this.consume(1);\n\t\n\t            return 'text';\n\t        }\n\t\n\t        if (SPACE.test(peek))\n\t        {\n\t            this.consume(1);\n\t            \n\t            return 'attr_key';\n\t        }\n\t    }\n\t\n\t    /**\n\t     * Attribute value.\n\t     * \n\t     * @access {private}\n\t     * @return {String}\n\t     */\n\t    Lexer.prototype.attr_val = function()\n\t    {\n\t        // Clear out whitespace\n\t        this.whitespace();\n\t\n\t        if (this.peek() === '{') return 'attr_val_jsx';\n\t\n\t        let end;\n\t\n\t        if ('\"' == this.peek()) end = '\"';\n\t        \n\t        if ('\\'' == this.peek()) end = '\\'';\n\t\n\t        if (!end) throw new Error('Unquoted attribute value.');\n\t\n\t        // Remove starting quote\n\t        this.consume(1);\n\t\n\t        // Cache end marker\n\t        this.attrValEnd = end;\n\t\n\t        // Buffer untill closed or jsx is found\n\t        let buff = this.buffer(char => this.peekback() !== '\\\\' && (char === '{' || char === end ));\n\t\n\t        // JSX was found\n\t        if (this.peek() === '{')\n\t        {\n\t            this.consume(buff.length);\n\t\n\t            this.attrValStack.push(buff);\n\t            \n\t            return 'attr_val_interpolated';\n\t        }\n\t        \n\t        // Remove end quote plus value\n\t        this.consume(buff.length + 1);\n\t\n\t        this.emit('attr:val', buff);\n\t\n\t        // Stop\n\t        if (this.html === '') throw new Error('Unclosed attribute value.');\n\t\n\t        return 'attr_key';\n\t    }\n\t\n\t    /**\n\t     * When reached an opening jsx bracket \"{\" inside a quoted attribute value.\n\t     * \n\t     * @access {private}\n\t     * @return {String}\n\t     */\n\t    Lexer.prototype.attr_val_interpolated = function()\n\t    {\n\t        // Buffer untill closed or jsx is found\n\t        this.buffer(char => this.peekback() !== '\\\\' && char === '}');\n\t\n\t        // Add closing bracket\n\t        this.next();\n\t\n\t        // Consume buff\n\t        let jsx = this.chunk();\n\t        \n\t        // Push attr to stack\n\t        this.attrValStack.push(`\\$${jsx}`);\n\t\n\t        // Buffer to an opening jsx bracket or end of attribute vlaue\n\t        let buff = this.buffer(char => this.peekback() !== '\\\\' && (char === '{' || char === this.attrValEnd ));\n\t\n\t        // JSX was found\n\t        if (this.peek() === '{')\n\t        {\n\t            this.consume(buff.length);\n\t\n\t            this.attrValStack.push(buff);\n\t            \n\t            return 'attr_val_interpolated';\n\t        }\n\t\n\t        // Consume buff plus ending quote marker\n\t        this.consume(buff.length + 1);\n\t\n\t        // Don't empty quotes\n\t        if (buff.length >= 1) this.attrValStack.push(buff);\n\t\n\t        this.emit('attr:val:interpolated', this.attrValStack.join(''));\n\t\n\t        this.attrValStack = [];\n\t\n\t        return 'attr_key';\n\t    }\n\t\n\t    /**\n\t     * JSX atribute value.\n\t     * \n\t     * @access {private}\n\t     * @return {String}\n\t     */\n\t    Lexer.prototype.attr_val_jsx = function()\n\t    {\n\t        this.emit('attr:val:jsx', this.bufferjsx().trim());\n\t\n\t        return 'attr_key';\n\t    }\n\t\n\t    /**\n\t     * JSX spread attribute.\n\t     * \n\t     * @access {private}\n\t     * @return {String}\n\t     */\n\t    Lexer.prototype.attr_jsx_spread = function()\n\t    {\n\t        this.emit('attr:jsx:spread', this.bufferjsx().trim());\n\t\n\t        return 'attr_key';\n\t    }\n\t\n\t    /**\n\t     * Bogus tag.\n\t     * \n\t     * @access {private}\n\t     * @throws\n\t     */\n\t    Lexer.prototype.bogus_tag = function()\n\t    {\n\t        this.html = '';\n\t\n\t        throw new Error('Invalid [<?] tag in html.');\n\t    }\n\t\n\t    /**\n\t     * Comment open, cdata open or doctype declartion.\n\t     * \n\t     * @access {private}\n\t     * @return {String}\n\t     */\n\t    Lexer.prototype.markup_declaration_open = function()\n\t    {\n\t        let char = this.peek();\n\t\n\t        if (this.peekn(2) === '--')\n\t        {\n\t            this.consume(2);\n\t\n\t            return 'comment_start';\n\t        }\n\t\n\t        if (this.peek() === '[')\n\t        {\n\t            this.consume(1);\n\t\n\t            return 'cdata_start';\n\t        }\n\t        \n\t        this.whitespace();\n\t\n\t        if (ALPHA.test(this.peek())) return 'doc_type';\n\t\n\t        throw new Error('Invalid comment (comments should start with <!--');\n\t    }\n\t\n\t    /**\n\t     * Doctype declaration.\n\t     * \n\t     * @access {private}\n\t     * @return {String}\n\t     */\n\t    Lexer.prototype.doc_type = function()\n\t    {\n\t        if (!this.html.startsWith('DOCTYPE ')) throw new Error('Invalid doctype declaration');\n\t        \n\t        this.emit('doctype', '<!DOCTYPE');\n\t\n\t        this.consume(8);\n\t\n\t        let buf = this.buffer(char => char === '>' || SPACE.test(char));\n\t\n\t        if (buf.length <= 1) throw new Error('Invalid doctype declaration');\n\t\n\t        this.consume(buf.length);\n\t\n\t        this.emit('doctype:declaration', buf);\n\t\n\t        return 'doc_type_attr';\n\t    }\n\t\n\t    /**\n\t     * Doctype attribute.\n\t     * \n\t     * @access {private}\n\t     * @return {String}\n\t     */\n\t    Lexer.prototype.doc_type_attr = function()\n\t    {\n\t        // Consume space\n\t        this.whitespace();\n\t\n\t        // Closed doctype\n\t        if ('>' == this.peek()) return 'tag_close_self';\n\t\n\t        // Doc types don't have \"key=value\" attributes, only attributes\n\t        // e.g  PUBLIC\n\t        // e.g  \"-//W3C//DTD HTML 4.01 Transitional//EN\"        \n\t        let end = SPACE;\n\t        \n\t        if ('\"' == this.peek()) end = /\"/;\n\t        \n\t        if (end !== SPACE) this.consume(1);\n\t\n\t        let buf = this.buffer(char => end.test(char) || char === '>');\n\t        \n\t        this.consume(buf.length);\n\t        \n\t        if (end !== SPACE) this.consume(1);\n\t        \n\t        this.emit('doctype:attr', end !== SPACE ? `\"${buf}\"` : buf);\n\t\n\t        return 'doc_type_attr';       \n\t    }\n\t\n\t    /**\n\t     * Comment start.\n\t     * \n\t     * @access {private}\n\t     * @return {String}\n\t     */\n\t    Lexer.prototype.comment_start = function()\n\t    {\n\t        if (this.peek() === '[') return 'conditional_comment_open';\n\t\n\t        this.emit('comment:open', '<!--');\n\t\n\t        let buff = this.scan('-->');\n\t\n\t        this.consume(buff.length);\n\t\n\t        this.emit('comment:body', buff);\n\t\n\t        this.consume(3);\n\t\n\t        this.emit('comment:close', '-->');\n\t\n\t        return 'text';\n\t    }\n\t\n\t    /**\n\t     * Conditional comment open.\n\t     * \n\t     * @access {private}\n\t     * @return {String}\n\t     */\n\t    Lexer.prototype.conditional_comment_open = function()\n\t    {\n\t        if (this.peekn(4) !== '[if ') throw new Error('Invalid conditional comment');\n\t\n\t        let buff = this.scan(']>');\n\t\n\t        this.consume(buff.length);\n\t\n\t        this.emit('comment:open', `<!--${buff}>`);\n\t\n\t        this.consume(3);\n\t\n\t        return 'conditional_comment';\n\t    }\n\t\n\t    /**\n\t     * Conditional comment.\n\t     * \n\t     * @access {private}\n\t     * @return {String}\n\t     */\n\t    Lexer.prototype.conditional_comment = function()\n\t    {\n\t        let buff = this.scan('<![endif]-->');\n\t\n\t        this.consume(buff.length);\n\t\n\t        this.emit('comment:body', buff);\n\t\n\t        this.consume(12);\n\t\n\t        this.emit('comment:close', '<![endif]-->');\n\t\n\t        return 'text';\n\t    }\n\t\n\t    /**\n\t     * cdata start.\n\t     * \n\t     * @access {private}\n\t     * @return {String}\n\t     */\n\t    Lexer.prototype.cdata_start = function()\n\t    {\n\t        if (!this.html.startsWith('CDATA[')) throw new Error('Invalid doctype declaration');\n\t        \n\t        this.consume(6);\n\t\n\t        this.emit('cdata:open', '<![CDATA[');\n\t\n\t        let buff = this.scan(']]>');\n\t    \n\t        this.consume(buff.length);\n\t\n\t        this.emit('cdata:body', buff);\n\t\n\t        this.consume(3);\n\t\n\t        this.emit('cdata:close', ']]>');\n\t\n\t        return 'text';\n\t    }\n\t\n\t    /**\n\t     * JSX.\n\t     * \n\t     * @access {private}\n\t     * @return {String}\n\t     */\n\t    Lexer.prototype.jsx_block = function()\n\t    {        \n\t        let blockpeth = 0;\n\t        let opened = this.braceDepth >= 1;\n\t\n\t        this.buffer((char, chunk) =>\n\t        {\n\t            if (this.peekback() !== '\\\\')\n\t            {\n\t                if (char === '{')\n\t                {\n\t                    this.braceDepth++;\n\t                    blockpeth++;\n\t                }\n\t                else if (char === '}')\n\t                {\n\t                   this.braceDepth--;\n\t                   blockpeth--;\n\t                }\n\t\n\t                if (this.braceDepth === 0 || char === '<')\n\t                {\n\t                    if (char === '}') this.next();\n\t\n\t                    return true;\n\t                }\n\t\n\t                // JSX inside neseted jsx function\n\t                if (blockpeth === 0 && chunk[0] === '{')\n\t                {\n\t                    this.next();\n\t\n\t                    return true;\n\t                }\n\t            }\n\t        });\n\t\n\t        let buff = this.chunk();\n\t\n\t        let jsx = buff.trim();\n\t\n\t        // Open / close\n\t        if (jsx[0] === '{' && jsx.substr(-1) === '}')\n\t        {\n\t            this.emit('jsx', buff);\n\t        }\n\t\n\t        // Close jsx\n\t        else if (jsx[0] === ')' || jsx[0] === '}' || opened)\n\t        {\n\t            this.emit('jsx:close', buff);\n\t        }\n\t\n\t        else if (jsx.substr(-1) === '(' || jsx.substr(-1) === '{' || this.braceDepth >= 1)\n\t        {\n\t            this.emit('jsx:open', buff);\n\t        }\n\t\n\t        return 'text';  \n\t    }\n\t\n\t    /**\n\t     * Lexer parse function.\n\t     * \n\t     * @param {String}   html\n\t     * @param {Function} emit\n\t     */\n\t    lexer = function(html, emitter)\n\t    {\n\t        let l = new Lexer(html, emitter);\n\t\n\t        l.parse();\n\t    }\n\t})();\n\t(function()\n\t{\n\t    Tokenizer = function(htmlstr)\n\t    {\n\t        this.htmlstr = htmlstr;\n\t\n\t        this.stack = { children: [] };\n\t        \n\t        this.currAttr = null;\n\t\n\t        this.curr = this.stack;\n\t\n\t        this.parent = [];\n\t    }\n\t\n\t    Tokenizer.prototype.parse = function()\n\t    {\n\t        const delegate = (token, value) => \n\t        {            \n\t            this.readtoken(token, value);\n\t        }\n\t        \n\t        lexer(this.htmlstr, delegate);\n\t\n\t        return this.stack.children;\n\t    }\n\t\n\t    Tokenizer.prototype.pushNode = function(node)\n\t    {\n\t        this.curr.children.push(node);\n\t\n\t        this.parent.push(this.curr);\n\t\n\t        this.curr = node;\n\t    }\n\t\n\t    Tokenizer.prototype.pushValue = function(val)\n\t    {\n\t        this.curr.value += val;\n\t    }\n\t\n\t    Tokenizer.prototype.pushChild = function(node)\n\t    {        \n\t        this.curr.children.push(node);\n\t    }\n\t\n\t    Tokenizer.prototype.closeNode = function()\n\t    {\n\t        this.curr = this.parent.pop();\n\t    }\n\t\n\t    Tokenizer.prototype.pushAttr = function(value)\n\t    {\n\t        this.curr.attrs[value] = true;\n\t\n\t        this.currAttr = value;\n\t    }\n\t\n\t    Tokenizer.prototype.pushAttrSpread = function(value)\n\t    {\n\t        this.curr.spreadAttribute = value;\n\t    }\n\t\n\t    Tokenizer.prototype.pushAttrVal = function(value)\n\t    {\n\t        this.curr.attrs[this.currAttr] = value;\n\t\n\t        this.currAttr = null;\n\t    }\n\t\n\t    Tokenizer.prototype.pushJsx = function(value)\n\t    {\n\t        this.pushChild(this.node('#jsx', value));\n\t    }\n\t\n\t    Tokenizer.prototype.openJsx = function(value)\n\t    {   \n\t        let node = this.node('#jsx:function');\n\t\n\t        node.open = value;\n\t\n\t        this.pushNode(node);\n\t    }\n\t\n\t    Tokenizer.prototype.closeJsx = function(value)\n\t    {    \n\t        while (this.curr.type !== '#jsx:function')\n\t        {\n\t            this.curr = this.parent.pop();\n\t        }\n\t\n\t        this.curr.close = value;\n\t    }\n\t\n\t    Tokenizer.prototype.node = function(type, value, children)\n\t    {\n\t        let attrs = {};\n\t        children  = children || [];\n\t\n\t        return { type, value, children, attrs };\n\t    }\n\t\n\t    Tokenizer.prototype.readtoken = function(token, value)\n\t    {\n\t        switch (token)\n\t        {\n\t            case 'text':\n\t                this.pushChild({type: '#text', value: value});\n\t                break;\n\t\n\t            case 'tag:open':\n\t                this.pushNode(this.node(value[0].toLowerCase() === value[0] ? '#element' : (value === 'Fragment' ? '#fragment' : '#component'), value));\n\t                break;\n\t\n\t            case 'tag:close:void':\n\t            case 'tag:close:self':\n\t            case 'tag:close':\n\t                this.closeNode();\n\t                break;\n\t\n\t            case 'jsx':\n\t                this.pushJsx(value);\n\t                break;\n\t\n\t            case 'jsx:open':\n\t                this.openJsx(value);\n\t                break;\n\t\n\t            case 'jsx:close':\n\t                this.closeJsx(value);\n\t                break;\n\t\n\t            case 'attr:key':\n\t                this.pushAttr(value);\n\t                break;\n\t\n\t            case 'attr:jsx:spread':\n\t                this.pushAttrSpread(value);\n\t                break;\n\t\n\t            case 'attr:val':\n\t            case 'attr:val:jsx':\n\t                this.pushAttrVal(value);\n\t                break;\n\t\n\t            case 'attr:val:interpolated':\n\t                this.pushAttrVal(`\\`${value}\\``);\n\t                break;\n\t\n\t            case 'comment:open':\n\t                this.pushNode(this.node('#comment', value));\n\t                break;\n\t\n\t            case 'comment:body':\n\t                this.pushValue(value);\n\t                break;\n\t\n\t            case 'comment:close':\n\t                this.pushValue(value);\n\t                this.closeNode();\n\t                break;\n\t\n\t        }\n\t\n\t        this.prev = token;\n\t    }\n\t\n\t})();\n\t(function()\n\t{\n\t    /**\n\t     * Helpers.\n\t     *\n\t     * @var  {Function}\n\t     */\n\t    const [is_array, each, map] = frontbx.import(['is_array','each','map']).from('_');\n\t\n\t    /**\n\t     * Cache.\n\t     *\n\t     * @var  {object}\n\t     */\n\t    const CACHE_STR = {};\n\t\n\t    /**\n\t     * Helper function.\n\t     *\n\t     * @param  {String} str\n\t     * @return {String}\n\t     */\n\t    function sanitizeQuotes(str)\n\t    {\n\t        return str.replaceAll(/(?<!\\\\)'/g, '\\\\\\'');\n\t    }\n\t\n\t    /**\n\t     * Parser. Parses tokenized input into 'createElement' statement. \n\t     *\n\t     * @param  {string}  jsxStr  JSX  string\n\t     */\n\t    Parser = function(jsxStr)\n\t    {\n\t        this.jsxStr = jsxStr;\n\t    }\n\t\n\t    /**\n\t     * Parse current string.\n\t     *\n\t     * @returns {object}\n\t     */\n\t    Parser.prototype.parse = function()\n\t    {\n\t        let useCache = this.jsxStr.length < 720;\n\t\n\t        if (useCache && CACHE_STR[this.jsxStr]) return CACHE_STR[this.jsxStr];\n\t\n\t        // tokenize and create\n\t        let funcString = this.genChildren((new Tokenizer(this.jsxStr)).parse());\n\t\n\t        if (useCache)\n\t        {\n\t            return CACHE_STR[this.jsxStr] = funcString;\n\t        }\n\t\n\t        return funcString;\n\t    }\n\t\n\t    /**\n\t     * Generates 'createElement' string tag\n\t     *\n\t     * @param   {object}  el  Token element\n\t     * @returns {strng}\n\t     */\n\t    Parser.prototype.genTag = function(el)\n\t    {\n\t        let children = this.genChildren(el.children, el);\n\t        let props    = this.genProps(el.attrs, el);\n\t        let tag      = el.type === '#component' || el.type === '#fragment' ? el.value : `'${el.value}'`;\n\t\n\t        return `h(${tag},${props},${children})`;\n\t    }\n\t\n\t    /**\n\t     * Generates props from token\n\t     *\n\t     * @param   {object}  props  Prop values\n\t     * @param   {object}  el     Target token\n\t     * @returns {strng}\n\t     */\n\t    Parser.prototype.genProps = function(props, el)\n\t    {\n\t        if (!props && !el.spreadAttribute) return 'null';\n\t\n\t        let spread = el.spreadAttribute;\n\t\n\t        let attrs = [];\n\t\n\t        each(props, (key, prop) => attrs.push(`'${key}':${this.genPropValue(prop)}`));\n\t\n\t        if (spread) return `Object.assign({}, ${spread}, {${attrs.join(', ')}})`;\n\t\n\t        return `{${attrs.join(', ')}}`;\n\t    }\n\t\n\t    /**\n\t     * Generates props value.\n\t     *\n\t     * @param   {mixed}  val  Prop values\n\t     * @returns {strng}\n\t     */\n\t    Parser.prototype.genPropValue = function(val)\n\t    {\n\t        if (val.startsWith('{')) return val.substring(1).trim().slice(0, -1).trim();\n\t\n\t        if (val.startsWith('`')) return val;\n\t\n\t        return `'${sanitizeQuotes(val)}'`;\n\t    }\n\t\n\t    /**\n\t     * Generates children for tag.\n\t     *\n\t     * @param  {array}  Children  Array of child tokens.\n\t     * @param  {strng}  parent    Parant token\n\t     * @param  {string} glue      Optional glue string\n\t     */\n\t    Parser.prototype.genChildren = function(children, parent, glue)\n\t    {\n\t        if (parent && (!parent.children || !parent.children.length)) return 'null';\n\t\n\t        return map(children, (i, child) => \n\t        {\n\t            if (child.type === '#jsx') return child.value.substring(1).trim().slice(0, -1).trim();\n\t            \n\t            if (child.type === '#text') return `'${sanitizeQuotes(child.value)}'`;\n\t\n\t            if (child.type === '#comment') return `h('comment',{},'${sanitizeQuotes(child.value.substring(4).trim().slice(0, -3).trim())}')`;\n\t\n\t            if (child.type === '#jsx:function')\n\t            {\n\t                let open  = child.open.trim().substring(1).trim();\n\t                let close = child.close.trim().slice(0, -1).trim();\n\t\n\t                return `${open} ${this.genChildren(child.children, null, ' ')} ${close}`;\n\t            }\n\t\n\t            if (child) return this.genTag(child);\n\t\n\t            return false;\n\t\n\t        }).join(glue || ', ');\n\t    }\n\t\n\t})();\n\t(function()\n\t{    \n\t    /**\n\t     * Helpers.\n\t     *\n\t     * @var  {Function}\n\t     */\n\t    const [map, each, object_props, clone_deep] = frontbx.import(['map','each','object_props','clone_deep']).from('_');\n\t\n\t    // Produce the code to shadow all globals in the environment\n\t    // through lexical binding.\n\t    // See also var `builtins`.\n\t    const BUILT_INS_STR =\n\t    [\n\t        'JSON',\n\t        'Object',\n\t        'Function',\n\t        'Array',\n\t        'String',\n\t        'Boolean',\n\t        'Number',\n\t        'Date',\n\t        'RegExp',\n\t        'Error',\n\t        'EvalError',\n\t        'RangeError',\n\t        'ReferenceError',\n\t        'SyntaxError',\n\t        'TypeError',\n\t        'URIError'\n\t    ];\n\t\n\t    const DISSALOWEDES =\n\t    {\n\t        // disallowed\n\t        global: undefined,\n\t        process: undefined,\n\t        module: undefined,\n\t        require: undefined,\n\t        document: undefined,\n\t        window: undefined,\n\t        Window: undefined,\n\t        // no evil...\n\t        eval: undefined,\n\t        Function: undefined\n\t    };\n\t\n\t    // Variable identifiers\n\t    const IDENTIFIER = /^[$_a-zA-Z][$_a-zA-Z0-9]*$/;\n\t\n\t    // Keep in store all real builtin prototypes to restore them after\n\t    // a possible alteration during the evaluation.\n\t    const BUILT_INS  = [JSON, Object, Function, Array, String, Boolean, Number, Date, RegExp, Error, EvalError, RangeError, ReferenceError, SyntaxError, TypeError, URIError];\n\t    const COPIES     = new Array(BUILT_INS.length);\n\t    const PROTO_KEYS = map(new Array(BUILT_INS.length), (i) => object_props(BUILT_INS[i], true));\n\t\n\t    const acceptableVariable = function(v)\n\t    {\n\t        return !RESERVED_WORDS.includes(v) && IDENTIFIER.test(v);\n\t    }\n\t\n\t    const resetEnv = function()\n\t    {\n\t        let resets = map(object_props(window || global, true), (i, v) => acceptableVariable(v) ? v : false);\n\t\n\t        return `var ${resets.join(',')}, undefined;`;\n\t    }\n\t\n\t    // Fake all builtins' prototypes.\n\t    const alienate = function()\n\t    {\n\t        each(BUILT_INS_STR, (i) => typeof COPIES[i] === 'undefined' ? COPIES[i] = clone_deep(BUILT_INS[i]) : null);\n\t    }\n\t\n\t    // Restore all builtins' prototypes.\n\t    const unalienate = function()\n\t    {\n\t        let g = window || global;\n\t\n\t        each(BUILT_INS_STR, (i, name) =>\n\t        {\n\t            // Reset global\n\t            g[name] = BUILT_INS[i];\n\t\n\t            // Delete altered prototypes\n\t            let realKeys = PROTO_KEYS[i];\n\t            let currKeys = object_props(BUILT_INS[i], true);\n\t            let diff     = currKeys.filter(x => !realKeys.includes(x));\n\t\n\t            if (diff.length >= 1) each(diff, (i, key) => BUILT_INS[i][key] = undefined);\n\t        });\n\t    }\n\t\n\t    const genBindings = function(bindings)\n\t    {\n\t        // Sanitize bindings\n\t        bindings = map(bindings, (k, v) => acceptableVariable(k) ? v : false);\n\t\n\t        // Add in default built in protos\n\t        each(BUILT_INS_STR, (i, name) => bindings[name] = COPIES[i]);\n\t\n\t        // Merge with GLOBALS and DISSALOWEDES\n\t        return {...bindings, ...DISSALOWEDES}; \n\t    }\n\t\n\t    const SANDBOX_NAME = '$sandbox$';\n\t\n\t    // Evaluate code as a String (`source`) without letting global variables get\n\t    // used or modified. The `sandbox` is an object containing variables we want\n\t    // to pass in.\n\t    sandbox = function(source, bindings, context)\n\t    { \n\t        alienate();\n\t\n\t        bindings = genBindings(bindings || {});\n\t\n\t        context = context || null;\n\t\n\t        let sandboxed = 'this.constructor.constructor = function () {};\\nvar ';\n\t\n\t        each(bindings, (key, value) => sandboxed += `${key} = ${SANDBOX_NAME}['${key}'],\\n`);\n\t\n\t        sandboxed += `undefined;\\n${resetEnv()}\\n return ${source};`;\n\t\n\t        let ret;\n\t\n\t        ret = Function(SANDBOX_NAME, sandboxed).call(context, bindings);\n\t\n\t        unalienate();\n\t\n\t        return ret;\n\t    }\n\t\n\t})();\n\t(function()\n\t{\n\t    /**\n\t     * Helpers.\n\t     *\n\t     * @var  {Function}\n\t     */\n\t    const [array_filter, dom_element, each, is_array, is_bool, is_constructed, is_constructable, is_function, is_htmlElement, is_null, is_number, is_string, is_undefined, map, str_replace] = frontbx.import(['array_filter','dom_element','each','is_array','is_bool','is_constructed','is_constructable','is_function','is_htmlElement','is_null','is_number','is_string','is_undefined','map','str_replace']).from('_');\n\t\n\t    /**\n\t     * JSX create element.\n\t     *  \n\t     * @param   {string | function}   tag         Root html element\n\t     * @param   {object | undefined}  attrs       Tag props / attributes\n\t     * @param   {array | undefined}  ...children  Tag children (recursive)\n\t     * @returns {Array|HTMLElement}\n\t     */\n\t    createElement = function(tag, attributes)\n\t    {        \n\t        // Empty\n\t        if (arguments.length === 0) return document.createTextNode('');\n\t\n\t        // Get children\n\t        let children = arguments.length > 2 ? [].slice.call(arguments, 2) : [];\n\t\n\t        // Special case for text\n\t        if (tag === 'text') return document.createTextNode(children.toString());\n\t\n\t        // Special case for comments\n\t        if (tag === 'comment') return document.createComment(children.toString());\n\t\n\t        // Normalise children\n\t        children = _normaliseChildren(children.length === 0 && attributes.children && attributes.children.length > 0 ? attributes.children : children);\n\t\n\t        let node = is_function(tag) || is_constructed(tag) ? _createComponent(tag, {...attributes, children}) : dom_element({...attributes, tag});\n\t        \n\t        if (is_array(node) || Object.prototype.toString.call(node).toLowerCase() === '[object text]') return node;\n\t\n\t        each(children, (i, child) => node.appendChild(child));\n\t\n\t        return node;\n\t    }\n\t\n\t    /**\n\t     * Create component.\n\t     *\n\t     * @access {private}\n\t     * @param  {HTMLElement} vnode\n\t     * @param  {HTMLElement} parentDOMElement\n\t     * @return {Array}\n\t     */\n\t    function _createComponent(component, _props)\n\t    {        \n\t        let { render, props } = _comoponentRenderFn(component, _props);\n\t\n\t        BINDINGS_CACHE.props = props;\n\t\n\t        let rendered = render(props);\n\t\n\t        if (is_htmlElement(rendered))\n\t        {\n\t            //if (children.nodeType === 1) frontbx.dom().refresh(children);\n\t\n\t            return rendered;\n\t        }\n\t        else if (is_array(rendered))\n\t        {\n\t\n\t            //if (children.nodeType === 1) frontbx.dom().refresh(children);\n\t\n\t            return _normaliseChildren(rendered);\n\t        }\n\t\n\t        let toJsx = jsx(rendered);\n\t\n\t        //if (children.nodeType === 1) frontbx.dom().refresh(children);\n\t\n\t        return toJsx;\n\t    }\n\t\n\t    /**\n\t     * Get component render function.\n\t     *\n\t     * @access {private}\n\t     * @param  {String}   name\n\t     * @return {Function}\n\t     */\n\t    function _comoponentRenderFn(fn, props)\n\t    {        \n\t        if (is_constructed(fn))\n\t        {           \n\t            if (!fn.render) throw new Error('Object Components must implement the [render] method');\n\t\n\t            CURR_RENDER.current = fn;\n\t\n\t            if (fn.defaultProps) props = {...fn.defaultProps, ...props };\n\t\n\t            return { render: fn.render, props };\n\t        }\n\t\n\t        if (is_constructable(fn))\n\t        {\n\t            let component = new fn;\n\t\n\t            if (!component.render) throw new Error('Object Components must implement the [render] method');\n\t\n\t            CURR_RENDER.current = component;\n\t\n\t            if (component.defaultProps) props = {...component.defaultProps, ...props };\n\t\n\t            return { render: component.render, props };\n\t        }\n\t\n\t        if (!is_function(fn)) throw new Error(`Invalid Component [${name}]`);\n\t\n\t        CURR_RENDER.current = fn;\n\t\n\t        if (fn.defaultProps) props = {...fn.defaultProps, ...props };\n\t\n\t        return { render: fn, props };\n\t    }\n\t\n\t    /**\n\t     * Caches and returns a children function.\n\t     *\n\t     * @access {private}\n\t     * @param  {String} key   Cached callback key\n\t     * @param  {Mixed}  value Children value\n\t     * @return {Array|HTMLElement|String}\n\t     */\n\t    function _normaliseChildren(value)\n\t    {\n\t        // Flatten arrays\n\t        if (is_array(value)) return map(array_filter(_flatten(value)), (i, sub) => _normaliseChild(sub));\n\t\n\t        return _flatten([_normaliseChild(value)]);\n\t    }\n\t\n\t    function _normaliseChild(child)\n\t    {\n\t        // Already parsed\n\t        if (is_htmlElement(child)) return child;\n\t\n\t        // Functions\n\t        if (is_function(child)) return _normaliseChildren(child());\n\t\n\t        // Empty strings\n\t        if (is_string(child) && str_replace(child, ['undefined','null','false','NaN'], '').trim() === '') return document.createTextNode('');\n\t\n\t        // Empty values\n\t        if (is_null(child) || is_undefined(child) || is_bool(child)) return document.createTextNode('');\n\t\n\t        // Strings / numbers\n\t        if (is_string(child) || is_number(child)) return jsx(child);\n\t\n\t        // Objects\n\t        if (is_object(child)) throw new Error('Objects cannot be used as children');\n\t\n\t        return document.createTextNode('');\n\t    }\n\t\n\t    /**\n\t     * Flatten multidimensional children.\n\t     *\n\t     * @access {private}\n\t     * @param  {HTMLElement|Array} DOMElement\n\t     * @return {HTMLElement|Array}\n\t     */\n\t    function _flatten(children)\n\t    {\n\t        if (is_array(children))\n\t        {\n\t            let ret = [];\n\t\n\t            each(children, (i, child) => is_array(child) ? ret = [...ret, ..._flatten(child)] : ret.push(child));\n\t\n\t            return ret;\n\t        }\n\t\n\t        return children;\n\t    }\n\t    \n\t})();\n\t\n\t(function()\n\t{\n\t    /**\n\t     * Helpers.\n\t     *\n\t     * @var  {Function}\n\t     */\n\t    const [is_array, is_object, each, object_props] = frontbx.import(['is_array','is_object','each','object_props']).from('_');\n\t\n\t    /**\n\t     * Cache.\n\t     *\n\t     * @var  {object}\n\t     */\n\t    const CACHE_STR = {};\n\t\n\t    /**\n\t     * Global decencies.\n\t     *\n\t     * @var  {object}\n\t     */\n\t    const GLOBAL_BINDINGS =\n\t    {\n\t        h: createElement,\n\t        Fragment: Fragment,\n\t    };\n\t\n\t    /**\n\t     * Parse's JSX tokens\n\t     *\n\t     * @param   {string}             jsxStr  JSX  string\n\t     * @param   {HTMLElement|Object} root or bindings\n\t     * @returns {object}             bindings  \n\t     */\n\t    function _jsx(jsxStr, root, bindings)\n\t    {\n\t        if (is_object(root))\n\t        {\n\t            bindings = root;\n\t\n\t            root = false;\n\t        }\n\t\n\t        if (is_array(jsxStr))\n\t        {\n\t            let ret = createElement(Fragment, {}, jsxStr);\n\t\n\t            if (root) each(ret, (i, node) => root.appendChild(node));\n\t\n\t            return ret;\n\t        }\n\t\n\t        // Empty\n\t        else if (jsxStr === null || jsxStr === true || jsxStr === false || typeof jsxStr === 'undefined' || (typeof jsxStr === 'string' && jsxStr.trim() === ''))\n\t        {\n\t            let ret = createElement();\n\t\n\t            if (root) root.appendChild(ret);\n\t\n\t            return ret;\n\t        }\n\t\n\t        // Clean jsx\n\t        jsxStr = `${jsxStr}`.replaceAll(/[\\n\\t]/g, '').trim();\n\t\n\t        // No elements\n\t        if (!jsxStr.includes('<') && !jsxStr.includes('>') && !jsxStr.includes('{'))\n\t        {\n\t            let ret = createElement('text', null, jsxStr);\n\t\n\t            if (root) root.appendChild(ret);\n\t\n\t            return ret;\n\t        }\n\t\n\t        // Parse into function\n\t        let parser = new Parser(jsxStr);\n\t\n\t        let output = parser.parse();\n\t\n\t        let ret = sandbox(output, genBindings(bindings), CURR_RENDER.current);\n\t\n\t        if (root) is_array(ret) ? each(ret, (i, node) => root.appendChild(node)) : root.appendChild(ret);\n\t        \n\t        return ret;\n\t    }\n\t\n\t    /**\n\t     * Generates object of bindings for JSX parsing.\n\t     *\n\t     * @param  {object}  input  bindings\n\t     * @return {object}\n\t     */\n\t    function genBindings(bindings)\n\t    {\n\t        // Normalize bindings.\n\t        bindings = !bindings ? { ...GLOBAL_BINDINGS } : { ...bindings, ...GLOBAL_BINDINGS };\n\t\n\t        // Apply temporary bindings cache\n\t        each(BINDINGS_CACHE, (k,v) =>\n\t        {\n\t            bindings[k] = v;\n\t\n\t            delete BINDINGS_CACHE[k];\n\t        });\n\t        \n\t        // Apply currently rendering component\n\t        if (CURR_RENDER.current)\n\t        {        \n\t            let props = object_props(CURR_RENDER.current, true);\n\t            \n\t            each(props, (i, k) => bindings[k] = CURR_RENDER.current[k]);\n\t        }\n\t\n\t        return bindings;\n\t    }\n\t\n\t    jsx = _jsx;\n\t\n\t    frontbx.set('jsx', _jsx);\n\t\n\t})();\n})();\n\n// dom components\n(function()\n{\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [add_class, animate, attr, css, dom_element, each, find, find_all, _for, is_object, map, sibling_index, off, on, preapend, remove_class, rendered_style, width, remove_from_dom, inline_style] = frontbx.import(['add_class','animate','attr','css','dom_element','each','find','find_all','for','is_object','map','sibling_index','off','on','preapend','remove_class','rendered_style','width','remove_from_dom','inline_style']).from('_');\n\n    /**\n     * Default options\n     * \n     * @var {Object}\n     */\n    const DEFAULT_OPTIONS =\n    {\n        // enable keyboard navigation, pressing left & right keys\n        accessibility: true,\n        \n        // advances to the next cell\n        // if true, default is 3 seconds\n        // or set time between advances in milliseconds\n        // i.e. `autoPlay: 1000` will advance every 1 second\n        autoPlay: true,\n\n        // zero-based index of the initial selected cell\n        initialIndex: 0,\n        \n        controls: true,\n        // creates and enables buttons to click to previous & next cells\n\n        dots: true,\n        // create and enable page dots\n\n        resize: true,\n        // listens to window resize events to adjust size & positions\n\n        wrap: true,\n        // at end of cells, wraps-around to first for infinite scrolling\n\n        // Group slides\n        groupSlides: false,\n\n        pauseOnHover: true,\n        // Pauses autoplay on hover\n\n        easing: 'easeOutExpo',\n        // Easing pattern\n\n        draggable: true,\n        // Draggable\n\n        friction: 0.85,\n        // Dragging friction\n\n        mouseSupport: true,\n        // Enables dragging with mouse,\n\n        // Minimum swipe distance to be a \"swipe\"\n        threshold: (type, self) => 3,\n\n        // Minimum travel swipe velocity to be considered a \"swipe\"\n        velocityThreshold: 3,\n        \n    };\n\n    /**\n     * Slider.\n     *\n     * @param {HTMLElement} wrapper Wrapper element\n     * @param {Object}      options Options\n     */\n    const _Slider = function(wrapper, options)\n    {\n        this.options = is_object(options) ? {...DEFAULT_OPTIONS, ...options } :  {...DEFAULT_OPTIONS };\n\n        this.DOMElementWrapper = wrapper;\n\n        this._animating = false;\n\n        this._playing = 'stopped';\n\n        this._translated = 0;\n\n        this._resizeThrottle = throttle(() => this.resize(), 100);\n\n        this._build();\n\n        this._moveIndexToMiddle();\n\n        this.resize();\n\n        if (this.options.autoPlay) this.play();\n    }\n\n    /**\n     * Destroy the slider.\n     *\n     * @access {public}\n     */\n    _Slider.prototype.destroy = function()\n    {\n        this.stop();\n\n        if (this._gestures) this._gestures.destroy();\n\n        off(window, 'resize', this._resizeThrottle, this);\n\n        off(this.DOMElementWrapper, 'mouseover', this.pause, this);\n\n        off(this.DOMElementWrapper, 'mouseout', this.unpause, this);\n\n        if (this.options.dots) remove_from_dom(this._dotWrap);\n\n        if (this.options.controls) remove_from_dom([this._righBtn, this._leftBtn]);\n\n        let slides = !this.options.groupSlides ? this._slides : find_all('.slide-group > *', this.DOMElementWrapper);\n\n        each(slides, (i, slide) => this.DOMElementWrapper.appendChild(slide));\n    }\n\n    /**\n     * Next slide\n     *\n     * @access {public}\n     */\n    _Slider.prototype.next = function(animationOrClickEvent)\n    {\n        // Stop on animating\n        if (this._animating || this._dragging) return;\n\n        // Do nothing on non-wrap and at end\n        if (!this.options.wrap && this._index === this._slidesIndexs) return;\n\n        // Don't animate\n        if (animationOrClickEvent === false) return this._toSlideDirect(this._index +1);\n\n        // Pause autoplay\n        this.pause();\n\n        // We're now animating\n        this._animating = true;\n\n        // Run animation\n        let distance = this._slideWidthWGap;\n\n        if (!this.options.wrap)\n        {\n            distance += this._translated;\n            \n            this._translated = distance;\n        }\n\n        // Update the index and dots.        \n        this._updateIndex(1);\n        this._updateDots();\n\n        // Shuffle before animation\n        if (this.options.wrap)\n        {\n            // Adjust pre distance before animation\n            let preDistance = this._offset - this._slideWidthWGap;\n\n            this._moved(1);\n\n            css(this._DOMElementViewport, 'left', `-${preDistance}px`);\n        }\n\n        animate(this._DOMElementViewport, { transform: `translateX(-${distance}px)`, easing: this.options.easing, duration: 550, complete: () =>\n        { \n            if (this.options.wrap)\n            {\n                css(this._DOMElementViewport, 'left', `-${this._offset}px`);\n\n                css(this._DOMElementViewport, 'transform', `translateX(0px)`);\n            }\n\n            if (!this.options.wrap) this._moved(1);\n\n            this._animating = false;\n\n            if (!animationOrClickEvent) this.unpause();\n        }});\n    }\n\n    /**\n     * Previous slide\n     *\n     * @access {public}\n     */\n    _Slider.prototype.previous = function(animationOrClickEvent)\n    {\n        // Stop on animating\n        if (this._animating || this._dragging) return;\n\n        // Do nothing on non-wrap and at start\n        if (!this.options.wrap && this._index === 0) return;\n\n        // Don't animate\n        if (animationOrClickEvent === false) return this._toSlideDirect(this._index +1);\n\n        // Clear timeout\n        this.pause();\n\n        // We're now animating\n        this._animating = true;\n\n        // Cache distance\n        let distance = !this.options.wrap ? (this._translated - this._slideWidthWGap) : this._slideWidthWGap;\n\n        this._translated = distance < 2 ? 0 : distance;\n\n        // Failsafe \n        if (!this.options.wrap) distance = distance < 2 ? 0 : -distance;\n\n        // Update dots and indexes\n        this._updateIndex(-1);\n        this._updateDots();\n\n        // Shuffle before animation\n        if (this.options.wrap)\n        {\n            // Adjust pre distance before animation\n            let preDistance = this._offset + this._slideWidthWGap;\n\n            this._moved(-1);\n\n            css(this._DOMElementViewport, 'left', `-${preDistance}px`);\n        }\n\n        // Run animation\n        animate(this._DOMElementViewport, { transform: `translateX(${distance}px)`, easing: this.options.easing, duration: 550, complete: () => \n        { \n            if (this.options.wrap)\n            {\n                css(this._DOMElementViewport, 'left', `-${this._offset}px`);\n\n                css(this._DOMElementViewport, 'transform', `translateX(0px)`);\n            }\n\n            this._animating = false;\n\n            if (!animationOrClickEvent) this.unpause();\n        } });\n    }\n\n    /**\n     * Go to slide.\n     *\n     * @access {public}\n     * @param  {integer} slideNum Slide number\n     */\n    _Slider.prototype.toSlide = function(slideNum, animation, fromClick)\n    {\n        // Animating\n        if (this._animating) return false;\n\n        animation = typeof animation === 'undefined' ? true : animation;\n\n        fromClick = typeof fromClick === 'undefined' ? false : fromClick;\n\n        if (!animation) return this._toSlideDirect(slideNum);\n\n        // convert slide number to index\n        let index = slideNum === 1 ? 0 : slideNum-1;\n\n        // Invalid or does nothing\n        if (index === this._index || index > this._slidesIndexs || index < 0) return;\n\n        // Go to previous\n        if ( (index === (this._index -1) && this._index > 0) || (index === this._slidesIndexs && this._index === 0 && this.options.wrap))\n        {\n            return this.previous();\n        }\n\n        // Go to next\n        else if ((index === (this._index + 1) && this._index < this._slidesIndexs) || (index === 0 && this._index === this._slidesIndexs && this.options.wrap))\n        {            \n            return this.next();\n        }\n\n        // We're now animating\n        this._animating = true;\n\n        // Clear timeout\n        this.pause();\n\n        // Default delta and direction\n        let { delta, direction } = this._moveDelta(index);\n\n        // If we're not wrapping we can skip all of this\n        if (!this.options.wrap)\n        {\n            let distance = this._slideWidthWGap * delta;\n\n            distance = direction === -1 ? this._translated - distance : this._translated + distance;\n            \n            this._translated = distance < 2 ? 0 : distance;\n\n            _for(delta, () => { this._updateIndex(direction) });\n\n            this._updateDots();\n            \n            animate(this._DOMElementViewport, { transform: `translateX(${distance < 2 ? 0 : -distance}px)`, easing: this.options.easing, duration: 550, complete: () => \n            { \n                this._animating = false;\n\n                if (!fromClick) this.unpause();\n\n            } });\n\n            return;\n        }\n\n        // Moving back shifts index forward\n        // Moving forwards shifts index back\n        let postIndex = direction === -1 ? this._middleIndex + delta : (this._middleIndex - delta) + this._bufferSize;\n\n        // Since we know the new index, we can just calculate how far offset center it is.\n        let tmpOffset = (postIndex * this._slideWidthWGap) - (this._viewportWidth / 2) + (this._slideWidth / 2);\n\n        // Run animation\n        let distance = this._slideWidthWGap * delta;\n        distance  = direction === 1 ? -distance : distance;\n\n        // Shuffle slides\n        _for(delta, () => { this._moved(direction); this._updateIndex(direction) }, this);\n\n        // Insert buffer clones\n        let clones = this._bufferNodes(direction);\n\n        css(this._DOMElementViewport, 'left', `-${tmpOffset}px`);\n\n        // Run animation\n        animate(this._DOMElementViewport, { transform: `translateX(${distance}px)`, easing: this.options.easing, duration: 650, complete: () => \n        { \n            each(clones, (i, clone) =>\n            {\n                clone.parentNode.removeChild(clone);\n            });\n\n            css(this._DOMElementViewport, 'left', `-${this._offset}px`);\n\n            css(this._DOMElementViewport, 'transform', `translateX(0px)`);\n\n            this._animating = false;\n\n            if (!fromClick) this.unpause();\n\n        } });\n\n        this._updateDots();\n    }\n\n     /**\n     * Go to slide.\n     *\n     * @access {public}\n     * @param  {integer} slideNum Slide number\n     */\n    _Slider.prototype._toSlideDirect = function(slideNum)\n    {\n        // convert slide number to index\n        let index = slideNum === 1 ? 0 : slideNum-1;\n\n        // Clear timeout\n        this.pause();\n\n        // Default delta and direction\n        let delta       = index < this._index ? this._index - index : index - this._index;\n        let direction   = index < this._index ? -1 : 1;\n\n        // If we're not wrapping we can skip all of this\n        if (!this.options.wrap)\n        {\n            let distance = this._slideWidthWGap * delta;\n\n            distance = direction === -1 ? this._translated - distance : this._translated + distance;\n            \n            this._translated = distance < 2 ? 0 : distance;\n\n            _for(delta, () => { this._updateIndex(direction) });\n\n            this._updateDots();\n\n            css(this._DOMElementViewport, 'transform',  `translateX(${distance < 2 ? 0 : -distance}px)`);\n            \n            this.unpause();\n\n            return;\n        }\n\n        // Shuffle slides\n        _for(delta, () => { this._moved(direction); this._updateIndex(direction) }, this);\n\n        css(this._DOMElementViewport, 'transform', `translateX(0px)`);\n\n        this._updateDots();\n\n        this.unpause();\n    }\n\n    /**\n     * Window resize handler.\n     *\n     * @access {private}\n     */\n    _Slider.prototype.resize = function()\n    {\n        if (this._slidesCount === 0) return;\n\n        // Is full width, may change with responsive CSS\n        this._isFullWidth = parseInt(rendered_style(this._slides[0], 'max-width')) === 100;\n\n        // Viewport width\n        this._viewportWidth = Math.round(width(this.DOMElementWrapper));\n\n        // Gap size\n        this._gapSize = parseInt(rendered_style(this._DOMElementViewport, 'column-gap'));\n\n        // Slide width\n        this._slideWidth = Math.round(width(this._slides[0], this.DOMElementWrapper));\n\n        // Slide width with gap\n        this._slideWidthWGap = this._slideWidth + this._gapSize;\n\n        // Offset\n        this._offset = Math.round(this.options.wrap ? (this._middleIndex * this._slideWidthWGap) - (this._viewportWidth / 2) + (this._slideWidth / 2) : this._slideWidthWGap - ((this._viewportWidth + this._slideWidth) / 2));\n\n        // Buffer\n        if (!this._isFullWidth)\n        {\n            let percentagWidth  = (100 * this._slideWidth) / this._viewportWidth;\n            this._bufferSize    = percentagWidth > 50 ? 3 : Math.round(100 / percentagWidth);            \n        }\n\n        // Make offset\n        css(this._DOMElementViewport, 'left', `${this._offset === 0 ? 0 : -this._offset}px`);\n\n        // Visible slides\n        this._visibleSlides = this._isFullWidth ? 1 : this._viewportWidth / this._slideWidthWGap;\n\n        this._dragBoundryL = this._offset - this._slideWidthWGap;\n\n        this._dragBoundryR = -(this._dragBoundryL);\n    }\n\n    /**\n     * Start autoplay.\n     *\n     * @access {public}\n     */\n    _Slider.prototype.play = function()\n    {      \n        if (this._playing === 'playing') return;\n\n        // do not play if page is hidden, start playing when page is visible\n        let isPageHidden = document.hidden;\n        \n        if (isPageHidden)\n        {\n            on(document, 'visibilitychange', this._onVisibilityPlay, this);\n\n            return;\n        }\n\n        this._playing = 'playing';\n\n        // listen to visibility change\n        on(document, 'visibilitychange', this._onVisibilityChange, this);\n\n        // start ticking\n        this._tick();\n    }\n\n    /**\n     * Stop autoplay.\n     *\n     * @access {public}\n     */\n    _Slider.prototype.stop = function()\n    {\n        this._playing = 'stopped';\n\n        clearTimeout(this._playTimer);\n        \n        // remove visibility change event\n        off(document, 'visibilitychange', this._onVisibilityChange, this);\n    }\n\n    /**\n     * Pause autoplay.\n     *\n     * @access {public}\n     */\n    _Slider.prototype.pause = function()\n    {\n        if (this._playing === 'playing')\n        {\n            this._playing = 'paused';\n            \n            clearTimeout(this._playTimer);\n        }\n    }\n\n    /**\n     * Unpause autoplay.\n     *\n     * @access {public}\n     */\n    _Slider.prototype.unpause = function()\n    {\n        // re-start play if paused\n        if (this._playing === 'paused') this.play();\n    }\n\n    /**\n     * Build the slider.\n     *\n     * @access {private}\n     */\n    _Slider.prototype._build = function()\n    {\n        // Find slides\n        this._slides = !this.options.groupSlides ? find_all('> *', this.DOMElementWrapper) : map([...Array(Math.ceil(find_all('> *', this.DOMElementWrapper).length / this.options.groupSlides)).keys()], (i) =>\n        {\n            // Since we're appending children as we go we're always taking the first n children\n            return dom_element({tag: 'div', class: 'slide-group'}, null, find_all('> *', this.DOMElementWrapper).slice(0, this.options.groupSlides));\n        });\n\n        // Slides count\n        this._slidesCount = this._slides.length;\n\n        // Slide indexes\n        this._slidesIndexs = this._slides.length -1;\n\n        // Starting index\n        this._index = this.options.initialIndex;\n\n        // Middle index\n        this._middleIndex = Math.floor(this._slidesCount / 2);\n\n        // Visible slides\n        this._visibleSlides = 1;\n\n        // Buffer size\n        this._bufferSize = 0;\n\n        // Create viewport\n        this._DOMElementViewport = dom_element({tag: 'div', class: 'slider-viewport js-slider-viewport'}, this.DOMElementWrapper, this._slides);\n\n        // Controls\n        if (this.options.controls) this._buildControls();\n\n        // Dots\n        this._dots = [];\n        if (this.options.dots) this._buildDots();\n\n        // Pause on hover\n        if (this.options.autoPlay && this.options.pauseOnHover)\n        {\n            on(this.DOMElementWrapper, 'mouseover', this.pause, this);\n\n            on(this.DOMElementWrapper, 'mouseout', this.unpause, this);\n        }\n\n        // Window resize\n        if (this.options.resize)\n        {\n            on(window, 'resize', this._resizeThrottle, this);\n        }\n\n        if (this.options.draggable && this._slidesCount > 1)\n        {\n            add_class(this.DOMElementWrapper, 'draggable');\n\n            this._bindGestures();\n        }\n\n        add_class(this.DOMElementWrapper, 'js-slider');\n    }\n\n    /**\n     * Start dragging slide.\n     *\n     * @access {public}\n     * @param  {integer} slideNum Slide number\n     */\n    _Slider.prototype._dragSlide = function(moved)\n    {\n        let x = this._dragX;\n\n        if (this.options.wrap)\n        {\n            let nearEnd = (x < 0 && x <= this._dragBoundryR) || (x > 0 && x >= this._dragBoundryL);\n\n            if (nearEnd)\n            {\n                this._dragCloneSlides();\n\n                return;\n            }\n        }\n\n        css(this._DOMElementViewport, 'transform', `translateX(${x}px)`);\n    }\n\n    /**\n     * Go to slide.\n     *\n     * @access {public}\n     * @param  {integer} slideNum Slide number\n     */\n    _Slider.prototype._dragCloneSlides = function()\n    {   \n        // No need to clone on non wrapping sliders     \n        if (!this.options.wrap) return;\n\n        let distance = this._slideWidthWGap * this._bufferSize;\n\n        // Push out the drag boundaries\n        // Drag bondry L remains the same as it is a fixed position from start\n        this._dragBoundryR = -((this._slideWidthWGap * (this._bufferSize + this._slidesCount -1)) + (this._slideWidth /2));\n\n        // Adjust the dragging buffer\n        this._draggingbuffer = !this._draggingbuffer ? distance : this._draggingbuffer + distance;\n\n        // Resting distance\n        distance = this._dragX - distance;\n\n        // Pad sides and clone\n        this._bufferDragClones();\n\n        // Adjust drag position\n        css(this._DOMElementViewport, 'transform', `translateX(${distance}px)`);\n    }\n\n    /**\n     * Fake shuffle cloned slides to start or end\n     *\n     * @access {private}\n     */\n    _Slider.prototype._bufferDragClones = function()\n    {    \n        if (!this.options.wrap) return;\n\n        let viewport = this._DOMElementViewport;\n\n        let clones = [];\n\n        _for(this._bufferSize, (i) =>\n        {\n            let cloneR = find(`> *:nth-child(${this._dragRIndex})`, this._DOMElementViewport).cloneNode(true);\n            let cloneL = find(`> *:nth-last-child(${this._dragLIndex})`, this._DOMElementViewport).cloneNode(true);\n            add_class([cloneR, cloneL], 'slide-clone');\n\n            this._dragClones.push(cloneR);\n            this._dragClones.push(cloneL);\n\n            preapend(cloneL, viewport);\n\n            viewport.appendChild(cloneR);\n\n            this._dragRIndex += 2;\n\n            this._dragLIndex += 2;\n        });\n    }\n\n    /**\n     * Clear drag clones.\n     *\n     * @access {private}\n     */\n    _Slider.prototype._clearDragClones = function()\n    {\n        each(this._dragClones, (i, clone) =>\n        {\n            this._DOMElementViewport.removeChild(clone);\n        });\n    }\n\n    _Slider.prototype._restingDragPos = function()\n    {\n        let ret = { rest: 0, slideIndex: 1 };\n\n        // There would be a smarter way to figure all this out, however have not been able to figure out an easy solution\n        let wrapping = this.options.wrap;\n\n        // What distance have we actually moved in total?\n        let moved = !wrapping ? Math.abs(this._dragX) - Math.abs(this._offset) : (this._slideWidthWGap * this._middleIndex) + (this._slideWidth / 2)\n\n        if (wrapping) moved = this._dragX < 0 ? moved + Math.abs(this._dragX) : moved - this._dragX;\n\n        // Always first slide\n        if (!wrapping && (this._dragX > 0 || moved < 0)) return ret;\n\n        // Get the DOM index of the slide that should be resting\n        let index = !wrapping ? Math.ceil(moved / this._slideWidthWGap) : Math.ceil(moved / this._slideWidthWGap) -1;\n\n        // Dragged over the edge on non-wrapping sliders\n        if (!wrapping && index > this._slidesIndexs) index = this._slidesIndexs;\n\n        // Get X pos of where target slide starts\n        let slideStarts = (index * this._slideWidthWGap) - (this._viewportWidth / 2) + (this._slideWidth / 2);\n\n        // Figure out the resting point\n        let rest = this._offset - slideStarts;\n\n        let slideIndex = parseInt(attr(find(`>:nth-child(${index +1})`, this._DOMElementViewport), 'data-index')) +1;\n\n        this._dragMoved = (slideIndex -1) !== this._index;\n\n        if (!wrapping) this._translated = Math.abs(rest);\n\n        return { rest, slideIndex };\n    }\n\n    /**\n     * Find closest slide on end\n     *\n     * @access {private}\n     */\n    _Slider.prototype._onDragEnd = function()\n    {\n        let { rest, slideIndex } = this._restingDragPos();\n\n        this._dragEndAnim = animate(this._DOMElementViewport, { property: 'transform', from: `translateX(${this._dragX}px)`, to: `translateX(${rest}px)`, duration: 650, easing: this.options.easing, complete: () => \n        {\n            if (this._dragClones.length >= 1) this._clearDragClones();\n\n            if (this._dragMoved && this.options.wrap) this.toSlide(slideIndex, false, false);\n\n            if (!this._dragMoved && this.options.wrap) css(this._DOMElementViewport, 'transform', `translateX(0px)`);\n\n            this._index = slideIndex -1;\n\n            this._translated = Math.abs(rest);\n\n            this._updateDots();\n\n            this.unpause();\n\n            this._resetDragVars();\n        }} );\n    }\n\n    /**\n     * Build controls.\n     *\n     * @access {private}\n     */\n    _Slider.prototype._resetDragVars = function()\n    {\n        this._dragClones      = [];\n        this._dragRIndex      = 1;\n        this._dragLIndex      = 1;\n        this._dragging        = false;\n        this._dragMoved       = false;\n        this._dragStartPointX = { x: 0, y: 0};\n        this._dragBoundryL    = this._offset - this._slideWidthWGap;\n        this._dragBoundryR    = -(this._dragBoundryL);\n        \n        delete this._dragX;\n\n        delete this._prevDrag;\n\n        delete this._dragEndAnim;\n\n        delete this._draggingbuffer;\n    }\n\n    /**\n     * Build controls.\n     *\n     * @access {private}\n     */\n    _Slider.prototype._bindGestures = function()\n    {\n        let wrapper = this.DOMElementWrapper;\n\n        const gestures = frontbx.TinyGesture(this.DOMElementWrapper, { mouseSupport: this.options.mouseSupport, velocityThreshold: this.options.velocityThreshold, threshold: this.options.threshold });\n\n        this._resetDragVars();\n\n        gestures.on('panstart', (event) =>\n        {\n            // No drag on transitioning\n            if (this._animating) return;\n\n            // Clear timeout\n            this.pause();\n\n            // Register start point\n            this._dragStartPointX = event.pageX;\n\n            // We have a previous unfinished drag\n            if (this._dragEndAnim)\n            {\n                this._dragEndAnim.stop();\n\n                this._prevDrag = parseFloat(inline_style(this._DOMElementViewport, 'transform').replaceAll(/[^0-9-.]/g, ''));\n\n                delete this._dragEndAnim;\n            }\n\n            // Add helper class for optional UI\n            add_class(wrapper, 'dragging');\n        });\n\n        gestures.on('panmove', (event) =>\n        {\n            // No drag on transitioning\n            if (this._animating) return;\n\n            // Base movement\n            let moveVectorX = (event.pageX - this._dragStartPointX);\n\n            // No drag\n            if ( Math.abs(moveVectorX) < 3 ) return;\n\n            this._dragging = true;\n\n            // Much slower on non-wrapping sliders when at end or start and going in opposite direction\n            if (!this.options.wrap && ( (this._index === 0 && moveVectorX > 0) || (this._index === this._slidesIndexs && moveVectorX < 0) ))\n            {\n                moveVectorX = moveVectorX * (this.options.friction / 3);\n            }\n            else\n            {\n                // Slow down further we drag\n                moveVectorX = moveVectorX * this.options.friction;\n            }\n\n            // Previous drag\n            if (this._prevDrag)\n            {\n                moveVectorX = this._prevDrag + moveVectorX\n            }\n\n            // Non wrap + translated\n            else if (!this.options.wrap)\n            {\n                moveVectorX = moveVectorX - this._translated;\n            }\n\n            // Calculate travel distance\n            this._dragX = !this._draggingbuffer ? moveVectorX : moveVectorX - this._draggingbuffer;\n\n            // Drag the slide\n            this._dragSlide();\n        });\n\n        gestures.on('panend', (event) =>\n        {\n            remove_class(wrapper, 'dragging');\n\n            if (!this._dragX) return this.unpause();\n\n            this._onDragEnd();\n        });\n\n        gestures.on('swiperight', (event) =>\n        {\n            // Don't swipe on animating\n            if (this._animating) return;\n\n            // Don't swipe on drags\n            if (this._dragEndAnim && this._dragMoved) return;\n\n            // Can't go back\n            if (!this.options.wrap && this._index === 0) return;\n\n            // Stop dragend if running\n            if (this._dragEndAnim) this._dragEndAnim.stop();\n\n            this._resetDragVars();\n\n            this.previous();\n        });\n        gestures.on('swipeleft', (event) =>\n        {\n            // Don't swipe on animating\n            if (this._animating) return;\n\n            // Don't swipe on drags\n            if (this._dragEndAnim && this._dragMoved) return;\n            \n            // Can't go forward\n            if (!this.options.wrap && this._index === this._slidesIndexs) return;\n\n            // Stop dragend if running\n            if (this._dragEndAnim) this._dragEndAnim.stop();\n\n            this._resetDragVars();\n\n            this.next();\n        });\n\n        this._gestures = gestures;\n    }\n\n    /**\n     * Build controls.\n     *\n     * @access {private}\n     */\n    _Slider.prototype._buildControls = function()\n    {\n        // Right button\n        this._righBtn = dom_element({tag: 'button', type: 'button', class: 'slider-control control-right btn btn-pure'}, this.DOMElementWrapper, \n            dom_element({tag: 'span',class: 'fa fa-caret-right'})\n        );\n\n        // Left button\n        this._leftBtn = dom_element({tag: 'button', type: 'button', class: 'slider-control control-left btn btn-pure'}, this.DOMElementWrapper, \n            dom_element({tag: 'span',class: 'fa fa-caret-left'})\n        );\n\n        // Handlers\n        on(this._righBtn, 'click', this.next, this);\n        on(this._leftBtn, 'click', this.previous, this);\n    }\n\n    /**\n     * Build dots.\n     *\n     * @access {private}\n     */\n    _Slider.prototype._buildDots = function()\n    {\n        let index = this._index;\n\n        this._dotWrap = dom_element({tag: 'div', class: 'slider-dots js-slider-dots'}, this.DOMElementWrapper, map(this._slides, (i, slide) =>\n        {\n            let active = i === index ? 'active' : '';\n\n            let dot = dom_element({tag: 'button', type: 'button', dataIndex: i, class: `slider-dot js-slider-dot btn btn-circle ${active}`});\n\n            on(dot, 'click', this._dotClick, this);\n\n            this._dots.push(dot);\n\n            return dot;\n        }));\n    }\n\n     /**\n     * Moves indexed slide to middle.\n     *\n     * @access {private}\n     */\n    _Slider.prototype._moveIndexToMiddle = function()\n    {\n        each(this._slides, (i) =>\n        {\n            attr(this._slides[i], 'data-index', i);\n        \n        }, this);\n\n        if (!this.options.wrap) return;\n\n        let slide = this._slides[this._index];\n\n        _for(this._slidesCount, (i) =>\n        {\n            if (sibling_index(slide) === this._middleIndex) return false;\n\n            preapend(find('> *:last-child', this._DOMElementViewport), this._DOMElementViewport);\n        \n        }, this);  \n    }\n\n    /**\n     * On dot click.\n     *\n     * @access {private}\n     */\n    _Slider.prototype._dotClick = function(e, dot)\n    {\n        if (this._animating || this._dragging) return;\n\n        let index = parseInt(attr(dot, 'data-index')) +1;\n\n        this.toSlide(index, true, true);\n    }\n\n    /**\n     * Update index from previous / next.\n     *\n     * @access {private}\n     * @param  {Integer} direction -1|1\n     */\n    _Slider.prototype._updateIndex = function(direction)\n    {\n        if (direction === 1)\n        {\n            this._index = this._index === this._slidesIndexs ? 0 : this._index + 1;\n        }\n        else\n        {\n            this._index = this._index === 0 ? this._slidesIndexs : this._index - 1;\n        }\n    }\n\n    /**\n     * Returns the move delta\n     *\n     * @access {private}\n     * @param  {Integer} direction -1|1\n     */\n    _Slider.prototype._moveDelta = function(index)\n    {\n        // Default delta and direction\n        let delta       = index < this._index ? this._index - index : index - this._index;\n        let direction   = index < this._index ? -1 : 1;\n        \n        // We only go shortest path if we're wrapping and there's more than 5 slides\n        if (this.options.wrap && this._slidesCount > 4)\n        {\n            if (index > this._index)\n            {\n                let backN = (this._slidesCount - index) + this._index;\n\n                if (backN < delta)\n                {\n                    delta = backN;\n                    direction = -1;\n                }\n            }\n            else if (index < this._index)\n            {\n                let forwdN = (this._slidesCount - this._index) + index;\n\n                if (forwdN < delta)\n                {\n                    delta = forwdN;\n                    direction = 1;\n                }\n            }\n        }\n\n        return { delta, direction };\n    }\n\n    /**\n     * Create buffers cloned nodes.\n     *\n     * @access {private}\n     * @param  {Integer} direction -1|1\n     */\n    _Slider.prototype._bufferNodes = function(direction)\n    {\n        let viewport = this._DOMElementViewport;\n\n        return map([...Array(this._bufferSize).keys()], (i) =>\n        {\n            let clone = find(`> *:nth${direction === -1 ? '-' : '-last-'}child(${i+1})`, viewport).cloneNode(true);\n\n            direction === -1 ? viewport.appendChild(clone) : preapend(clone, viewport);\n\n            return clone;\n        });\n    }\n\n    /**\n     * pause if page visibility is hidden, unpause if visible\n     *\n     * @access {private}\n     */\n    _Slider.prototype._onVisibilityChange = function()\n    {\n        let isPageHidden = document.hidden;\n        \n        this[ isPageHidden ? 'pause' : 'unpause' ]();\n    }\n\n    /**\n     * Start playing on page return.\n     *\n     * @access {private}\n     */\n    _Slider.prototype._onVisibilityPlay = function()\n    {\n        this.play();\n        \n        off(document, 'visibilitychange', this._onVisibilityPlay, this);\n    }\n\n    /**\n     * Timeout ticker.\n     *\n     * @access {private}\n     */\n    _Slider.prototype._tick = function()\n    {\n        // do not tick if not playing\n        if ( this._playing !== 'playing' ) return;\n\n        // default to 3 seconds\n        let time = typeof this.options.autoPlay == 'number' ? this.options.autoPlay : 3000;\n\n        // HACK: reset ticks if stopped and started within interval\n        clearTimeout(this._playTimer);\n\n        this._playTimer = setTimeout( () =>\n        {\n            this.next();\n            \n            this._tick();\n\n        }, time );\n    }\n\n    /**\n     * Shuffle slides after moved.\n     *\n     * @access {private}\n     * @param  {Integer} direction -1|1\n     */\n    _Slider.prototype._moved = function(direction)\n    {    \n        if (!this.options.wrap) return;\n\n        if (direction === 1)\n        {\n            this._DOMElementViewport.appendChild(find('> *:first-child', this._DOMElementViewport));\n        }\n        else\n        {\n           preapend(find('> *:last-child', this._DOMElementViewport), this._DOMElementViewport);\n        }\n    }\n\n    /**\n     * Update active dot after move.\n     *\n     * @access {private}\n     */\n    _Slider.prototype._updateDots = function()\n    {\n        if (!this.options.dots) return;\n\n        remove_class(find('.js-slider-dots .js-slider-dot.active', this.DOMElementWrapper), 'active');\n\n        add_class(this._dots[this._index], 'active');\n    }\n\n    // Load into container\n    frontbx.set('_Slider', _Slider);\n\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {Class}\n     */\n    const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [attr, each, map, extend, dom_element, json_decode] = frontbx.import(['attr', 'each', 'map', 'extend', 'dom_element', 'json_decode']).from('_');\n\n    /**\n     * Slider instances.\n     * \n     * @var {Array}\n     */\n    const SLIDERS = [];\n\n    /**\n     * Dom Slider component.\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Slider = function()\n    {\n        this.super('.js-slider');\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Slider.prototype.bind = function(node)\n    {\n        let options = attr(node, 'data-slider-options');\n\n        options = !options ? {} : json_decode(options);\n\n        SLIDERS.push(frontbx._Slider(node, options));\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Slider.prototype.unbind  = function(node)\n    {\n        each(SLIDERS, (i, slider) =>\n        {\n            if (slider.DOMElementWrapper === node)\n            {\n                slider.destroy();\n\n                SLIDERS.splice(i, 1);\n\n                return false;\n            }\n        });\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Slider.prototype.render = function(props)\n    {\n        return dom_element({tag: 'div', class: 'slider js-slider'}, null, props.slides);\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('Slider', extend(Component, Slider));\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n\n    /**\n     * Helper functions\n     * \n     * @var {function}\n     */\n    const [find, add_class, on, closest, in_dom, input_value, remove_class, off, extend] = frontbx.import(['find','add_class','on','closest','in_dom','input_value','remove_class','off','extend']).from('_');\n\n    /**\n     * Adds classes to inputs\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Inputs = function()\n    {\n        this.super('.form-field input:not([type=\"radio\"]):not([type=\"checkbox\"]):not([type=\"range\"]), .form-field select, .form-field textarea, .form-field label');\n\n        return this;\n    }\n\n    /**\n     * Event binder\n     *\n     * @access {private}\n     */\n    Inputs.prototype.bind = function(node)\n    {\n        if (node.tagName.toLowerCase() === 'label')\n        {\n            on(node, 'click', this._onLabelClick);\n        }\n        else\n        {\n            on(node, 'click, focus, blur, change, input', this._eventHandler);\n\n            this._setClasses(node);\n        }\n    }\n\n    /**\n     * Event ubinder\n     *\n     * @access {private}\n     */\n    Inputs.prototype.unbind = function(node)\n    {\n        if (node.tagName.toLowerCase() === 'label')\n        {\n            off(node, 'click', this._onLabelClick);\n        }\n        else\n        {\n            off(node, 'click, focus, blur, change, input', this._eventHandler);\n        }\n    }\n\n    /**\n     * Event handler\n     *\n     * @access {private}\n     * @params {event|null} e Browser click event\n     */\n    Inputs.prototype._onLabelClick = function(e)\n    {\n        e = e || window.event;\n\n        var input = find('input', this.parentNode);\n\n        if (in_dom(input))\n        {\n            input.focus();\n\n            return;\n        }\n\n        var input = find('select', this.parentNode);\n\n        if (in_dom(input))\n        {\n            input.focus();\n\n            return;\n        }\n\n        var input = find('textarea', this.parentNode);\n\n        if (in_dom(input))\n        {\n            input.focus();\n\n            return;\n        }\n    }\n\n    /**\n     * Event handler\n     *\n     * @access {private}\n     * @params {event|null} e Browser click event\n     */\n    Inputs.prototype._eventHandler = function(e)\n    {\n        e = e || window.event;\n\n        var wrapper = closest(this, '.form-field');\n\n        if (!wrapper) return;\n\n        if (e.type === 'click')\n        {\n            this.focus();\n        }\n        else if (e.type === 'focus')\n        {\n            add_class(wrapper, 'focus');\n        }\n        else if (e.type === 'blur')\n        {\n            remove_class(wrapper, 'focus');\n        }\n\n        if (e.type === 'change' || e.type === 'input' || e.type === 'blur')\n        {\n            var _value = input_value(this);\n\n            if (_value === '')\n            {\n                remove_class(wrapper, 'not-empty');\n                add_class(wrapper, 'empty');\n            }\n            else\n            {\n                remove_class(wrapper, 'empty');\n                add_class(wrapper, 'not-empty');\n            }\n        }\n    }\n\n    /**\n     * Sets initial classes on load.\n     *\n     * @access {private}\n     * @params {DOMElement} input \n     */\n    Inputs.prototype._setClasses = function(input)\n    {\n        var wrapper = closest(input, '.form-field');\n\n        if (!wrapper) return;\n\n        var _value = input_value(input);\n\n        if (_value === '')\n        {\n            remove_class(wrapper, 'not-empty');\n            add_class(wrapper, 'empty');\n        }\n        else\n        {\n            remove_class(wrapper, 'empty');\n            add_class(wrapper, 'not-empty');\n        }\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('Inputs', extend(Component, Inputs));\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n\n    /**\n     * Helper functions\n     * \n     * @var {function}\n     */\n    const [find, first_children, on, off, add_class, remove_class, has_class, each, map, _for, css, attr, is_empty, input_value, dom_element, extend] = frontbx.import(['find', 'first_children', 'on', 'off', 'add_class', 'remove_class', 'has_class', 'each', 'map', 'for', 'css', 'attr','is_empty', 'input_value','dom_element', 'extend']).from('_');\n\n    /**\n     * Default values\n     * \n     * @var {Object}\n     */\n    const DEFAULT_OPTIONS =\n    {\n        min: 0,\n        max: 100,\n        value: 50,\n        step: 1,\n        labeled: false,\n        indicators: false,\n    };\n\n    /**\n     * Range input utility\n     * \n     * @var {Function}\n     */\n    const Range = function(wrapper)\n    {\n        this.wrapperEl = wrapper;\n\n        this.inputEl = find('input[type=range]', wrapper);\n\n        let min     = attr(this.inputEl, 'min');\n        let max     = attr(this.inputEl, 'max');\n        let step    = attr(this.inputEl, 'step');\n        let value   = input_value(this.inputEl);\n        let suffix  = attr(this.inputEl, 'data-suffix');\n        let prefix  = attr(this.inputEl, 'data-prefix');\n        let labeled = has_class(this.wrapperEl, 'range-labeled');\n        let indicators = has_class(this.wrapperEl, 'range-indicators');\n\n        min   = is_empty(min)   ? DEFAULT_OPTIONS.min : (min.includes('.') ? parseFloat(min) : parseInt(min));\n        max   = is_empty(max)   ? DEFAULT_OPTIONS.max : (max.includes('.') ? parseFloat(max) : parseInt(max));\n        step  = is_empty(step)  ? DEFAULT_OPTIONS.step : (step.includes('.') ? parseFloat(step) : parseInt(step));\n        value = is_empty(value) ? DEFAULT_OPTIONS.value : value;\n\n        this.props = {min, max, step, value, suffix, prefix, labeled, indicators};\n\n        this._build();\n\n        this._bind();\n    }\n\n    /**\n     * Destroy slider.\n     * \n     * @access {public}\n     */\n    Range.prototype.destroy = function()\n    {\n        this._unbind();\n\n        _for(first_children(this.wrapperEl), (i, elem) => elem !== this.inputEl ? this.wrapperEl.removeChild(elem) : null);\n    }\n\n    /**\n     * Update the slider.\n     * \n     * @access {public}\n     */\n    Range.prototype.update = function(e)\n    {\n        let value = input_value(this.inputEl); value = is_empty(value) ? 0 : value;\n\n        if (value === this.props.min)\n        {\n            remove_class(this.wrapperEl, 'range-max');\n            add_class(this.wrapperEl, 'range-min');\n        }\n        else if (value === this.props.max)\n        {\n            remove_class(this.wrapperEl, 'range-min');\n            add_class(this.wrapperEl, 'range-max');\n        }\n        else \n        {\n            remove_class(this.wrapperEl, 'range-min, range-max');\n        }\n\n        this.props.value = value;\n\n        this.updateBackground();\n\n        _for(this.props.max.toString().length, (i) => this.updateIndicators(i));\n    }\n\n    /**\n     * Bind listener.\n     * \n     * @access {private}\n     */\n    Range.prototype._bind = function()\n    {\n        on(this.inputEl, 'input', this.update, this);\n    }\n\n    /**\n     * Unbind listener.\n     * \n     * @access {private}\n     */\n    Range.prototype._unbind = function()\n    {\n        off(this.inputEl, 'input', this.update, this);\n    }\n\n    /**\n     * Build slider.\n     * \n     * @access {private}\n     */\n    Range.prototype._build = function()\n    {\n        let length     = this.props.max.toString().length;\n        let digitWraps = [];\n        this.digitEls  = [];\n\n        _for(length, () => \n        {\n            let ul = dom_element({tag: 'ul'}, null, map(Array(10).fill(0), (i) => dom_element({tag: 'li', innerHTML: `${i}`})));\n\n            this.digitEls.push(ul);\n\n            digitWraps.push(dom_element({tag: 'div', class: 'slider-value-number'}, null, ul));\n        });\n\n        if (this.props.prefix)\n        {\n            digitWraps.unshift(dom_element({tag: 'div', class: 'slider-value-number'}, null, dom_element({tag: 'ul'}, null, dom_element({tag: 'li', innerHTML: this.props.prefix}))));\n        }\n\n        if (this.props.suffix)\n        {\n            digitWraps.push(dom_element({tag: 'div', class: 'slider-value-number'}, null, dom_element({tag: 'ul'}, null, dom_element({tag: 'li', innerHTML: this.props.suffix}))));\n        }\n\n        // Label style\n        if (this.props.indicators)\n        {\n            let prefix = this.props.prefix || '';\n            let suffix = this.props.suffix || '';\n\n            let label = dom_element({tag: 'div', class: this.props.labeled ? 'slider-value label' : 'slider-value'}, null, `${prefix}${this.props.min}${suffix}`);\n\n            let fChild = this.wrapperEl.firstChild;\n\n            if (fChild === this.inputEl)\n            {\n                this.wrapperEl.insertBefore(label, fChild);\n            }\n            else\n            {\n                this.wrapperEl.insertBefore(label, fChild.nextSibling);\n            }\n        }\n\n        this.digitWrapper = dom_element({tag: 'div', class: `slider-value ${this.props.labeled ? 'label' : ''}`}, this.wrapperEl, digitWraps);\n\n        this.update();\n    }\n\n    /**\n     * Update the digit indicators.\n     * \n     * @access {private}\n     * @param  {Integer} index\n     */\n    Range.prototype.updateIndicators = function(index)\n    {\n        let elem     = this.digitEls[index];\n        let value    = this.props.value.toString();\n        let { max }  = this.props;\n        let length   = max.toString().length;\n        let visible  = index + 1 > length - value.length;\n        let position = visible ? \"-\" + (value[index - (length - value.length)] * 10) + '%' : '10%';\n\n        !visible ? add_class(elem.parentNode, 'digit-hidden') : remove_class(elem.parentNode, 'digit-hidden');\n\n        //!visible ? css(elem.parentNode, 'display', 'none') : css(elem.parentNode, 'display', false);\n\n        css(elem,\n        {\n            transform: `translateY(${position})`,\n            opacity: visible ? '1' : '0'\n        });\n    }\n\n    /**\n     * Update the background of input.\n     * \n     * @access {private}\n     */\n    Range.prototype.updateBackground = function()\n    {\n        css(this.inputEl, 'background-size', `${this.percent()}% 100%`);\n    }\n\n    /**\n     * Returns background percentage width.\n     * \n     * @access {private}\n     * @return {Float}\n     */\n    Range.prototype.percent = function()\n    {\n        let { min, max } = this.props;\n        \n        return (this.props.value - min) * 100 / (max - min)\n    }\n\n    /**\n     * Ranges.\n     * \n     * @var {Map}\n     */\n    const RANGES = new Map;\n\n    /**\n     * RangeSlider Dom Component.\n     *\n     */\n    const RangeSlider = function()\n    {\n        this.super('.js-range-slider');\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    RangeSlider.prototype.bind = function(wrapper)\n    {        \n        RANGES.set(new Range(wrapper));\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    RangeSlider.prototype.unbind = function(wrapper)\n    {\n        let range = RANGES.get(wrapper);\n\n        if (range)\n        {\n            range.destroy();\n\n            RANGES.delete(wrapper);\n        }\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    RangeSlider.prototype.render = function(props)\n    {\n        let inputProps = { min: props.min, max: props.max, value: props.value, step: props.step };\n\n        if (props.prefix) inputProps.dataPrefix = props.prefix;\n        if (props.suffix) inputProps.dataSuffix = props.suffix;\n\n        return dom_element({tag: 'div', class: `range-slider ${props.labeled ? 'range-labeled' : ''} ${props.indicators ? 'range-indicators' : ''} js-range-slider`}, null,\n            dom_element({ ...{ tag: 'input', type: 'range'}, ...inputProps})\n        );\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('RangeSlider', extend(Component, RangeSlider));\n})();\n(function()\n{\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [height, width, coordinates, dom_element, in_dom] = frontbx.import(['height','width','coordinates','dom_element','in_dom']).from('_');\n\n    /**\n     * Default options.\n     * \n     * @var {Object}\n     */\n    const DEFAULT_OPTIONS =\n    {\n        direction: 'top',\n        animation: 'pop',\n        variant: 'default',\n        state: 'open',\n        classes: '',\n    };\n\n    /**\n     * Popover Handler\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const PopHandler = function(options)\n    {\n        this.options    = {...DEFAULT_OPTIONS, ...options};\n        this.popElement = this._buildPopEl();\n        this.state      = this.options.state;\n    }\n\n    /**\n     * Build the popover\n     *\n     * @access {private}\n     */\n    PopHandler.prototype.render = function()\n    {\n        document.body.appendChild(this.popElement);\n\n        this.position();\n\n        if (this.state === 'open') this.popElement.classList.add(`popover-${this.options.animation}`);\n\n        return this.popElement;\n    }\n\n    /**\n     * Destroy the popover.\n     *\n     * @access {public}\n     */\n    PopHandler.prototype.destroy = function()\n    {\n        if (in_dom(this.popElement)) this.popElement.parentNode.removeChild(this.popElement);\n    }\n\n    /**\n     * Destroy the popover.\n     *\n     * @access {public}\n     */\n    PopHandler.prototype.hide = function()\n    {\n        this.popElement.classList.remove(`popover-${this.options.animation}`);\n\n        this.popElement.classList.add(`sr-only`);\n\n        this.state = 'closed';\n    }\n\n    /**\n     * Destroy the popover.\n     *\n     * @access {public}\n     */\n    PopHandler.prototype.show = function()\n    {\n        this.popElement.classList.remove(`sr-only`);\n        \n        this.popElement.classList.add(`popover-${this.options.animation}`);\n\n        this.state = 'open';\n    }\n\n    /**\n     * Build the popover\n     *\n     * @access {private}\n     */\n    PopHandler.prototype._buildPopEl = function()\n    {\n        return dom_element({tag: 'div', class: `popover popover-${this.options.variant} popover-${this.options.direction} ${this.options.classes}`}, null, this.options.content);\n    }\n\n    /**\n     * Position the popover\n     *\n     * @access {public}\n     */\n    PopHandler.prototype.position = function()\n    {\n        var tarcoordinates = coordinates(this.options.trigger);\n\n        if (this.options.direction.includes('top'))\n        {\n            this.popElement.style.top = `${ (tarcoordinates.top - height(this.popElement)) - 10}px`;\n\n            if (this.options.direction === 'top') this.popElement.style.left = `${tarcoordinates.left - (width(this.popElement) / 2) + (width(this.options.trigger) / 2)}px`;\n        }\n        else if (this.options.direction.includes('bottom'))\n        {\n            this.popElement.style.top = `${(tarcoordinates.top + height(this.options.trigger) + 10)}px`;\n\n            if (this.options.direction === 'bottom') this.popElement.style.left = `${tarcoordinates.left - (width(this.popElement) / 2) + (width(this.options.trigger) / 2)}px`;\n        }\n        if (this.options.direction.includes('left'))\n        {\n            this.popElement.style.left = this.options.direction === 'left' ? `${tarcoordinates.left - width(this.popElement) - 10}px` : `${tarcoordinates.left}px`;\n\n            if (this.options.direction === 'left') this.popElement.style.top = `${(tarcoordinates.top - (height(this.popElement) / 2 ))}px`;\n        }\n        else if (this.options.direction.includes('right'))\n        {\n            this.popElement.style.left =  this.options.direction === 'right' ? `${tarcoordinates.left + width(this.options.trigger) + 10 }px` : `${tarcoordinates.left + width(this.options.trigger) - width(this.popElement)}px`;\n\n            if (this.options.direction === 'right') this.popElement.style.top = `${(tarcoordinates.top - (height(this.popElement) / 2 ))}px`;\n        }\n    }\n\n    // Set into container for private use\n    frontbx.set('PopHandler', PopHandler);\n\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n\n    /**\n     * JS Helper reference\n     * \n     * @var {object}\n     */\n    const [attr, is_undefined, is_htmlElement, to_camel_case, dom_element, find, find_all, add_class, on, closest, has_class, is_empty, remove_class, off, each, map, extend] = frontbx.import(['attr','is_undefined','is_htmlElement','to_camel_case','dom_element','find','find_all','add_class','on','closest','has_class','is_empty','remove_class','off','each','map','extend']).from('_');\n\n    /**\n     * Timer for mouse in-out.\n     * \n     * @var {Timeout}\n     */\n    var HOVER_TIMER;\n\n    /**\n     * Handlers.\n     * \n     * @var {Map}\n     */\n    var POP_HANDLERS = new Map;\n\n    /**\n     * Available attributes.\n     * \n     * @var {Array}\n     */\n    const DATA_ATTRIBUTES = ['variant','direction','title','content','event','animation','state','trigger'];\n\n    /**\n     * Popover\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Popovers = function()\n    {\n        this.super('.js-popover');\n\n        this._windowClick = false;\n    }\n\n    /**\n     * Initialize the handlers on a trigger\n     *\n     * @access {private}\n     * @param  {DOMElement} trigger Click/hover trigger\n     */\n    Popovers.prototype.bind = function(trigger)\n    {\n        if (!this._windowClick)\n        {\n            on(window, 'click', this._windowClickHandler, this);\n\n            this._windowClick = true;\n        }\n\n        let options = { trigger };\n\n        each(DATA_ATTRIBUTES, (i, attribute) =>\n        {\n            let value = attr(trigger, `data-popover-${attribute}`);\n\n            if (!is_undefined(value))\n            {\n                if (value === 'true' || value === 'false') value = value === 'true' ? true : false;\n\n                if (attribute === 'content' && value[0] === '#')\n                {\n                    value = find(value);\n                }\n\n                options[to_camel_case(attribute)] = value;\n            }\n        });\n\n        let popHandler = frontbx.get('PopHandler', this._build(options));\n\n        if (options.event === 'click')\n        {\n            on(trigger, 'click', this._clickHandler, this);\n            on(window, 'resize', this._windowResize, this);\n        }\n        else\n        {                \n            on(trigger, 'mouseenter', this._hoverEnter, this);\n        }\n\n        POP_HANDLERS.set(trigger, popHandler);\n    }\n\n    /**\n     * Builds the popover if necessary.\n     *\n     * @access {private}\n     * @param  {Object} options\n     * @return {Object}\n     */\n    Popovers.prototype._build = function(options)\n    {\n        if (typeof options.content === 'string')\n        {\n            let contents = [];\n\n            if (options.event && options.event === 'click')\n            {\n                contents.push(dom_element({tag: 'button', type: 'button', role: 'button', ariaLabel: 'close', class: 'btn btn-sm btn-pure btn-circle js-remove-pop close-btn'}, null, \n                    dom_element({tag: 'span', class: 'fa fa-xmark'})\n                ));\n            }\n\n            if (options.title)\n            {\n                contents.push(dom_element({tag: 'h5', class: 'popover-title'}, null, options.title));\n            }\n\n            contents.push(dom_element({tag: 'div', class: 'popover-content'}, null, dom_element({tag: 'p'}, null, options.content)));\n\n            options.content = contents;\n        }\n        else if (is_htmlElement(options.content))\n        {\n            remove_class(options.content, 'hidden');\n\n            options.content.style = '';\n        }\n\n        return options;\n    }\n\n    /**\n     * Unbind event listeners on a trigger\n     *\n     * @param {trigger} node\n     * @access {private}\n     */\n    Popovers.prototype.unbind = function(trigger)\n    {\n        if (this._windowClick)\n        {\n            off(window, 'click', this._windowClickHandler, this);\n\n            this._windowClick = false;\n        }\n\n        let content = attr(trigger, 'data-content');\n\n        if (content[0] === '#')\n        {\n            elem = find(content);\n            \n            if (elem)\n            {\n                elem.style.display = 'none';\n\n                document.body.appendChild(elem);\n            }\n        }\n\n        var evnt = attr(trigger, 'data-popover-event');\n\n        if (evnt === 'click')\n        {\n            off(trigger, 'click', this._clickHandler, this);\n            off(window, 'resize', this._windowResize, this);\n        }\n        else\n        {\n            off(trigger, 'mouseenter', this._hoverEnter, this);\n            off(trigger, 'mouseleave', this._hoverLeave, this);\n\n            this._killPop(trigger);\n\n            POP_HANDLERS.delete(trigger);\n        }\n    }\n\n    /**\n     * Hover over event handler\n     *\n     * @access {private}\n     */\n    Popovers.prototype._hoverEnter = function(e, trigger)\n    {\n        if (has_class(trigger, 'popped')) return;\n\n        let handler = POP_HANDLERS.get(trigger);\n        \n        let pop = handler.render();\n\n        on(pop, 'mouseenter', this._hoverPop, this);\n\n        on(trigger, 'mouseleave', this._hoverLeave, this);\n        \n        add_class(trigger, 'popped');\n    }\n\n    /**\n     * Hover leave event handler\n     *\n     * @access {private}\n     */\n    Popovers.prototype._hoverLeave = function(e, trigger)\n    {\n        clearTimeout(HOVER_TIMER);\n\n        // Mouse leaving pop not trigger\n        if (!has_class(trigger, '.js-popover'))\n        {\n            for (let [_trigger, handler] of POP_HANDLERS)\n            {\n                if (handler.popElement === trigger) trigger = handler.options.trigger;\n            }\n        }\n\n        HOVER_TIMER = setTimeout(() => \n        {\n            this._killPop(trigger);\n\n            off(trigger, 'mouseleave', this._hoverLeave, this);\n\n        }, 300);\n    }\n\n    /**\n     * Hover leave event handler\n     *\n     * @access {private}\n     */\n    Popovers.prototype._hoverPop = function(e, pop)\n    {\n        clearTimeout(HOVER_TIMER);\n\n        on(pop, 'mouseleave', this._hoverLeave, this);\n    }\n\n    /**\n     * Window resize event handler\n     *\n     * @access {private}\n     */\n    Popovers.prototype._windowResize = function()\n    {\n        for (let [trigger, handler] of POP_HANDLERS)\n        {\n            if (handler.state === 'active') handler.position();\n        }\n    }\n\n    /**\n     * Click event handler\n     *\n     * @param {event|null} e JavaScript click event\n     * @access {private}\n     */\n    Popovers.prototype._killPop = function(trigger)\n    {            \n        let handler = POP_HANDLERS.get(trigger);\n\n        handler.destroy();\n        \n        remove_class(trigger, 'popped');\n    }\n\n    /**\n     * Click event handler\n     *\n     * @param {event|null} e JavaScript click event\n     * @access {private}\n     */\n    Popovers.prototype._clickHandler = function(e, trigger)\n    {\n        e = e || window.event;\n\n        e.preventDefault();\n        \n        var popHandler = POP_HANDLERS.get(trigger);\n\n        if (has_class(trigger, 'popped'))\n        {\n            this._removeAll(trigger);\n            \n            popHandler.destroy();\n            \n            remove_class(trigger, 'popped');\n        }\n        else\n        {\n            this._removeAll(trigger);\n            \n            popHandler.render();\n            \n            add_class(trigger, 'popped');\n        }\n    }\n\n    /**\n     * Remove all popovers when anything is clicked\n     *\n     * @access {private}\n     */\n    Popovers.prototype._windowClickHandler = function(e)\n    {        \n        let clicked = e.target;\n\n        // Clicked the close button\n        if (has_class(clicked, 'js-remove-pop') || closest(clicked, '.js-remove-pop'))\n        {\n            this._removeAll();\n\n            return;\n        }\n\n        // Clicked inside the popover\n        if (has_class(clicked, 'popover') || closest(clicked, '.popover'))\n        {\n            return;\n        }\n\n        // Clicked a popover trigger\n        if (has_class(clicked, 'js-popover') || closest(clicked, '.js-popover'))\n        {\n            return;\n        }\n\n        this._removeAll();\n    }\n\n    /**\n     * Remove all the popovers currently being displayed\n     *\n     * @access {private}\n     */\n    Popovers.prototype._removeAll = function(exception)\n    {        \n        for (let [trigger, handler] of POP_HANDLERS)\n        {\n            if (!exception || (exception && trigger !== exception))\n            {\n                handler.destroy();\n\n                remove_class(trigger, 'popped');\n            }\n        }\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('DOM_Popovers', extend(Component, Popovers));\n\n}());\n\n(function()\n{\n    /**\n     * Creates a chip\n     *\n     */\n    function createChip(options)\n    {\n        let chip = document.createElement(options.removeable || options.input ? 'SPAN' : 'BUTTON');\n\n        if (options.removeable || options.input) chip.type = 'button';\n\n        chip.className = options.variant ? `btn btn-chip ${options.variant}` : 'btn btn-chip';\n        chip.innerText = options.posticon || options.removeable ? `${options.text} ` : options.text;\n\n        if (options.preicon)\n        {\n            let icon1 = document.createElement('SPAN');\n            icon1.className = `fa fa-${options.preicon}`;\n            chip.appendChild(icon1);\n        }\n\n        if (options.removeable)\n        {\n            let removeBtn = document.createElement('BUTTON');\n            removeBtn.className = 'remove-btn btn-unstyled js-remove-btn';\n            removeBtn.ariaLabel = 'remove';\n            removeBtn.type = 'button';\n\n            let x = document.createElement('SPAN');\n            x.className = 'fa fa-xmark';\n            removeBtn.appendChild(x);\n\n            chip.appendChild(removeBtn);\n        }\n        else if (options.posticon)\n        {\n            let icon2 = document.createElement('SPAN');\n            icon2.className = `fa fa-${options.posticon}`;\n            chip.appendChild(icon2);\n        }\n        \n        if (options.input)\n        {\n            let input = document.createElement('INPUT');\n            input.hidden = true;\n            input.name   = options.input;\n            input.value  = options.text;\n            input.setAttribute('value', options.text);\n\n            chip.appendChild(input);\n        }\n\n        return chip;\n    }\n\n    // Load into frontbx DOM core\n    frontbx.set('Chip', createChip);\n\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, find_all, on, closest, first_children, in_array, input_value, is_empty, off, remove_from_dom, extend] = frontbx.import(['find','find_all','on','closest','first_children','in_array','input_value','is_empty','off','remove_from_dom','extend']).from('_');\n\n    /**\n     * Chip inputs\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const ChipInputs = function()\n    {\n        this.super('.js-chips-input');\n    }\n\n    /**\n     * Init a chips input\n     *\n     * @access {private}\n     * @param  {DOMElement}    _wrapper\n     */\n    ChipInputs.prototype.bind = function(_wrapper)\n    {\n        let _input = find('.js-chip-input', _wrapper);\n\n        on(find_all('.js-remove-btn', _wrapper), 'click', this._removeChip);\n\n        on(_input, 'keyup', this._onKeyUp, this);\n\n        if (closest(_input, 'form'))\n        {\n            on(_input, 'keydown', this._preventSubmit, this);\n        }\n    }\n\n    /**\n     * Destroy chip listeners\n     *\n     * @access {private}\n     * @param  {DOMElement}    _wrapper\n     */\n    ChipInputs.prototype.unbind = function(_wrapper)\n    {\n        var _removeBtns = find_all('.btn-chip .js-remove-btn', _wrapper);\n        var _input = find('.js-chip-input', _wrapper);\n\n        off(_removeBtns, 'click', this._removeChip);\n\n        off(_input, 'keyup', this._onKeyUp, this);\n\n        if (closest(_input, 'form'))\n        {\n            off(_input, 'keydown', this._preventSubmit, this);\n        }\n    }\n\n    /**\n     * Prevent the form from submitting if it's part of a form\n     *\n     * @access {private}\n     * @param  {event|null} e\n     */\n    ChipInputs.prototype._preventSubmit = function(e, input)\n    {\n        e = e || window.event;\n\n        var _key = e.code || e.key || e.keyCode || e.charCode;\n\n        if (_key == 'Enter' || _key === 13)\n        {\n            e.preventDefault();\n\n            return false;\n        }\n        // Backspace\n        else if (_key == 'Delete' || _key == 'Backspace' || _key == 8 || _key == 46)\n        {\n            if (input.value === '')\n            {\n                var _wrapper = closest(input, '.js-chips-input');\n\n                this._removeLastChip(_wrapper);\n            }\n        }\n    }\n\n    /**\n     * Handle pressing enter to insert the chip\n     *\n     * @access {private}\n     * @param  {event|null} e\n     */\n    ChipInputs.prototype._onKeyUp = function(e, input)\n    {\n        e = e || window.event;\n\n        var _key = e.code || e.key || e.keyCode || e.charCode;\n\n        // Enter\n        if (_key == 'Enter' || _key === 13)\n        {\n            var _wrapper = closest(input, '.js-chips-input');\n\n            var _value = input_value(input).trim();\n\n            if (!in_array(_value, this._getChipsValues(_wrapper)) && _value !== '')\n            {\n                this.addChip(_value, _wrapper);\n\n                input.value = '';\n            }\n        }\n    }\n\n    /**\n     * Remove last chip\n     *\n     * @access {private}\n     * @param  {DOMElement}    _wrapper\n     */\n    ChipInputs.prototype._removeLastChip = function(_wrapper)\n    {\n        var _chips = find_all('.btn-chip', _wrapper);\n\n        if (!is_empty(_chips))\n        {\n            remove_from_dom(_chips.pop());\n        }\n    }\n\n    /**\n     * Insert new chip\n     *\n     * @access {public}\n     * @param  {string}      _value\n     * @param  {DOMElement}        _wrapper\n     * @param  {string|bool} _icon\n     */\n    ChipInputs.prototype.addChip = function(_value, _wrapper, _icon)\n    {\n        let chip = frontbx.Chip({\n            text       : _value.trim(),\n            removeable : true,\n            input      : _wrapper.dataset.inputName,\n            variant    : _wrapper.dataset.chipClass,\n        });\n\n        _wrapper.insertBefore(chip, first_children(_wrapper).pop());\n\n        on(find('.js-remove-btn', chip), 'click', this._removeChip);\n\n        frontbx.dom().refresh('Ripple', _wrapper);\n    }\n\n    /**\n     * Remove an existing chip\n     *\n     * @access {private}\n     * @param  {event|null} e\n     */\n    ChipInputs.prototype._removeChip = function(e)\n    {\n        e = e || window.event;\n\n        e.preventDefault();\n\n        remove_from_dom(closest(this, '.btn-chip'));\n    }\n\n    /**\n     * Get all values from chip input\n     *\n     * @access {private}\n     * @param  {DOMElement}    _wrapper\n     * @return {array}\n     */\n    ChipInputs.prototype._getChipsValues = function(_wrapper)\n    {\n        var _result = [];\n\n        var _chips = find_all('.btn-chip input', _wrapper);\n\n        for (var i = 0; i < _chips.length; i++)\n        {\n            _result.push(input_value(_chips[i]));\n        }\n\n        return _result;\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('ChipInputs', extend(Component, ChipInputs));\n\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, add_class, on, closest, has_class, remove_class, off, attr, css, dom_element, map, trigger_event, extend] = frontbx.import(['find','add_class','on','closest','has_class','remove_class','off','attr','css','dom_element','map','trigger_event','extend']).from('_');\n\n    /**\n     * Dropdown Buttons\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Menu = function()\n    {\n        this.super('.js-select-menu > *:not(.menu-divider):not(.menu-header), .js-check-menu > *:not(.menu-divider):not(.menu-header), .js-active-menu > *:not(.menu-divider):not(.menu-header)');\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Menu.prototype.bind = function(node)\n    {\n        on(node, 'click', this._clickHandler, this);\n    }\n\n     /**\n     * @inheritdoc\n     * \n     */\n    Menu.prototype.unbind = function(node)\n    {\n        off(node, 'click', this._clickHandler, this);\n    }\n\n    /**\n     * Click event handler\n     *\n     * @param  {event|null} e JavaScript Click event\n     * @access {private}\n     */\n    Menu.prototype._clickHandler = function(e, item)\n    {\n        // Nothing to do\n        if (has_class(item, 'selected') || has_class(item, 'active') || has_class(item, 'checked')) return;\n\n        // Menu and class\n        let menu        = closest(item, '.js-select-menu') || closest(item, '.js-check-menu') || closest(item, '.js-active-menu');\n        let activeClass = has_class(menu, 'js-select-menu') ? 'selected' : (has_class(menu, 'js-check-menu') ? 'checked' : 'active');\n        let selected    = find(`> .${activeClass}`, menu);\n        let isCheck     = activeClass === 'checked';\n        let content     = item.innerText.trim();\n            \n        if (selected) remove_class(selected, activeClass);\n        \n        add_class(item, activeClass);\n\n        if (isCheck)\n        {\n            if (selected)\n            {\n                let selectedCheck = find('.item-right .fa.fa-check', selected);\n\n                if (selectedCheck) css(selectedCheck.parentNode, 'display', 'none');\n            }\n            \n            let check = find('.item-right .fa', item);\n\n            if (!check)\n            {\n                let itemContent = find('.item-body', item);\n\n                if (!itemContent)\n                {\n                    item.innerText = '';\n\n                    dom_element({tag: 'span', class: 'item-body'}, item, content);\n                }\n\n                dom_element({tag: 'span', class: 'item-right'}, item, dom_element({tag: 'span', class: 'fa fa-check'}));\n            }\n            else\n            {\n                attr(check.parentNode, 'style', false);\n            }\n        }\n\n        trigger_event(menu, 'frontbx:menu:selected', {item: item});\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Menu.prototype.render = function(props)\n    {\n        return dom_element({tag: 'ul', class: `menu ${props.classes ? props.classes : ''} ${props.dense ? 'menu-dense' : ''} ${props.ellipsis ? 'menu-ellipsis' : ''} ${ props.selectable ? `js-select-menu` : '' }`}, null, map(props.items, (i, item) =>\n            {\n                return dom_element({tag: 'li', class: `${item.state} ${props.selected && (props.selected === item.value || props.selected === item.text) ? 'selected' : null}`}, null,\n                [\n                    item.left ? dom_element({tag: 'span', class: 'item-left', innerHTML: item.left}) : null,\n                    dom_element({tag: 'span', class: 'item-body', innerText: item.body || item.text || item }),\n                    item.right ? dom_element({tag: 'span', class: 'item-right', innerHTML: item.right}) : null,\n                ])\n            })\n        );\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('Menu', extend(Component, Menu));\n\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, on, attr, closest, has_class, in_dom, off, remove_from_dom, trigger_event, is_empty, extend] = frontbx.import(['find','on','attr','closest','has_class','in_dom','off','remove_from_dom','trigger_event','is_empty','extend']).from('_');\n\n    /**\n     * Chip suggestions.\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const ChipSuggestions = function()\n    {\n        this.super('.js-chip-suggestions .btn-chip');\n    }\n\n    /**\n     * Bind DOM listeners\n     *\n     * @access {private}\n     */\n    ChipSuggestions.prototype.bind = function(node)\n    {\n        on(node, 'click', this._clickHandler);\n    }\n\n    /**\n     * Unbind DOM listeners\n     *\n     * @access {private}\n     */\n    ChipSuggestions.prototype.unbind = function()\n    {\n        off(node, 'click', this._clickHandler);\n    }\n\n    /**\n     * Chip click handler\n     *\n     * @access {private}\n     * @param  {event|null} e\n     */\n    ChipSuggestions.prototype._clickHandler = function(e)\n    {\n        e = e || window.event;\n\n\n        var _wrapper = closest(this, '.js-chip-suggestions');\n        var _input   = find('#' + _wrapper.dataset.inputTarget);\n        var _text    = this.innerText.trim();\n\n        if (!_input || !in_dom(_input))\n        {\n            throw new Error('Target node does not exist.');\n\n            return false;\n        }\n\n        // Chips input\n        if (has_class(_input, '.js-chips-input'))\n        {\n            frontbx.dom().component('ChipInputs').addChip(_text, _input);\n\n            remove_from_dom(this);\n\n            return false;\n        }\n\n        let val = attr(_input, 'value');\n\n        attr(_input, 'value', is_empty(val) ? _text : `${val} ${_text}`);\n\n        trigger_event(_input, 'change');\n\n        remove_from_dom(this);\n\n        return false;\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('ChipSuggestions', extend(Component, ChipSuggestions));\n\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, add_class, on, closest, has_class, remove_class, off, trigger_event, extend] = frontbx.import(['find','add_class','on','closest','has_class','remove_class','off','trigger_event','extend']).from('_');\n\n    /**\n     * Choice chips\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const ChoiceChips = function()\n    {\n        this.super('.js-choice-chips .btn-chip');\n    }\n\n    /**\n     * Bind DOM listeners\n     *\n     * @access {private}\n     */\n    ChoiceChips.prototype.bind = function(node)\n    {\n        on(node, 'click', this._clickHandler);\n    }\n\n    /**\n     * Unbind DOM listeners\n     *\n     * @access {private}\n     */\n    ChoiceChips.prototype.unbind = function(node)\n    {\n        off(node, 'click', this._clickHandler);\n    }\n\n    /**\n     * Handle click event on chip\n     *\n     * @access {private}\n     * @param  {event|null} e\n     */\n    ChoiceChips.prototype._clickHandler = function(e)\n    {\n        e = e || window.event;\n\n        var _wrapper = closest(this, '.js-choice-chips');\n\n        var _input = find('.js-choice-input', _wrapper);\n\n        if (!has_class(this, 'selected'))\n        {                \n            remove_class(find('.btn-chip.selected', _wrapper), 'selected');\n\n            add_class(this, 'selected');\n\n            if (_input)\n            {\n                _input.value = this.dataset.value || this.innerText.trim();\n\n                trigger_event(_input, 'input');\n                trigger_event(_input, 'change');\n            }\n        }\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('ChoiceChips', extend(Component, ChoiceChips));\n\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [on, off, toggle_class, extend] = frontbx.import(['on','off','toggle_class', 'extend']).from('_');\n\n    /**\n     * Filter chips\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const FilterChips = function()\n    {\n        this.super('.js-filter-chips .btn-chip');\n    }\n\n    /**\n     * Bind DOM listeners\n     *\n     * @access {private}\n     */\n    FilterChips.prototype.bind = function(node)\n    {\n        on(node, 'click', this._clickHandler);\n    }\n\n    /**\n     * Unbind DOM listeners\n     *\n     * @access {private}\n     */\n    FilterChips.prototype.unbind = function(node)\n    {\n        off(node, 'click', this._clickHandler);\n    }\n\n    /**\n     * Handle click event on chip\n     *\n     * @access {private}\n     * @param  {event|null} e\n     */\n    FilterChips.prototype._clickHandler = function(e)\n    {\n        e = e || window.event;\n\n        e.preventDefault();\n\n        toggle_class(this, 'checked');\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('FilterChips', extend(Component, FilterChips));\n\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, each, is_undefined, attr, on, off, to_camel_case, extend] = frontbx.import(['find','each','is_undefined','attr','on','off','to_camel_case','extend']).from('_');\n\n    /**\n     * Available data attributes.\n     * \n     * @var {Array}\n     */\n    const DATA_ATTRIBUTES = ['title','content','classes','custom','close-anywhere','scroll','cancel-btn','cancel-class','confirm-btn','confirm-class','overlay','state'];\n\n    /**\n     * Toggle active on lists\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Modal = function()\n    { \n        this.modals = new Map;\n\n        this.super('.js-modal-trigger');\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Modal.prototype.bind = function(node)\n    {            \n        let options = { fromHTML: true, state: 'closed' };\n\n        let elem;\n\n        each(DATA_ATTRIBUTES, (i, attribute) =>\n        {\n            let value = attr(node, `data-${attribute}`);\n\n            if (!is_undefined(value))\n            {\n                if (value === 'true' || value === 'false')value = value === 'true' ? true : false;\n\n                if (attribute === 'content' && value[0] === '#')\n                {\n                    elem = find(value);\n\n                    value = elem;\n                }\n\n                options[to_camel_case(attribute)] = value;\n            }\n        });\n\n        let modal = frontbx.Modal(options);\n\n        this.modals.set(node, modal);\n\n        on(node, 'click', this._toggle, this);\n\n        if (elem) elem.style = '';\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Modal.prototype.unbind = function(node)\n    {\n        let modal   = this.modals.get(node);\n        let content = attr(node, 'data-content');\n\n        if (content[0] === '#')\n        {\n            content = find(content);\n\n            if (content)\n            {\n                content.style.display = 'none';\n\n                document.body.appendChild(content);\n            }\n        }\n\n        modal.destroy();\n\n        this.modals.delete(node);\n\n        off(node, 'click', this._toggle, this);\n    }\n\n    /**\n     * Toggle modal.\n     * \n     * @access {private}\n     */\n    Modal.prototype._toggle = function(e, trigger)\n    { \n        let modal = this.modals.get(trigger);\n\n        modal.closed() ? modal.open() : modal.close();\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('DOM_Modals', extend(Component, Modal));\n})();\n(function()\n{\n    const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, each, is_undefined, attr, on, off, to_camel_case, add_class, remove_class, extend] = frontbx.import(['find','each','is_undefined','attr','on','off','to_camel_case','add_class','remove_class','extend']).from('_');\n\n    /**\n     * Available data attributes.\n     * \n     * @var {Array}\n     */\n    const DATA_ATTRIBUTES = ['content','direction','overlay','persistent','pushbody','peekable','swipeable','classes','state','easing','animation-time','responsive'];\n\n    /**\n     * Drawer\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Drawer = function()\n    { \n        this.drawers = new Map;\n\n        this.super('.js-drawer-trigger');\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Drawer.prototype.bind = function(node)\n    {            \n        let options = \n        { \n            fromHTML: true,\n            state: 'collapsed',\n            callbackClose: () => remove_class(node, 'active'),\n            callbackOpen: () => add_class(node, 'active'),\n        };\n\n        let elem;\n\n        each(DATA_ATTRIBUTES, (i, attribute) =>\n        {\n            let value = attr(node, `data-${attribute}`);\n\n            if (!is_undefined(value))\n            {\n                if (value === 'true' || value === 'false') value = value === 'true' ? true : false;\n\n                if (attribute === 'content' && value[0] === '#')\n                {\n                    elem = find(value);\n\n                    value = elem;\n                }\n\n                options[to_camel_case(attribute)] = value;\n            }\n        });\n\n        let drawer = frontbx.Drawer(options);\n\n        this.drawers.set(node, drawer);\n\n        on(node, 'click', this._toggle, this);\n\n        if (elem) elem.style = '';\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Drawer.prototype.unbind = function(node)\n    {\n        let drawer = this.drawers.get(node);\n\n        let content = attr(node, 'data-content');\n\n        if (content[0] === '#')\n        {\n            content = find(content);\n            \n            if (content)\n            {\n                content.style.display = 'none';\n\n                document.body.appendChild(content);\n            }\n        }\n\n        drawer.destroy();\n\n        this.drawers.delete(node);\n\n        off(node, 'click', this._toggle, this);\n    }\n\n    /**\n     * Toggle drawer.\n     * \n     * @access {private}\n     */\n    Drawer.prototype._toggle = function(e, trigger)\n    { \n        let drawer = this.drawers.get(trigger);\n\n        drawer.closed() ? drawer.open() : drawer.close();\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('DOM_Drawers', extend(Component, Drawer));\n    \n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, each, is_undefined, attr, on, off, to_camel_case, add_class, remove_class, extend] = frontbx.import(['find','each','is_undefined','attr','on','off','to_camel_case','add_class','remove_class','extend']).from('_');\n\n    /**\n     * Available data attributes.\n     * \n     * @var {Array}\n     */\n    const DATA_ATTRIBUTES = ['content','overlay','persistent','peekable','swipeable','classes','state','easing','animation-time'];\n\n    /**\n     * Toggle active on lists\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Frontdrop = function()\n    { \n        this.drawers = new Map;\n\n        this.super('.js-frontdrop-trigger');\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Frontdrop.prototype.bind = function(node)\n    {            \n        let options = \n        { \n            fromHTML: true,\n            state: 'collapsed',\n            callbackClose: () => remove_class(node, 'active'),\n            callbackOpen: () => add_class(node, 'active'),\n        };\n\n        let elem;\n\n        each(DATA_ATTRIBUTES, (i, attribute) =>\n        {\n            let value = attr(node, `data-${attribute}`);\n\n            if (!is_undefined(value))\n            {\n                if (value === 'true' || value === 'false') value = value === 'true' ? true : false;\n\n                if (attribute === 'content' && value[0] === '#')\n                {\n                    elem = find(value);\n\n                    value = elem;\n                }\n\n                options[to_camel_case(attribute)] = value;\n            }\n        });\n\n        let frontdrop = frontbx.Frontdrop(options);\n\n        this.drawers.set(node, frontdrop);\n\n        on(node, 'click', this._toggle, this);\n\n        if (elem) elem.style = '';\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Frontdrop.prototype.unbind = function(node)\n    {\n        let frontdrop = this.drawers.get(node);\n\n        let content = attr(node, 'data-content');\n\n        if (content[0] === '#')\n        {\n            content = find(content);\n\n            if (content)\n            {\n                content.style.display = 'none';\n\n                document.body.appendChild(content);\n            }\n        }\n\n        frontdrop.destroy();\n\n        this.drawers.delete(node);\n\n        off(node, 'click', this._toggle, this);\n    }\n\n    /**\n     * Toggle Frontdrop.\n     * \n     * @access {private}\n     */\n    Frontdrop.prototype._toggle = function(e, trigger)\n    { \n        let frontdrop = this.drawers.get(trigger);\n\n        frontdrop.closed() ? frontdrop.open() : frontdrop.close();\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('DOM_Frontdrops', extend(Component, Frontdrop));\n    \n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n\n     /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, each, is_undefined, attr, on, off, to_camel_case, add_class, remove_class, extend] = frontbx.import(['find','each','is_undefined','attr','on','off','to_camel_case','add_class','remove_class','extend']).from('_');\n\n    /**\n     * Available data attributes.\n     * \n     * @var {Array}\n     */\n    const DATA_ATTRIBUTES = ['title','content','direction','classes','pushbody','swipeable','state','easing','animation-time','responsive'];\n\n    /**\n     * Toggle active on lists\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Backdrop = function()\n    { \n        this.drawers = new Map;\n\n        this.super('.js-backdrop-trigger');\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Backdrop.prototype.bind = function(node)\n    {            \n        let options = \n        { \n            fromHTML: true,\n            state: 'collapsed',\n            callbackClose: () => remove_class(node, 'active'),\n            callbackOpen: () => add_class(node, 'active'),\n        };\n\n        let elem;\n\n        each(DATA_ATTRIBUTES, (i, attribute) =>\n        {\n            let value = attr(node, `data-${attribute}`);\n\n            if (!is_undefined(value))\n            {\n                if (value === 'true' || value === 'false') value = value === 'true' ? true : false;\n\n                if (attribute === 'content' && value[0] === '#')\n                {\n                    elem = find(value);\n\n                    value = elem;\n                }\n\n                options[to_camel_case(attribute)] = value;\n            }\n        });\n\n        let backdrop = frontbx.Backdrop(options);\n\n        this.drawers.set(node, backdrop);\n\n        on(node, 'click', this._toggle, this);\n\n        if (elem) elem.style = '';\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Backdrop.prototype.unbind = function(node)\n    {\n        let backdrop = this.drawers.get(node);\n        let content = attr(node, 'data-content');\n\n        if (content[0] === '#')\n        {\n            content = find(content);\n\n            if (content)\n            {\n                content.style.display = 'none';\n\n                document.body.appendChild(content);\n            }\n        }\n\n        backdrop.destroy();\n\n        this.drawers.delete(node);\n\n        off(node, 'click', this._toggle, this);\n    }\n\n    /**\n     * Toggle Backdrop.\n     * \n     * @access {private}\n     */\n    Backdrop.prototype._toggle = function(e, trigger)\n    { \n        let backdrop = this.drawers.get(trigger);\n        \n        backdrop.closed() ? backdrop.open() : backdrop.close();\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('DOM_Backdrops', extend(Component, Backdrop));\n\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, each, is_undefined, attr, on, off, to_camel_case, extend] = frontbx.import(['find','each','is_undefined','attr','on','off','to_camel_case','extend']).from('_');\n\n    /**\n     * Available data attributes.\n     * \n     * @var {Array}\n     */\n    const DATA_ATTRIBUTES = ['text','timeout','icon','btn','variant','btnVariant'];\n\n    /**\n     * Toggle active on lists\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Notification = function()\n    {\n        this.super('.js-notification-trigger');\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Notification.prototype.bind = function(node)\n    {            \n        on(node, 'click', this._show, this);\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Notification.prototype.unbind = function(node)\n    {\n\n        off(node, 'click', this._show, this);\n    }\n\n    /**\n     * Toggle notification.\n     * \n     * @access {private}\n     */\n    Notification.prototype._show = function(e, trigger)\n    { \n        let options = { fromHTML: true };\n\n        each(DATA_ATTRIBUTES, (i, attribute) =>\n        {\n            let value = attr(trigger, `data-${attribute}`);\n\n            if (!is_undefined(value))\n            {\n                if (value === 'true' || value === 'false') value = value === 'true' ? true : false;\n\n                if (attribute === 'timeout') value = parseInt(value);\n\n                options[to_camel_case(attribute)] = value;\n            }\n        });\n\n        frontbx.Notification(options);\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('DOM_Notifications', extend(Component, Notification));\n\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [on, off, each, is_undefined, attr, bool, to_camel_case, extend, normalize_url]  = frontbx.import(['on','off','each','is_undefined','attr','bool','to_camel_case','extend','normalize_url']).from('_');\n\n    /**\n     * Available data attributes.\n     * \n     * @var {Array}\n     */\n    const DATA_ATTRIBUTES = ['element','url','once','nocache','urlhash','pushstate','scrolltop','animate'];\n\n    /**\n     * Available data attributes.\n     * \n     * @var {Array}\n     */\n    const BOOL_ATTRS = ['once','nocache','urlhash','pushstate','scrolltop','animate'];\n\n    /**\n     * URLS Requested\n     * \n     * @var {object}\n     */\n    const REQUESTED = [];\n\n    /**\n     * Pjax Links Module\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const PjaxLinks = function()\n    {\n        this.super('.js-pjax-link');\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    PjaxLinks.prototype.bind = function(node)\n    {        \n        on(node, 'click', this._requestHandler, this);\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    PjaxLinks.prototype.unbind = function(node)\n    {\n        off(node, 'click', this._requestHandler, this);\n    }\n\n    /**\n     * Event handler\n     *\n     * @param {event|null} e JavaScript click event\n     * @access {private}\n     */\n    PjaxLinks.prototype._requestHandler = function(e, trigger)\n    {\n        let options = { };\n\n        each(DATA_ATTRIBUTES, (i, attribute) =>\n        {\n            let value = attr(trigger, `data-pjax-${attribute}`);\n\n            if (!is_undefined(value))\n            {\n                if (BOOL_ATTRS.includes(attribute))\n                {\n                    value = bool(value);\n                }\n                else if (value === 'element')\n                {\n                    value = value[0] !== '#' ? `#${value}` : value;\n                }\n\n                options[to_camel_case(attribute)] = value;\n            }\n        });\n\n        let url = trigger.href || options.url;\n\n        // Only request once\n        if (REQUESTED.includes(url) && options.once) return false;\n\n        // No change\n        if (normalize_url(url) === normalize_url(window.location.href)) return false;\n\n        REQUESTED.push(url);\n\n        frontbx.Pjax().request(url, options);\n\n        return false;\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('PjaxLinks', extend(Component, PjaxLinks));\n\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, on, animate, bool, has_class, is_node_type, off, toggle_class, trigger_event, extend] = frontbx.import(['find','on','animate','bool','has_class','is_node_type','off','toggle_class','trigger_event','extend']).from('_');\n\n    /**\n     * Toggle height on click\n     *\n     * @class\n     * @extends {Component}\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Collapse = function()\n    {        \n        this.super('.js-collapse');\n    }\n\n    /**\n     * Event binder - Binds all events on button click\n     *\n     * @access {private}\n     */\n    Collapse.prototype.bind = function(node)\n    {\n        on(node, 'click', this._eventHandler);\n    }\n\n    /**\n     * Event unbinder - Removes all events on button click\n     *\n     * @access {private}\n     */\n    Collapse.prototype.unbind = function(node)\n    {\n        off(node, 'click', this._eventHandler);\n    }\n\n    /**\n     * Handle the click event\n     *\n     * @param {event|null} e JavaScript click event\n     * @access {private}\n     */\n    Collapse.prototype._eventHandler = function(e)\n    {\n        e = e || window.event;\n\n        if (is_node_type(this, 'a'))\n        {\n            e.preventDefault();\n        }\n\n        var clicked  = this;\n        var targetEl = find('#' + clicked.dataset.collapseTarget);\n        var duration = parseInt(clicked.dataset.collapseSpeed) || 225;\n        var easing   = clicked.dataset.collapseEasing || 'easeOutExpo';\n        var opacity  = bool(clicked.dataset.withOpacity);\n        var closing  = has_class(clicked, 'active');\n\n        trigger_event(targetEl, 'frontbx:collapse:toggle', closing ? 'close' : 'open');\n\n        var options  = \n        {\n            property: 'height',\n            to: closing ? '0px' : 'auto',\n            from: closing ? 'auto' : '0px',\n            duration: duration, \n            easing: easing,\n            callback: () => { trigger_event(targetEl, 'frontbx:collapse:toggled', closing ? 'close' : 'open'); }\n        };\n\n        animate(targetEl, options);\n        toggle_class(clicked, 'active');\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('Collapse', extend(Component, Collapse));\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, on, off, has_class, add_class, remove_class, closest, trigger_event, dom_element, map, extend] = frontbx.import(['find','on','off','has_class','add_class','remove_class','closest','trigger_event','dom_element', 'map','extend']).from('_');\n\n    /**\n     * Toggle active on lists\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const List = function()\n    { \n        this.super('.js-select-list .list-item');\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    List.prototype.bind = function(node)\n    {            \n        on(node, 'click', this._eventHandler);\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    List.prototype.unbind = function(node)\n    {\n        off(node, 'click', this._eventHandler);\n    }\n\n    /**\n     * Handle the click event\n     *\n     * @param {event|null} e JavaScript click event\n     * @access {private}\n     */\n    List.prototype._eventHandler = function(e)\n    {\n        e = e || window.event;\n        \n        if (has_class(this, 'selected')) return;\n\n        var list = closest(this, '.js-select-list');\n\n        remove_class(find('li.selected', list), 'selected');\n        \n        add_class(this, 'selected');\n\n        trigger_event(list, 'frontbx:list:selected', {item: this});\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    List.prototype.render = function(props)\n    {\n        return `\n            <ul class=\"list {props.classes ? props.classes : ''} {props.dense ? 'list-dense' : ''} {props.ellipsis ? 'list-ellipsis' : ''} { props.selectable ? 'js-select-list' : '' }\">\n                {map(props.items, (i, item) =>\n                (\n                    <li class=\"list-item {item.state} {props.selected && (props.selected === item.value || props.selected === item.text) ? 'selected' : ''}\">\n                        {[\n                            item.left ? <span class=\"item-left\">{item.left}</span> : null,\n                            <span class=\"item-body\">{item.body || item.text || item}</span>,\n                            item.right ? <span class=\"item-right\">{item.right}</span> : null,\n                        ]}\n                    </li>\n                ))}\n            </ul>\n        `;\n\n        return dom_element({tag: 'ul', class: `list ${props.classes ? props.classes : ''} ${props.dense ? 'list-dense' : ''} ${props.ellipsis ? 'list-ellipsis' : ''} ${ props.selectable ? `js-select-list` : '' }`}, null, map(props.items, (i, item) =>\n            {\n                return dom_element({tag: 'li', class: `list-item ${item.state} ${props.selected && (props.selected === item.value || props.selected === item.text) ? 'selected' : null}`}, null,\n                [\n                    item.left ? dom_element({tag: 'span', class: 'item-left', innerHTML: item.left}) : null,\n                    dom_element({tag: 'span', class: 'item-body', innerText: item.body || item.text || item }),\n                    item.right ? dom_element({tag: 'span', class: 'item-right', innerHTML: item.right}) : null,\n                ])\n            })\n        );\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('List', extend(Component, List));\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, find_all, map, add_class, on, closest, has_class, is_string, remove_class, off, attr, css, dom_element, extend] = frontbx.import(['find','find_all','map','add_class','on','closest','has_class','is_string','remove_class','off','attr','css','dom_element','extend']).from('_');\n\n    /**\n     * Dropdown Buttons\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Dropdown = function()\n    {\n        this.super('.js-drop-trigger, .drop-container .js-select-menu > *:not(.menu-divider):not(.menu-header), .drop-container .js-check-menu > *:not(.menu-divider):not(.menu-header), .drop-container .js-active-menu > *:not(.menu-divider):not(.menu-header)');\n\n        this.defaultProps =\n        {\n            checkable:    false,\n            selectable:   false,\n            caret:        false,\n            ellipsis:     false,\n            dense:        false,\n            position:     'sw',\n            anchorText:   '',\n            anchorTag:    'button', \n            items:        [],\n        };\n\n        this.boundWindow  = false;\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Dropdown.prototype.bind = function(node)\n    {\n        if (has_class(node, 'js-drop-trigger'))\n        {\n            on(node, 'click', this._clickHandler, this);\n        }\n        else\n        {\n            on(node, 'click', this._selectHandler, this);\n        }\n\n        if (!this.boundWindow)\n        {\n            on(window, 'click', this._windowClick, this);\n\n            this.boundWindow = true;\n        }\n    }\n\n     /**\n     * @inheritdoc\n     * \n     */\n    Dropdown.prototype.unbind = function(node)\n    {\n        if (has_class(node, 'js-drop-trigger'))\n        {\n            off(node, 'click', this._clickHandler, this);\n        }\n        else\n        {\n            off(node, 'click', this._selectHandler, this);\n        }\n\n        if (this.boundWindow)\n        {\n            off(window, 'click', this._windowClick, this);\n\n            this.boundWindow = false;\n        }\n    }\n\n    /**\n     * Click event handler\n     *\n     * @param  {event|null} e JavaScript Click event\n     * @access {private}\n     */\n    Dropdown.prototype._clickHandler = function(e, button)\n    {\n        var active = find('.js-drop-trigger.drop-active');\n\n        if (active) this._hideDrop(active);\n\n        // Remove active and return\n        if (active !== button)\n        {\n            this._showDrop(button);\n        }\n    }\n\n    /**\n     * Click event handler\n     *\n     * @param  {event|null} e JavaScript Click event\n     * @access {private}\n     */\n    Dropdown.prototype._hideDrop = function(button)\n    {\n        var drop = find('.js-drop-menu', button.parentNode);\n        \n        remove_class(button, ['active', 'drop-active']);\n        \n        attr(button, 'aria-pressed', 'false');\n        \n        attr(drop, 'aria-hidden', 'true');\n        \n        drop.blur();\n    }\n\n    /**\n     * Click event handler\n     *\n     * @param  {event|null} e JavaScript Click event\n     * @access {private}\n     */\n    Dropdown.prototype._showDrop = function(button)\n    {\n        var drop = find('.js-drop-menu', button.parentNode);\n        \n        add_class(button, ['active', 'drop-active']);\n        \n        attr(button, 'aria-pressed', 'true');\n        \n        attr(drop, 'aria-hidden', 'false');\n        \n        drop.focus();\n    }\n\n    /**\n     * Window click event\n     *\n     * @param {event|null} e JavaScript click event\n     * @access {private}\n     */\n    Dropdown.prototype._windowClick = function(e)\n    {\n        if (closest(e.target, '.js-drop-trigger'))\n        {\n            return;\n        }\n\n        var active = find('.js-drop-trigger.drop-active');\n\n        if (active) this._hideDrop(active);\n    }\n\n    /**\n     * Click item on select handler\n     *\n     * @param  {event|null} e JavaScript Click event\n     * @access {private}\n     */\n    Dropdown.prototype._selectHandler = function(e, item)\n    {\n        let wrapper    = closest(item, '.drop-container');\n        let menu       = find('.js-select-menu, .js-check-menu, .js-active-menu', wrapper);\n        let trigger    = find('.js-drop-trigger', wrapper);\n        let selectable = has_class(trigger, 'js-drop-selectable');\n        let content    = item.innerText.trim();\n        let value      = attr(item, 'data-value') || content;\n        let input      = find('> input', wrapper);\n\n        if (input) attr(input, 'value', value);\n\n        if (selectable) trigger.innerText = content;\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Dropdown.prototype.render = function(props)\n    {\n        return dom_element({tag: 'div', class: 'drop-container'}, null,\n        [\n            // Input\n            props.checkable ? dom_element({tag: 'input', type: 'hidden', name: props.input, value: props.selected || ''}) : null,\n\n            // button / anchor\n            dom_element({tag: props.anchorTag, type: props.anchorTag === 'button' ? 'button' : null, role: props.anchorTag === 'button' ? 'button' : null, class: `${props.anchorTag === 'button' ? 'btn btn-dropdown' : 'btn-dropdown'} js-drop-trigger ${props.anchorClass} ${props.selectable ? 'js-select-menu' : '' }`}, null,\n                [\n                    props.anchorText,\n                    props.caret ? dom_element({tag: 'span', class: `caret-${props.caret}`}) : null,\n                ]\n            ),\n\n            // Dropdown\n            dom_element({tag: 'div', class: `drop-menu ${ props.position ? `drop-${props.position}` : '' } js-drop-menu`}, null, \n                dom_element({tag: 'ul', class: `menu ${props.dense ? 'menu-dense' : ''} ${props.ellipsis ? 'menu-ellipsis' : ''} ${ props.checkable ? 'js-menu-check' : '' }`}, null, \n                    map(props.items, (i, item) =>\n                    {\n                        return dom_element({tag: 'li', class: `${item.state} ${props.selected && (props.selected === item.value || props.selected === item.text) ? 'selected' : null}`, dataValue: item.value || item.text || item}, null,\n                        [\n                            item.left ? dom_element({tag: 'span', class: 'item-left', innerHTML: item.left}) : null,\n                            dom_element({tag: 'span', class: 'item-body', innerText: item.body || item.text || item }),\n                            item.right ? dom_element({tag: 'span', class: 'item-right', innerHTML: item.right}) : null,\n                        ])\n                    })\n                )\n            )\n        ]);\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('Dropdown', extend(Component, Dropdown));\n\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, attr, add_class, on, closest, has_class, is_empty, remove_class, off, extend] = frontbx.import(['find','attr','add_class','on','closest','has_class','is_empty','remove_class','off','extend']).from('_');\n\n    /**\n     * Tab Nav\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const TabNav = function()\n    {\n        this.super('.js-tab-nav > li > *, .js-tab-nav > *:not(li)');\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    TabNav.prototype.bind = function(node)\n    {            \n        on(node, 'click', this._eventHandler);\n    }\n\n    /**\n     * Unbind click events on all <a> tags in a .js-tab-nav\n     *\n     * @params {navWrap} node\n     * @access {private}\n     */\n    TabNav.prototype.unbind = function(node)\n    {            \n        off(node, 'click', this._eventHandler, this);\n    }\n\n    /**\n     * Click event handler\n     *\n     * @param {event|null} e JavaScript click event\n     * @access {private}\n     */\n    TabNav.prototype._eventHandler = function(e, clicked)\n    {\n        let nav         = closest(clicked, '.js-tab-nav');\n        let activeClass = attr(nav, 'data-active-class') || 'active';\n        let panel       = find(`[data-tab-panel=${attr(clicked, 'data-tab')}]`);\n        let panels      = closest(panel, '.js-tab-panels');\n\n        if (has_class(clicked, activeClass)) return false;\n\n        remove_class(find(`.${activeClass}[data-tab]`, nav), activeClass);\n        add_class(clicked, activeClass);\n\n        remove_class(find('.active[data-tab-panel]', panels), 'active');\n        add_class(panel, 'active');\n\n        return false;\n    }   \n\n    // Load into frontbx DOM core\n    frontbx.dom().register('TabNav', extend(Component, TabNav));\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n\n    /**\n     * JS Helper reference\n     * \n     * @var {object}\n     */\n    const [attr, extend] = frontbx.import(['attr','extend']).from('_');\n\n    /**\n     * Masks.\n     * \n     * @var {Map}\n     */\n    const MASK_HANDLERS = new Map;\n\n    /**\n     * Input masker\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const InputMasks = function()\n    {\n\n        this.super('.js-mask');\n    }\n\n    /**\n     * Event binder - Binds all events on button click\n     *\n     * @access {private}\n     */\n    InputMasks.prototype.bind = function(node)\n    {\n        let mask = attr(node, 'data-mask');\n\n        let format = attr(node, 'data-format');\n\n        if (mask && mask.startsWith('regex(')) mask = mask.trim().replace('regex(', '').slice(0, -1);\n\n        if (mask)\n        {\n            MASK_HANDLERS.set(node, frontbx.InputMasker(node, mask, format));\n        }\n    }\n\n    /**\n     * Event unbinder - Removes all events on button click\n     *\n     * @access {private}\n     */\n    InputMasks.prototype.unbind = function(node)\n    {\n        let handler = MASK_HANDLERS.get(node);\n\n        if (handler) handler.destroy();\n\n        MASK_HANDLERS.delete(node);\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('InputMasks', extend(Component, InputMasks));\n\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n\n    /**\n     * Helper functions\n     * \n     * @var {function}\n     */\n    const [on, animate_css, closest, has_class, remove_from_dom, off, trigger_event, extend] = frontbx.import(['on','animate_css','closest','has_class','remove_from_dom','off','trigger_event','extend']).from('_');\n\n    /**\n     * Message closers\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const MessageClosers = function()\n    {\n        this.super('.js-close-msg');\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    MessageClosers.prototype.bind = function(node)\n    {\n        on(node, 'click', this._eventHandler);\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    MessageClosers.prototype.unbind = function(node)\n    {\n        off(node, 'click', this._eventHandler);\n    }\n\n    /**\n     * Event handler - handles removing the message\n     *\n     * @param  {event}   e JavaScript click event\n     * @access {private}\n     */\n    MessageClosers.prototype._eventHandler = function(e)\n    {\n        e = e || window.event;\n\n        e.preventDefault();\n\n        let msg      = closest(this, '.msg');\n        let toRemove = msg;\n\n        trigger_event(msg, 'frontbx:message:close');\n\n        if (has_class(this, 'js-rmv-parent'))\n        {\n            toRemove = toRemove.parentNode;\n        }\n\n        animate_css(toRemove, { opacity: 0, duration: 500, easing: 'easeInOutCubic', callback: function()\n        {\n            trigger_event(msg, 'frontbx:message:closed');\n\n            remove_from_dom(toRemove);\n        }});\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('MessageClosers', extend(Component, MessageClosers));\n\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, on, off, has_class, in_dom, parse_url, extend]  = frontbx.import(['find','on','off','has_class','in_dom','parse_url','extend']).from('_');\n\n    /**\n     * Has the page loaded?\n     * \n     * @var {object}\n     */\n    var pageLoaded = false;\n\n    /**\n     * Waypoints\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const WayPoints = function()\n    {        \n        this.super('.js-waypoint-trigger');\n\n        // Invoke pageload\n        if (!pageLoaded)\n        {\n            this._invokePageLoad();\n        }\n\n        pageLoaded = true;\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    WayPoints.prototype.bind = function(node)\n    {\n        on(node, 'click', this._eventHandler);\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    WayPoints.prototype.unbind = function(node)\n    {\n        off(node, 'click', this._eventHandler);\n    }\n\n    /**\n     * Event handler\n     *\n     * @param {event|null} e JavaScript click event\n     * @access {private}\n     */\n    WayPoints.prototype._eventHandler = function(e)\n    {\n        let trigger   = this;\n        let id        = trigger.dataset.waypointTarget || trigger.href.split('#').pop();\n        let speed     = parseInt(trigger.dataset.waypointSpeed) || 500;\n        let easing    = trigger.dataset.waypointEasing || 'easeInOutCubic';\n        let updateUrl = trigger.dataset.updateUrl === 'false' ? false : true;\n\n        if (id && id[0] !== '#') id = `#${id}`;\n\n        frontbx.SmoothScroll(id, { easing: easing, speed: speed, updateUrl: updateUrl });\n\n        return false;\n    }\n\n    /**\n     * Scroll to a element with id when the page loads\n     *\n     * @access {private}\n     */\n    WayPoints.prototype._invokePageLoad = function()\n    {\n        var url = parse_url(window.location.href);\n\n        let targetEl = url.hash && url.hash !== '' ? find(url.hash) : false;\n\n        if (!in_dom(targetEl) || !has_class(targetEl, '.js-waypoint')) return;\n       \n        let speed  = parseInt(targetEl.dataset.waypointSpeed) || 500;\n        let easing = targetEl.dataset.waypointEasing || 'easeInOutCubic';\n\n        const scroll = function()\n        {\n            frontbx.SmoothScroll(url.hash, { easing: easing, speed: speed, updateUrl: false });\n\n            off(window, 'frontbx:ready', scroll);\n        }\n\n        window.scrollTo(0, 0);\n\n        on(window, 'frontbx:ready', scroll);\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('WayPoints', extend(Component, WayPoints));\n\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, add_class, on, animate_css, closest, coordinates, css, has_class, height, in_array, in_dom, inline_style, preapend, remove_class, off, rendered_style, traverse_up, trigger_event, width, extend] = frontbx.import(['find','add_class','on','animate_css','closest','coordinates','css','has_class','height','in_array','in_dom','inline_style','preapend','remove_class','off','rendered_style','traverse_up','trigger_event','width','extend']).from('_');\n\n    /**\n     * Wrappers that need \"position:relative\" to hide overflow.\n     * \n     * @var {array}\n     */\n    const STATIC_POSITIONS = ['static', 'unset', 'initial'];\n\n    /**\n     * Original inline styles\n     * \n     * @var {Map}\n     */\n    const INLINESTYLES = new Map();\n\n    /**\n     * Currently rippling\n     * \n     * @var {Map}\n     */\n    const RIPPLING = new Map();\n\n    /**\n     * Currently clicking\n     * \n     * @var {Map}\n     */\n    var CLICKING;\n\n    /**\n     * Selectors\n     * \n     * @var {Map}\n     */\n    const SELECTORS =\n    [\n        '.btn',\n        '.list > li',\n        '.pagination li a',\n        '.tab-nav li a',\n        '.card.primary-action',\n        '.card .primary-action',\n        '.card-media',\n        '.js-ripple'\n    ];\n\n    /**\n     * Ripple click animation\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Ripple = function()\n    {\n        this.super(SELECTORS.join(','));\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Ripple.prototype.bind = function(node)\n    {                \n        // No ripples inside primary actions\n        if (!has_class(node, 'primary-action') && closest(node, '.primary-action') && !has_class(node, 'card'))\n        {\n            return;\n        }\n\n        // No ripples inside elements with badges or status\n        if (find('> .badge', node) || find('> .status', node))\n        {\n            return;\n        }\n\n        // No ripples inside list buttons\n        if (has_class(node, 'btn') && closest(node, '.list'))\n        {\n            return;\n        }\n\n        // No ripples on list items with checkbox controls\n        if (closest(node, '.list') && (find('> .item-right .checkbox', node) || find('> .item-right .radio', node)  || find('> .item-right .switch', node))) return;\n\n        // Cache 'overflow' and 'position' inline styles\n        // to revert back to after complete\n        // If these are empty they will be removed\n        if (!INLINESTYLES.has(node))\n        {\n            let CSSoverflow = inline_style(node, 'overflow') || false;\n            \n            let CSSposition = inline_style(node, 'position') || false;\n\n            INLINESTYLES.set(node, [CSSoverflow, CSSposition]);\n        }\n\n        on(node, 'mousedown, touchstart', this._startRipple, this);\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Ripple.prototype.unbind  = function(node)\n    {\n        off(node, 'mousedown, touchstart', this._startRipple, this);\n    }\n\n    /**\n     * Ripple handler\n     *\n     * @access {private}\n     * @param  {event|null} e\n     */\n    Ripple.prototype._restore  = function(wrapper)\n    {\n        if (in_dom(wrapper))\n        {\n            wrapper.offsetHeight;\n\n            wrapper.removeAttribute('data-event');\n        \n            remove_class(wrapper, 'ripple-down');\n\n            let styles = INLINESTYLES.get(wrapper);\n\n            css(wrapper, 'overflow', styles[0]);\n\n            css(wrapper, 'position', styles[1]);\n        }\n    }\n\n    /**\n     * Ripple handler\n     *\n     * @access {private}\n     * @param  {event|null} e\n     */\n    Ripple.prototype._startRipple  = function(e, wrapper)\n    {\n        const _this = this;\n\n        // Ignore disabled\n        if (wrapper.disabled || has_class(wrapper, 'disabled')) return;\n\n        // Single finger \"clicks\" only\n        if (e.touches && e.touches.length > 1) return;\n\n        // Left click only on mouse\n        if ('button' in e && e.button !== 0) return;\n\n        // Store the event used to generate this ripple on the holder: don't allow\n        // further events of different types until we're done.\n        // Prevents double-ripples from mousedown/touchstart.\n        var prev = wrapper.getAttribute('data-event');\n        if (prev && prev !== e.type) return;\n\n        // Clear restorer\n        clearTimeout(RIPPLING.get(wrapper));\n\n        // Add the data-attribute to identify ripple event type\n        wrapper.setAttribute('data-event', e.type);\n\n        // Add class to parent do identify mousedown/touchstart\n        add_class(wrapper, 'ripple-down');\n\n        // Figure out release event type\n        var releaseEvent = (e.type === 'mousedown' ? 'mouseup' : 'touchend');\n\n        // Cached timer for release\n        var releaseTimer;\n        var released = false;\n\n        // Animation started\n        const t0 = performance.now();\n\n        // Create ripple and append immediately\n        var ripple = document.createElement('SPAN');\n        ripple.className = 'ripple';\n\n        // Release event\n        const release = function(ev)\n        {\n            // Clear timer\n            clearTimeout(releaseTimer);\n\n            // Remove release listener\n            document.removeEventListener(releaseEvent, release);\n\n            add_class(ripple, 'complete');\n\n            setTimeout(() => wrapper.removeChild(ripple), 400);\n\n            let restoreTimer = setTimeout(() => _this._restore(wrapper), 500);\n\n            RIPPLING.set(wrapper, restoreTimer);\n        };  \n\n        // Figure out where to place ripple inside parent\n        var c = coordinates(wrapper);\n        var s = Math.max(height(wrapper), width(wrapper));\n        var x = (e.pageX - c.left) - (s / 2);\n        var y = (e.pageY - c.top) - (s / 2);\n\n        // Apply styles to ripple\n        css(ripple, \n        {\n            width:  `${s}px`,\n            height: `${s}px`,\n            left:   `${x}px`,\n            top:    `${y}px`\n        });\n\n        // Issue here is that if ripple is clicked multiple times in quick succession\n        // the original inline overflow and position styles are overwritten by the next\n        // click\n\n        // Ensure parent hides overflow\n        css(wrapper, 'overflow', 'hidden !important');\n\n        // Ensure position relative if needed\n        if (in_array(rendered_style(wrapper, 'position'), STATIC_POSITIONS))\n        {\n            css(wrapper, 'position', 'relative');\n        }\n\n        // Release listener\n        document.addEventListener(releaseEvent, release);\n            \n        preapend(ripple, wrapper);\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('Ripple', extend(Component, Ripple));\n\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, on, off, has_class, add_class, remove_class, closest, trigger_event, dom_element, map, is_object, extend] = frontbx.import(['find','on','off','has_class','add_class','remove_class','closest','trigger_event','dom_element','map','is_object','extend']).from('_');\n\n    /**\n     * Toggle active on tables\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Table = function()\n    { \n        this.super('.js-select-table > tbody > tr');\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Table.prototype.bind = function(node)\n    {            \n        on(node, 'click', this._eventHandler, this);\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Table.prototype.unbind = function(node)\n    {\n        off(node, 'click', this._eventHandler, this);\n    }\n\n    /**\n     * Handle the click event\n     *\n     * @param {event|null} e JavaScript click event\n     * @access {private}\n     */\n    Table.prototype._eventHandler = function(e, row)\n    {\n        e = e || window.event;\n        \n        if (has_class(row, 'selected')) return;\n\n        var table = closest(row, 'table');\n\n        let selected = find('tr.selected', table);\n\n        if (selected) remove_class(selected, 'selected');\n\n        add_class(row, 'selected');\n\n        trigger_event(table, 'frontbx:table:selected', { item: row });\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Table.prototype.render = function(props)\n    {\n        let head = dom_element({tag: 'thead'}, null, dom_element({tag: 'tr'}, null, map(props.head, (i, cell) =>\n        {   \n            return is_object(cell) ? dom_element({tag: 'th', ...cell}) : dom_element({tag: 'th'}, null, cell);                    \n        })));\n\n        let body = dom_element({tag: 'tbody'}, null, map(props.rows, (i, item) =>\n        {\n            return dom_element({tag: 'tr', class: `${props.selected && (props.selected === i) ? 'selected' : null}`}, null, map(item, (j, cell) =>\n            {\n                return is_object(cell) ? dom_element({tag: 'th', ...cell}) : dom_element({tag: 'th'}, null, cell);\n            }));\n        }));\n\n        return dom_element({tag: 'table', class: `table ${props.classes ? props.classes : ''} ${props.dense ? 'table-dense' : ''} ${ props.selectable ? `js-select-table` : '' }`}, null, [head, body]);\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('Table', extend(Component, Table));\n\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [is_undefined, map, dom_element, extend] = frontbx.import(['is_undefined','map','dom_element','extend']).from('_');\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const AVAILABLE_OPTIONS = ['background', 'lazy', 'ratio', 'placeholder', 'src', 'grayscale'];\n\n    /**\n     * Toggle active on lists\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Image = function()\n    { \n        this.super();\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Image.prototype.render = function(props)\n    {\n        let attrs        = map({...props}, (k, v) => !AVAILABLE_OPTIONS.includes(k) ? v : false );\n        let isBackground = props.background;\n        let isRatio      = !is_undefined(props.ratio);\n        let isLazy       = is_undefined(props.lazy) ? false : props.lazy;\n        let src          = isLazy ? (props.placeholder || window.LAZY_FALLBACK_IMAGE) : props.src;\n        let dataSrc      = isLazy ? props.src : false;\n        \n        if (!attrs.style) attrs.style = '';\n        if (!attrs.class) attrs.class = '';\n\n        if (isLazy)\n        {\n            attrs.class  += ` lazyload js-lazyload ${props.grayscale ? 'grayscale' : ''}`;\n            attrs.dataSrc = dataSrc;\n        }\n\n        // Background image\n        if (isBackground)\n        {\n            attrs.class += ' bg-image';\n            attrs.style += `;background-image: url(${src})`;\n            \n            if (isRatio) attrs.class += ` ratio-${props.ratio}`;\n\n            return dom_element({...attrs, tag: 'div'});\n        }\n\n        attrs.src = src;\n\n        let image = dom_element({...attrs, src: src, dataSrc: dataSrc, tag: 'img'})\n\n        // Ratio image\n        if (isRatio)\n        {\n            return dom_element({tag: 'div', class: `ratio-img ratio-${props.ratio}`}, null, image);\n        }\n\n        return image;\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('Image', extend(Component, Image));\n    \n})();\n\n// boot frontbx\n/**\n * Boot and initialize frontbx core\n *\n * @author    {Joe J. Howard}\n * @copyright {Joe J. Howard}\n * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n */\n(function()\n{\n\tfrontbx.boot();\n\t\t\n})();\n\nexport default frontbx;\n"],"mappings":"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N,CACIjgB,QAAS,MAQPkgB,EAAiB,CAAC,EAGlBC,EACN,CACI,QACA,KACA,KACA,SACA,OACA,OACA,aACA,MACA,MACA,QACA,SACA,MACA,OACA,QACA,UACA,SACA,QACA,QACA,UACA,QACA,OACA,WACA,MACA,SACA,QACA,WACA,WACA,OACA,SACA,SACA,MACA,OACA,aACA,UACA,YACA,SACA,YACA,UACA,SACA,OACA,SACA,UACA,SACA,UACA,WACA,SACA,SACA,WACA,OACA,SACA,QACA,SACA,UACA,SACA,OACA,SACA,QACA,YACA,aACA,iBACA,cACA,YACA,WACA,UACA,MACA,mBACA,mBACA,mBACA,mBACA,YACA,SACA,SACA,cACA,iBACA,gBACA,uBACA,YACA,iBACA,WACA,WAQEC,EAAW,SAASniB,GAEtB,OAAOA,EAAMna,QACjB,EAOA,IAAIu8B,EAOAC,EAOAC,EAOAxyB,EAOAyyB,EAOAC,GACJ,WAOI,MAAMC,EAAQ,cACRC,EAAQ,QASRC,EACN,CACI,OACA,OACA,KACA,SACA,MACA,UACA,QACA,KACA,MACA,QACA,OACA,OACA,OACA,QACA,UACA,WACA,OACA,SACA,QACA,MACA,MACA,WASEC,EAAQ,SAAS1W,EAAM2W,GAEzBn7C,KAAKwkC,KAAOA,EACZxkC,KAAKm7C,KAAOA,EACZn7C,KAAKo7C,WAAc,KACnBp7C,KAAKgQ,IAAc,EACnBhQ,KAAKq7C,WAAc,EACnBr7C,KAAKs7C,aAAe,EACxB,EAOAJ,EAAMh5C,UAAUyxB,MAAQ,WAEpB,IAAI4nB,EAAO,OAEX,KAAOA,EAAOv7C,KAAKu7C,GAAMv7C,KAAKw7C,UAEZ,KAAdx7C,KAAKwkC,OAEL+W,EAAO,KAEPv7C,KAAK+S,WAEb,EAQAmoC,EAAMh5C,UAAUomB,KAAO,WAEnB,OAAOtoB,KAAKwkC,KAAKrkB,OAAOngB,KAAKgQ,MACjC,EAQAkrC,EAAMh5C,UAAUs5C,KAAO,WAEnB,OAAOx7C,KAAKwkC,KAAKrkB,OAAOngB,KAAKgQ,IACjC,EAQAkrC,EAAMh5C,UAAUu5C,SAAW,WAEvB,OAA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","ignoreList":[]}