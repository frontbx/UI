{"version":3,"names":["window","location","origin","protocol","hostname","port","CustomEvent","event","params","bubbles","cancelable","detail","evt","document","createEvent","initCustomEvent","restArguments","func","startIndex","length","Math","max","arguments","rest","Array","index","call","this","args","apply","_now","Date","now","getTime","_delay","wait","setTimeout","throttle","options","timeout","context","result","previous","later","leading","throttled","remaining","clearTimeout","trailing","cancel","debounce","immediate","debounced","callNow","Inverse","_store","IMPORT_AS_REF","prototype","set","key","value","singleton","_normalizeKey","_storeObj","_setProto","classObj","invoke","get","has","k","delete","_proto","Object","getPrototypeOf","undefined","slice","storeObj","instance","invokable","_newInstance","funcn","import","names","_this","_import","module","_rets","_context","i","mixedVar","push","_is_func","bind","callback","bound","defineProperty","name","__isBound","__boundContext","__origional","unshift","_singletonFunc","invoked","function","_isInvokable","mixed_var","test","toString","constructor","_isInvoked","constr","trim","startsWith","reference","isSingleton","replace","$1","toUpperCase","charAt","Container","container","NULL_TAG","UNDEF_TAG","BOOL_TAG","STRING_TAG","NUMBER_TAG","FUNC_TAG","ARRAY_TAG","ARGS_TAG","NODELST_TAG","OBJECT_TAG","DATE_TAG","SET_TAG","MAP_TAG","REGEXP_TAG","SYMBOL_TAG","ARRAY_BUFFER_TAG","DATAVIEW_TAG","FLOAT32_TAG","FLOAT64_TAG","INT8_TAG","INT16_TAG","INT32_TAG","UINT8_TAG","UINT8CLAMPED_TAG","UINT16_TAG","UINT32_TAG","ERROR_TAG","WEAKMAP_TAG","ARRAYISH_TAGS","TO_STR","TO_ARR","HTML_REGXP","EMPTY_OBJ_KEYS","getOwnPropertyNames","SHORTHAND_PROPS","margin","outline","padding","background","border","font","mask","columns","cue","pause","animation","transition","flex","SHORTHAND_DEFAULTS","CSS_TRANSFORM_VALUES_COUNT","perspective","skewY","translateY","translateZ","scaleY","scaleZ","rotateX","rotateY","rotateZ","translateX","skewX","scaleX","rotate","skew","translate","scale","translate3d","scale3d","rotate3d","matrix","matrix3d","CSS_3D_TRANSFORM_DEFAULTS","CSS_3D_TRANSFORM_MAP_KEYS","x","y","z","CSS_PIXELS_PER_INCH","CSS_RELATIVE_UNITS","em","ex","ch","rem","vw","vh","vmin","vmax","CSS_ABSOLUTE_UNITS","in","cm","mm","pt","pc","px","CSS_PROP_TO_HYPHEN_CASES","CSS_PROP_TO_CAMEL_CASES","ANIMATION_DEFAULT_OPTIONS","easing","duration","fps","ANIMATION_ALLOWED_OPTIONS","ANIMATION_FILTER_OPTIONS","keys","ANIMATING","POW","pow","SQRT","sqrt","SIN","sin","COS","cos","PI","C1","C2","c3","C4","C5","bounceOut","n1","d1","ANIMATION_EASING_FUNCTIONS","linear","ease","easeIn","easeOut","easeInOut","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInBack","easeOutBack","easeInOutBack","easeInElastic","easeOutElastic","easeInOutElastic","easeInBounce","easeOutBounce","easeInOutBounce","CSS_EASINGS","DOC_EVENTS","concat","filter","indexOf","elem","pos","self","map","toLowerCase","BOOLEAN_ATTRS","PROP_ATTRIBUTES","_THIS","_","version","author","browser","_events","_guid","_guidgen","AnimateJS","DOMElement","keyframes","currentKeyframe","intervalDelay","floor","keyFrameCount","CSSProperty","property","isTransform","includes","isScroll","isColor","to","clearAnimating","parseOptions","generateKeyframes","stopped","CSSprop","each","stop","splice","start","clearTransitions","loop","_applyKeyframe","shift","_complete","_failTimer","fail","keyframe","prop","scrollTo","css","complete","_pre_transition","parseScrollOptions","parseTransformOptions","parseColorOptions","parseDefaultOptions","Error","startY","scrollY","startX","scrollX","endX","parseInt","split","endY","pop","distX","abs","distY","startValue","endValue","backAnimation","distance","CSSunits","startVal","is_undefined","from","rendered_style","endVal","prevStyle","inline_style","startUnit","css_value_unit","endUnit","css_to_px","css_unit_value","startValues","css_transform_props","endValues","baseTransforms","is_empty","join_obj","val","propAxis","valueStr","startValStr","sanitizeColor","color","replaceAll","rgb","match","forEach","item","is_equal","for","generateKeyframe","transformIndex","change","tween","mixColors","keyVal","roundNumber","prefix","suffix","color1RGB","color2RGB","blend","colorRGB","c1","mixedColor","y1","y2","round","transitions","css_transition_props","css_transition","n","dp","h","padEnd","type","time","__animate_js","AnimateCss","animatedProps","preAnimatedTransitions","stopValues","_callbackStart","_callbackComplete","_callbackFail","_callbackStep","preProcessStartEndValues","applyStartValues","applyTransitions","on","transitionEnd","_stepTimer","setInterval","applyEndValues","clearInterval","resotoreElement","destory","off","e","css_prop_to_hyphen_case","propertyName","shorthand","option","step","inlineStyle","styles","__animate_css","animate","animationSet","Animation","factoryOptions","FROM_FACTORY","__animation_factory","AnimationInstance","opts","animate_css","cssAnimation","optionSets","el","in_array","camelProp","css_prop_to_camel_case","body","style","isObjSet","is_object","toMerge","longest","longestI","array_has","console","error","__array_delete_recursive","object","__array_get_recursive","__array_set_recursive","nextKey","islast","lastObj","JSON","stringify","converted","assign","__array_key_segment","path","segments","segment","subSegments","j","array_delete","array_filter","arr","isArr","is_array","ret","array_get","array_set","array_unique","is_array_last","needle","haystack","strict","last","obj","clbkVal","isArray","len","thisArg","foreach","count","v","attr","is_string","__get_attribute","innerHTML","innerText","children","node","remove_from_dom","appendChild","removeAttribute","className","css_to_object","isData","camelName","to_camel_case","hyphenName","camel_case_to_hyphen","isEmpty","dataset","lc_first","ltrim","setAttribute","substring","retCamel","retAttr","getAttribute","is_null","removeProperty","re","RegExp","rtrim","hyphenProp","css_to_longhand","values","hasOwnProperty","splits","dfault","longhand","css_to_shorthand","needsFilling","longhands","matched","needsDefault","suppliedVal","matcher","defaltVal","matchAll","rule","join","is_numeric","parseFloat","unit","psize","parentNode","documentElement","width","height","w","min","element","elementStyle","getPropertyValue","remove_style","__computed_style","getComputedStyle","currentStyle","transitionVal","transitionSplit","char","inBezier","block","all","returnAsString","__un_css_matrix","inline","emptys","inlineDisplay","isHidden","transforms","computedStyleMap","computedTransforms","sort","reverse","axisMap","transform","bsName","lastChar","defltVal","axisProp","css_to_3d_transform","transformsStr","valueCount","initialVal","name3d","getPropValue","add_class","_DOMElement","_className","classList","add","class_names","is_htmlElement","closest","itype","isElement","isClass","isType","traverse_up","parent","pType","has_class","closest_class","classNames","coordinates","box","getBoundingClientRect","docEl","scrollTop","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","borderL","borderR","borderT","borderB","top","left","right","bottom","first_children","find_all","form_inputs","form","form_values","inputs","input","input_value","contains","hide_aria","HTMLElement","in_viewport","rect","innerHeight","clientHeight","innerWidth","clientWidth","inner_HTML","content","append","clear_event_listeners","trigger_event","multiple","files","selectedIndex","dom_element","appendTo","innerHTMLOrChildren","_recursive_dom_element","tag","createElement","child","next","traverse_next","sibling","sType","next_class","preapend","wrapper","insertBefore","firstChild","traverse_prev","previous_class","remove_class","remove","in_dom","removeChild","scroll_pos","doc","find","selector","includeContextEl","fchild","multi","querySelector","getElementById","hasParent","deleteParent","querySelectorAll","show_aria","toggle_class","eventName","data","initEvent","dispatchEvent","fireEvent","state","events","base","subevent","response","tagName","traverse_down","nextSibling","previousSibling","nth_child","sibling_index","handler","baseArgs","eventsArr","argsNormal","__normaliseListenerArgs","__addListener","pushFirst","bool","guid","hasHandler","handlerObj","addEventListener","__event_dispatcher","callbacks","handled","preventDefault","stopPropagation","__remove_element_listeners","__remove_element_type_listeners","handlers","_handler","__remove_listener","eventType","removeEventListener","onlyChildren","types","collect_garbage","cleared","event_listeners","summary","details","is_retina","devicePixelRatio","matchMedia","matches","parse_url","str","url","URL","search","queries","qret","query","decodeURI","url_query","results","decodeURIComponent","normalize_url","paths","href","pathname","backs","clone_deep","__clone_var","var_type","__clone_obj","__clone_array","__clone_func","__clone_RegExp","__clone_symbol","__clone_date","__clone_set","__clone_map","__clone_array_buffer","__clone_data_view","__clone_buffer","__clone_typed_array","object_props","protos","prototypes","curr","proto","clone","constrctor","setPrototypeOf","d","r","setTime","symbol","Symbol","valueOf","regexp","source","exec","lastIndex","m","Map","s","Set","arrayBuffer","byteLength","Uint8Array","dataView","buffer","byteOffset","allocUnsafe","copy","typedArray","extend","extension","proxySuper","superFn","fn","tmp","super","Class","protoProps","_super","create","enumerable","writable","configurable","is_function","extend_obj","baseProto","extendProto","extProto","newProto","seperator","glue","recursive","trimLast","deep","flatten_obj","json_decode","parse","json_encode","charlist","trimStart","makeid","text","possible","random","trimEnd","chars","uc_first","string","ucwords","is_regexp","is_bool","is_number","Number","callable_name","is_callable","size","id","is_args","is_buffer","is_class","classname","is_constructable","isES6","is_constructed","is_dataview","is_date","isNaN","a","b","__is_equal_func","__is_equal_traverseable","__is_equal_protos","aProtos","bProtos","nodeType","is_json","is_map","is_node_type","is_nodelist","is_set","is_symbol","destruct","Application","version_major","version_minor","version_patch","boot","dom","Dom","app","frontbx","log","_isReady","components","_bindComponent","_dispatchReady","register","component","_normaliseKey","_dispatchComponent","isRefresh","_hasMethod","construct","_unbindComponent","refresh","globalRefresh","method","Component","defaultProps","_selector","_DOMElements","nodes","unbind","props","template","LAZY_FALLBACK_IMAGE","Queue","concurrency","running","taskQueue","task","_runTask","_enqueueTask","LazyLoad","_queue","_getSrc","_canLoad","_loadImage","_isImage","isImage","src","_markLoaded","_getLoadFunc","_fallback","queue","_image","Image","onload","backgroundImage","onerror","_markFailed","nodeName","lazy","initial","current","NProgress","Settings","settings","minimum","positionUsing","speed","trickle","trickleSpeed","showSpinner","barSelector","spinnerSelector","isDOM","clamp","toBarPerc","configure","status","started","isStarted","progress","render","bar","offsetWidth","getPositioningCSS","barCSS","barPositionCSS","opacity","work","done","force","inc","amount","promise","$promise","always","fromStart","isRendered","addClass","spinner","perc","removeElement","removeClass","bodyStyle","vendorPrefix","pending","cssPrefixes","cssProps","applyCss","letter","vendorName","capName","getVendorProp","properties","hasClass","oldList","newList","NAMED_CALLBACKS","_args","AJAX_QUEUE","Ajax","_reset","_settings","async","headers","Accepts","Pragma","_success","_error","_abort","_progress","_xhr","post","success","abort","_setResponseHandlers","_call","head","put","upload","_headers","then","xhr","readyState","onreadystatechange","_makeCallback","responseText","XMLHttpRequest","ActiveXObject","requestURL","mthod","open","_sendHeaders","_ready","send","setRequestHeader","arg","FormData","_params","successfull","encodeURIComponent","_listening","DEFAULT_OPTIONS","cacheBust","once","keepScroll","pushstate","urlhash","Pjax","_popStateHandler","request","t","scroll","history","pushState","_handleSuccess","HTML","responseDoc","_parseHTML","descrMeta","responseTitle","_findDomTitle","responseDesc","_findDomDesc","responseScripts","_getScripts","currScripts","_removeScripts","script","targetEl","responseEl","tmpResponseEl","title","replaceState","_appendScripts","newScripts","scripts","cScript","_appendScript","scriptObj","rel","DOM","getElementsByTagName","desc","html","DOMParser","parseFromString","_for","STATIC_POSITIONS","lines","variant","aspectratio","CLASS_VARIANTS","WRAPPER_VARIANTS","Skeleton","_nodes","_isMulti","optionSet","_build","load","cb","isHTML","position","InlStyles","overflow","newStyles","oldContnet","isFragment","div","class","replaceChild","fade_out","destroy","madeCallback","skeleton","variants","classes","skeletons","cloneNode","_skeleton","_setDimensions","skel","aspectRatio","isLines","TinyGesture","touch1","touch2","touchStartX","touchStartY","touchEndX","touchEndY","touchMove1","touchMove2","touchMoveX","touchMoveY","velocityX","velocityY","longPressTimer","doubleTapTimer","doubleTapWaiting","thresholdX","thresholdY","disregardVelocityThresholdX","disregardVelocityThresholdY","swipingHorizontal","swipingVertical","swipingDirection","swipedHorizontal","swipedVertical","originalDistance","newDistance","originalAngle","newAngle","rotation","panstart","panmove","panend","swipeleft","swiperight","swipeup","swipedown","tap","doubletap","longpress","pinch","pinchend","rotateend","_onTouchStart","onTouchStart","_onTouchMove","onTouchMove","_onTouchEnd","onTouchEnd","defaults","passiveIfSupported","mouseSupport","_a","_b","idx","fire","_c","_d","_e","_f","_g","_h","_j","_k","_l","_m","_o","_p","_q","_r","_s","_t","_u","_v","_w","_x","_y","_z","_0","_1","didTouch1","changedTouches","touch","identifier","screenX","screenY","atan2","threshold","disregardVelocityThreshold","longPressTime","absTouchMoveX","absTouchMoveY","pressThreshold","touches","absX","absY","absDistance","diagonal","diagonalSwipes","tan","diagonalLimit","velocityThreshold","doubleTapTime","_self","passive","err","overlay","persistentOverlay","swipeable","direction","peekable","persistent","responsive","pushbody","animationTime","fromHTML","callbackBuilt","callbackRender","callbackClose","callbackOpen","callbackValidate","PUSH_ARROWS","SWIPE_DIRECTIONS","WRAPPED_BODY","WRAPPED_DRAWERS","Drawer","_options","_state","_animating","_mounted","_animateOnMount","animateOnMount","_hasOverlay","_resizeThrottle","resize","_mount","_bindListeners","opened","closed","close","_gestures","_unwrapBody","_containerWrap","_overlay","_drawer","_animteDrawer","_animateOverlay","_animateBody","_toggleEnd","_drawerSize","_peekableSize","tofrom","_bodyWrap","drawer","_dialog","header","closer","_closeValidate","offsetHeight","peekableSize","drawerSize","_wrapBody","classN","directions","confirmBtn","confirmClass","callbackConfirm","Frontdrop","_buildFD","footer","custom","closeAnywhere","cancelBtn","cancelClass","Modal","_modal","blur","focus","_cancelBtn","_confirmBtn","role","tabindex","_closeClick","clicked","target","_Modal","icon","btn","btnVariant","callbackDismiss","Notification","_buildNotificationContainer","_render","domElement","_notification","_timeout","wrappper","_DOMElementWrapper","_animateOutClass","_animateInClass","_wrapperClass","_animateIn","_animateOut","notif","_btn","_removeValidate","updateURL","nodeOrId","isHashable","fixednav","_map","MASK_MAP","creditcard","money","numeric","numericdecimal","alphanumeric","alphaspace","alphadash","alphanumericdash","_format_464","cc","_format_465","_format_4444","_CARD_TYPES","pattern","format","maxlength","InputMasker","maskRegexp","_getMaskRegexp","_buildFormatRegexp","maskName","_bind","isCC","_handle","raw","seperators","endsWith","_formatFilter","mapped","_formatCC","ct","oldval","newVal","selectionStart","before_caret","setSelectionRange","VALIDATORS","specialchars","email","password","minlength","valid","alpha","alphadot","alphadashdot","alphadashes","alphadashesdot","alphanumericdot","alphanumericdashdot","alphanumericdashesdot","list","ccNum","String","bit","sum","FormValidator","_formEl","_inputs","_ruleSets","_formObj","_valid","_buildRuleSets","validate","_unListen","_clearForm","_validateRuleSets","ruleset","_devalidateField","failClass","_listen","_validateField","showResult","required","validation","_validationFunc","_validateRuleSet","_liveValidate","fieldWrap","accessibility","autoPlay","initialIndex","controls","dots","wrap","groupSlides","pauseOnHover","draggable","friction","_Slider","DOMElementWrapper","_playing","_translated","_moveIndexToMiddle","play","unpause","_dotWrap","_righBtn","_leftBtn","slides","_slides","slide","animationOrClickEvent","_dragging","_index","_slidesIndexs","_toSlideDirect","_slideWidthWGap","_updateIndex","_updateDots","preDistance","_offset","_moved","_DOMElementViewport","toSlide","slideNum","fromClick","delta","_moveDelta","tmpOffset","_middleIndex","_bufferSize","_viewportWidth","_slideWidth","clones","_bufferNodes","_slidesCount","_isFullWidth","_gapSize","percentagWidth","_visibleSlides","_dragBoundryL","_dragBoundryR","hidden","_onVisibilityPlay","_onVisibilityChange","_tick","_playTimer","ceil","_buildControls","_dots","_buildDots","_bindGestures","_dragSlide","moved","_dragX","_dragCloneSlides","_draggingbuffer","_bufferDragClones","viewport","cloneR","_dragRIndex","cloneL","_dragLIndex","_dragClones","_clearDragClones","_restingDragPos","wrapping","slideIndex","slideStarts","_dragMoved","_onDragEnd","_dragEndAnim","_resetDragVars","_dragStartPointX","_prevDrag","gestures","pageX","moveVectorX","dot","dataIndex","_dotClick","backN","forwdN","SLIDERS","Slider","slider","Inputs","_onLabelClick","_eventHandler","_setClasses","Range","wrapperEl","inputEl","labeled","indicators","_unbind","update","updateBackground","updateIndicators","digitWraps","digitEls","ul","fill","label","fChild","digitWrapper","visible","percent","RANGES","RangeSlider","range","inputProps","dataPrefix","dataSuffix","PopHandler","trigger","buildPopEl","stylePop","tarcoordinates","scrollHeight","HOVER_TIMER","POP_HANDLERS","Popover","_windowClick","theme","_windowClickHandler","popoverDirection","popoverTitle","popoverTheme","popoverContent","evnt","popoverEvent","popoverAnimate","popoverTarget","popHandler","_clickHandler","_windowResize","_hoverEnter","_hoverLeave","_killPop","_hoverPop","_trigger","_removeAll","exception","chip","removeable","posticon","preicon","icon1","removeBtn","ariaLabel","icon2","ChipInputs","_wrapper","_input","_removeChip","_onKeyUp","_preventSubmit","_removeBtns","_key","code","keyCode","charCode","_removeLastChip","_value","_getChipsValues","addChip","_chips","_icon","Chip","inputName","chipClass","_result","Menu","menu","activeClass","selected","isCheck","selectedCheck","check","dense","ellipsis","selectable","items","ChipSuggestions","inputTarget","_text","ChoiceChips","FilterChips","DATA_ATTRIBUTES","modals","attribute","modal","_toggle","display","drawers","frontdrop","Backdrop","backdrop","_show","REQUESTED","PjaxLinks","_requestHandler","Collapse","collapseTarget","collapseSpeed","collapseEasing","closing","withOpacity","List","Dropdown","checkable","caret","anchorText","anchorTag","boundWindow","_selectHandler","button","active","_hideDrop","_showDrop","drop","anchorClass","dataValue","TabNav","nav","panel","panels","Helper","InputMasks","_masks","MessageClosers","msg","toRemove","pageLoaded","WayPoints","_invokePageLoad","waypointTarget","waypointSpeed","waypointEasing","updateUrl","SmoothScroll","hash","INLINESTYLES","RIPPLING","SELECTORS","Ripple","CSSoverflow","CSSposition","_startRipple","_restore","disabled","prev","releaseEvent","performance","ripple","release","ev","releaseTimer","restoreTimer","c","pageY","Table","row","table","cell","rows","AVAILABLE_OPTIONS","attrs","isBackground","isRatio","ratio","isLazy","placeholder","dataSrc","grayscale","image"],"sources":["dist/js/frontbx.esm.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * frontbx.esm.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n// Core\n// polyfills\n// polyfills\n/**\n * A fix to allow you to use window.location.origin consistently\n *\n * @see {https://tosbourn.com/a-fix-for-window-location-origin-in-internet-explorer/}\n */\nif (!window.location.origin)\n{\n    window.location.origin = window.location.protocol + \"//\" + window.location.hostname + (window.location.port ? ':' + window.location.port : '');\n}\n/*\n * Custom events \n *\n * @see {https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent#Polyfill}\n */\n(function()\n{\n    if (typeof window.CustomEvent === \"function\") return false;\n\n    function CustomEvent(event, params)\n    {\n        params = params ||\n        {\n            bubbles: false,\n            cancelable: false,\n            detail: null\n        };\n        var evt = document.createEvent('CustomEvent');\n        evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n        return evt;\n    }\n\n    window.CustomEvent = CustomEvent;\n\n})();\n/**\n * debounce and throttle methods\n * \n * @see {Underscore.js} 1.9.1\n */\n(function()\n{\n\n    // Some functions take a variable number of arguments, or a few expected\n    // arguments at the beginning and then a variable number of values to operate\n    // on. This helper accumulates all remaining arguments past the function’s\n    // argument length (or an explicit `startIndex`), into an array that becomes\n    // the last argument. Similar to ES6’s \"rest parameter\".\n    var restArguments = function(func, startIndex)\n    {\n        startIndex = startIndex == null ? func.length - 1 : +startIndex;\n        return function()\n        {\n            var length = Math.max(arguments.length - startIndex, 0),\n                rest = Array(length),\n                index = 0;\n            for (; index < length; index++)\n            {\n                rest[index] = arguments[index + startIndex];\n            }\n            switch (startIndex)\n            {\n                case 0:\n                    return func.call(this, rest);\n                case 1:\n                    return func.call(this, arguments[0], rest);\n                case 2:\n                    return func.call(this, arguments[0], arguments[1], rest);\n            }\n            var args = Array(startIndex + 1);\n            for (index = 0; index < startIndex; index++)\n            {\n                args[index] = arguments[index];\n            }\n            args[startIndex] = rest;\n            return func.apply(this, args);\n        };\n    };\n\n    // A (possibly faster) way to get the current timestamp as an integer.\n    var _now = Date.now || function()\n    {\n        return new Date().getTime();\n    };\n\n\n    // Delays a function for the given number of milliseconds, and then calls\n    // it with the arguments supplied.\n    var _delay = restArguments(function(func, wait, args)\n    {\n        return setTimeout(function()\n        {\n            return func.apply(null, args);\n        }, wait);\n    });\n\n\n    // Returns a function, that, when invoked, will only be triggered at most once\n    // during a given window of time. Normally, the throttled function will run\n    // as much as it can, without ever going more than once per `wait` duration;\n    // but if you'd like to disable the execution on the leading edge, pass\n    // `{leading: false}`. To disable execution on the trailing edge, ditto.\n    var _throttle = function(func, wait, options)\n    {\n        var timeout, context, args, result;\n        var previous = 0;\n        if (!options) options = {};\n\n        var later = function()\n        {\n            previous = options.leading === false ? 0 : _now();\n            timeout = null;\n            result = func.apply(context, args);\n            if (!timeout) context = args = null;\n        };\n\n        var throttled = function()\n        {\n            var now = _now();\n            if (!previous && options.leading === false) previous = now;\n            var remaining = wait - (now - previous);\n            context = this;\n            args = arguments;\n            if (remaining <= 0 || remaining > wait)\n            {\n                if (timeout)\n                {\n                    clearTimeout(timeout);\n                    timeout = null;\n                }\n                previous = now;\n                result = func.apply(context, args);\n                if (!timeout) context = args = null;\n            }\n            else if (!timeout && options.trailing !== false)\n            {\n                timeout = setTimeout(later, remaining);\n            }\n            return result;\n        };\n\n        throttled.cancel = function()\n        {\n            clearTimeout(timeout);\n            previous = 0;\n            timeout = context = args = null;\n        };\n\n        return throttled;\n    };\n\n    // Returns a function, that, as long as it continues to be invoked, will not\n    // be triggered. The function will be called after it stops being called for\n    // N milliseconds. If `immediate` is passed, trigger the function on the\n    // leading edge, instead of the trailing.\n    var _debounce = function(func, wait, immediate)\n    {\n        var timeout, result;\n\n        var later = function(context, args)\n        {\n            timeout = null;\n            if (args) result = func.apply(context, args);\n        };\n\n        var debounced = restArguments(function(args)\n        {\n            if (timeout) clearTimeout(timeout);\n            if (immediate)\n            {\n                var callNow = !timeout;\n                timeout = setTimeout(later, wait);\n                if (callNow) result = func.apply(this, args);\n            }\n            else\n            {\n                timeout = _delay(later, wait, this, args);\n            }\n\n            return result;\n        });\n\n        debounced.cancel = function()\n        {\n            clearTimeout(timeout);\n            timeout = null;\n        };\n\n        return debounced;\n    };\n\n    window.throttle = _throttle;\n\n    window.debounce = _debounce;\n\n}());\n\n\n// container\n(function()\n{\n    /**\n     * JS IoC Container\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Inverse = function()\n    {\n        this._store = {};\n\n        this.IMPORT_AS_REF = 100;\n    }\n\n    /**\n     * Set data key to value\n     *\n     * @access {public}\n     * @param {string} key   The data key\n     * @param {mixed}  value The data value\n     */\n    Inverse.prototype.set = function(key, value, singleton)\n    {\n        key = this._normalizeKey(key);\n\n        value = this._storeObj(value, singleton);\n\n        this._store[key] = value;\n\n        this._setProto(key);\n    }\n\n    /**\n     * Stores a globally unique singleton\n     *\n     * @access {public}\n     * @param  {string} key      The value or object name\n     * @param  {object} classObj The closure that defines the object\n     * @return {this}\n     */\n    Inverse.prototype.singleton = function(key, classObj, invoke)\n    {\n        invoke = typeof invoke === 'undefined' ? false : invoke;\n\n        this.set(key, classObj, true);\n\n        if (invoke)\n        {\n            return this.get(key);\n        }\n    }\n\n    /**\n     * Does this set contain a key?\n     *\n     * @access {public}\n     * @param  {string}  key The data key\n     * @return {boolean}\n     */\n    Inverse.prototype.has = function(key)\n    {\n        key = this._normalizeKey(key);\n\n        for (var k in this._store)\n        {\n            if (k === key)\n            {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    /**\n     * Remove a key/value\n     *\n     * @access {public}\n     * @param {string} key   The data key\n     */\n    Inverse.prototype.delete = function(key)\n    {\n        key = this._normalizeKey(key);\n\n        delete this._store[key];\n\n        var _proto = Object.getPrototypeOf(this);\n\n        if (typeof _proto[key] !== 'undefined')\n        {\n            _proto[key] = undefined;\n        }\n    }\n\n    /**\n     * Get data value with key\n     *\n     * @access {public}\n     * @param  {string} key The data key\n     * @param  {mixed}  ... Any additional parameters to pass to the constructor (optional) (default null)\n     * @return {mixed}      The data value\n     */\n    Inverse.prototype.get = function(key)\n    {\n        key = this._normalizeKey(key);\n\n        let args = Array.prototype.slice.call(arguments).slice(1);\n\n        let storeObj = this._store[key];\n\n        if (this.has(key))\n        {\n            if (args[0] && args[0] === this.IMPORT_AS_REF) return storeObj.value;\n\n            // Singletons\n            if (storeObj.singleton)\n            {\n                if (!storeObj.instance)\n                {\n                    return storeObj.singleton.apply(this, [key, ...args]);\n                }\n\n                return storeObj.instance;\n            }\n            // Constructorables\n            if (storeObj.invokable)\n            {\n                return this._newInstance(storeObj.value, args);\n            }\n            // Functions\n            if (storeObj.funcn)\n            {\n                return storeObj.value.apply(this, args);\n            }\n            // Intances and all other var types\n            return storeObj.value;\n        }\n    }\n\n    /**\n     * Get data value with key\n     *\n     * @access {public}\n     * @param  {string} key The data key\n     * @param  {mixed}  ... Any additional parameters to pass to the constructor (optional) (default null)\n     * @return {mixed}      The data value\n     */\n    Inverse.prototype.import = function(names)\n    {\n        const _this   = this;\n        const _import = {};\n\n        _import.from = function(module)\n        {\n            const _rets = [];\n\n            const _context = _this.get(module);\n\n            for (var i = 0; i < names.length; i++)\n            {\n                const mixedVar = _context[names[i]];\n\n                _rets.push(_this._is_func(mixedVar) ? _this.bind(_context[names[i]], _context) : mixedVar);\n\n            }\n\n            return _rets;\n        };\n\n        return _import;\n    }\n\n    Inverse.prototype.bind = function(callback, context)\n    {\n        context = typeof context === 'undefined' ? window : context;\n\n        const bound = function()\n        {\n            return callback.apply(context, arguments);\n        }\n\n        Object.defineProperty(bound, 'name', { value: callback.name });\n\n        bound.__isBound      = true;\n        bound.__boundContext = context;\n        bound.__origional    = callback;\n\n        return bound;\n    }\n\n    /**\n     * Sets the key as a prototype method\n     *\n     * @access {public}\n     * @param  {string} key   The data key\n     * @return {mixed}\n     */\n    Inverse.prototype._setProto = function(key)\n    {\n        var _this = this;\n\n        var _proto = Object.getPrototypeOf(this);\n\n        _proto[key] = function()\n        {\n            var args = Array.prototype.slice.call(arguments);\n\n            args.unshift(key);\n\n            return _this.get.apply(_this, args);\n        };\n    }\n\n    /**\n     * Stores a globally unique singleton\n     *\n     * @access {public}\n     * @param  {string} key      The value or object name\n     * @param  {object} classObj The closure that defines the object\n     * @return {this}\n     */\n    Inverse.prototype._singletonFunc = function(key)\n    {\n        let storeObj = this._store[key];\n        let instance = storeObj.invoked ? storeObj.instance : null;\n        let args     = Array.prototype.slice.call(arguments).slice(1);\n\n        if (!instance)\n        {\n            instance           = this._newInstance(storeObj.value, args);\n            storeObj.function  = false;\n            storeObj.invokable = false;\n            storeObj.invoked   = true;\n            storeObj.value     = null;\n            storeObj.instance  = instance;\n            storeObj.singleton = true;\n        }\n\n        return instance;\n    }\n\n    Inverse.prototype._isInvokable = function(mixed_var)\n    {\n        // Not a function\n        if (typeof mixed_var !== 'function' || mixed_var === null)\n        {\n            return false;\n        }\n\n        // Strict ES6 class\n        if (/^\\s*class\\s+\\w+/.test(mixed_var.toString()))\n        {\n            return true;\n        }\n\n        // Native arrow functions\n        if (!mixed_var.prototype || !mixed_var.prototype.constructor)\n        {\n            return false;\n        }\n\n        return true;\n    }\n\n    /**\n     * Checks if a class object has been invoked\n     *\n     * @access {private}\n     * @param  {mixed} mixedVar The object instance or reference\n     * @return {bool}\n     */\n    Inverse.prototype._isInvoked = function(mixedVar)\n    {\n        if (typeof mixedVar === 'object' && mixedVar.constructor && typeof mixedVar.constructor === 'function')\n        {\n            var constr = mixedVar.constructor.toString().trim();\n            \n            return constr.startsWith('function (') || constr.startsWith('function(') || constr.startsWith('function Object(') || constr.startsWith('class ') ;\n        }\n\n        return false;\n    }\n\n    /**\n     * Invokes and returns a new class instance\n     *\n     * @access {private}\n     * @param  {mixed} classObj The object instance or reference\n     * @param  {array} args     Arguements to pass to class constructor (optional) (default null)\n     * @return {object}\n     */\n    Inverse.prototype._newInstance = function(reference, args)\n    {\n        return new reference(...args);\n    }\n\n    /**\n     * Invokes and returns a new class instance\n     *\n     * @access {private}\n     * @param  {mixed} classObj The object instance or reference\n     * @param  {array} args     Arguements to pass to class constructor (optional) (default null)\n     * @return {object}\n     */\n    Inverse.prototype._storeObj = function(mixedVar, isSingleton)\n    {\n        isSingleton = typeof isSingleton === 'undefined' ? false : isSingleton;\n\n        let value       = mixedVar;\n        let invokable   = this._isInvokable(mixedVar);\n        let invoked     = this._isInvoked(mixedVar);\n        let instance    = invoked && isSingleton ? mixedVar : null;\n        let funcn       = this._is_func(mixedVar) && !invokable && !invoked && !isSingleton;\n        let singleton   = isSingleton ? this._singletonFunc : false;\n\n        return { funcn, invokable, invoked, value, instance, singleton };\n    }\n\n    /**\n     * Normalizes key for prototypes\n     *\n     * @access {private}\n     * @param  {string} key Key to normalize\n     * @return {string}\n     */\n    Inverse.prototype._normalizeKey = function(key)\n    {\n        key = key.replace(/['\"]/g, '').replace(/\\W+/g, ' ')\n            .replace(/ (.)/g, function($1)\n            {\n                return $1.toUpperCase();\n            })\n            .replace(/ /g, '');\n\n        key = key.charAt(0).toUpperCase() + key.slice(1);\n\n        return key;\n    }\n\n    Inverse.prototype._is_func = function(mixedVar)\n    {\n        return Object.prototype.toString.call(mixedVar) === '[object Function]';\n    }\n\n    /**\n     * Loads container into global namespace as \"frontbx\"\n     *\n     */\n    if (!window.Container)\n    {\n        var container = new Inverse;\n\n        window.Container = container;\n    }\n    \n})();\n\n// Utils\n// Standard\nconst NULL_TAG = '[object Null]';\nconst UNDEF_TAG = '[object Undefined]';\nconst BOOL_TAG = '[object Boolean]';\nconst STRING_TAG = '[object String]';\nconst NUMBER_TAG = '[object Number]';\nconst FUNC_TAG = '[object Function]';\nconst ARRAY_TAG = '[object Array]';\nconst ARGS_TAG = '[object Arguments]';\nconst NODELST_TAG = '[object NodeList]';\nconst OBJECT_TAG = '[object Object]';\nconst DATE_TAG = '[object Date]';\n\n// Unusual\nconst SET_TAG = '[object Set]';\nconst MAP_TAG = '[object Map]';\nconst REGEXP_TAG = '[object RegExp]';\nconst SYMBOL_TAG = '[object Symbol]';\n\n// Array buffer\nconst ARRAY_BUFFER_TAG = '[object ArrayBuffer]';\nconst DATAVIEW_TAG = '[object DataView]';\nconst FLOAT32_TAG = '[object Float32Array]';\nconst FLOAT64_TAG = '[object Float64Array]';\nconst INT8_TAG = '[object Int8Array]';\nconst INT16_TAG = '[object Int16Array]';\nconst INT32_TAG = '[object Int32Array]';\nconst UINT8_TAG = '[object Uint8Array]';\nconst UINT8CLAMPED_TAG = '[object Uint8ClampedArray]';\nconst UINT16_TAG = '[object Uint16Array]';\nconst UINT32_TAG = '[object Uint32Array]';\n\n// Non-cloneable\nconst ERROR_TAG = '[object Error]';\nconst WEAKMAP_TAG = '[object WeakMap]';\n\n// Arrayish _tags\nconst ARRAYISH_TAGS = [ARRAY_TAG, ARGS_TAG, NODELST_TAG];\n\n// Object.prototype.toString\nconst TO_STR = Object.prototype.toString;\n\n// Array.prototype.slice\nconst TO_ARR = Array.prototype.slice;\n\n// Regex for HTMLElement types\nconst HTML_REGXP = /^\\[object HTML\\w*Element\\]$/;\n\n// Empty object\nconst EMPTY_OBJ_KEYS = Object.getOwnPropertyNames(Object.getPrototypeOf({}));\n/**\n * List of shorthand properties and their longhand equivalents\n *\n * @var {object}\n */\nconst SHORTHAND_PROPS =\n{\n    // CSS 2.1: http://www.w3.org/TR/CSS2/propidx.html\n    'list-style': ['-type', '-position', '-image'],\n    'margin': ['-top', '-right', '-bottom', '-left'],\n    'outline': ['-width', '-style', '-color'],\n    'padding': ['-top', '-right', '-bottom', '-left'],\n\n    // CSS Backgrounds and Borders Module Level 3: http://www.w3.org/TR/css3-background/\n    'background': ['-image', '-position', '-size', '-repeat', '-origin', '-clip', '-attachment', '-color'],\n    'border': ['-width', '-style', '-color'],\n    'border-color': ['border-top-color', 'border-right-color', 'border-bottom-color', 'border-left-color'],\n    'border-style': ['border-top-style', 'border-right-style', 'border-bottom-style', 'border-left-style'],\n    'border-width': ['border-top-width', 'border-right-width', 'border-bottom-width', 'border-left-width'],\n    'border-top': ['-width', '-style', '-color'],\n    'border-right': ['-width', '-style', '-color'],\n    'border-bottom': ['-width', '-style', '-color'],\n    'border-left': ['-width', '-style', '-color'],\n    'border-radius': ['border-top-left-radius', 'border-top-right-radius', 'border-bottom-right-radius', 'border-bottom-left-radius'],\n    'border-image': ['-source', '-slice', '-width', '-outset', '-repeat'],\n\n    // CSS Fonts Module Level 3: http://www.w3.org/TR/css3-fonts/\n    'font': ['-style', '-variant', '-weight', '-stretch', '-size', 'line-height', '-family'],\n    'font-variant': ['-ligatures', '-alternates', '-caps', '-numeric', '-east-asian'],\n\n    // CSS Masking Module Level 1: http://www.w3.org/TR/css-masking/\n    'mask': ['-image', '-mode', '-position', '-size', '-repeat', '-origin', '-clip'],\n    'mask-border': ['-source', '-slice', '-width', '-outset', '-repeat', '-mode'],\n\n    // CSS Multi-column Layout Module: http://www.w3.org/TR/css3-multicol/\n    'columns': ['column-width', 'column-count'],\n    'column-rule': ['-width', '-style', '-color'],\n\n    // CSS Speech Module: http://www.w3.org/TR/css3-speech/\n    'cue': ['-before', '-after'],\n    'pause': ['-before', '-after'],\n    'rest': ['-before', '-after'],\n\n    // CSS Text Decoration Module Level 3: http://www.w3.org/TR/css-text-decor-3/\n    'text-decoration': ['-line', '-style', '-color'],\n    'text-emphasis': ['-style', '-color'],\n\n    // CSS Animations (WD): http://www.w3.org/TR/css3-animations\n    'animation': ['-name', '-duration', '-timing-function', '-delay', '-iteration-count', '-direction', '-fill-mode', '-play-state'],\n\n    // CSS Transitions (WD): http://www.w3.org/TR/css3-transitions/\n    'transition': ['-property', '-duration', '-timing-function', '-delay'],\n\n    // CSS Flexible Box Layout Module Level 1 (WD): http://www.w3.org/TR/css3-flexbox/\n    'flex': ['-grow', '-shrink', '-basis'],\n};\n\n/**\n * List of shorthand properties and their longhand equivalents\n *\n * @var {object}\n */\nconst SHORTHAND_DEFAULTS = \n{\n    '-width' : '0',\n    '-height' : '0',\n    '-top' : '0',\n    '-left' : '0',\n    '-bottom' : '0',\n    '-duration' : '0s',\n    '-delay' : '0s',\n    '-grow' : '1' ,\n    '-shrink' : '1' ,\n    '-iteration-count' : '1',\n    '-timing-function' : 'linear',\n    '-transition-property' : 'all',\n    '-fill-mode': 'none',\n    '-emphasis' : 'none',\n    '-color' : 'none',\n    '-decoration' : 'none',\n    '-direction' : 'normal',\n    '-play-state' : 'running',\n};\n\n/**\n * CSS Transform value counts\n *\n * @var {object}\n */\nconst CSS_TRANSFORM_VALUES_COUNT = \n{\n    perspective: 1,\n    skewY: 1,\n    translateY: 1,\n    translateZ: 1,\n    scaleY: 1,\n    scaleZ: 1,\n    rotateX: 1,\n    rotateY: 1,\n    rotateZ: 1,\n    translateX: 1,\n    skewX: 1,\n    scaleX: 1,\n    rotate: 1,\n\n    skew: 2,\n    translate: 2,\n    scale: 2,\n\n    translate3d: 3,\n    scale3d: 3,\n    rotate3d: 3,\n\n    matrix: 6,\n    matrix3d: 16\n};\n\nconst CSS_3D_TRANSFORM_DEFAULTS =\n{\n    'translate3d' : ['0','0','0'],\n    'scale3d'     : ['1','1','1'],\n    'rotate3d'    : ['0','0','1','0'],\n    'skew'        : ['0', '0'],\n};\n\nconst CSS_3D_TRANSFORM_MAP_KEYS =\n{\n    x: 0,\n    y: 1,\n    z: 3\n};\n\n/* USED FOR css_to_px */\nconst CSS_PIXELS_PER_INCH = 96;\nconst CSS_RELATIVE_UNITS  = {\n    // Relative to the font-size of the element (2em means 2 times the size of the current font)\n    'em' : 16,\n\n    // Relative to the x-height of the current font (rarely used)\n    'ex' : 7.15625,\n\n    // Relative to the width of the \"0\" (zero)\n    'ch' : 8,\n\n    // Relative to font-size of the root element\n    'rem' : 16,\n\n    // Relative to 1% of the width of the viewport\n    'vw' : 1,\n\n    // Relative to 1% of the height of the viewport\n    'vh' : 1,\n\n    // Relative to 1% of viewport's* smaller dimension\n    // If the viewport height is smaller than the width, \n    // the value of 1vmin will be equal to 1% of the viewport height.\n    // Similarly, if the viewport width is smaller than the height, the value of 1vmin will be equal to 1% of the viewport width.\n    'vmin' : 765,\n    'vmax' : 1200,\n\n    // Relative to the parent element\n    '%' : 16\n}\nconst CSS_ABSOLUTE_UNITS =\n{\n    'in': CSS_PIXELS_PER_INCH,\n    'cm': CSS_PIXELS_PER_INCH / 2.54,\n    'mm': CSS_PIXELS_PER_INCH / 25.4,\n    'pt': CSS_PIXELS_PER_INCH / 72,\n    'pc': CSS_PIXELS_PER_INCH / 6,\n    'px': 1\n}\n\n\n/**\n * Cached CSS propery cases.\n *\n * @var {object}\n */\nconst CSS_PROP_TO_HYPHEN_CASES = {};\nconst CSS_PROP_TO_CAMEL_CASES  = {};\n// Current clone map (stops recursive cloning between array/objects)\n\n/**\n * Default options.\n * \n * @var {object}\n */\nconst ANIMATION_DEFAULT_OPTIONS =\n{\n    // Options\n    //'property', 'from', 'to', 'callback', 'complete', 'start', 'fail'\n    easing:               'ease',\n    duration:              500,\n    fps:                   60, // (16ms)\n};\n\n /**\n * Allowed Options.\n * \n * @var {array}\n */\nconst ANIMATION_ALLOWED_OPTIONS = ['property', 'from', 'to', 'duration', 'easing', 'callback'];\n\n/**\n * Allowed Options.\n * \n * @var {array}\n */\nconst ANIMATION_FILTER_OPTIONS = [ ...Object.keys(ANIMATION_DEFAULT_OPTIONS), ...ANIMATION_ALLOWED_OPTIONS];\n\n/**\n * Currently animating animations.\n * \n * @var {array}\n */\nconst ANIMATING = [];\n\n\n/**\n * Math Contstansts.\n * \n * @var {mixed}\n */\nconst POW  = Math.pow;\nconst SQRT = Math.sqrt;\nconst SIN  = Math.sin;\nconst COS  = Math.cos;\nconst PI   = Math.PI;\nconst C1   = 1.70158;\nconst C2   = C1 * 1.525;\nconst c3   = C1 + 1;\nconst C4   = (2 * PI) / 3;\nconst C5   = (2 * PI) / 4.5;\n\n/**\n * bounceOut function.\n * \n * @var {function}\n */\nconst bounceOut = function (x)\n{\n    const n1 = 7.5625;\n    const d1 = 2.75;\n\n    if (x < 1 / d1)\n    {\n        return n1 * x * x;\n    }\n    else if (x < 2 / d1)\n    {\n        return n1 * (x -= 1.5 / d1) * x + 0.75;\n    }\n    else if (x < 2.5 / d1)\n    {\n        return n1 * (x -= 2.25 / d1) * x + 0.9375;\n    }\n    else\n    {\n        return n1 * (x -= 2.625 / d1) * x + 0.984375;\n    }\n};\n\n/**\n * Easing functions.\n * \n * @var {object}\n */\nconst ANIMATION_EASING_FUNCTIONS = \n{\n    linear: (x) => x,\n    ease: function (x)\n    {\n        return x < 0.5 ? 4 * x * x * x : 1 - POW(-2 * x + 2, 3) / 2;\n    },\n    easeIn: function (x)\n    {\n        return 1 - COS((x * PI) / 2);\n    },\n    easeOut: function (x)\n    {\n        return SIN((x * PI) / 2);\n    },\n    easeInOut: function (x)\n    {\n        return -(COS(PI * x) - 1) / 2;\n    },\n    easeInQuad: function (x)\n    {\n        return x * x;\n    },\n    easeOutQuad: function (x)\n    {\n        return 1 - (1 - x) * (1 - x);\n    },\n    easeInOutQuad: function (x)\n    {\n        return x < 0.5 ? 2 * x * x : 1 - POW(-2 * x + 2, 2) / 2;\n    },\n    easeInCubic: function (x)\n    {\n        return x * x * x;\n    },\n    easeOutCubic: function (x)\n    {\n        return 1 - POW(1 - x, 3);\n    },\n    easeInOutCubic: function (x)\n    {\n        return x < 0.5 ? 4 * x * x * x : 1 - POW(-2 * x + 2, 3) / 2;\n    },\n    easeInQuart: function (x)\n    {\n        return x * x * x * x;\n    },\n    easeOutQuart: function (x)\n    {\n        return 1 - POW(1 - x, 4);\n    },\n    easeInOutQuart: function (x)\n    {\n        return x < 0.5 ? 8 * x * x * x * x : 1 - POW(-2 * x + 2, 4) / 2;\n    },\n    easeInQuint: function (x)\n    {\n        return x * x * x * x * x;\n    },\n    easeOutQuint: function (x)\n    {\n        return 1 - POW(1 - x, 5);\n    },\n    easeInOutQuint: function (x)\n    {\n        return x < 0.5 ? 16 * x * x * x * x * x : 1 - POW(-2 * x + 2, 5) / 2;\n    },\n    easeInSine: function (x)\n    {\n        return 1 - COS((x * PI) / 2);\n    },\n    easeOutSine: function (x)\n    {\n        return SIN((x * PI) / 2);\n    },\n    easeInOutSine: function (x)\n    {\n        return -(COS(PI * x) - 1) / 2;\n    },\n    easeInExpo: function (x)\n    {\n        return x === 0 ? 0 : POW(2, 10 * x - 10);\n    },\n    easeOutExpo: function (x)\n    {\n        return x === 1 ? 1 : 1 - POW(2, -10 * x);\n    },\n    easeInOutExpo: function (x)\n    {\n        return x === 0\n            ? 0\n            : x === 1\n            ? 1\n            : x < 0.5\n            ? POW(2, 20 * x - 10) / 2\n            : (2 - POW(2, -20 * x + 10)) / 2;\n    },\n    easeInCirc: function (x)\n    {\n        return 1 - SQRT(1 - POW(x, 2));\n    },\n    easeOutCirc: function (x)\n    {\n        return SQRT(1 - POW(x - 1, 2));\n    },\n    easeInOutCirc: function (x)\n    {\n        return x < 0.5\n            ? (1 - SQRT(1 - POW(2 * x, 2))) / 2\n            : (SQRT(1 - POW(-2 * x + 2, 2)) + 1) / 2;\n    },\n    easeInBack: function (x)\n    {\n        return c3 * x * x * x - C1 * x * x;\n    },\n    easeOutBack: function (x)\n    {\n        return 1 + c3 * POW(x - 1, 3) + C1 * POW(x - 1, 2);\n    },\n    easeInOutBack: function (x)\n    {\n        return x < 0.5\n            ? (POW(2 * x, 2) * ((C2 + 1) * 2 * x - C2)) / 2\n            : (POW(2 * x - 2, 2) * ((C2 + 1) * (x * 2 - 2) + C2) + 2) / 2;\n    },\n    easeInElastic: function (x)\n    {\n        return x === 0\n            ? 0\n            : x === 1\n            ? 1\n            : -POW(2, 10 * x - 10) * SIN((x * 10 - 10.75) * C4);\n    },\n    easeOutElastic: function (x)\n    {\n        return x === 0\n            ? 0\n            : x === 1\n            ? 1\n            : POW(2, -10 * x) * SIN((x * 10 - 0.75) * C4) + 1;\n    },\n    easeInOutElastic: function (x)\n    {\n        return x === 0\n            ? 0\n            : x === 1\n            ? 1\n            : x < 0.5\n            ? -(POW(2, 20 * x - 10) * SIN((20 * x - 11.125) * C5)) / 2\n            : (POW(2, -20 * x + 10) * SIN((20 * x - 11.125) * C5)) / 2 + 1;\n    },\n    easeInBounce: function (x)\n    {\n        return 1 - bounceOut(1 - x);\n    },\n    easeOutBounce: bounceOut,\n    easeInOutBounce: function (x)\n    {\n        return x < 0.5\n            ? (1 - bounceOut(1 - 2 * x)) / 2\n            : (1 + bounceOut(2 * x - 1)) / 2;\n    },\n};\n\nconst CSS_EASINGS = \n{\n    // Defaults\n    ease: 'ease',\n    linear: 'linear',\n    easeIn: 'cubic-bezier(0.4, 0, 1, 1)',\n    easeOut: 'cubic-bezier(0, 0, 0.2, 1)',\n    easeInOut: 'cubic-bezier(0.4, 0, 0.2, 1)',\n\n    // sine\n    easeInSine: 'cubic-bezier(0.47, 0, 0.745, 0.715)',\n    easeOutSine: 'cubic-bezier(0.39, 0.575, 0.565, 1)',\n    easeInOutSine: 'cubic-bezier(0.445, 0.05, 0.55, 0.95)',\n\n    // Quad\n    easeInQuad: 'cubic-bezier(0.55, 0.085, 0.68, 0.53)',\n    easeOutQuad: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n    easeInOutQuad: 'cubic-bezier(0.455, 0.03, 0.515, 0.955)',\n\n    // Cubic\n    easeInCubic: 'cubic-bezier(0.55, 0.055, 0.675, 0.19)',\n    easeOutCubic: 'cubic-bezier(0.215, 0.61, 0.355, 1)',\n    easeInOutCubic: 'cubic-bezier(0.645, 0.045, 0.355, 1)',\n\n    // Queart\n    easeInQuart: 'cubic-bezier(0.895, 0.03, 0.685, 0.22)',\n    easeOutQuart: 'cubic-bezier(0.165, 0.84, 0.44, 1)',\n    easeInOutQuart: 'cubic-bezier(0.77, 0, 0.175, 1)',\n\n    // Quint\n    easeInQuint: 'cubic-bezier(0.755, 0.05, 0.855, 0.06)',\n    easeOutQuint: 'cubic-bezier(0.23, 1, 0.32, 1)',\n    easeInOutQuint: 'cubic-bezier(0.86, 0, 0.07, 1)',\n\n    // Expo\n    easeInExpo: 'cubic-bezier(0.95, 0.05, 0.795, 0.035)',\n    easeOutExpo: 'cubic-bezier(0.19, 1, 0.22, 1)',\n    easeInOutExpo: 'cubic-bezier(1, 0, 0, 1)',\n\n    // Circ\n    easeInCirc: 'cubic-bezier(0.6, 0.04, 0.98, 0.335)',\n    easeOutCirc: 'cubic-bezier(0.075, 0.82, 0.165, 1)',\n    easeInOutCirc: 'cubic-bezier(0.785, 0.135, 0.15, 0.86)',\n\n    // Back\n    easeInBack: 'cubic-bezier(0.6, -0.28, 0.735, 0.045)',\n    easeOutBack: 'cubic-bezier(0.175, 0.885, 0.32, 1.275)',\n    easeInOutBack: 'cubic-bezier(0.68, -0.55, 0.265, 1.55)',\n};\n\n/**\n * Array of HTML events\n *\n * @var {array}\n */\nconst DOC_EVENTS = Object.getOwnPropertyNames(document).concat(Object.getOwnPropertyNames(Object.getPrototypeOf(Object.getPrototypeOf(document)))).concat(Object.getOwnPropertyNames(Object.getPrototypeOf(window))).filter(function(i){return !i.indexOf('on')&&(document[i]==null||typeof document[i]=='function');}).filter(function(elem, pos, self){return self.indexOf(elem) == pos;}).map((x) => x.replace('on', '').toLowerCase());\n/**\n * Boolean attributes\n *\n * @var {array}\n */\nconst BOOLEAN_ATTRS = \n[\n\t'allowfullscreen',\n\t'async',\n\t'autofocus',\n\t'autoplay',\n\t'checked',\n\t'controls',\n\t'default',\n\t'defer',\n\t'disabled',\n\t'formnovalidate',\n\t'inert',\n\t'ismap',\n\t'itemscope',\n\t'loop',\n\t'multiple',\n\t'muted',\n\t'nomodule',\n\t'novalidate',\n\t'open',\n\t'playsinline',\n\t'readonly',\n\t'required',\n\t'reversed',\n\t'selected'\n];\n\n/**\n * Property attributes\n *\n * @var {array}\n */\nconst PROP_ATTRIBUTES = ['href', 'list', 'form', 'tabIndex', 'download'];\n\n(function()\n{\n    var _THIS = null;\n\n    const _ = function()\n    {\n        this.version = \"1.0.0\";\n\n        this.author = \"Joe Howard\";\n\n        this.browser = false;\n\n        this._events = {};\n\n        this._guid = 1;\n\n        _THIS = this;\n    }\n\n    _.prototype._guidgen = function()\n    {\n        return `__${this._guid++}`;\n    }\nconst AnimateJS = function(DOMElement, options)\n{\n    this.DOMElement = DOMElement;\n\n    this.options = options;\n\n    this.keyframes = [];\n\n    this.currentKeyframe = 0;\n\n    this.duration = options.duration;\n\n    this.intervalDelay = Math.floor(1000 / options.fps);\n\n    this.keyFrameCount = Math.floor(this.duration / this.intervalDelay) + 1;\n\n    this.easing = options.easing;\n\n    this.CSSProperty = options.property;\n\n    this.isTransform = this.CSSProperty.toLowerCase().includes('transform');\n\n    this.isScroll = this.CSSProperty.toLowerCase().replace('-', '') === 'scrollto' && DOMElement === window;\n\n    this.isColor = options.property.includes('color') || options.to.startsWith('#') || options.to.startsWith('rgb');\n\n    this.clearAnimating(DOMElement);\n\n    this.parseOptions();\n\n    this.generateKeyframes();\n\n    this.stopped = true;\n\n    return this;\n}\n\nAnimateJS.prototype.clearAnimating = function(DOMElement)\n{\n    const CSSprop = this.CSSProperty;\n\n    _THIS.each(ANIMATING, function(i, animation)\n    {\n        if (animation.CSSProperty === CSSprop && animation.DOMElement === DOMElement)\n        {\n            animation.stop();\n\n            ANIMATING.splice(i, 1);\n\n            return false;\n        }\n    });\n}\n\nAnimateJS.prototype.start = function()\n{\n    if (this.keyFrameCount === 0) return;\n\n    this.stopped = false;\n\n    if (!this.isScroll) this.clearTransitions();\n\n    if (this.options.start) this.options.start(this.DOMElement);\n\n    const loop = () =>\n    {        \n        if (this.stopped) return;\n\n        this._applyKeyframe(this.keyframes.shift());\n\n        if (this.keyframes.length === 0)\n        {            \n            this._complete();\n\n            return;\n        }\n\n        setTimeout(loop, this.intervalDelay);\n    }\n\n    loop();\n\n    this._failTimer = setTimeout(() =>\n    {            \n        if (this.options.fail) this.options.fail(this.DOMElement);\n\n    }, this.duration + 50 );\n\n    ANIMATING.push(this);\n\n    return this;\n}\n\nAnimateJS.prototype._applyKeyframe = function(keyframe)\n{\n    if (!keyframe) return;\n\n    let prop = Object.keys(keyframe)[0];\n\n    this.isScroll ? window.scrollTo(keyframe[0], keyframe[1]) : _THIS.css(this.DOMElement, prop, keyframe[prop]);\n}\n\nAnimateJS.prototype._complete = function()\n{\n    clearTimeout(this._failTimer);\n\n    _THIS.each(ANIMATING, (i, animation) =>\n    {\n        if (animation === this)\n        {\n            ANIMATING.splice(i, 1);\n\n            return false;\n        }\n    });\n\n    let DOMElement = this.DOMElement;\n\n    if (this.options.complete) this.options.complete(DOMElement);\n\n    if (this.options.callback) this.options.callback(DOMElement);\n\n    if (!this.isScroll) _THIS.css(DOMElement, 'transition', this._pre_transition );\n}\n\nAnimateJS.prototype.stop = function()\n{\n    this.stopped = true;\n\n    clearTimeout(this._failTimer);\n\n    return this;\n}\n\nAnimateJS.prototype.parseOptions = function()\n{\n    if (this.isScroll)\n    {\n        this.parseScrollOptions();\n    }\n    else if (this.isTransform)\n    {\n        this.parseTransformOptions();\n    }\n    else if (this.isColor)\n    {\n        this.parseColorOptions();\n    }\n    else\n    {\n        this.parseDefaultOptions();\n    }\n}\n\nAnimateJS.prototype.parseScrollOptions = function()\n{\n    if (!this.options.to.includes(','))\n    {\n        throw new Error('Invalid scroll value. Animating scroll should be provided as [Y, X].');\n    }\n\n    // We ignore 'from'\n    let startY = window.scrollY;\n    let startX = window.scrollX;\n    let endX   = parseInt(this.options.to.split(',').shift().trim());\n    let endY   = parseInt(this.options.to.split(',').pop().trim());\n    let distX  = Math.abs(endX < startX ? (startX - endX) : (endX - startX))\n    let distY  = Math.abs(endY < startY ? (startY - endY) : (endY - startY))\n\n    this.startValue    = [startX, startY];\n    this.endValue      = [endX, endY];\n    this.backAnimation = [endX < startX, endY < startY];\n    this.distance      = [distX, distY] ;\n    this.CSSunits      = '';\n}\n\nAnimateJS.prototype.parseDefaultOptions = function()\n{\n    var startVal = _THIS.is_undefined(this.options.from) ? _THIS.rendered_style(this.DOMElement, this.CSSProperty) : this.options.from;\n    var endVal   = this.options.to;\n\n    // We need to set the end value, then remove it and re-apply any inline styles if they\n    // existed\n    if (endVal === 'auto' || endVal === 'initial' || endVal === 'unset')\n    {\n        let prevStyle = _THIS.inline_style(this.DOMElement, this.CSSProperty);\n\n        _THIS.css(this.DOMElement, this.CSSProperty, endVal);\n        \n        endVal = _THIS.rendered_style(this.DOMElement, this.CSSProperty);\n        \n        _THIS.css(this.DOMElement, this.CSSProperty, prevStyle ? prevStyle : false);\n    }\n\n    // From auto\n    if (startVal === 'auto' || startVal === 'initial')\n    {\n        startVal = _THIS.rendered_style(this.DOMElement, this.CSSProperty);\n    }\n\n    var startUnit = _THIS.css_value_unit(startVal);\n    var endUnit   = _THIS.css_value_unit(endVal);\n\n    if (startUnit !== endUnit && this.CSSProperty !== 'opacity')\n    {\n        if (startUnit !== 'px')\n        {\n            startVal  = _THIS.css_to_px(startVal + startUnit, this.DOMElement, this.CSSProperty);\n            startUnit = 'px';\n        }\n        if (endUnit !== 'px')\n        {\n            endVal  = _THIS.css_to_px(this.options.to, this.DOMElement, this.CSSProperty);\n            endUnit = 'px';\n        }\n    }\n\n    startVal = _THIS.css_unit_value(startVal);\n    endVal   = _THIS.css_unit_value(endVal);\n\n    this.startValue    = _THIS.css_unit_value(startVal);\n    this.endValue      = _THIS.css_unit_value(endVal);\n    this.backAnimation = endVal < startVal;\n    this.distance      = Math.abs(endVal < startVal ? (startVal - endVal) : (endVal - startVal));\n    this.CSSunits      = endUnit;\n}\n\nAnimateJS.prototype.parseTransformOptions = function()\n{\n    var DOMElement    = this.DOMElement;\n    var startValues   = _THIS.css_transform_props(DOMElement, false);\n    var endValues     = _THIS.css_transform_props(this.options.to, false);\n\n    // If a start value was specified it gets overwritten as the transform\n    // property is singular\n    if (this.options.from)\n    {\n        startValues = _THIS.css_transform_props(this.options.from);\n    }\n\n    this.CSSProperty    = [];\n    this.startValue     = [];\n    this.endValue       = [];\n    this.CSSunits       = [];\n    this.backAnimation  = [];\n    this.distance       = [];\n    this.baseTransforms = _THIS.is_empty(startValues) ? '' : _THIS.join_obj(_THIS.map(startValues, (prop, val) => !endValues[prop] ? val : false), '(', ') ', false, false);\n\n    _THIS.each(endValues, function(propAxis, valueStr)\n    {\n        var startValStr        = !startValues[propAxis] ? (propAxis.includes('scale') ? '1' : '0') : startValues[propAxis];\n        var startVal           = _THIS.css_unit_value(startValStr);\n        var endVal             = _THIS.css_unit_value(valueStr);\n        var startUnit          = _THIS.css_value_unit(startValStr);\n        var endUnit            = _THIS.css_value_unit(valueStr);\n        var CSSpropertyUnits   = endUnit;\n\n        if (startUnit !== endUnit)\n        {\n            // 0 no need to convert\n            if (_THIS.is_empty(startUnit))\n            {\n                startUnit = endUnit;\n            }\n            else\n            {\n                if (startUnit !== 'px') startVal = _THIS.css_to_px(startVal + startUnit, DOMElement, propAxis.includes('Y') ? 'height' : 'width');\n                if (endUnit !== 'px') endVal = _THIS.css_to_px(endVal + endUnit, DOMElement, propAxis.includes('Y') ? 'height' : 'width');\n                CSSpropertyUnits = 'px';\n            }\n        }\n\n        this.CSSProperty.push(propAxis);\n        this.CSSunits.push(endUnit);\n        this.endValue.push(endVal);\n        this.startValue.push(startVal);\n        this.backAnimation.push(endVal < startVal);\n        this.distance.push(Math.abs(endVal < startVal ? (startVal - endVal) : (endVal - startVal)));\n\n    }, this);\n}\n\nAnimateJS.prototype.parseColorOptions = function()\n{\n    this.startValue = this.sanitizeColor(this.options.from || _THIS.rendered_style(this.DOMElement, this.CSSProperty));\n    this.endValue   = this.sanitizeColor(this.options.to);\n}\n\n/**\n * Sanitize the start and end colors to RGB arrays.\n * \n * @param  {string} color  hex or rgb color as as string\n * @return {array}\n */\nAnimateJS.prototype.sanitizeColor = function(color)\n{\n    if (color.startsWith('rgb('))\n    {\n        return color.split(' ', 3).map((x) => parseInt(x.replaceAll(/[^\\d+]/g, '')));\n    }\n    else if (color.length === 7 )\n    {\n        let rgb = [];\n\n        color.match(/#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})/i).forEach((item) =>\n        {\n            if (item.length === 2)\n            {\n                const color = parseInt(item, 16);\n\n                rgb.push(color);\n            }\n        });\n\n        return rgb;\n    }\n}\n\nAnimateJS.prototype.generateKeyframes = function()\n{    \n    if (_THIS.is_equal(this.startValue, this.endValue))\n    {\n        this.keyFrameCount = 0;\n\n        return;\n    }\n\n    if (this.isScroll)\n    {\n        _THIS.for(this.keyFrameCount, function(index)\n        {\n            let x = this.generateKeyframe(index, 0);\n            let y = this.generateKeyframe(index, 1);\n\n            this.keyframes.push([x, y]);\n                            \n        }, this);\n\n        // Fallback\n        this.keyframes.push([this.endValue[0], this.endValue[1]]);\n\n        return;\n    }\n\n    if (this.isTransform)\n    {\n        _THIS.for(this.endValue, function(transformIndex)\n        {\n            _THIS.for(this.keyFrameCount, function(index)\n            {\n                this.keyframes.push(this.generateKeyframe(index, transformIndex));\n                \n            }, this);\n            \n        }, this);\n\n        return;\n    }\n\n    _THIS.for(this.keyFrameCount, function(index)\n    {\n        this.keyframes.push(this.generateKeyframe(index));\n        \n    }, this);\n\n    // Failsafe\n    if (this.keyframes[this.keyFrameCount -1][this.CSSProperty] !== `${this.endValue}${this.CSSunits}`)\n    {\n        this.keyframes.push({[this.CSSProperty]: `${this.endValue}${this.CSSunits}`});\n    }\n}\n\nAnimateJS.prototype.generateKeyframe = function(index, transformIndex)\n{\n    if (this.isColor)\n    {\n        const change = this.tween(this.easing, (index / this.keyFrameCount));\n        \n        return { [this.CSSProperty]: this.mixColors(this.startValue, this.endValue, change) };\n    }\n    \n    const backAnimation = this.isTransform || this.isScroll ? this.backAnimation[transformIndex] : this.backAnimation;\n\n    const startValue = this.isTransform || this.isScroll ? this.startValue[transformIndex] : this.startValue;\n\n    const distance = this.isTransform || this.isScroll ? this.distance[transformIndex] : this.distance;\n\n    const change = (distance * this.tween(this.easing, (index / this.keyFrameCount)));\n\n    const keyVal = this.roundNumber(backAnimation ? startValue - change : startValue + change, this.CSSProperty === 'opacity' ? 5 : 1);\n\n    var property = this.isTransform ? 'transform' : this.CSSProperty;\n\n    var prefix  = this.isTransform ? `${this.CSSProperty[transformIndex]}(` : '';\n\n    var suffix  = this.isTransform ? `${this.CSSunits[transformIndex]})` : this.CSSunits;\n    \n    var keyframe = { [property]:  `${prefix}${keyVal}${suffix}` };\n    \n    if (this.isScroll)\n    {\n        return keyVal;\n    }\n\n    if (this.isTransform && _THIS.is_undefined(this.keyframes[index]))\n    {\n        keyframe[property] = `${this.baseTransforms} ${keyframe[property]}`.trim();\n    }\n\n    return keyframe;\n}\n\n/**\n * Mix 2 colors.\n * \n * @param  {array}  color1 RGB color array\n * @param  {array}  color2 RGB color array\n * @param  {number} blend % between 0 and 1\n * @return {string} \n */\nAnimateJS.prototype.mixColors = function(color1RGB, color2RGB, blend)\n{\n    function linearInterpolation(y1, y2, x)\n    {\n        return Math.round(x * (y2 - y1) + y1);\n    }\n    \n    const colorRGB  = [];\n\n    color1RGB.forEach((c1, index) =>\n    {\n        const mixedColor = linearInterpolation(c1, color2RGB[index], blend);\n\n        colorRGB.push(mixedColor);\n    });\n\n    return 'rgb(' + colorRGB + ')';\n}\n\n/**\n * Calculate the easing pattern.\n * \n * @private\n * @link    {https://gist.github.com/gre/1650294}\n * @param   {String} type Easing pattern\n * @param   {Number} time Time animation should take to complete\n * @returns {Number}\n */\nAnimateJS.prototype.clearTransitions = function()\n{        \n    var CSSProperty    = this.isTransform ? 'transform' : this.CSSProperty;\n    var transitions    = _THIS.css_transition_props(this.DOMElement);\n    var css_transition = _THIS.inline_style(this.DOMElement, 'transition'); \n\n    if (_THIS.is_empty(transitions) || !transitions[CSSProperty]) return;\n\n    transitions[CSSProperty] = '0s linear 0s';\n\n    _THIS.css(this.DOMElement, 'transition', _THIS.join_obj(transitions, ' ', ', '));\n\n    this._pre_transition = !css_transition ? false : css_transition;\n}\n\nAnimateJS.prototype.roundNumber = (n, dp) => \n{\n    const h = +('1'.padEnd(dp + 1, '0')) // 10 or 100 or 1000 or etc\n\n    return Math.round(n * h) / h;\n}\n\n/**\n * Calculate the easing pattern.\n * \n * @private\n * @link    {https://gist.github.com/gre/1650294}\n * @param   {String} type Easing pattern\n * @param   {Number} time Time animation should take to complete\n * @returns {Number}\n */\nAnimateJS.prototype.tween = function(type, time)\n{\n    return ANIMATION_EASING_FUNCTIONS[type].call(null, time) || time;\n}\n\n_.prototype.__animate_js = function(DOMElement, options)\n{\n    return (new AnimateJS(DOMElement, options)).start();\n}\nconst AnimateCss = function(DOMElement, options)\n{     \n    // Domeleement   \n    this.DOMElement = DOMElement;\n\n    // Options\n    this.options = options;\n\n    // Props to animate\n    this.animatedProps = {};\n\n    // Pre animation transitions to restore\n    this.preAnimatedTransitions = {};\n\n    // Cache stopvalues\n    this.stopValues = {};\n\n    // Fail timer\n    this._failTimer = null;\n    \n    // Max duration\n    this.duration  = 0;\n    \n    // Callbacks\n    this._callbackStart    = () => {};\n    this._callbackComplete = () => {};\n    this._callbackFail     = () => {};\n    this._callbackStep     = () => {};\n\n    this.preProcessStartEndValues();\n\n    return this;\n};\n\n/**\n * Start animation.\n *\n */\nAnimateCss.prototype.start = function()\n{\n    this._callbackStart(this.DOMElement);\n\n    this.applyStartValues();\n\n    this.applyTransitions();\n\n    _THIS.on(this.DOMElement, 'transitionend', this.transitionEnd, this);\n\n    let _this = this;\n\n    this._failTimer = setTimeout(() =>\n    {\n        _this._callbackFail(_this.DOMElement);\n\n        _this.stop();\n\n    }, this.duration + 50 );\n\n    this._stepTimer = setInterval(() => this._callbackStep(), 16);\n\n    this.applyEndValues();\n\n    return this;\n}\n\n/**\n * Stop animation.\n *\n */\nAnimateCss.prototype.stop = function()\n{\n    clearTimeout(this._failTimer);\n\n    clearInterval(this._stepTimer);\n\n    this.resotoreElement();\n\n    _THIS.css(this.DOMElement, this.stopValues);\n}\n\n/**\n * Stop animation and destroy.\n *\n */\nAnimateCss.prototype.destory = function()\n{\n    this.stop();\n\n    this.animatedProps = {};\n\n    this.preAnimatedTransitions = {};\n}\n\n/**\n * On transition end.\n * \n * Note if a multiple animation properties wer supplied\n * we only want to call the callback once when all transitions\n * have completed.\n *\n * @param  {Event} e transitionEnd event\n */\nAnimateCss.prototype.resotoreElement = function()\n{\n    _THIS.css(this.DOMElement, 'transition', this.preAnimatedTransitions);\n\n    _THIS.off(this.DOMElement, 'transitionend', this.transitionEnd, this);\n}\n\n/**\n * On transition end.\n * \n * Note if a multiple animation properties wer supplied\n * we only want to call the callback once when all transitions\n * have completed.\n *\n * @param  {Event} e transitionEnd event\n */\nAnimateCss.prototype.transitionEnd = function(e)\n{\n    e = e || window.event;\n\n    let prop = _THIS.css_prop_to_hyphen_case(e.propertyName);\n\n    // Convert to shorthand if needed\n    if (prop.includes('-'))\n    {\n        let shorthand = prop.split('-').shift();\n\n        if (this.animatedProps[shorthand]) prop = shorthand;\n    }\n\n    let endVal = this.animatedProps[prop];\n\n    // Change inline style back to auto\n    if (endVal === 'auto' || endVal === 'initial' || endVal === 'unset') _THIS.css(this.DOMElement, prop, endVal);\n\n    delete this.animatedProps[prop];\n    \n    if (_THIS.is_empty(this.animatedProps))\n    {        \n        clearTimeout(this._failTimer);\n\n        clearInterval(this._stepTimer);\n\n        this.resotoreElement();\n\n        this._callbackComplete(this.DOMElement);\n    }\n}\n\n/**\n * Checks for \"auto\" transtions.\n * \n */\nAnimateCss.prototype.preProcessStartEndValues = function()\n{\n    var DOMElement = this.DOMElement;\n    \n    // We need to set the end value explicitly as these values will not\n    // transition with CSS\n    _THIS.each(this.options, function(i, option)\n    {\n        // Cache start and fail callbacks\n        if (option.start) this._callbackStart = option.start;\n        if (option.fail) this._callbackFail = option.fail;\n        if (option.step) this._callbackStep = option.step;\n\n        // Keep the longest callback\n        if (option.duration >= this.duration && (option.callback || option.complete))\n        {\n            this._callbackComplete = (option.callback || option.complete);\n        }\n\n        // Store the maximum duration\n        if (option.duration >= this.duration) this.duration = option.duration;\n\n        let startValue  = option.from;\n        let endValue    = option.to;\n        let CSSProperty = option.property;\n        \n        if (startValue === 'auto' || startValue === 'initial' || startValue === 'unset' || !startValue)\n        {\n            option.from = _THIS.rendered_style(DOMElement, CSSProperty);\n        }\n\n        if (endValue === 'auto' || endValue === 'initial' || endValue === 'unset')\n        {\n            let inlineStyle = _THIS.inline_style(DOMElement, CSSProperty);\n\n            _THIS.css(DOMElement, CSSProperty, endValue);\n\n            option.to = _THIS.rendered_style(DOMElement, CSSProperty);\n\n            _THIS.css(DOMElement, CSSProperty, inlineStyle ? inlineStyle : false);\n        }\n\n        this.animatedProps[CSSProperty] = endValue;\n\n        this.stopValues[CSSProperty] = _THIS.inline_style(DOMElement, CSSProperty) || false;\n\n    }, this);\n}\n\n/**\n * Apply start values.\n * \n */\nAnimateCss.prototype.applyStartValues = function()\n{\n    var styles = {};\n\n    _THIS.each(this.options, function(i, option)\n    {\n        styles[option.property] = option.from;\n    });\n\n    if (!_THIS.is_empty(styles)) _THIS.css(this.DOMElement, styles);\n}\n\n/**\n * Apply animation transitions.\n * \n */\nAnimateCss.prototype.applyTransitions = function()\n{\n    let transitions = _THIS.css_transition_props(this.DOMElement);\n\n    this.preAnimatedTransitions  = _THIS.inline_style(this.DOMElement, 'transition') || false;\n\n    _THIS.each(this.options, function(i, option)\n    {\n        // Setup and convert duration from MS to seconds\n        let property = option.property;\n        let duration = (option.duration / 1000);\n        let easing   = CSS_EASINGS[option.easing] || 'ease';\n\n        // Set the transition for the property\n        // in our merged obj\n        transitions[property] = `${duration}s ${easing}`;\n\n    }, this);\n\n    _THIS.css(this.DOMElement, 'transition', _THIS.join_obj(transitions, ' ', ', '));\n}\n\n/**\n * Apply animation end values.\n * \n */\nAnimateCss.prototype.applyEndValues = function()\n{\n    let styles = {};\n\n    _THIS.each(this.options, function(i, option)\n    {\n        styles[option.property] = option.to;\n\n    }, this);\n\n    _THIS.css(this.DOMElement, styles);\n}\n\n/**\n * CSS Animation.\n *\n * @access {private}\n * @param  {DOMElement}     DOMElement          Target DOM node\n * @param  {object}   options             Options object\n * @param  {string}   options.property    CSS property\n * @param  {mixed}    options.from        Start value\n * @param  {mixed}    options.to          Ending value\n * @param  {int}      options.duration    Animation duration in MS\n * @param  {string}   options.easing      Easing function in camelCase\n * @param  {function} options.callback    Callback to apply when animation ends (optional)\n * Options can be provided three ways:\n * \n * 1. Flat object with single property\n *      animate(el, { height: '500px', easing 'easeOut' })\n * \n * 2. Flat Object with multiple properties \n *      Note this way you can only animate from the existing rendered element style (you cannot provide a 'from' value)\n *      animate(el, { height: '500px', width: '500px', easing 'easeOut' })\n * \n * 3. Multi object with different options per property\n *      animate(el, { height:{ from: '100px', to: '500px', easing: 'easeInOutElastic'}, opacity:{ to: 0, easing: 'linear'} } );\n * \n */\n_.prototype.__animate_css = function(DOMElement, options)\n{    \n    return new AnimateCss(DOMElement, options).start();\n}\n\n/**\n * Animate JS\n *\n * @access {public}\n * @param  {DOMElement} DOMElement                  Target DOM node\n * @param  {object}     options             Options object\n * @param  {string}     options.property    CSS property\n * @param  {mixed}      options.from        Start value\n * @param  {mixed}      options.to          Ending value\n * @param  {int}        options.duration    Animation duration in MS\n * @param  {string}     options.easing      Easing function in camelCase\n * @param  {function}   options.callback    Callback to apply when animation ends (optional)\n * @return {array}\n * Options can be provided three ways:\n * \n * 1. Flat object with single property\n *      animate(el, { height: '500px', easing 'easeOut' })\n * \n * 2. Flat Object with multiple properties \n *      Note this way you can only animate from the existing rendered element style (you cannot provide a 'from' value)\n *      animate(el, { height: '500px', width: '500px', easing 'easeOut' })\n * \n * 3. Multi object with different options per property\n *      animate(el, { height:{ from: '100px', to: '500px', easing: 'easeInOutElastic'}, opacity:{ to: 0, easing: 'linear'} } );\n * \n */\n_.prototype.animate = function(DOMElement, options)\n{    \n    const animationSet = [];\n\n    const Animation = function()\n    {\n        return this;\n    };\n\n    Animation.prototype.start = function()\n    {\n        for (var i = 0; i < animationSet.length; i++)\n        {\n            animationSet[i].start();\n        }\n    };\n\n    Animation.prototype.stop = function()\n    {\n        for (var i = 0; i < animationSet.length; i++)\n        {\n            animationSet[i].stop(true);\n        }\n    };\n\n    Animation.prototype.destory = function()\n    {\n        for (var i = 0; i < animationSet.length; i++)\n        {\n            animationSet[i].destory();\n        }\n\n        animationSet = [];\n    };\n\n    const factoryOptions = !options.FROM_FACTORY ? this.__animation_factory(DOMElement, options) : options;\n\n    const AnimationInstance = new Animation;\n\n    this.each(factoryOptions, function(i, opts)\n    {\n        animationSet.push(this.__animate_js(DOMElement, opts));\n\n    }, this);\n\n    return AnimationInstance;\n}\n\n/**\n * Animate CSS\n *\n * @access {public}\n * @param  {DOMElement} DOMElement                  Target DOM node\n * @param  {object}     options             Options object\n * @param  {string}     options.property    CSS property\n * @param  {mixed}      options.from        Start value\n * @param  {mixed}      options.to          Ending value\n * @param  {int}        options.duration    Animation duration in MS\n * @param  {string}     options.easing      Easing function in camelCase\n * @param  {function}   options.callback    Callback to apply when animation ends (optional)\n * @return {array}\n * Options can be provided three ways:\n * \n * 1. Flat object with single property\n *      animate(el, { height: '500px', easing 'easeOut' })\n * \n * 2. Flat Object with multiple properties \n *      Note this way you can only animate from the existing rendered element style (you cannot provide a 'from' value)\n *      animate(el, { height: '500px', width: '500px', easing 'easeOut' })\n * \n * 3. Multi object with different options per property\n *      animate(el, { height:{ from: '100px', to: '500px', easing: 'easeInOutElastic'}, opacity:{ to: 0, easing: 'linear'} } );\n * \n */\n_.prototype.animate_css = function(DOMElement, options)\n{\n    let cssAnimation;\n\n    const Animation = function()\n    {\n        return this;\n    };\n\n    Animation.prototype.start = function()\n    {\n        cssAnimation.start();\n    };\n\n    Animation.prototype.stop = function()\n    {\n        cssAnimation.stop(true);\n    };\n\n    Animation.prototype.destory = function()\n    {\n        cssAnimation.destory(true);\n    };\n\n    const factoryOptions = !options.FROM_FACTORY ? this.__animation_factory(DOMElement, options) : options;\n\n    cssAnimation = this.__animate_css(DOMElement, factoryOptions);\n    \n    return new Animation;\n}\n\n/**\n * Animation factory.\n *\n * @access {private}\n * @param  {DOMElement} DOMElement                  Target DOM node\n * @param  {object}     options             Options object\n * @param  {string}     options.property    CSS property\n * @param  {mixed}      options.from        Start value\n * @param  {mixed}      options.to          Ending value\n * @param  {int}        options.duration    Animation duration in MS\n * @param  {string}     options.easing      Easing function in camelCase\n * @param  {function}   options.callback    Callback to apply when animation ends (optional)\n * @return {array}\n * Options can be provided three ways:\n * \n * 1. Flat object with single property\n *      animate(el, { height: '500px', easing 'easeOut' })\n * \n * 2. Flat Object with multiple properties \n *      Note this way you can only animate from the existing rendered element style (you cannot provide a 'from' value)\n *      animate(el, { height: '500px', width: '500px', easing 'easeOut' })\n * \n * 3. Multi object with different options per property\n *      animate(el, { height:{ from: '100px', to: '500px', easing: 'easeInOutElastic'}, opacity:{ to: 0, easing: 'linear'} } );\n * \n */\n_.prototype.__animation_factory = function(DOMElement, opts)\n{\n    var optionSets = [];\n\n    this.each(opts, function(key, val)\n    {\n        // animation_factory('foo', { property : 'left', from : '-300px', to: '0',  easing: 'easeInOutElastic', duration: 3000} );\n        if (key === 'property')\n        {\n            var options = { ...ANIMATION_DEFAULT_OPTIONS, ...opts};\n\n            options.FROM_FACTORY = true;\n            options.property     = this.css_prop_to_hyphen_case(val);\n            options.el           = DOMElement;\n            optionSets.push(options);\n\n            // break\n            return false;\n        }\n        else if (!this.in_array(key, ANIMATION_ALLOWED_OPTIONS))\n        {\n            // Only worth adding if the property is valid\n            var camelProp = this.css_prop_to_camel_case(key);\n            \n            if (!this.is_undefined(document.body.style[camelProp]))\n            {\n                var isObjSet = this.is_object(val);\n                var toMerge  = isObjSet ? val : opts;\n                var options  = { ...ANIMATION_DEFAULT_OPTIONS, ...toMerge};\n                \n                // animation_factory('foo', { height: '100px', opacity: 0 } );\n                if (!isObjSet)\n                {\n                    options.to = val;\n                }\n\n                // animation_factory('foo', { height: { from: '100px', to: '500px', easing: 'easeInOutElastic'}, opacity:{ to: 0, easing: 'linear'} } );\n                options.FROM_FACTORY = true;\n                options.property     = this.css_prop_to_hyphen_case(key);\n                options.el           = DOMElement;\n                optionSets.push(options);\n            }\n        }\n    }, this);\n\n    // Santize callbacks\n    let longest  = 0;\n    let longestI = 0;\n    let start    = () => {};\n    let fail     = () => {};\n    let complete = () => {};\n    let step     = () => {};\n\n    this.each(optionSets, function(i, options)\n    {\n        if (options.start)\n        {\n            start = options.start;\n\n            delete options.start;\n        }\n\n        if (options.fail)\n        {\n            fail = options.fail;\n\n            delete options.fail;\n        }\n\n        if (options.step)\n        {\n            step = options.step;\n\n            delete options.step;\n        }\n\n        // Store the maximum duration\n        if (options.duration >= longest)\n        {\n            if ((options.callback || options.complete)) complete = (options.callback || options.complete);\n\n            delete options.callback;\n\n            delete options.complete;\n\n            longest = options.duration;\n\n            longestI = i;\n        }\n\n        // Not nessaray, but sanitize out redundant options\n        options = this.map(options, function(key, val)\n        {\n            return this.in_array(key, ANIMATION_FILTER_OPTIONS) ? val : false;\n\n        }, this);\n\n        // Sanitize to/from to strings\n        if (this.array_has('to', options)) options.to = options.to + '';\n        if (this.array_has('from', options)) options.from = options.from + '';\n\n        if (!ANIMATION_EASING_FUNCTIONS[options.easing]) options.easing = 'ease';\n\n        options.FROM_FACTORY = true;\n\n        optionSets[i] = options;\n\n    }, this);\n\n    if (this.is_empty(optionSets))\n    {\n        console.error('Animation Error: Either no CSS property(s) was provided or the provided property(s) is unsupported.');\n    }\n\n    optionSets[longestI].fail     = fail;\n    optionSets[longestI].start    = start;\n    optionSets[longestI].complete = complete;\n    optionSets[longestI].step     = step;\n\n    return optionSets;\n}\n/**\n * Recursively delete from array/object.\n *\n * @param   {array}        keys    Keys in search order\n * @param   {object|array} object  Object to get from\n * @returns {mixed}\n */\n_.prototype.__array_delete_recursive = function(keys, object)\n{\n    var key = keys.shift();\n\n    var islast = keys.length === 0;\n\n    if (islast)\n    {\n        if (TO_STR.call(object) === '[object Array]')\n        {\n            object.splice(key, 1);\n        }\n        else\n        {\n            delete object[key];\n        }\n    }\n\n    if (!object[key])\n    {\n        return false;\n    }\n\n    return this.__array_delete_recursive(keys, object[key]);\n}\n\n/**\n * Recursively search from array/object.\n *\n * @param   {array}        keys    Keys in search order\n * @param   {object|array} object  Object to get from\n * @returns {mixed}\n */\n_.prototype.__array_get_recursive = function(keys, object)\n{\n    var key = keys.shift();\n    var islast = keys.length === 0;\n\n    if (islast)\n    {\n        return object[key];\n    }\n\n    if (!object[key])\n    {\n        return undefined;\n    }\n\n    return this.__array_get_recursive(keys, object[key]);\n}\n\n/**\n * Recursively set array/object.\n *\n * @param {array}          keys     Keys in search order\n * @param {mixed}          value    Value to set\n * @param {object|array}   object   Object to get from\n * @param {string|number}  nextKey  Next key to set\n */\n_.prototype.__array_set_recursive = function(keys, value, object, nextKey)\n{\n    var key = keys.shift();\n    var islast = keys.length === 0;\n    var lastObj = object;\n    object = !nextKey ? object : object[nextKey];\n\n    // Trying to set a value on nested array that doesn't exist\n    if (!['object', 'function'].includes(typeof object))\n    {\n        throw new Error('Invalid dot notation. Cannot set key \"' + key + '\" on \"' + JSON.stringify(lastObj) + '[' + nextKey + ']\"');\n    }\n\n    if (!object[key])\n    {\n        // Trying to put object key into an array\n        if (TO_STR.call(object) === '[object Array]' && typeof key === 'string')\n        {\n            var converted = Object.assign({}, object);\n\n            lastObj[nextKey] = converted;\n\n            object = converted;\n        }\n\n        if (keys[0] && typeof keys[0] === 'string')\n        {\n            object[key] = {};\n        }\n        else\n        {\n            object[key] = [];\n        }\n    }\n\n    if (islast)\n    {\n        object[key] = value;\n\n        return;\n    }\n\n    this.__array_set_recursive(keys, value, object, key);\n}\n\n/**\n * Segments an array/object path using from \"dot.notation\" into an array of keys in order.\n *\n * @param   {string}  path Path to parse\n * @returns {array}\n */\n_.prototype.__array_key_segment = function(path)\n{\n    var result = [];\n    var segments = path.split('.');\n\n    for (var i = 0; i < segments.length; i++)\n    {\n        var segment = segments[i];\n\n        if (!segment.includes('['))\n        {\n            result.push(segment);\n\n            continue;\n        }\n\n        var subSegments = segment.split('[');\n\n        for (var j = 0; j < subSegments.length; j++)\n        {\n            if (['0', '1', '2', '3', '4', '5', '6', '7', '8', '9'].includes(subSegments[j][0]))\n            {\n                result.push(parseInt(subSegments[j].replace(']')));\n            }\n            else if (subSegments[j] !== '')\n            {\n                result.push(subSegments[j])\n            }\n        }\n    }\n\n    return result;\n}\n\n/**\n * Recursively delete from array/object.\n *\n * @param   {array}        keys    Keys in search order\n * @param   {object|array} object  Object to get from\n * @returns {mixed}\n */\n_.prototype.__array_delete_recursive = function(keys, object)\n{\n    var key = keys.shift();\n\n    var islast = keys.length === 0;\n\n    if (islast)\n    {\n        if (TO_STR.call(object) === '[object Array]')\n        {\n            object.splice(key, 1);\n        }\n        else\n        {\n            delete object[key];\n        }\n    }\n\n    if (!object[key])\n    {\n        return false;\n    }\n\n    return this.__array_delete_recursive(keys, object[key]);\n}\n/**\n * Deletes from an array/object using dot/bracket notation.\n *\n * @param   {string}        path   Path to delete\n * @param   {object|array}  object Object to delete from\n * @returns {object|array}\n */\n_.prototype.array_delete = function(path, object)\n{\n    this.__array_delete_recursive(this.__array_key_segment(path), object);\n\n    return object;\n}\n/**\n * Filters empty array entries and returns new array\n *\n * @param   {object|array}  object Object to delete from\n * @returns {object|array}\n */\n_.prototype.array_filter = function(arr)\n{\n    let isArr = this.is_array(arr);\n\n    let ret = isArr ? [] : {};\n\n    this.each(arr, function(i, val)\n    {\n        if (!this.is_empty(val))\n        {\n            isArr ? ret.push(val) : ret[i] = val;\n        }\n        \n    }, this);\n\n    return ret;\n}\n/**\n * Gets an from an array/object using dot/bracket notation.\n *\n * @param   {string}        path    Path to get\n * @param   {object|array}  object  Object to get from\n * @returns {mixed}\n */\n_.prototype.array_get = function(path, object)\n{\n    return this.__array_get_recursive(this.__array_key_segment(path), object);\n}\n\n\n/**\n * Checks if array/object contains path using dot/bracket notation.\n *\n * e.g array_has('foo.bar.baz[0]', obj)\n * \n * @param   {string}        path   Path to check\n * @param   {object|array}  object Object to check on\n * @returns {boolean}\n */\n_.prototype.array_has = function(path, object)\n{\n    return !this.is_undefined(this.array_get(path, object));\n}\n/**\n * Set a key using dot/bracket notation on an object or array.\n *\n * @param   {string}       path   Path to set\n * @param   {mixed}        value  Value to set\n * @param   {object|array} object Object to set into\n * @returns {object|array}\n */\n_.prototype.array_set = function(path, value, object)\n{\n    this.__array_set_recursive(this.__array_key_segment(path), value, object);\n\n    return object;\n}\n/**\n * Removes duplicates and returns new array.\n *\n * @param   {array} arr Array to run\n * @returns {array}\n */\n_.prototype.array_unique = function(arr)\n{\n    return arr.filter((value, index, self) => self.indexOf(value) === index);\n}\n/**\n * Checks if element is last element in array or object.\n *\n * @access {public}\n * @param  {string} needle    The value to search for\n * @param  {array}  haystack  The target array to index\n * @param  {bool}   strict    Strict comparison (optional) (default false)\n * @return {bool}\n * \n */\n_.prototype.is_array_last = function(needle, haystack, strict)\n{\n    strict = this.is_undefined(strict) ? false : strict;\n\n    let last = TO_STR.call(haystack) === '[object Array]' ? haystack[haystack.length -1] : haystack[Object.keys(haystack).pop()];\n    \n    return this.is_equal(needle, last, strict);\n}\n/**\n * Foreach loop\n * \n * @access {public}\n * @param  {object}  obj       The target object to loop over\n * @param  {closure} callback  Callback to apply to each iteration\n * @param  {array}   args      Array of params to apply to callback (optional) (default null)\n */\n_.prototype.each = function(obj, callback)\n{\n    if (typeof obj !== 'object' || obj === null) return;\n\n    let isArray = TO_STR.call(obj) === '[object Array]';\n    let i       = 0;\n    let keys    = isArray ? null : Object.keys(obj);\n    let len     = isArray ? obj.length : keys.length;\n    let args    = TO_ARR.call(arguments).slice(2);\n    let ret     = isArray ? [] : {};\n    let key;\n    let val;\n    let clbkVal;\n\n    // Applies the value of \"this\" to the callback as the array or object provided\n    //var thisArg = typeof args !== 'undefined' && TO_STR.call(args) !== '[object Array]' ? args : obj;\n\n    // Applies this arg as first extra arg if provided\n    // otherwise falls back to the array or object provided\n    // Removes \"this\" from args to callback\n    var thisArg = this.is_empty(args) ? obj : args[0];\n    args        = !this.is_empty(args) ? args.slice(1) : null;\n    args        = this.is_empty(args) ? null : args;\n\n    if (TO_STR.call(args) === '[object Array]')\n    {\n        for (; i < len; i++)\n        {\n            key   = isArray ? i : keys[i];\n            val   = isArray ? obj[i] : obj[key];\n            clbkVal = callback.apply(thisArg, [...[key, val], ...args]);\n\n            if (clbkVal === false)\n            {\n                break;\n            }\n        }\n\n        // A special, fast, case for the most common use of each (no extra args provided)\n    }\n    else\n    {\n        for (; i < len; i++)\n        {\n            key   = isArray ? i : keys[i];\n            val   = isArray ? obj[i] : obj[key];\n            clbkVal = callback.call(thisArg, key, val);\n\n            if (clbkVal === false)\n            {\n                break;\n            }\n        }\n    }\n\n    return obj;\n}\n\n_.prototype.foreach = function()\n{\n    return this.each.apply(this, arguments);\n}\n\n/**\n * For loop with count\n * \n * @access {public}\n * @param  {object}  obj       The target object to loop over\n * @param  {closure} callback  Callback to apply to each iteration\n * @param  {array}   args      Array of params to apply to callback (optional) (default null)\n */\n_.prototype.for = function(count, callback)\n{\n    var args = TO_ARR.call(arguments);\n\n    args[0] = Array.from(Array(count).keys());\n\n    return this.each.apply(this, args);\n}\n\n\n/**\n * Checks if an array contains a value\n *\n * @access {public}\n * @param  {string} needle    The value to search for\n * @param  {array}  haystack  The target array to index\n * @param  {bool}   strict    Strict comparison (optional) (default false)\n * @return {bool}\n * \n */\n_.prototype.in_array = function(needle, haystack, strict)\n{\n    strict = this.is_undefined(strict) ? false : strict;\n    \n    if (!strict) \n    {\n        if (this.is_object(haystack))\n        {\n            let ret = false;\n\n            this.each(haystack, (k, v) =>\n            {\n                ret = v === needle;\n\n                if (ret) return false;\n            });\n\n            return ret;\n        }\n\n        return haystack.includes(needle);\n    }\n\n    let ret = false;\n\n    this.each(haystack, function(k, v)\n    {\n        ret = this.is_equal(needle, v, strict);\n\n        if (ret) return false;\n\n    }, this);\n\n    return ret;\n}\n/**\n * Map.\n *  \n * return undefined to break loop, true to keep, false to reject\n * \n * @param   {array|object}  obj\n * @param   {function}      callback\n * @param   {array|mixed}   args      If single arg provided gets apllied as this to callback, otherwise args apllied to callback\n * @returns {array|object}\n */\n_.prototype.map = function(obj, callback)\n{\n    if (typeof obj !== 'object' || obj === null) return;\n\n    let isArray = TO_STR.call(obj) === '[object Array]';\n    let i       = 0;\n    let keys    = isArray ? null : Object.keys(obj);\n    let len     = isArray ? obj.length : keys.length;\n    let args    = TO_ARR.call(arguments).slice(2);\n    let ret     = isArray ? [] : {};\n    let key;\n    let val;\n    let clbkVal;\n\n    // Applies the value of \"this\" to the callback as the array or object provided\n    //var thisArg = typeof args !== 'undefined' && TO_STR.call(args) !== '[object Array]' ? args : obj;\n\n    // Applies this arg as first extra arg if provided\n    // otherwise falls back to the array or object provided\n    // Removes \"this\" from args to callback\n    var thisArg = this.is_empty(args) ? obj : args[0];\n    args        = !this.is_empty(args) ? args.slice(1) : null;\n    args        = this.is_empty(args) ? null : args;\n\n    if (TO_STR.call(args) === '[object Array]')\n    {\n        for (; i < len; i++)\n        {\n            key   = isArray ? i : keys[i];\n            val   = isArray ? obj[i] : obj[key];\n            clbkVal = callback.apply(thisArg, [...[key, val], ...args]);\n\n            if (clbkVal === false)\n            {\n                continue;\n            }\n            else if (typeof clbkVal === 'undefined')\n            {\n                break;\n            }\n            else\n            {\n                isArray ? ret.push(clbkVal) : ret[key] = clbkVal;\n            }\n        }\n\n        // A special, fast, case for the most common use of each (no extra args provided)\n    }\n    else\n    {\n        for (; i < len; i++)\n        {\n            key   = isArray ? i : keys[i];\n            val   = isArray ? obj[i] : obj[key];\n            clbkVal = callback.call(thisArg, key, val);\n\n            if (clbkVal === false)\n            {\n                continue;\n            }\n            else if (typeof clbkVal === 'undefined')\n            {\n                break;\n            }\n            else\n            {\n                isArray ? ret.push(clbkVal) : ret[key] = clbkVal;\n            }\n        }\n    }\n\n    return ret;\n}\n/**\n * Set, get or remove DOM attribute.\n *\n * No third arg returns attribute value, third arg set to null or false removes attribute.\n * \n * @param {HTMLElement}  DOMElement  Dom node\n * @param {string}       name        Property name\n * @apram {mixed}        value       Property value\n */\n_.prototype.attr = function(DOMElement, name, value)\n{        \n    // Get attribute\n    // e.g attr(node, style)\n    if ((TO_ARR.call(arguments)).length === 2 && this.is_string(name))\n    {\n        return this.__get_attribute(DOMElement, name);\n    }\n\n    // attr(node, {foo : 'bar', baz: 'bar'})\n    if (this.is_object(name))\n    {\n        this.each(name, function(prop, value)\n        {\n            this.attr(DOMElement, prop, value);\n\n        }, this);\n\n        return;\n    }\n\n    // Set or remove attibute.\n    switch (name)\n    {\n        // innerHTML\n        case 'innerHTML':\n            DOMElement.innerHTML = !value ? '' : value;\n            break;\n\n        // innerText\n        case 'innerText':\n            DOMElement.innerText = !value ? '' : value;\n            break;\n\n        // Children\n        case 'children':\n\n            this.each(DOMElement.children, function(node)\n            {\n                this.remove_from_dom(node);\n            \n            }, this);\n\n            this.each(value, function(node)\n            {\n                DOMElement.appendChild(node);\n            });\n\n            break;\n\n        // Class\n        case 'class':\n        case 'className':\n\n            // Cleanup classname\n            value = this.is_string(value) ? this.replace(value, ['undefined', 'null', 'false', 'true'], '').replace(/\\s\\s+/g, ' ').trim() : value;\n\n            if (this.is_empty(value))\n            {\n                DOMElement.removeAttribute('class');\n            }\n            else\n            {\n                DOMElement.className = value;\n            }\n\n            break;\n\n        // Style\n        case 'style':\n\n            // remove all styles completely\n            if (this.is_empty(value))\n            {\n                DOMElement.removeAttribute('style');\n            }\n\n            DOMElement.style = '';\n\n            let style = this.is_string(value) ? this.css_to_object(value) : value;\n\n            this.each(style, (prop, value) => this.css(DOMElement, prop, value));\n           \n            break;\n\n        // Events / attributes\n        default:\n\n            // Events\n            if (name[0] === 'o' && name[1] === 'n')\n            {\n                var evt = name.slice(2).toLowerCase();\n\n                // Remove old listeners\n                this.off(DOMElement, evt);\n\n                // Add new listener if one provided\n                if (value)\n                {\n                    this.on(DOMElement, evt, value);\n                }\n            }\n            // All other node attributes\n            else\n            {\n                let isData     = name.startsWith('data');\n                let isAria     = name.startsWith('aria');\n                let camelName  = name.includes('-') ? this.to_camel_case(name) : name;\n                let hyphenName = name.includes('-') ? name : this.camel_case_to_hyphen(name);\n                let isEmpty    = this.is_empty(value);\n\n                // Special data\n                if (isData)\n                {\n                    if (isEmpty)\n                    {\n                        DOMElement.removeAttribute(hyphenName);\n\n                        delete DOMElement.dataset[this.lc_first(this.ltrim(camelName, 'data'))];\n                    }\n                    else\n                    {\n                        DOMElement.setAttribute(hyphenName, value);\n\n                        DOMElement.dataset[this.lc_first(this.ltrim(camelName, 'data'))] = value;\n                    }\n\n                    break;\n                }\n\n                // Special booleans\n                if (this.in_array(name, BOOLEAN_ATTRS))\n                {\n                    DOMElement[name] = isEmpty ? '' : value;\n\n                    if (isEmpty) DOMElement.removeAttribute(name);\n\n                    break;\n                }\n\n                if (!PROP_ATTRIBUTES.includes(camelName))\n                {\n                    try\n                    {                        \n                        DOMElement[camelName] = isEmpty ? '' : value;\n\n                    } catch (e) {}\n                }\n\n                if (isEmpty)\n                {\n                    DOMElement.removeAttribute(hyphenName);\n                }\n                else\n                {\n                    DOMElement.setAttribute(hyphenName, value);\n                }\n            }\n\n            break;\n    }\n}\n\n/**\n * Simple get html attribute.\n *\n * No third arg returns attribute value, third arg set to null or false removes attribute.\n * \n * @access {private}\n * @param  {HTMLElement}      DOMElement  Dom node\n * @param  {string}           name        Property name\n * @return {string|undefined}\n */\n_.prototype.__get_attribute = function(DOMElement, name)\n{\n    if (name.startsWith('data'))\n    {\n        name = name.startsWith('data-') ? this.to_camel_case(name.substring(5)) : name.substring(4);\n\n        return DOMElement.dataset[name];\n    }\n\n    // Special booleans\n    if (this.in_array(name, BOOLEAN_ATTRS))\n    {\n        if (DOMElement[name] === '' || DOMElement[name] === 'true' || DOMElement[name] === true) return true;\n\n        return DOMElement[name] === 'false' || !DOMElement[name] ? false : true;\n    }\n\n    let camelName  = name.includes('-') ? this.to_camel_case(name) : name;\n    let hyphenName = name.includes('-') ? name : this.camel_case_to_hyphen(name);\n    let retCamel   = DOMElement[camelName];\n    let retAttr    = DOMElement.getAttribute(hyphenName);\n\n    return retAttr === null || this.is_undefined(retAttr) ? retCamel : retAttr;\n}\n/**\n * Set, get or remove CSS value(s) on element.\n * \n * Note that this will only return inline styles, use 'rendered_style' for\n * currently displayed styles.\n *\n * @access {public}\n * @param  {DOMElement}   el     Target DOM node\n * @param  {string|object} Assoc array of property->value or string property\n * @example {Helper.css(node,} { display : 'none' });\n * @example {Helper.css(node,} 'display', 'none');\n */\n_.prototype.css = function(el, property, value)\n{\n    // If their is no value and property is an object\n    if (this.is_object(property))\n    {\n        this.each(property, function(prop, val)\n        {\n            this.css(el, prop, val);\n\n        }, this);\n    }\n    else\n    {\n        // Getting not settings\n        if (this.is_undefined(value))\n        {\n            return this.inline_style(el, property);\n        }\n        // Value is either null or false we remove\n        else if (this.is_null(value) || value === false)\n        {\n            if (el.style.removeProperty)\n            {\n                el.style.removeProperty(property);\n            }\n            else\n            {\n                el.style.removeAttribute(property);\n            }\n        }\n        else\n        {\n            if (value.includes('important') || property.startsWith('--'))\n            {\n                let styles = el.getAttribute('style');\n\n                if (styles && styles.includes(property))\n                {\n                    let re = new RegExp(`${property}\\s?:[^;]+;?`, 'g');\n\n                    styles = styles.replace(re, '').trim();\n                }\n                \n                styles = !styles ? `${property}:${value}` : `${this.rtrim(styles, ';')};${property}:${value}`;\n\n                el.setAttribute('style', styles);\n\n                return;\n            }\n            else\n            {\n                el.style[property] = value;    \n            }\n        }\n    }\n}\n/**\n * Converts CSS property to camel case.\n *\n * @access {public}\n * @param  {string} prop Property to convert\n * @retirm {string}\n */\n_.prototype.css_prop_to_camel_case = function(prop)\n{\n    if (!prop.includes('-')) return prop;\n\n    let camelProp = this.to_camel_case(prop);\n\n    if (this.in_array(prop, Object.keys(CSS_PROP_TO_CAMEL_CASES)))\n    {\n        return CSS_PROP_TO_CAMEL_CASES[prop];\n    }\n\n    // First char is always lowercase\n    let ret = camelProp.charAt(0).toLowerCase() + camelProp.slice(1);\n\n    CSS_PROP_TO_CAMEL_CASES[prop] = ret;\n\n    return ret;\n}\n/**\n * Converts CSS property to hyphen case.\n *\n * @access {public}\n * @param  {string} prop Property to convert\n * @retirm {string}\n */\n_.prototype.css_prop_to_hyphen_case = function(prop)\n{\n    if (!/[A-Z]/.test(prop)) return prop;\n    \n    if (this.in_array(prop, Object.keys(CSS_PROP_TO_HYPHEN_CASES)))\n    {\n        return CSS_PROP_TO_HYPHEN_CASES[prop];\n    }\n\n    var hyphenProp = this.camel_case_to_hyphen(prop);\n\n    if (hyphenProp.startsWith('webkit-') || hyphenProp.startsWith('moz-') || hyphenProp.startsWith('ms-') || hyphenProp.startsWith('o-'))\n    {\n        hyphenProp = '-' + hyphenProp;\n    }\n\n    CSS_PROP_TO_CAMEL_CASES[prop] = hyphenProp;\n\n    return hyphenProp;\n}\n/**\n * Expand shorthand property to longhand properties \n *\n * @access {private}\n * @param  {string}  CSS rules\n * @return {object}\n */\n_.prototype.css_to_longhand = function(css)\n{\n    var ret    = {};\n    var values = this.css_to_object(css);\n\n    this.each(values, function(prop, value)\n    {\n        if (SHORTHAND_PROPS.hasOwnProperty(prop))\n        {\n            var splits  = value.split(' ').map( (x) => x.trim());\n            var dfault  = prop === 'margin' || prop === 'padding' ? '0' : 'initial';\n\n            this.each(SHORTHAND_PROPS[prop], function(i, longhand)\n            {\n                // Object is setup so that if it starts with a '-'\n                // then it gets concatenated to the oridional prop\n                // e.g 'background' -> '-image'\n                longhand = longhand.startsWith('-') ? prop + longhand : longhand;\n\n                // otherwise it gets replaced\n                // e.g 'border-color' -> 'border-top-color', 'border-right-color'... etc\n                ret[longhand] = this.is_undefined(splits[i]) ? dfault : splits[i];\n\n            }, this);\n        }\n        else\n        {\n            ret[prop] = value;\n        }\n\n    }, this);\n\n    return ret;\n}\n/**\n * Concats longhand property to shorthand\n *\n * Note if values are not provide not all browsers will except initial\n * for all properties in shorthand syntax\n * \n * @access {private}\n * @param  {string}  CSS rules\n * @return {object}\n */\n_.prototype.css_to_shorthand = function(css)\n{\n    const needsFilling = ['margin', 'padding', 'transition', 'animation'];\n    var ret            = {};\n    var styles         = this.css_to_object(css);\n\n    // 'margin': ['-top', '-right', '-bottom', '-left'],\n    this.each(SHORTHAND_PROPS, function(property, longhands)\n    {\n        var value       = '';\n        var matched     = false;\n        var needsDefault = this.in_array(property, needsFilling) || property.includes('border');\n\n        this.each(longhands, function(i, longhand)\n        {\n            longhand = longhand.startsWith('-') ? property + longhand : longhand;\n\n            var suppliedVal = styles[longhand];\n\n            if (!this.is_undefined(suppliedVal))\n            {\n                matched = true;\n                // Colors get flatted\n                if (longhand.includes('-color'))\n                {\n                    value = suppliedVal;\n                }\n                else\n                {\n                    value += suppliedVal + ' ';\n                }\n            }\n            else if (needsDefault)\n            {\n                this.each(SHORTHAND_DEFAULTS, function(matcher, defaltVal)\n                {\n                    if (longhand.includes(matcher))\n                    {\n                        value += ` ${defaltVal} `;\n                    }\n                });\n            }\n            \n        }, this);\n\n        if (!this.is_empty(value) && matched) ret[property] = value.trim();\n        \n    }, this);\n\n    return ret;\n}\n/**\n * Converts string styles into an object\n *\n * @param  {string} styles CSS\n * @return {object}\n */\n_.prototype.css_to_object = function(styles)\n{\n    var ret = {};\n\n    const nested_regex = /([^\\{]+\\{)([\\s\\S]+?\\})(\\s*\\})/g;\n\n    const css_regex = /([^{]+\\s*\\{\\s*)([^}]+)(\\s*\\}\\s*)/g;\n\n    if (styles.includes('{'))\n    {\n        var nestedStyles = [...css.matchAll(nested_regex)];\n    }\n\n    this.each(styles.split(/;(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/g), function(i, rule)\n    {\n        var style = rule.split(':');\n\n        if (style.length >= 2)\n        {\n            var prop = style.shift().trim();\n            var val  = style.join(':').trim();\n\n            ret[prop] = val;\n        }\n    }, this);\n\n    return ret;\n}\n/**\n * Get CSS property.\n * \n * @param  {string} value CSS value (e.g \"12px\")\n * @return {Number}\n */\n_.prototype.css_unit_value = function(value)\n{\n    value = value + '';\n\n    if (this.is_numeric(value))\n    {\n        return parseFloat(value);\n    }\n\n    if (this.is_empty(value))\n    {\n        return 0;\n    }\n\n    return parseFloat(value.replaceAll(/[^0-9-.]/g, ''));\n}\n\n/**\n * Get CSS property unit.\n * \n * @param  {string} value CSS value (e.g \"12px\")\n * @return {string}\n */\n_.prototype.css_value_unit = function(value)\n{\n    value = value + '';\n\n    return value.split(/[0-9]/).pop().replaceAll(/[^a-z%]/g, '').trim();\n}\n\n/**\n * Converts CSS units to px.\n * \n * @param  {String}     value      CSS value (e.g \"12rem\")\n * @param  {DomElement} DOMElement CSS value (optional) (used to relative units)\n * @param  {String}     property   CSS property (optional) (used for % unit)\n * @return {Number}\n */\n_.prototype.css_to_px = function(valueStr, DOMElement, property)\n{\n    valueStr = valueStr + '';\n    \n    if (valueStr.includes('calc')) return valueStr;\n\n    var unit  = this.css_value_unit(valueStr);\n    var value = this.css_unit_value(valueStr);\n\n    if (valueStr.includes('px')) return value;\n\n    if (!this.is_undefined(CSS_ABSOLUTE_UNITS[unit]))\n    {\n        return (value * CSS_ABSOLUTE_UNITS[unit]);\n    }\n\n    if (!this.is_undefined(CSS_RELATIVE_UNITS[unit]))\n    {\n        if (unit === 'em' || unit === 'ex' || 'unit' === 'ch')\n        {\n            if (!DOMElement) return value * CSS_RELATIVE_UNITS[unit];\n            let psize = this.css_unit_value(this.rendered_style(DOMElement.parentNode, 'font-size'));\n            if (unit === 'em') return value * psize;\n            if (unit === 'ex') return value * (psize / 1.8);\n            if (unit === 'ch') return value * (psize / 2);\n            if (unit === '%')  return value * psize;\n        }\n        else if (unit === '%')\n        {\n            if (!DOMElement) return value * CSS_RELATIVE_UNITS[unit];\n            if (!property) property = 'height';\n            \n            let psize = this.css_unit_value(this.rendered_style(DOMElement, property));\n\n            return psize * (value / 100);\n        }\n        else if (unit === 'rem')\n        {\n            // font sizes are always returned in px with JS\n            return value * this.css_unit_value(this.rendered_style(document.documentElement, 'font-size'));\n        }\n        else if (unit === 'vw')\n        {\n            return this.width(window) * (value / 100);\n        }\n        else if (unit === 'vh')\n        {\n            return this.height(window) * (value / 100);\n        }\n        else if (unit === 'vmin' || unit === 'vmax')\n        {\n            let w = this.width(window);\n            let h = this.height(window);\n            let m = unit === 'vmin' ? Math.min(w, h) : Math.max(w, h)\n\n            return m * (value / 100);\n        }\n    }\n\n    return value;\n}\n\n/**\n * Get an element's inline style if it exists\n *\n * @access {public}\n * @param  {DOMElement}   el   Target element\n * @param  {string} prop CSS property to check\n * @return {string}\n */\n_.prototype.inline_style = function(element, prop)\n{\n    const elementStyle = element.style;\n\n    prop = this.css_prop_to_hyphen_case(prop);\n\n    // Native\n    if (!this.is_undefined(elementStyle[prop]) && elementStyle[prop] !== '')\n    {\n        const val = elementStyle.getPropertyValue(elementStyle[prop]) || elementStyle[prop];\n        \n        return val === '' ? undefined : val;\n    }\n\n    let styles = element.getAttribute('style');\n\n    if (styles && styles.includes(prop))\n    {\n        let style = styles.match(new RegExp(`${prop}\\s?:[^;]+;?`));\n\n        if (style)\n        {\n            return this.rtrim(style[0].split(':').pop().trim(), ';').trim();\n        }\n    }\n}\n/**\n * Remove inline css style\n * \n * @access {public}\n * @param  {DOMElement}   el   Target element\n * @param  {string} prop CSS property to removes\n */\n_.prototype.remove_style = function(el, prop)\n{\n    if (typeof prop === 'undefined')\n    {\n        DOMElement.removeAttribute('style');\n\n        return;\n    }\n\n    this.css(el, prop);\n}\n/**\n * Get the element's computed style on a property\n *\n * @access {public}\n * @param  {DOMElement}   el   Target element\n * @param  {string} prop CSS property to check (in camelCase) (optional)\n * @return {mixed}\n */\n_.prototype.rendered_style = function(DOMElement, property)\n{\n    if (property.includes('ransform'))\n    {\n        return this.css_transform_props(DOMElement, true);\n    }\n\n    return this.__computed_style(DOMElement, property);\n}\n\n/**\n * Get the elements computed style.\n *\n * @access {private}\n * @param  {DOMElement}          el   Target element\n * @param  {string}        prop CSS property to check (in camelCase) (optional)\n * @return {string|object}\n */\n_.prototype.__computed_style = function(DOMElement, property)\n{\n    if (window.getComputedStyle)\n    {\n        let styles = window.getComputedStyle(DOMElement, null);\n\n        if (property && property.startsWith('--')) return styles.getPropertyValue(property);\n\n        return !property ? styles : styles[property];\n    }\n    else if (DOMElement.currentStyle)\n    {\n        let styles = DOMElement.currentStyle;\n\n        return !property ? styles : styles[property];\n    }\n\n    return '';\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Returns an object of CSS transitions by transition property as keys.\n *\n * @param  {node|string} DOMElement  Target element or transition value string\n * @return {object}\n */\n_.prototype.css_transition_props = function(DOMElement)\n{\n    if (!DOMElement) return {};\n    var transitions   = {};\n    var transitionVal = this.is_string(DOMElement) ? DOMElement : this.rendered_style(DOMElement, 'transition');\n\n    // No transition\n    if (!transitionVal || transitionVal.startsWith('all 0s ease 0s') || transitionVal === 'none' || transitionVal === 'unset' || transitionVal === 'auto')\n    {\n        return transitions;\n    }\n\n    let transitionSplit = transitionVal.includes('cubic-bezier') ? '' : transitionVal.trim().split(',');\n\n    if (transitionVal.includes('cubic-bezier'))\n    {\n        let map      = [];\n        let inBezier = false;\n        let block    = '';\n        let char;\n\n        this.for(transitionVal.length, function(i)\n        {\n            char = transitionVal[i];\n\n            if (char === '(') inBezier = true;\n            if (char === ')') inBezier = false;\n\n            if (char === ',' && !inBezier)\n            {\n                map.push(block.trim());\n                block = '';\n\n                // next\n                return;\n            }\n\n            block += char;\n\n            if (i === transitionVal.length -1) map.push(block.trim());\n        });\n\n        transitionSplit = map;\n    }\n\n    this.each(transitionSplit, function(i, transition)\n    {\n        transition = transition.trim();\n\n        // Variants of all\n        if (transition[0] === '.' || transition.startsWith('all ') ||  this.is_numeric(transition[0]))\n        {\n            transitions.all = transition.replace('all ', '');\n\n            return false;\n        }\n\n        var prop = transition.split(' ', 4).shift();\n\n        transitions[prop] = transition.replace(prop, '').trim();\n\n    }, this);\n\n    return transitions;\n}\n/**\n * Returns an object of CSS transforms by property as keys or transforms as string.\n *\n * @param  {node|string} DOMElement     Target element or transition value string\n * @param  {bool}        returnAsString Returns transforms as string (optional) (default true)\n * @return {object}\n */\n_.prototype.css_transform_props = function(DOMElement, returnAsString)\n{\n    if (this.is_string(DOMElement))\n    {\n        return this.__un_css_matrix(DOMElement, returnAsString);\n    }\n\n    returnAsString = this.is_undefined(returnAsString) ? true : returnAsString;\n\n    let styles = this.__computed_style(DOMElement, 'transform');\n\n    // If element is set to \"display:none\" only inline transforms will show up\n    // so we check those first\n    let inline   = this.inline_style(DOMElement, 'transform');\n    let emptys   = [undefined, '', 'none', 'unset', 'initial', 'inherit'];\n\n    // Has inline styles - inline do not need to converted\n    if (!emptys.includes(inline))\n    {\n        return returnAsString ? inline : this.__un_css_matrix(inline, false);\n    }\n\n    // If element is hiddien we need to display it quickly\n    // to get the CSS defined transform prop to be renderd\n    let inlineDisplay = this.inline_style(DOMElement, 'display');\n    let cssDisplay    = this.rendered_style(DOMElement, 'display');\n    let isHidden      = cssDisplay === 'none';\n\n    // Re-get transform value\n    if (isHidden)\n    {\n        this.css(DOMElement, 'display', 'unset');\n\n        styles = this.__computed_style(DOMElement, 'transform');\n    }\n\n    // Doesn't have stylesheet styles\n    if (this.in_array(styles, emptys))\n    {\n        styles = styles === 'none' || styles === undefined ? '' : styles;\n    }\n\n    // Empty return\n    if (!styles)\n    {\n        return returnAsString ? '' : {};\n    }\n\n    // revert matrix\n    styles = this.__un_css_matrix(DOMElement, returnAsString);\n    \n    // Revert back origional styles\n    if (isHidden)\n    {\n        this.css(DOMElement, 'display', !inlineDisplay ? false : inlineDisplay);\n    }\n\n    return returnAsString ? styles : styles;\n}\n\n/**\n * Converts an element's matrix transform value back to component transforms\n *\n * @access {private}\n * @param  {DOMElement}   DOMElement     Target element\n * @param  {bool}   returnAsString Returns string\n * @return {string|object}\n */\n_.prototype.__un_css_matrix = function(DOMElement, returnAsString)\n{\n    if (!this.is_string(DOMElement))\n    {\n        if (!DOMElement.computedStyleMap)\n        {\n            return returnAsString ? '' : {};\n        }\n\n        var computedTransforms = DOMElement.computedStyleMap().get('transform');\n\n        var transforms = Array.prototype.slice.call(computedTransforms).map( (x) => x.toString() ).sort().reverse();\n    }\n    else\n    {\n        var transforms = DOMElement.split(')');\n    }\n\n    const axisMap = ['X', 'Y', 'Z'];\n\n    const ret = {};\n\n    this.each(transforms, function(i, transform)\n    {\n        if (transform.trim() === '') return;\n\n        var split    = transform.split('(');\n        var bsName   = split[0].replace('3d', '');\n        var prop     = split.shift().trim();\n        var value    = split.pop().trim().replace(')', '');\n        var values   = value.split(',').map((x) => x.trim());\n        var lastChar = prop.slice(-1);\n\n        if (prop === 'perspective')\n        {\n            ret.perspective = value;\n\n            return;\n        }\n        \n        this.each(values, function(i, val)\n        {\n            if (i > 2) return false;\n\n            let defltVal = prop.includes('scale') ? 1 : 0;\n            let axisProp = !axisMap.includes(lastChar) ? `${bsName}${axisMap[i]}` : bsName;\n\n            if (prop === 'rotate')\n            {\n                ret.rotateZ = val;\n            }\n            else if (prop === 'rotate3d')\n            {\n                if (parseFloat(val) !== defltVal)\n                {\n                    ret[axisProp] = values[values.length - 1];\n                }\n            }\n            else if (parseFloat(val) === defltVal && ret[axisProp])\n            {\n                return;\n            }\n            else\n            {\n                ret[axisProp] = val;\n            }\n        });\n\n    }, this);\n\n    if (returnAsString)\n    {\n        return !this.is_empty(ret) ? this.join_obj(ret, '(', ') ') + ')' : '';\n    }\n    \n    return ret;\n}\n/**\n * Returns an object of CSS transitions by transition property as keys.\n *\n * @param  {string} transforms A CSS transform value e.g translateY(300px) \n * @return {object}\n */\n_.prototype.css_to_3d_transform = function(transformsStr)\n{        \n    var transforms = {};\n\n    var _this = this;\n\n    /**\n     * Get value number\n     * \n     * @private\n     */\n    var getPropValue = function(value)\n    {\n        if (_this.is_numeric(value))\n        {\n            return parseFloat(value);\n        }\n\n        if (_this.is_empty(value))\n        {\n            return 0;\n        }\n\n        return parseFloat(value.replaceAll(/[^0-9-.]/g, ''));\n    }\n\n    if (transformsStr.includes('matrix'))\n    {\n        return transformsStr;\n    }\n\n    // Split into object\n    this.each(transformsStr.trim().split(')'), function(i, transform)\n    {\n        transform = transform.trim();\n\n        if (transform === '') return;\n\n        transform      = transform.split('(');\n        var prop       = transform.shift().trim();\n        var value      = transform.pop().trim();\n        var values     = value.split(',').map((x) => x.trim());\n        var valueCount = CSS_TRANSFORM_VALUES_COUNT[prop];\n\n        if (prop === 'perspective')\n        {\n            transforms.perspective = values[0];\n        }\n        else if (valueCount === 1 || valueCount === 2)\n        {\n            var initialVal = prop === 'scale' ? 1 : 0;\n            var name3d     = valueCount === 1 ? `${prop.slice(0,-1)}3d` : `${prop}3d`;\n                name3d     = name3d.includes('skew') ? 'skew' : name3d;\n                name3d     = name3d === 'rotat3d' ? 'rotate3d' : name3d;\n            var key        = CSS_3D_TRANSFORM_MAP_KEYS[prop.slice(-1).toLowerCase()];\n            \n            if (this.is_empty(transforms[name3d]))\n            {\n                transforms[name3d] = CSS_3D_TRANSFORM_DEFAULTS[name3d];\n            }\n            \n            if (prop === 'rotate')\n            {\n                transforms.rotate3d[3] = values[0];\n            }\n            else\n            {\n                this.each(values, function(i, value)\n                {\n                    var compValue = parseFloat(value.replaceAll(/[^0-9]-/g, ''));\n\n                    if (getPropValue(value) !== initialVal)\n                    {\n                        transforms[name3d][!key ? i : key] = value;\n                    }\n                });\n            }\n        }\n        else \n        {\n            transforms[prop] = values;\n        }\n\n    }, this);\n\n    return transforms;\n}\n/**\n * Add a css class or list of classes\n *\n * @access {public}\n * @param  {DOMElement}         DOMElement Target element\n * @param  {array|string} className  Class name(s) to add\n */\n_.prototype.add_class = function(DOMElement, className)\n{    \n    if (this.is_array(DOMElement))\n    {\n        this.each(DOMElement, (i, _DOMElement) =>  this.add_class(_DOMElement, className));\n\n        return this;\n    }\n\n    if (this.is_array(className))\n    {\n        this.each(className, (i, _className) =>  this.add_class(DOMElement, _className));\n    \n        return this;\n    }\n\n    if (className.includes(','))\n    {\n        this.each(this.array_filter(className.split(',')), (i, _className) => this.add_class(DOMElement, _className));\n    \n        return this;\n    }\n\n    if (className.includes('.'))\n    {\n        this.each(this.array_filter(className.split('.')), (i, _className) => this.add_class(DOMElement, _className));\n    \n        return this;\n    }\n\n    className = className.trim();\n\n    if (className[0] === '.') className = className.slice(1);\n\n    DOMElement.classList.add(className);\n\n    return this;\n}\n/**\n * Returns element classNames\n *\n * @param   {HTMLElement}  element  Element to check\n * @return  {Array}\n */\n_.prototype.class_names = function(element)\n{\n    if (this.is_htmlElement(element) && element.className && element.className.trim() !== '')\n    {\n        return element.className.replace( /\\s\\s+/g, ' ').trim().split(' ');\n    }\n\n    return [];\n}\n/**\n * Closest parent node by type/class or array of either\n *\n * @access {public}\n * @param  {DOMElement}   el   Target element\n * @param  {string} type Node type to find\n * @return {node\\null}\n */\n_.prototype.closest = function(el, type)\n{    \n    // Match OR split by comma\n    if (this.is_string(type) && type.includes(',')) type = type.split(',').filter((x) => x.trim() !== '').map((x) => x.trim());\n\n    // Match OR as an array\n    if (this.is_array(type))\n    {        \n        let ret = false;\n\n        this.each(type, (i , itype) =>\n        {\n            ret = this.closest(el, itype);\n\n            if (ret) return false;\n        });\n\n        return ret;\n    }\n    \n    let isElement = this.is_htmlElement(type);\n    let isClass   = !isElement && type.includes('.');\n    let isType    = !isElement && !isClass;\n    let ret       = false;\n\n    this.traverse_up(el, (parent, pType) =>\n    {\n        if (isElement && parent === type)\n        {\n            ret = parent;\n\n            return false;\n        }\n        else if (isClass && this.has_class(parent, type))\n        {\n            ret = parent;\n\n            return false;\n        }\n        else if (isType && type === pType)\n        {\n            ret = parent;\n\n            return false;\n        }\n    });\n\n    return ret;\n}\n\n/**\n * Closest parent node by class\n *\n * @access {public}\n * @param  {DOMElement}   el   Target element\n * @param  {string} clas Node class to find\n * @return {node\\null}\n */\n_.prototype.closest_class = function(el, classNames)\n{    \n    let ret = false;\n\n    this.traverse_up(el, (parent) =>\n    {\n        ret = this.has_class(parent, classNames) ? parent : ret;\n        \n        if (ret) return false;\n    });\n\n    return ret;\n}\n/**\n * Get an element's absolute coordinates\n *\n * @access {public}\n * @param  {DOMElement}   el Target element\n * @return {object}\n */\n_.prototype.coordinates = function(DOMElement)\n{\n    // If element is hiddien we need to display it quickly\n    var inlineDisplay = this.inline_style(DOMElement, 'display');\n    var hidden        = this.rendered_style(DOMElement, 'display');\n    \n    if (hidden === 'none')\n    {\n        // If the element was \"display:none\" with an inline\n        // style, remove the inline display so it defaults to\n        // whatever styles are set on in through stylesheet\n        if (inlineDisplay)\n        {\n            this.css(DOMElement, 'display', false);\n        }\n        // Otherwise set it to unset\n        else\n        {\n            this.css(DOMElement, 'display', 'unset');\n        }\n    }\n\n    var box        = DOMElement.getBoundingClientRect();\n    var body       = document.body;\n    var docEl      = document.documentElement;\n    var scrollTop  = window.pageYOffset || docEl.scrollTop || body.scrollTop;\n    var scrollLeft = window.pageXOffset || docEl.scrollLeft || body.scrollLeft;\n    var clientTop  = docEl.clientTop || body.clientTop || 0;\n    var clientLeft = docEl.clientLeft || body.clientLeft || 0;\n    var borderL    = parseInt(this.rendered_style(DOMElement, 'border-top-width'));\n    var borderR    = parseInt(this.rendered_style(DOMElement, 'border-top-width'));\n    var borderT    = parseInt(this.rendered_style(DOMElement, 'border-top-width'));\n    var borderB    = parseInt(this.rendered_style(DOMElement, 'border-top-width'));\n    var top        = box.top + scrollTop - clientTop - borderT - borderB;\n    var left       = box.left + scrollLeft - clientLeft + borderL - borderR;\n    var width      = parseFloat(this.rendered_style(DOMElement, \"width\"));\n    var height     = parseFloat(this.rendered_style(DOMElement, \"height\"));\n\n    if (inlineDisplay)\n    {\n        this.css(DOMElement, 'display', inlineDisplay);\n    }\n    else\n    {\n        this.css(DOMElement, 'display', false);\n    }\n    \n    return {\n        top: top,\n        left: left,\n        right: left + width,\n        bottom: top + height,\n        height: height,\n        width: width,\n    };\n}\n/**\n * Get all first level children\n *\n * @access {public}\n * @param  {DOMElement}   el   Target element\n * @return {node\\null}\n */\n_.prototype.first_children = function(el)\n{\n    return this.find_all('> *', el);\n}\n/**\n * Get all input elements from a form\n *\n * @access {public}\n * @param  {DOMElement}   form Target element\n * @return {array}\n */\n_.prototype.form_inputs = function(form)\n{\n    return this.find_all('input, textarea, select', form);\n}\n/**\n * Get an array of name/value objects for all inputs in a form\n *\n * @access {public}\n * @param  {DOMElement}   form Target element\n * @return {array}\n */\n_.prototype.form_values = function(form)\n{\n    var inputs = this.form_inputs(form);\n    var ret    = {};\n    \n    this.each(inputs, (i, input) =>\n    {\n        let key = this.attr(input, 'name');\n\n        let val = this.input_value(input);\n\n        if (input.type !== 'radio')\n        {\n            ret[key] = val;\n        }\n        else\n        {\n            if (val) ret[key] = val;\n        }\n\n        if (key.includes('[]'))\n        {\n            if (!ret[key] || !this.is_array(ret[key]))\n            {\n                ret[key] = [];\n            }\n\n            ret[key].push(val);\n        }\n    });\n   \n    return ret;\n}\n/**\n * Check if a node has a class\n *\n * @access {public}\n * @param  {DOMElement}         el         Target element\n * @param  {string|array} className  Class name(s) to check for\n * @return {bool}\n */\n_.prototype.has_class = function(DOMElement, className)\n{    \n    let ret = false;\n\n    if (this.is_array(className))\n    {\n        this.each(className, (i, _className) => { if (this.has_class(DOMElement, _className)) ret = true; return false; });\n        \n        return ret;\n    }\n\n    if (className.includes(','))\n    {\n        this.each(this.array_filter(className.split(',')), (i, _className) => { if (this.has_class(DOMElement, _className)) ret = true; return false; });\n    \n        return ret;\n    }\n\n    if (className.includes('.'))\n    {\n        let count = className.split('.').length;\n\n        if (count >= 3)\n        {\n            this.each(this.array_filter(className.split('.')), (i, _className) => { ret = this.has_class(DOMElement, _className); if (!ret) return false; });\n\n            return ret;\n        }\n    }\n\n    className = className.trim();\n\n    if (className[0] === '.') className = className.slice(1);\n\n    if (!DOMElement || !DOMElement.classList) return false;\n\n    return DOMElement.classList.contains(className);\n}\n/**\n * Aria hide an element\n *\n * @access {public}\n * @param  {DOMElement}   HTMLElement Target DOM node\n */\n_.prototype.hide_aria = function(HTMLElement)\n{\n    if (this.is_array(HTMLElement)) return this.each(HTMLElement, (i, el) => this.hide_aria(el));\n    \n    this.attr(HTMLElement, 'aria-hidden', 'true');\n}\n/**\n * Check if an element is in current viewport\n *\n * @access {public}\n * @param  {DOMElement}   el Target DOM node\n * @return {bool}\n */\n_.prototype.in_viewport = function(el)\n{\n    var rect = el.getBoundingClientRect();\n\n    return (\n        rect.top >= 0 &&\n        rect.left >= 0 &&\n        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) && /*or find(window).height() */\n        rect.right <= (window.innerWidth || document.documentElement.clientWidth) /*or find(window).width() */\n    );\n}\n/**\n * Replace or append a node's innerHTML\n *\n * @access {public}\n * @param  {DOMElement}   DOMElement  Target element\n * @param  {string} content     Target content\n * @param  {bool}   append      Append innerHTML or replace (optional) (default false)\n */\n_.prototype.inner_HTML = function(DOMElement, content, append)\n{\n    content = this.is_array(content) ? content.join(\"\\n\") : content;\n\n    if (append)\n    {\n        DOMElement.innerHTML += content;\n    }\n    else\n    {\n        this.clear_event_listeners(DOMElement, true);\n\n        DOMElement.innerHTML = content;\n    }\n\n    this.trigger_event(DOMElement, `frontbx:dom:mutate`);\n\n    this.trigger_event(window, `frontbx:dom:mutate`, { DOMElement: DOMElement });\n}\n/**\n * Gets an input element's value\n *\n * @access {public}\n * @param  {DOMElement}   input Target element\n * @return {mixed}\n */\n_.prototype.input_value = function(input)\n{\n    if (input.type == 'checkbox')\n    {\n        return this.attr(input, 'checked');\n    }\n    if (input.type == 'radio')\n    {\n        return this.attr(input, 'checked') ? this.attr(input, 'value') : undefined;\n    }\n    if (input.type == 'number')\n    {\n        return input.value.includes('.') ? parseInt(input.value) : parseFloat(input.value);\n    }\n    if (input.type == 'file')\n    {\n        if (input.multiple == true)\n        {\n            return input.files;\n        }\n\n        return input.files[0];\n    }\n\n    let ret = input.type == 'select' ? input.options[input.selectedIndex].value : input.value;\n\n    return this.is_numeric(ret) ? (input.value.includes('.') ? parseInt(input.value) : parseFloat(input.value)) : ret.trim();\n}\n/**\n * Create and insert a new node\n *\n * @param {object} options\n */\n_.prototype.dom_element = function(options, appendTo, innerHTMLOrChildren)\n{    \n    // dom_element(null, wrappper, content);\n    if (!options && appendTo && innerHTMLOrChildren)\n    {\n        this._recursive_dom_element(innerHTMLOrChildren, appendTo);\n\n        return appendTo;\n    }\n\n    if (!options.tag) throw new Error('Element tag not provided.');\n\n    let node = document.createElement(options.tag);\n\n    delete options.tag;\n\n    this.attr(node, options);\n\n    if (innerHTMLOrChildren)\n    {\n        this._recursive_dom_element(innerHTMLOrChildren, node);\n    }\n\n    if (appendTo)\n    {\n        appendTo.appendChild(node);\n    }\n\n    return node;\n}\n\n_.prototype._recursive_dom_element = function(mixedVar, parent)\n{\n    if (this.is_htmlElement(mixedVar))\n    {\n        parent.appendChild(mixedVar);\n    }\n    else if (this.is_array(mixedVar))\n    {\n        this.each(this.array_filter(mixedVar), (i, child) =>\n        {\n            this._recursive_dom_element(child, parent);\n        }); \n    }\n    else if (this.is_object(mixedVar))\n    {\n        this.dom_element(mixedVar, node);\n    }\n    else\n    {\n        parent.innerHTML += mixedVar;\n    }\n}\n\n\n/**\n * Traverse nextSibling untill type or class or array of either\n *\n * @access {public}\n * @param  {DOMElement}   el   Target element\n * @param  {string} type Target node type\n * @return {node\\null}\n */\n_.prototype.next = function(el, type)\n{\n    // Match OR split by comma\n    if (this.is_string(type) && type.includes(',')) type = type.split(',').filter((x) => x.trim() !== '').map((x) => x.trim());\n\n    // Match OR as an array\n    if (this.is_array(type))\n    {        \n        let ret = false;\n\n        this.each(type, (i , itype) =>\n        {\n            ret = this.next(el, itype);\n\n            if (ret) return false;\n        });\n\n        return ret;\n    }\n    \n    let isElement = this.is_htmlElement(type);\n    let isClass   = !isElement && type.includes('.');\n    let isType    = !isElement && !isClass;\n    let ret       = false;\n\n    this.traverse_next(el, (sibling, sType) =>\n    {\n        if (isElement && sibling === type)\n        {\n            ret = sibling;\n\n            return false;\n        }\n        else if (isClass && this.has_class(sibling, type))\n        {\n            ret = sibling;\n\n            return false;\n        }\n        else if (isType && type === sType)\n        {\n            ret = sibling;\n\n            return false;\n        }\n    });\n\n    return ret;\n}\n/**\n * Traverse nextSibling untill class type or class or array of either\n *\n * @access {public}\n * @param  {DOMElement}   el         Target element\n * @param  {string}       classNames Target node classname\n * @return {node\\null}\n */\n_.prototype.next_class = function(el, classNames)\n{\n    let ret = false;\n\n    this.traverse_next(el, (sibling) =>\n    {\n        ret = this.has_class(sibling, classNames) ? sibling : ret;\n        \n        if (ret) return false;\n    });\n\n    return ret;\n}\n/**\n * Inserts node as first child\n *\n * @access {public}\n * @param  {DOMElement} node     New node to insert\n * @param  {DOMElement} wrapper  Parent to preappend new node into\n * @return {DOMElement}\n */\n_.prototype.preapend = function(node, wrapper)\n{\n    wrapper.insertBefore(node, wrapper.firstChild);\n\n    return node;\n}\n/**\n * Traverse previousSibling untill type\n *\n * @access {public}\n * @param  {DOMElement}   el   Target element\n * @param  {string} type Target node type\n * @return {node\\null}\n */\n_.prototype.previous = function(el, type)\n{\n    // Match OR split by comma\n    if (this.is_string(type) && type.includes(',')) type = type.split(',').filter((x) => x.trim() !== '').map((x) => x.trim());\n\n    // Match OR as an array\n    if (this.is_array(type))\n    {        \n        let ret = false;\n\n        this.each(type, (i , itype) =>\n        {\n            ret = this.previous(el, itype);\n\n            if (ret) return false;\n        });\n\n        return ret;\n    }\n    \n    let isElement = this.is_htmlElement(type);\n    let isClass   = !isElement && type.includes('.');\n    let isType    = !isElement && !isClass;\n    let ret       = false;\n\n    this.traverse_prev(el, (sibling, pType) =>\n    {\n        if (isElement && sibling === type)\n        {\n            ret = sibling;\n\n            return false;\n        }\n        else if (isClass && this.has_class(sibling, type))\n        {\n            ret = sibling;\n\n            return false;\n        }\n        else if (isType && type === pType)\n        {\n            ret = sibling;\n\n            return false;\n        }\n    });\n\n    return ret;\n}\n/**\n * Traverse previousSibling untill class\n *\n * @access {public}\n * @param  {DOMElement}   el        Target element\n * @param  {string} className Target node classname\n * @return {node\\null}\n */\n_.prototype.previous_class = function(el, classNames)\n{\n    let ret = false;\n\n    this.traverse_prev(el, (sibling) =>\n    {\n        ret = this.has_class(sibling, classNames) ? sibling : ret;\n        \n        if (ret) return false;\n    });\n\n    return ret;\n}\n/**\n * Remove a css class or list of classes\n *\n * @access {public}\n * @param  {DOMElement}         DOMElement Target element\n * @param  {array|string} className  Class name(s) to remove\n */\n_.prototype.remove_class = function(DOMElement, className)\n{\n    if (this.is_array(DOMElement))\n    {\n        this.each(DOMElement, (i, _DOMElement) =>  this.remove_class(_DOMElement, className));\n\n        return this;\n    }\n\n    if (this.is_array(className))\n    {\n        this.each(className, (i, _className) =>  this.remove_class(DOMElement, _className));\n    \n        return this;\n    }\n\n    if (className.includes(','))\n    {\n        this.each(this.array_filter(className.split(',')), (i, _className) => this.remove_class(DOMElement, _className));\n    \n        return this;\n    }\n\n    if (className.includes('.'))\n    {\n        this.each(this.array_filter(className.split('.')), (i, _className) => this.remove_class(DOMElement, _className));\n    \n        return this;\n    }\n\n    className = className.trim();\n\n    if (className[0] === '.') className = className.slice(1);\n\n    DOMElement.classList.remove(className);\n\n    return this;\n}\n/**\n * Remove an element from the DOM\n *\n * This function also removes all attached event listeners\n * \n * @access {public}\n * @param  {DOMElement}   el Target element\n */\n_.prototype.remove_from_dom = function(el)\n{\n    if (this.is_array(el))\n    {\n        return this.each(el, (i, DOMElement) => this.remove_from_dom(DOMElement));\n    }\n\n    if (this.in_dom(el))\n    {\n        el.parentNode.removeChild(el);\n\n        var children = this.find_all('*', el).reverse();\n\n        for (var i = 0, len = children.length; i < len; i++)\n        {\n            this.off(children[i]);\n\n            this.trigger_event(children[i], `frontbx:dom:remove`);\n        }\n\n        this.off(el);\n\n        this.trigger_event(el, `frontbx:dom:remove`);\n\n        this.trigger_event(window, `frontbx:dom:remove`, { DOMElement: el });\n    }\n}\n/**\n * Get the current document scroll position\n *\n * @access {private}\n * @return {obj}\n */\n_.prototype.scroll_pos = function(context)\n{\n    if (context && this.is_htmlElement(context))\n    {\n        return {\n            top: context.scrollTop,\n            left: context.scrollLeft\n        };\n    }\n\n    var doc  = document.documentElement;\n    var top  = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);\n    var left = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);\n    \n    return {\n        top: top,\n        left: left\n    };\n}\n/**\n * Select single node by selector\n *\n * @access {public}\n * @param  {string} selector CSS selector\n * @param  {DOMElement}   context (optional) (default document)\n * @return {DOMElement}\n */\n_.prototype.find = function(selector, context, includeContextEl)\n{\n    selector = selector.trim();\n\n    context = (typeof context === 'undefined' ? document : context);\n\n    includeContextEl = (typeof includeContextEl === 'undefined' ? false : includeContextEl && context !== document);\n\n    let fchild = selector.substring(0, 1) === '>';\n    let multi  = selector.includes(',');\n\n    // Fast\n    if (!fchild && !multi) return selector[0] === '#' ? context.getElementById(selector.substring(1)) : context.querySelector(selector);\n\n    if (multi) selector = selector.replaceAll(/,\\s?>/g, ', :scope >');\n    \n    if (fchild) selector = `:scope ${selector}`;\n\n    return context.querySelector(selector);\n}\n\n\n/**\n * Select and return all nodes by selector\n *\n * @access {public}\n * @param  {string} selector CSS selector\n * @param  {DOMElement}   context (optional) (default document)\n * @return {DOMElement}\n */\n_.prototype.find_all = function(selector, context, includeContextEl)\n{\n    selector = selector.trim();\n\n    context = (typeof context === 'undefined' ? document : context);\n\n    includeContextEl = (typeof includeContextEl === 'undefined' ? false : includeContextEl && context !== document);\n\n    let fchild       = selector.substring(0, 1) === '>';\n    let multi        = selector.includes(',');\n    let hasParent    = context.parentNode; \n    let deleteParent = false;\n\n    if (includeContextEl)\n    {\n        if (!hasParent)\n        {\n            parent = document.createElement('div');\n            parent.appendChild(context);\n            deleteParent = true;\n        }\n\n        context = context.parentNode;\n    }\n\n    if (multi)  selector = selector.replaceAll(/,\\s?>/g, ', :scope >');\n    if (fchild) selector = `:scope ${selector}`;\n\n    let ret = TO_ARR.call(context.querySelectorAll(selector));\n\n    if (deleteParent) context.parentNode.removeChild(context);\n\n    return ret;\n}\n/**\n * Aria show an element\n *\n * @access {public}\n * @param  {DOMElement}   el Target DOM node\n */\n_.prototype.show_aria = function(HTMLElement)\n{\n    if (this.is_array(HTMLElement)) return this.each(HTMLElement, (i, el) => this.show_aria(el));\n\n    this.attr(HTMLElement, 'aria-hidden', 'false');\n}\n\n/**\n * Toogle a classname\n *\n * @access {public}\n * @param  {DOMElement}         el         Target element\n * @param  {string}       className  Class name to toggle\n */\n_.prototype.toggle_class = function(DOMElement, className)\n{    \n    if (this.has_class(DOMElement, className))\n    {\n        this.remove_class(DOMElement, className);\n    }\n    else\n    {\n        this.add_class(DOMElement, className);\n    }\n}\n/**\n * Triggers an event on an element\n *\n * @access {public}\n * @param  {DOMElement}   DOMElement   Target element\n * @param  {string}       eventName    Event name\n * @param  {mixed}        data         Extra data to pass to custom events \n */\n_.prototype.trigger_event = function(DOMElement, eventName, data)\n{    \n    if (this.in_array(eventName.toLowerCase(), DOC_EVENTS))\n    {\n        if ('createEvent' in document)\n        {\n            var evt = document.createEvent('HTMLEvents');\n\n            evt.initEvent(eventName, false, true);\n\n            DOMElement.dispatchEvent(evt);\n        }\n        else\n        {\n            DOMElement.fireEvent(eventName);\n        }\n    }\n    else\n    {\n        let detail = { DOMElement: DOMElement, name: eventName };\n        \n        if (this.is_object(data))\n        {\n            detail = { ...detail, ...data }\n        }\n        else\n        {\n            detail = { ...detail, state: data };\n        }\n\n        const event = new CustomEvent(eventName, { detail: detail });\n\n        DOMElement.dispatchEvent(event);\n\n        if (eventName.includes(':'))\n        {\n            var events = eventName.split(':').slice(0, -1);\n            var base   = events.shift();\n            var count  = events.length + 1;\n\n            this.for(count, function(i)\n            {\n                let subevent = i === (count -1) ? base : `${base}:${events.join(':')}`;\n\n                detail.name = eventName;\n\n                const evt = new CustomEvent(subevent, { detail: detail });\n\n                DOMElement.dispatchEvent(evt);\n\n                events.pop();\n            });\n        }\n    }\n}\n/**\n * Traverse up dom tree.\n *\n * @access {public}\n * @param  {DOMElement}   DOMElement Target element\n * @param  {Function}     callback   callback\n */\n_.prototype.traverse_up = function(DOMElement, callback)\n{    \n    // Stop on document\n    if (DOMElement === document || this.is_undefined(DOMElement) || DOMElement === null) return;\n\n    let response = callback(DOMElement, DOMElement.tagName.toLowerCase(), DOMElement.className.trim());\n\n    if (response)\n    {\n        return DOMElement;\n    }\n    else if (response === false)\n    {\n        return;\n    }\n\n    return this.traverse_up(DOMElement.parentNode, callback);\n}\n\n/**\n * Traverse down dom tree.\n *\n * @access {public}\n * @param  {DOMElement}   DOMElement Target element\n * @param  {Function}     callback   callback\n */\n_.prototype.traverse_down = function(DOMElement, callback)\n{\n    if (this.is_undefined(DOMElement) || DOMElement === null) return;\n\n    let children = this.find_all('*', DOMElement);\n\n    let ret = false;\n\n    this.each(children, (i, child) => \n    {\n        let response = callback(child, child.tagName.toLowerCase(), child.className.trim());\n\n        if (response || response === false)\n        {\n            ret = response !== false ? DOMElement : response;\n\n            return false;\n        }\n    });\n\n    return ret;\n}\n\n/**\n * Traverse next siblings.\n *\n * @access {public}\n * @param  {DOMElement}   DOMElement Target element\n * @param  {Function}     callback   callback\n */\n_.prototype.traverse_next = function(DOMElement, callback)\n{\n    // Stop on document\n    if (DOMElement === document || this.is_undefined(DOMElement) || DOMElement === null) return;\n\n    let response = callback(DOMElement, DOMElement.tagName.toLowerCase(), DOMElement.className.trim());\n\n    if (response)\n    {\n        return DOMElement;\n    }\n    else if (response === false)\n    {\n        return;\n    }\n\n    return this.traverse_next(DOMElement.nextSibling, callback);\n}\n\n/**\n * Traverse previous siblings.\n *\n * @access {public}\n * @param  {DOMElement}   DOMElement Target element\n * @param  {Function}     callback   callback\n */\n_.prototype.traverse_prev = function(DOMElement, callback)\n{\n    // Stop on document\n    if (DOMElement === document || this.is_undefined(DOMElement) || DOMElement === null) return;\n\n    let response = callback(DOMElement, DOMElement.tagName.toLowerCase(), DOMElement.className.trim());\n\n    if (response)\n    {\n        return DOMElement;\n    }\n    else if (response === false)\n    {\n        return;\n    }\n\n    return this.traverse_prev(DOMElement.previousSibling, callback);\n}\n\n/**\n * Get an element's actual width in px\n *\n * @access {public}\n * @param  {DOMElement}   DOMElement Target element\n * @return {object}\n */\n_.prototype.width = function(DOMElement)\n{\n\tif (DOMElement === window || DOMElement === document || DOMElement === document.documentElement ) return Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\n\n    return this.css_unit_value(this.rendered_style(DOMElement, 'width'));\n}\n/**\n * Get an element's actual height in px\n *\n * @access {public}\n * @param  {DOMElement}   DOMElement Target element\n * @return {object}\n */\n_.prototype.height = function(DOMElement)\n{\n    if (DOMElement === window || DOMElement === document || DOMElement === document.documentElement) return Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);\n\n    return this.css_unit_value(this.rendered_style(DOMElement, 'height'));\n}\n/**\n * Returns nth child\n *\n * @access {public}\n * @param  {DOMElement}   el   Target element\n * @return {node\\null}\n */\n_.prototype.nth_child = function(el, n)\n{\n    let children = this.first_children(el);\n\n    if (children[n]) return children[n];\n}\n/**\n * Returns nth position from siblings\n *\n * @access {public}\n * @param  {DOMElement}   el   Target element\n * @return {node\\null}\n */\n_.prototype.sibling_index = function(DOMElement)\n{\n    let children = this.first_children(DOMElement.parentNode);\n\n    for (var i = 0; i < children.length; i++)\n    {\n        if (children[i] === DOMElement) return i;\n    }\n\n    return 0;\n}\n/**\n * Add an event listener\n *\n * @access {public}\n * @param  {DOMElement}    element    The target DOM node\n * @param  {string}        eventName  Event type\n * @param  {closure}       handler    Callback event\n * @param  {array}         args       Args to pass to handler (first array element gets set to \"this\")\n * @param  {boolean}       pushfirst  If boolean (true) is provided, pushes callback to first in stack (default false)\n */\n_.prototype.on = function(DOMElement, eventName, handler)\n{    \n    var args = TO_ARR.call(arguments);\n\n    // Multiple elements\n    if (this.is_array(DOMElement))\n    {\n        var baseArgs = args.slice(1);\n\n        this.each(DOMElement, function(i, el)\n        {            \n            this.on.apply(this, [el, ...baseArgs]);\n\n        }, this);\n    }\n    else\n    {\n        // If event has a comma or is an array we're doing multiple events\n        if (this.is_array(eventName) || eventName.includes(','))\n        {\n            let eventsArr = this.is_array(eventName) ? eventName : eventName.split(',').map((x) => x.trim()).filter((x) => x !== '');\n\n            this.each(eventsArr, function(i, event)\n            {\n                args[1] = event;\n\n                this.on.apply(this, args);\n                \n            }, this);\n\n            return;\n        }\n\n        // If array of arguments is provided, \"this\" will always be the first\n        // argument provided\n        // However the first and second argument passed to the callback will always the event object and the element\n        // e.g. on(el, 'click', callback, ['baz', 'foo', 'bar']) -> callback(e, el, foo, bar) this = 'baz'\n\n        // Remove element, eventName, handler from args\n        let argsNormal = this.__normaliseListenerArgs(DOMElement, args);\n\n        this.__addListener(DOMElement, eventName, handler, argsNormal.thisArg, argsNormal.args, argsNormal.pushFirst);\n    }\n}\n\n/**\n * Nomralize event listener args\n * \n * @param  {DOMElement}    DOMElement   The target DOM node\n * @param  {array}         args         Args passed to 'on' or 'off'\n */\n_.prototype.__normaliseListenerArgs = function(DOMElement, args)\n{\n    // Remove DOMElement, eventName, handler\n    args = args.slice(3);\n\n    // Default \"this\" to the dom element\n    let thisArg   = DOMElement;\n    let pushFirst = false;\n\n    // Push first\n    if (!this.is_empty(args))\n    {\n        thisArg   = args.shift();\n        pushFirst = this.bool(args.shift());\n    }\n\n    return {args, thisArg, pushFirst};\n}\n\n/**\n * Adds a listener to the element\n *\n * @access {private}\n * @param  {DOMElement}    element    The target DOM node\n * @param  {string}  eventName  Event type\n * @param  {closure} handler    Callback event\n * @param  {bool}    data Use capture (optional) (defaul false)\n */\n_.prototype.__addListener = function(element, eventName, callback, thisArg, args, pushFirst)\n{\n    // Apply GUID to element and callback\n    element.guid = element.guid || (element.guid = this._guidgen());\n    callback.guid    = callback.guid || (callback.guid = this._guidgen());\n\n    let hasHandler = true;\n    let guid       = element.guid;\n\n    // Make sure an array for event type exists\n    if (!this._events[guid])\n    {\n        hasHandler = false;\n\n        this._events[guid] = {};\n    }\n\n    if (!this._events[guid][eventName])\n    {\n        hasHandler = false;\n\n        this._events[guid][eventName] = [];\n    }\n\n    // Push the details to the events object\n    const handlerObj = {callback, thisArg, args, element};\n    \n    pushFirst ? this._events[guid][eventName].unshift(handlerObj) : this._events[guid][eventName].push(handlerObj);\n\n    if (!hasHandler)\n    {\n        element.addEventListener(eventName, this.__event_dispatcher);\n    }\n}\n\n/**\n * Event dispatcher\n *\n * @access {private}\n * @param  {eventObject}  e  \n */\n_.prototype.__event_dispatcher = function(e)\n{\n    e = e || window.event;\n\n    let DOMElement = this;\n\n    let guid = DOMElement.guid;\n\n    if (!guid) return;\n\n    let callbacks =  _THIS._events[guid][e.type] || [];\n\n    _THIS.each(callbacks, (i, handler) =>\n    {        \n        if (handler)\n        {\n            let handled = handler.callback.apply(handler.thisArg, [e, DOMElement, ...handler.args]);\n\n            if (handled === false || handled === null)\n            {\n                e.preventDefault();\n\n                e.stopPropagation();\n\n                if (handled === null) return false;\n            }\n        }\n    });\n}\n\n/**\n * Remove an event listener\n *\n * @access {public}\n * @param  {DOMElement}    element    The target DOM node\n * @param  {string}        eventName  Event type\n * @param  {closure}       handler    Callback event\n * @param  {array}         args       Args to pass to handler (first array element gets set to \"this\")\n * @param  {boolean}       pushfirst  If boolean (true) is provided, pushes callback to first in stack (default false)\n */\n_.prototype.off = function(DOMElement, eventName, handler)\n{\n    var args = TO_ARR.call(arguments);\n\n    if (this.is_array(DOMElement))\n    {\n        var baseArgs = args.slice(1);\n\n        this.each(DOMElement, function(i, el)\n        {            \n            this.off.apply(this, [el, ...baseArgs]);\n        \n        }, this);\n    }\n    else\n    {\n        // If the eventName name was not provided - remove all event handlers on element\n        if (!eventName)\n        {\n            return this.__remove_element_listeners(DOMElement);\n        }\n\n        // If event has a comma or is an array we're doing multiple events\n        if (this.is_array(eventName) || eventName.includes(','))\n        {\n            let eventsArr = this.is_array(eventName) ? eventName : eventName.split(',').map((x) => x.trim()).filter((x) => x !== '');\n\n            this.each(eventsArr, function(i, event)\n            {\n                args[1] = event;\n\n                this.off.apply(this, args);\n                \n            }, this);\n\n            return;\n        }\n\n        // If the callback was not provided - remove all events of the type on the element\n        if (!handler)\n        {\n            return this.__remove_element_type_listeners(DOMElement, eventName);\n        }\n        \n        let guid = DOMElement.guid;\n\n        // Nothing to remove\n        if (!guid) return;\n\n        let handlers = this.array_get(`${guid}.${eventName}`, this._events);\n\n        // Nothing to remove\n        if (!handlers) return;\n\n        // Loop stored events and match node, event name, handler, use capture\n        this.each(handlers, function(i, _handler)\n        {            \n            if (_handler.callback.guid === handler.guid || this.is_equal(_handler.callback, handler))\n            {\n                this._events[guid][eventName].splice(i, 1);\n\n                if (this.is_empty(this._events[guid][eventName]))\n                {\n                    delete this._events[guid][eventName];\n\n                    this.__remove_listener(DOMElement, eventName);\n                }\n\n                if (this.is_empty(this._events[guid]))\n                {\n                    delete this._events[guid];\n                }\n                \n                // Break only remove first\n                return false;\n            } \n        \n        }, this);\n    }\n}\n\n/**\n * Removes all registered event listeners on an element\n *\n * @access {private}\n * @param  {DOMElement} DOMElement Target node element\n */\n_.prototype.__remove_element_listeners = function(DOMElement)\n{\n    let guid = DOMElement.guid;\n\n    if (!guid) return;\n\n    if (this._events[guid])\n    {\n        this.each(this._events[guid], function(type, callbacks)\n        {\n            this.__remove_listener(DOMElement, type);\n            \n        }, this);\n    }\n\n    delete this._events[guid];\n}\n\n/**\n * Removes all registered event listeners of a specific type on an element\n *\n * @access {private}\n * @param  {DOMElement} DOMElement Target node element\n * @param  {string}     type       Event listener type\n */\n_.prototype.__remove_element_type_listeners = function(DOMElement, type)\n{\n    let guid = DOMElement.guid;\n\n    if (!guid) return;\n\n    // Make sure an array for event type exists\n    if (this._events[guid] && this._events[guid][type])\n    {\n        delete this._events[guid][type];\n\n        this.__remove_listener(DOMElement, type);\n\n        if (this.is_empty(this._events[guid]))\n        {\n            delete this._events[guid];\n        }\n    }\n}\n\n/**\n * Removes a listener from the element\n *\n * @access {private}\n * @param  {DOMElement} DOMElement The target DOM node\n * @param  {string}     eventType  Event type\n * @param  {closure}    handler    Callback event\n * @param  {bool}       useCapture Use capture (optional) (defaul false)\n */\n_.prototype.__remove_listener = function(DOMElement, eventType)\n{    \n    DOMElement.removeEventListener(eventType, this.__event_dispatcher);\n}\n\n/**\n * Removes all event listeners registered by the library\n *\n * @access {public}\n */\n_.prototype.clear_event_listeners = function(DOMElement, onlyChildren)\n{\n    DOMElement = this.is_undefined(DOMElement) ? document : DOMElement;\n\n    onlyChildren = this.is_undefined(onlyChildren) ? false : onlyChildren;\n\n    if (DOMElement !== document)\n    {\n        let children = this.find_all('*', DOMElement).reverse();\n\n        this.each(children, (i, child) => this.off(child));\n\n        if (!onlyChildren) this.off(DOMElement);\n        \n        return;\n    }\n\n    var events = this._events;\n\n    let _this = this;\n\n    _this.each(this._events, (guid, types) =>\n    {\n        _this.each(types, (type, callbacks) =>\n        {\n            let DOMElement = callbacks[0].element;\n            \n            _this.__remove_listener(DOMElement, type);\n        });\n    });\n\n    this._events = {};\n\n\n\n}\n/**\n * Removes all event listeners registered by the library on nodes\n * that are no longer part of the DOM tree\n *\n * @access {public}\n */\n_.prototype.collect_garbage = function()\n{\n\n    this.each(this._events, (guid, types) =>\n    {\n        let cleared = false;\n\n        this.each(types, (type, callbacks) =>\n        {\n            let DOMElement = callbacks[0].element;\n            \n            if (!this.in_dom(DOMElement))\n            {\n                cleared = true;\n\n                this.__remove_listener(DOMElement, type);\n            }\n        });\n\n        if (cleared) delete this._events[guid];\n    });\n}\n/**\n * Removes event listeners on a DOM node\n *\n * If no element given, all attached event listeners are returned.\n * If no event name is given, all attached event listeners are returned on provided element.\n * If single arguement is provided and arg is a string, e.g 'click', all events of that type are returned\n * \n * @access {public}\n * @param  {mixed}   element    The target DOM node\n * @param  {string}  eventName  Event type\n * @return {array}\n */\n_.prototype.event_listeners = function(DOMElement, eventName)\n{\n    var args = TO_ARR.call(arguments);\n    var ret  = [];\n\n    // No args, return all events\n    if (args.length === 0)\n    {\n        this.each(this._events, function(guid, types)\n        {\n            this.each(types, function(type, callbacks)\n            {\n                let summary = callbacks.map( (details) => ({ el: details.element, callback: details.callback, type: type }) );\n\n                ret = [...ret, ...summary];\n            });\n\n        }, this);\n\n        return ret;\n    }\n    \n    // eventListeners(node) or\n    // eventListeners('click')\n    else if (args.length === 1)\n    {\n        // eventListeners('click')\n        if (this.is_string(DOMElement))\n        {   \n            this.each(this._events, function(guid, types)\n            {\n                this.each(types, function(type, callbacks)\n                {\n                    if (type === DOMElement)\n                    {\n                        let summary = callbacks.map( (details) => ({ el: details.element, callback: details.callback, type: type }) );\n\n                        ret = [...ret, ...summary];\n                    }\n                });\n\n            }, this);\n\n            return ret;\n        }\n        \n        // eventListeners(node)\n        let guid = DOMElement.guid;\n\n        if (!guid || !this._events[guid]) return ret;\n\n        this.each(this._events[guid], function(type, callbacks)\n        {\n            let summary = callbacks.map( (details) => ({ el: details.element, callback: details.callback, type: type }) );\n\n            ret = [...ret, ...summary];\n\n        }, this);\n\n        return ret;\n    }\n\n    // eventListeners(node)\n    let guid = DOMElement.guid;\n\n    if (!guid || !this._events[guid] || !this._events[guid][eventName]) return ret;\n\n    this.each(this._events[guid][eventName], function(i, details)\n    {\n        ret.push({ el: details.element, callback: details.callback, type: eventName });\n\n    }, this);\n\n    return ret;\n}\n/**\n * Is this a mobile user agent?\n *\n * @return {bool}\n */\n_.prototype.is_retina = function()\n{\n    var mediaQuery = \"(-webkit-min-device-pixel-ratio: 1.5),\\\n                      (min--moz-device-pixel-ratio: 1.5),\\\n                      (-o-min-device-pixel-ratio: 3/2),\\\n                      (min-resolution: 1.5dppx)\";\n\n    if (window.devicePixelRatio > 1)\n    {\n        return true;\n    }\n\n    if (window.matchMedia && window.matchMedia(mediaQuery).matches)\n    {\n        return true;\n    }\n\n    return false;\n}\n\n/**\n * Parse url\n *\n * @param  {string}    str       The URL to parse. Invalid characters are replaced by _.\n * @return {object}\n */\n_.prototype.parse_url = function(str)\n{\n    var ret = {};\n    var url = new URL(str);\n\n    if (url.search)\n    {\n        var queries = url.search.substring(1).split('&');\n        var qret    = {};\n        \n        this.each(queries, function(i, query)\n        {\n            if (query.includes('='))\n            {\n                var set   = query.split('=');\n                var key   = decodeURI(set[0].trim());\n                var val   = true;\n\n                if (set.length === 2)\n                {\n                    val = set[1].trim();\n                }\n\n                if (key !== '' && val !== '')\n                {\n                    qret[key] = val;\n                }\n            }\n            else\n            {\n                qret[query] = true;\n            }\n        });\n\n        url.query = qret;\n    }\n\n    return url;\n}\n/**\n * Gets url query\n *\n * @access {public}\n * @param  {string}  name String query to get (optional)\n * @return {object|string}\n */\n_.prototype.url_query = function(name)\n{\n    var results = {};\n\n    if (window.location.search !== '')\n    {\n        var params = window.location.search.substring(1).split('&');\n\n        for (var i = 0; i < params.length; i++)\n        {\n            if (!params[i].includes('='))\n            {\n                continue;\n            }\n\n            var split = params[i].split('=');\n\n            results[decodeURIComponent(split[0])] = decodeURIComponent(split[1]);\n        }\n    }\n\n    // No param return all url query\n    if (typeof name === 'undefined')\n    {\n        return results;\n    }\n\n    name = decodeURIComponent(name);\n\n    if (name in results)\n    {\n        return results[name];\n    }\n\n    return false;\n}\n/**\n * Normalises a url\n *\n * @access {public}\n * @param  {string}  url The url to normalise\n * @return {string}\n */\n_.prototype.normalize_url = function(url)\n{\n    // Remove www.\n    if (url.startsWith('www.') || url.includes('//www.')) url = url.replace('www.', '');\n\n    // Back dirs\n    if (url.startsWith('../'))\n    {\n        let paths = this.parse_url(this.trim(window.location.href, '/')).pathname.split('/');\n\n        if (!this.is_empty(paths))\n        {\n            // Remove file\n            if (paths.slice(-1).includes('.')) paths.pop();\n\n            let backs = url.split('../').length;\n\n            this.for(backs, () => paths.pop());\n\n            url = '/' + this.trim(`${paths.join('/')}/${url.replace(/\\.\\.\\//g, '')}`, '/');\n        }\n    }\n\n    // Local\n    if (url[0] === '/') url = window.location.origin + url;\n\n    // Add protocol\n    if (!url.startsWith('https') && !url.startsWith('http')) url = `${window.location.protocol}//${url}`;\n\n    return url;\n}\n/**\n * Clones any variables\n * \n * @param   {mixed}  mixed_var\n * @param   {mixed}  context   Context to bind functions\n * @returns {mixed}\n */\n_.prototype.clone_deep = function(mixed_var, context)\n{\n    return this.__clone_var(mixed_var, this.is_undefined(context) ? mixed_var : context);\n}\n\n/**\n * Clone's variable with context.\n * \n * @param   {mixed}  mixed_var  Variable to clone\n * @param   {mixed}  context    Context when cloning recursive objects and arrays.\n * @returns {mixed}\n */\n_.prototype.__clone_var = function(mixed_var, context)\n{\n    let tag = this.var_type(mixed_var);\n\n    switch (tag)\n    {\n        case OBJECT_TAG:\n            return this.__clone_obj(mixed_var, context);\n\n        case ARRAY_TAG:\n        case NODELST_TAG:\n        case ARGS_TAG:\n            return this.__clone_array(mixed_var, context);\n\n        case FUNC_TAG:\n            return this.__clone_func(mixed_var, context);\n\n        case NULL_TAG:\n            return null;\n\n        case UNDEF_TAG:\n            return;\n\n        case BOOL_TAG:\n            return mixed_var === true ? true : false;\n\n        case STRING_TAG:\n            return mixed_var.slice();\n\n        case NUMBER_TAG:\n            let n = mixed_var;\n            return n;\n\n        case REGEXP_TAG:\n            return this.__clone_RegExp(mixed_var, context);\n\n        case SYMBOL_TAG:\n            return this.__clone_symbol(mixed_var);\n\n        case DATE_TAG:\n            return this.__clone_date(mixed_var);\n\n        case SET_TAG:\n            return this.__clone_set(mixed_var, context);\n\n        case MAP_TAG:\n            return this.__clone_map(mixed_var, context);\n\n        case ARRAY_BUFFER_TAG:\n            return this.__clone_array_buffer(mixed_var);\n\n        case DATAVIEW_TAG:\n            return this.__clone_data_view(mixed_var);\n\n        case ARRAY_BUFFER_TAG:\n            return this.__clone_buffer(mixed_var);\n\n        case FLOAT32_TAG:\n        case FLOAT64_TAG:\n        case INT8_TAG:\n        case INT16_TAG:\n        case INT32_TAG:\n        case UINT8_TAG:\n        case UINT8CLAMPED_TAG:\n        case UINT16_TAG:\n        case UINT32_TAG:\n            return this.__clone_typed_array(object);\n\n        case ERROR_TAG:\n        case WEAKMAP_TAG:\n            return {};\n    }\n\n    return mixed_var;\n}\n\n/**\n * Clones an object\n * \n * @param   {object}  obj\n * @returns {object}\n */\n_.prototype.__clone_obj = function(obj, context)\n{\n    // Shallow keys\n    let keys = this.object_props(obj);\n    let ret  = {};\n\n    // Empty object\n    if (keys.length === 0 || this.is_empty(obj))\n    {\n        return ret;\n    }\n\n    this.each(keys, function(i, key)\n    {\n        ret[key] = this.clone_deep(obj[key], context);\n\n    }, this);\n\n    // Clone prototypes\n    let protos = this.prototypes(obj);\n\n    if (protos.length >= 1)\n    {\n        let curr = ret;\n\n        while(protos.length > 0)\n        {\n            let proto        = protos.shift();\n            let clone        = this.clone_deep(proto, context);\n            clone.constrctor = this.clone_deep(proto.constructor, context);\n            \n            Object.setPrototypeOf(curr, clone);\n            \n            curr = clone;\n        }\n    }\n\n    return ret;\n}\n\n/**\n * Clones a function\n * \n * @param   {function}  function\n * @param   {mixed}     context   Context to bind function\n * @returns {function}\n */\n_.prototype.__clone_func = function(func, context)\n{\n    return this.bind(func, context);\n}\n\n/**\n * Clones an array\n * \n * @param   {array}  arr\n * @returns {array}\n */\n_.prototype.__clone_array = function(arr, context)\n{\n    let ret = [];\n\n    this.each(arr, function(i, val)\n    {\n        ret[i] = this.clone_deep(val, context);\n    \n    }, this);\n\n    return ret;\n}\n\n_.prototype.__clone_date = function(d)\n{\n    let r = new Date();\n\n    r.setTime(d.getTime());\n\n    return r;\n}\n\n_.prototype.__clone_symbol = function(symbol)\n{\n    return Object(Symbol.prototype.valueOf.call(symbol));\n}\n\n_.prototype.__clone_RegExp = function(regexp)\n{\n    let reFlags = /\\w*$/;\n\n    let result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n\n    result.lastIndex = regexp.lastIndex;\n\n    return result;\n}\n\n_.prototype.__clone_map = function(m, context)\n{\n    const ret = new Map();\n\n    m.this.each((v, k) =>\n    {\n        ret.set(k, this.clone_deep(v, context));\n    \n    }, this);\n\n    return ret;\n}\n\n_.prototype.__clone_set = function(s, context)\n{\n    const ret = new Set();\n\n    s.this.each((val, k) =>\n    {\n        ret.add(k, this.clone_deep(v, context));\n    \n    }, this);\n\n    return ret;\n}\n\n_.prototype.__clone_array_buffer = function(arrayBuffer)\n{\n    const result = new arrayBuffer.constructor(arrayBuffer.byteLength)\n\n    new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n\n    return result;\n}\n\n_.prototype.__clone_data_view = function(dataView)\n{\n    const buffer = this.__clone_array_buffer(dataView.buffer);\n\n    return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\n/**\n * Creates a clone of `buffer`.\n *\n * @param   {Buffer}   buffer   The buffer to clone.\n * @param   {boolean} [isDeep]  Specify a deep clone.\n * @returns {Buffer}   Returns  the cloned buffer.\n */\n_.prototype.__clone_buffer = function(buffer)\n{\n    const length = buffer.length;\n\n    const result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n    buffer.copy(result);\n\n    return result;\n}\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\n_.prototype.__clone_typed_array = function(typedArray)\n{\n    const buffer = this.__clone_array_buffer(typedArray.buffer);\n\n    return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\n/**\n * Binds a function so that it can be identified.\n * \n * @param   {function}  func    Function to bind\n * @param   {mixed}     context Context to bind \"this\"\n * @returns {function}\n */\n_.prototype.bind = function(func, context)\n{\n    context = typeof context === 'undefined' ? window : context;\n\n    const bound = function()\n    {\n        return func.apply(context, arguments);\n    }\n\n    Object.defineProperty(bound, 'name', { value: func.name });\n\n    bound.__isBound      = true;\n    bound.__boundContext = context;\n    bound.__origional    = func;\n\n    return bound;\n}\n/**\n * Extends a function with prototype inheritance.\n *\n * @param   {function}           superType    Base function to extend\n * @param   {function}           subType  Function to get extended.\n * @param   {undefined|boolean}  callSuper   If true \"subType\" is treated as a constructor and the superType / any nested prototypes will get instantiated. (default true)\n * @returns {function}\n */\n_.prototype.extend = function(base, extension)\n{\n    const _this = this;\n\n    function proxySuper(superFn, fn)\n    {\n        return function()\n        {\n            var tmp = this.super;\n            \n            this.super = superFn;\n            \n            var ret = fn.apply(this, arguments);\n            \n            this.super = tmp;\n\n            return ret;\n        }\n    }\n\n    function Class() {}\n\n    Class.extend = function(protoProps)\n    {\n        var parent = this, _super = parent.prototype, child;\n\n        if (protoProps && protoProps.hasOwnProperty('constructor'))\n        {\n            child = proxySuper(parent, protoProps.constructor);\n            \n            delete protoProps.constructor; // remove constructor\n        }\n        else\n        {\n            child = function()\n            {\n                parent.apply(this, arguments);\n            };\n        }\n\n        var prototype = Object.create(parent.prototype,\n        {\n            constructor:\n            {\n                value: child,\n                enumerable: false,\n                writable: true,\n                configurable: true\n            }\n        });\n\n        for (var name in protoProps)\n        {\n            prototype[name] = _this.is_function(protoProps[name]) && _this.is_function(_super[name]) && /\\bsuper\\b/.test(protoProps[name])\n            ? proxySuper(_super[name], protoProps[name]) : protoProps[name];\n        }\n\n        child.prototype = prototype;\n        child.extend = Class.extend;\n\n        return child;\n    };\n\n    if (this.var_type(base) !== this.var_type(extension)) throw new Error('Extended variables need to be the same type.');\n\n    if (this.is_object(base)) return this.extend_obj(base, extension);\n\n    const baseProto   = base.prototype;\n    const extendProto = extension.prototype;\n\n    if (!baseProto.hasOwnProperty('constructor')) baseProto['constructor'] = base;\n   \n    if (!extendProto.hasOwnProperty('constructor')) extendProto['constructor'] = extension;\n    \n    var b = Class.extend(baseProto);\n\n    var e = b.extend(extendProto);\n\n    Object.defineProperty(e, 'name', { value: extension.name, writable: false });\n\n    return e;\n}\n\n/**\n * Extends a function with prototype inheritance.\n *\n * @param   {function}           superType    Base function to extend\n * @param   {function}           subType  Function to get extended.\n * @param   {undefined|boolean}  callSuper   If true \"subType\" is treated as a constructor and the superType / any nested prototypes will get instantiated. (default true)\n * @returns {function}\n */\n_.prototype.extend_obj = function(base, extension)\n{\n    const extProto  = this.prototypes(extension);\n    const baseProto = this.prototypes(base);\n\n    // Plain objects\n    if (this.is_empty(extProto) && this.is_empty(baseProto)) return {...base, ...extension};\n\n    const newProto = new (function() {});\n    \n    Object.setPrototypeOf(newProto, base);\n\n    this.each(extProto, (i, proto) =>\n    {\n        this.each(proto, (k, v) =>\n        {\n            newProto[k] = v;\n        })\n\n    }, this);\n\n    Object.defineProperty(newProto, 'name', { value: 'Class', writable: false });\n\n    Object.setPrototypeOf(extension, newProto);\n\n    return extension;\n}\n\n\n/**\n * Joins an object into a string\n * \n * @param   {Object} obj       Object\n * @param   {string} seperator Seperator Between key & value\n * @param   {string} glue      Glue between value and next key\n * @returns {string} \n */\n_.prototype.join_obj = function(obj, seperator, glue, recursive, trimLast)\n{\n    seperator = this.is_undefined(seperator) ? '' : seperator;\n    glue      = this.is_undefined(glue) ? '' : glue;\n    recursive = this.is_undefined(recursive) ? false : recursive;\n    trimLast  = this.is_undefined(trimLast)  ? true : trimLast;\n    \n    var ret = '';\n\n    this.each(obj, function(key, val)\n    {\n        if (this.is_object(val))\n        {\n            val = recursive ? '{' + this.join_obj(val, seperator, glue, recursive, trimLast) + '}' : {};\n        }\n        else if (this.is_array(val))\n        {\n            val = recursive ? this.join_obj(val, seperator, glue, recursive, trimLast) : val.join(', ').replaceAll('[object Object]', '{}');\n        }\n        else\n        {            \n            val = `${val}`;\n        }\n\n        ret += `${glue}${key}${seperator}${val}`;\n\n    }, this);\n\n    if (ret === `${glue}${seperator}` || ret.trim() === '') return '';\n\n    return trimLast ? this.rtrim(this.ltrim(ret, glue), seperator) : this.ltrim(ret, glue).trim() + glue;\n}\n/**\n * Returns object properties and methods as array of keys.\n * \n * @param   {mixed}    mixed_var    Variable to test\n * @param   {boolean}  withMethods  Return methods and props (optional) (default \"true\")\n * @returns {array}\n */\n_.prototype.object_props = function(mixed_var, deep)\n{\n    if (!mixed_var) return [];\n\n    deep = typeof deep === 'undefined' ? false : deep;\n\n    let keys = Object.keys(mixed_var);\n\n    let proto = mixed_var.prototype || Object.getPrototypeOf(mixed_var);\n\n    if (deep)\n    {\n        keys = [...keys, ...this.object_props(proto, true)];\n    }\n    \n    return this.array_unique(keys);\n}\n\n\n/**\n * Returns an array of prototypes\n * \n * @param   {mixed}    mixed_var    Variable to test\n * @param   {boolean}  withMethods  Return methods and props (optional) (default \"true\")\n * @returns {array}\n */\n_.prototype.prototypes = function(mixed_var)\n{\n    let ret = [];\n\n    if (!mixed_var) return ret;\n\n    const _this = this;\n\n    const recursive = function(obj)\n    {\n        let proto = obj.prototype || Object.getPrototypeOf(obj);\n\n        // No prototype\n        if (!proto) return;\n\n        // Prototype is native object\n        let protokeys = Object.getOwnPropertyNames(proto);\n\n        if (protokeys.filter(x => !EMPTY_OBJ_KEYS.includes(x)).length === 0) return;\n\n        ret.push(proto);\n\n        recursive(proto);\n    }\n\n    recursive(mixed_var);\n\n    return ret;\n}\n\n\n/**\n * Returns object properties and methods as array of keys.\n * \n * @param   {mixed}    mixed_var    Variable to test\n * @param   {boolean}  withMethods  Return methods and props (optional) (default \"true\")\n * @returns {array}\n */\n_.prototype.flatten_obj = function(obj, deep)\n{\n    deep = typeof deep === 'undefined' ? false : deep;\n\n    var ret = {};\n\n    this.each(obj, (k,v) => ret[k] = v);\n   \n    if (deep)\n    {\n        let proto = mixed_var.prototype || Object.getPrototypeOf(mixed_var);\n\n        ret = {...ret, ...this.flatten_obj(proto, true)};\n    }\n    \n    return ret;\n}\n_.prototype.camel_case_to_hyphen = function(str)\n{\n    if (str === str.toLowerCase()) return str;\n    \n    return str.replace(/([a-z])([A-Z])/g, '$1-$2').replace(/\\b([A-Z]+)([A-Z])([a-z])/, '$1-$2$3').toLowerCase();\n}\n/**\n * Json encode\n * \n * @param  {mixed} str String JSON\n * @return {object|false}\n */\n_.prototype.json_decode = function(str)\n{\n    var obj;\n    try\n    {\n        obj = JSON.parse(str);\n    }\n    catch (e)\n    {\n        return false;\n    }\n    return obj;\n}\n/**\n * Json encode\n * \n * @param  {mixed} str String JSON\n * @return {object|false}\n */\n_.prototype.json_encode = function(str)\n{\n    var obj;\n    try\n    {\n        obj = JSON.stringify(str);\n    }\n    catch (e)\n    {\n        return false;\n    }\n    return obj;\n}\n/**\n * Left trim string \n * \n * @param  {str}           str\n * @return {array|string} charlist (optional)\n */\n_.prototype.ltrim = function(str, charlist)\n{\n    // Special fast cases\n    if (!charlist) return str.trimStart();\n\n    if (this.is_string(charlist))\n    {\n        return str.slice(0, charlist.length) === charlist ? str.replace(charlist, '') : str;\n    }\n\n    var ret = str;\n\n    this.each(charlist, function(i, char)\n    {\n        if (str.slice(0, char.length) === char)\n        {\n            ret = str.replace(char, '');\n            \n            // break            \n            return false;\n        }\n\n    }, this);\n\n    return ret;\n}\n\n\n/**\n * Make a random string\n *\n * @param  {int}    length String length\n * @return {string}\n */\n_.prototype.makeid = function(length)\n{\n    var text = \"\";\n    var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\";\n\n    for (var i = 0; i < length; i++)\n    {\n        text += possible.charAt(Math.floor(Math.random() * possible.length))\n    }\n\n    return text;\n}\n/**\n * Left trim string \n * \n * @param  {str}           str\n * @return {array|string} charlist (optional)\n */\n_.prototype.rtrim = function(str, charlist)\n{\n    if (!charlist) return str.trimEnd();\n\n    if (this.is_string(charlist))\n    {\n        let len = charlist.length; \n\n        return str.slice(-len) === charlist ? str.slice(0, -len) : str;\n    }\n\n    var ret = str;\n\n    this.each(charlist, function(i, chars)\n    {\n        var len = chars.length;\n\n        if (str.slice(-len) === chars)\n        {\n            ret = str.slice(0, -len);\n\n            return false;\n        }\n\n    }, this);\n\n    return ret;\n}\n_.prototype.to_camel_case = function(str)\n{\n    \n    str = str.trim();\n\n    // Shouldn't be changed\n    if (!str.includes(' ') && !str.includes('-') && /[A-Z]/.test(str))\n    {\n        return str;\n    }\n\n    return str.toLowerCase().replace(/['\"]/g, '').replace(/\\W+/g, ' ').replace(/ (.)/g, function($1)\n    {\n        return $1.toUpperCase();\n    })\n    .replace(/ /g, '');\n}\n/**\n * Left and right trim string.\n * \n * @param  {str}           str\n * @return {array|string} charlist (optional)\n */\n_.prototype.trim = function(str, charlist)\n{\n    if (!charlist) return str.trim();\n\n    return this.rtrim(this.ltrim(str, charlist), charlist);\n}\n/* Capatalize first letter */\n_.prototype.uc_first = function(string)\n{\n    return string.charAt(0).toUpperCase() + string.slice(1);\n}\n/* Capatalize first letter of all words */\n_.prototype.ucwords = function(str)\n{\n    return (str + '').replace(/^([a-z\\u00E0-\\u00FC])|\\s+([a-z\\u00E0-\\u00FC])/g, function($1)\n    {\n        return $1.toUpperCase();\n    });\n}\n_.prototype.lc_first = function(string)\n{\n    return string.charAt(0).toLowerCase() + string.slice(1);\n}\n/**\n * String replace\n * \n * @param  {str}           str\n * @return {array|string} charlist (optional)\n */\n_.prototype.replace = function(str, charlist, value)\n{\n    if (this.is_string(charlist) || this.is_regexp(charlist))\n    {\n        return str.replaceAll(charlist, value)\n    }\n\n    this.each(charlist, function(i, char)\n    {\n        str = str.replaceAll(char, value);\n\n    }, this);\n\n    return str;\n}\n\n\n/**\n * Checks if variable should be considered \"true\" or \"false\" using \"common sense\".\n * \n * @param   {mixed} mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.bool = function(mixed_var)\n{\n    mixed_var = (typeof mixed_var === 'undefined' ? false : mixed_var);\n\n    if (this.is_bool(mixed_var))\n    {\n        return mixed_var;\n    }\n\n    if (this.is_number(mixed_var))\n    {\n        return mixed_var > 0;\n    }\n\n    if (this.is_array(mixed_var))\n    {\n        return mixed_var.length > 0;\n    }\n\n    if (this.is_object(mixed_var))\n    {\n        return Object.keys(mixed_var).length > 0;\n    }\n\n    if (this.is_string(mixed_var))\n    {\n        mixed_var = mixed_var.toLowerCase().trim();\n\n        if (mixed_var === 'false')\n        {\n            return false;\n        }\n        if (mixed_var === 'true')\n        {\n            return true;\n        }\n        if (mixed_var === 'on')\n        {\n            return true;\n        }\n        if (mixed_var === 'off')\n        {\n            return false;\n        }\n        if (mixed_var === 'undefined')\n        {\n            return false;\n        }\n        if (this.is_numeric(mixed_var))\n        {\n            return Number(mixed_var) > 0;\n        }\n        if (mixed_var === '')\n        {\n            return false;\n        }\n    }\n\n    return false;\n}\n\n/**\n * Returns function / class name\n *\n * @param   {mixed}  mixed_var Variable to evaluate\n * @returns {string}\n */\n_.prototype.callable_name = function(mixed_var)\n{\n    if (this.is_callable(mixed_var))\n    {\n        return mixed_var.name;\n    }\n    else if (this.is_object(mixed_var))\n    {\n        return mixed_var.constructor.name;\n    }\n}\n/**\n * Count\n *\n * @access {public}\n * @param  {mixed}  mixed_var Variable to count\n * @return {int}\n */\n_.prototype.count = function(mixed_var)\n{\n    return this.size(mixed_var);\n}\n/**\n * Checks if HtmlElement is in current DOM\n *\n * @param   {HTMLElement}  element  Element to check\n * @returns {boolean}\n */\n_.prototype.in_dom = function(element)\n{\n    // Element types\n    if (element === window || element === document || element === document.body || element === document.documentElement)\n    {\n        return true;\n    }\n\n    // Not an HTML element\n    if (!this.is_htmlElement(element))\n    {\n        return false;\n    }\n\n    // No parent node\n    if (!element.parentNode) return false;\n\n    // Matching by selector is faster than traversing up the\n    // DOM tree - especially if element is deeply nested.\n    let selector = element.tagName.toLowerCase();\n\n    if (element.id && element.id.trim() !== '')\n    {\n        selector = `#${element.id}`;\n    }\n    else if (element.className && element.className.trim() !== '')\n    {\n        let classNames = this.class_names(element);\n\n        selector = classNames.length === 1 ? `.${classNames[0]}` : `.${classNames.join('.')}`;\n    }\n    else\n    {\n        let classNames = this.class_names(element.parentNode);\n\n        if (classNames.length >= 1) selector = classNames.length === 1 ? `.${classNames[0]} ${selector}` : `.${classNames.join('.')} ${selector}`;\n    }\n\n    let matches = this.find_all(selector);\n\n    // Fast check\n    if (matches.length === 1 && matches[0] === element) return true;\n\n    // Loop through\n    let ret = false;\n\n    this.each(matches, (i, match) =>\n    {\n        if (match === element)\n        {\n            ret = true;\n\n            return false;\n        }\n    });\n\n    return ret;\n}\n/**\n * Is args array.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.is_args = function(mixed_var)\n{\n    return this.var_type(mixed_var) === ARGS_TAG;\n}\n/**\n * Is array.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.is_array = function(mixed_var, strict)\n{\n    strict = typeof strict === 'undefined' ? false : strict;\n\n    let type = this.var_type(mixed_var);\n\n    return !strict ? ARRAYISH_TAGS.includes(type) : type === ARRAY_TAG;\n}\n/**\n * Is bool.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.is_bool = function(mixed_var)\n{\n    return this.var_type(mixed_var) === BOOL_TAG;\n}\n/**\n * Is Array buffer.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.is_buffer = function(mixed_var)\n{\n    return this.var_type(mixed_var) === ARRAY_BUFFER_TAG;\n}\n/**\n * Is variable a function / constructor.\n *\n * @param   {mixed}  mixed_var  Variable to check\n * @returns {boolean}\n */\n_.prototype.is_callable = function(mixed_var)\n{\n    return this.is_function(mixed_var);\n}\n/**\n * Checks if variable is a class declaration or extends a class and/or constructable function.\n *\n * @param   {mixed}                        mixed_var  Variable to evaluate\n * @oaram   {string} | undefined | boolean} classname  Classname or strict if boolean provided\n * @param   {boolean}                      strict     If \"true\" only returns true on ES6 classes (default \"false\")\n * @returns {boolean}\n */\n_.prototype.is_class = function(mixed_var, classname, strict)\n{\n    // this.is_class(foo, true)\n    if (classname === true || classname === false)\n    {\n        strict = classname;\n        classname = null;\n    }\n    // this.is_class(foo, 'Bar') || this.is_class(foo, 'Bar', false)\n    else\n    {\n        strict = typeof strict === 'undefined' ? false : strict;\n    }\n\n    if (typeof mixed_var !== 'function' || !this.is_constructable(mixed_var))\n    {\n        return false;\n    }\n\n    let isES6 = /^\\s*class\\s+\\w+/.test(mixed_var.toString());\n\n    if (classname)\n    {\n        if (!isES6 && strict)\n        {\n            return false;\n        }\n\n        if (mixed_var.name === classname || mixed_var.prototype.constructor.name === classname)\n        {\n            return true;\n        }\n\n        let protos = [];\n        let proto = mixed_var.prototype || Object.getPrototypeOf(mixed_var);\n        let ret = false;\n\n        while (proto && proto.constructor)\n        {\n            // recursive stopper\n            if (protos.includes.proto)\n            {\n                break;\n            }\n\n            protos.push(proto);\n\n            if (proto.constructor.name === classname)\n            {\n                ret = true;\n\n                break;\n            }\n\n            proto = proto.prototype || Object.getPrototypeOf(proto);\n        }\n\n        return ret;\n    }\n\n    // ES6 class declaration depending on strict\n\n    return strict ? isES6 : this.is_constructable(mixed_var);\n}\n/**\n * Checks if variable is construable.\n *\n * @param   {mixed}  mixed_var  Variable to evaluate\n * @returns {boolean}\n */\n_.prototype.is_constructable = function(mixed_var)\n{\n    // Not a function\n    if (typeof mixed_var !== 'function' || mixed_var === null)\n    {\n        return false;\n    }\n\n    // Strict ES6 class\n    if (/^\\s*class\\s+\\w+/.test(mixed_var.toString()))\n    {\n        return true;\n    }\n\n    // Native arrow functions\n    if (!mixed_var.prototype || !mixed_var.prototype.constructor)\n    {\n        return false;\n    }\n\n    // If prototype is empty \n    return this.object_props(mixed_var, true).length > 0;\n}\n/**\n * Checks if variable is constructed object function.\n *\n * @param   {mixed}  mixed_var  Variable to evaluate\n * @returns {boolean}\n */\n_.prototype.is_constructed = function(mixed_var)\n{\n    if (typeof mixed_var === 'object' && mixed_var.constructor && typeof mixed_var.constructor === 'function')\n    {\n        var constr = mixed_var.constructor.toString().trim();\n        \n        return constr.startsWith('function (') || constr.startsWith('function(') || constr.startsWith('function Object(') || constr.startsWith('class ') ;\n    }\n\n    return false;\n}\n/**\n * Is dataView obj.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.is_dataview = function(mixed_var)\n{\n    return this.var_type(mixed_var) === DATAVIEW_TAG;\n}\n/**\n * Is date object.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.is_date = function(mixed_var)\n{\n    return this.var_type(mixed_var) === DATE_TAG;\n}\n/**\n * Is empty\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.is_empty = function(mixed_var)\n{\n    if (mixed_var === false || mixed_var === null || (typeof mixed_var === 'undefined'))\n    {\n        return true;\n    }\n    else if (this.is_array(mixed_var))\n    {\n        return mixed_var.length === null || mixed_var.length <= 0;\n    }\n    else if (this.is_object(mixed_var))\n    {\n        if (Object.keys(mixed_var).length > 0) return false;\n\n        if (this.prototypes(mixed_var).length > 0) return false;\n\n        return true;\n    }\n    else if (this.is_string(mixed_var))\n    {\n        return mixed_var.trim() === '';\n    }\n    else if (this.is_number(mixed_var))\n    {\n        return isNaN(mixed_var);\n    }\n    else if (this.is_function(mixed_var))\n    {\n        return false;\n    }\n\n    return false;\n}\n/**\n * Deep check for equal\n * \n * @param   {mixed}  a\n * @param   {mixed}  b\n * @param   {bool}   strict Strict comparison (optional) (default false)\n * @returns {bool}\n * \n *  * Note that strict set to true would return false in the following:\n *  is_equal ({ foo : 'bar'}, { foo : 'bar'});\n */\n_.prototype.is_equal = function(a, b, strict)\n{    \n    strict = this.is_undefined(strict) ? false : strict;\n\n    if ((typeof a) !== (typeof b))\n    {\n        return false;\n    }\n    else if (this.is_string(a) || this.is_number(a) || this.is_bool(a) || this.is_null(a) || this.is_htmlElement(a))\n    {\n        return a === b;\n    }\n    else if (this.is_function(a))\n    {        \n        return strict ? a === b : this.__is_equal_func(a, b);\n    }\n    else if (this.is_array(a) || this.is_object(b))\n    {\n        if (strict)\n        {\n            if (a !== b || this.is_array(a) && !this.is_array(b))\n            {\n                return false;\n            }\n            \n            return true;\n        }\n        \n        return this.__is_equal_traverseable(a, b);\n    }\n\n    return true;\n}\n\n/**\n * Checks if two functions are equal\n * \n * @param   {function}  a\n * @param   {function}  b\n * @returns {boolean}\n */\n_.prototype.__is_equal_func = function(a, b)\n{\n    // Functions have the same name\n    if (a.name === b.name)\n    {\n        // If the functions were bound or cloned by the library they can technically still be equal\n        if (a.__isBound)\n        {\n            if (!b.__isBound) return false;\n\n            if (!this.is_equal(a.__boundContext, b.__boundContext)) return false;\n            \n            if (!this.is_equal(a.__origional, b.__origional)) return false;\n        }\n\n        // Check string\n        if (a.toString() !== b.toString()) return false;\n\n        // Prototypes are different\n        if (!this.__is_equal_protos(a, b)) return false;\n\n        return true;\n    }\n\n    return false;\n}\n\n/**\n * Checks if object prototypes are equal\n * \n * @param   {array} | object}  a\n * @param   {array} | object}  b\n * @returns {boolean}\n */\n_.prototype.__is_equal_protos = function(a, b)\n{\n    // Check the prototypes\n    let aProtos = this.prototypes(a);\n    let bProtos = this.prototypes(b);\n\n    if (aProtos.length !== bProtos.length) return false;\n\n    if (aProtos.length === 0 && bProtos.length === 0) return true;\n\n    let ret = true;\n\n    this.each(aProtos, (i, proto) =>\n    {                \n        if (!this.is_equal(proto, bProtos[i]))\n        {\n            ret = false;\n\n            return false;\n        }\n\n    }, this);\n\n    return ret;\n}\n\n\n/**\n * Checks if traversable's are equal\n * \n * @param   {array} | object}  a\n * @param   {array} | object}  b\n * @returns {boolean}\n */\n_.prototype.__is_equal_traverseable = function(a, b)\n{\n    if (this.size(a) !== this.size(b))\n    {\n        return false;\n    }\n\n    let ret = true;\n\n    this.each(a, function(i, val)\n    {\n        if (!this.is_equal(val, b[i]))\n        {\n            ret = false;\n\n            return false;\n        }\n    }, this);\n\n    if (!ret) return false;\n\n    if (this.is_object(a)) return this.__is_equal_protos(a, b);\n\n    return ret;\n}\n\n/**\n * Is function.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.is_function = function(mixed_var)\n{\n    return this.var_type(mixed_var) === FUNC_TAG;\n}\n/**\n * Checks if variable is HTMLElement.\n *\n * @param   {mixed}  mixed_var  Variable to evaluate\n * @returns {boolean}\n */\n_.prototype.is_htmlElement = function(mixed_var)\n{\n    if (mixed_var && mixed_var.nodeType)\n    {\n        let type = this.var_type(mixed_var);\n\n        return HTML_REGXP.test(type) || type === '[object HTMLDocument]' || type === '[object Text]';\n    }\n\n    return false;\n}\n/**\n * Is valid JSON\n * \n * @param  {mixed} str String JSON\n * @return {object|false}\n */\n_.prototype.is_json = function(str)\n{\n    var obj;\n    try\n    {\n        obj = JSON.parse(str);\n    }\n    catch (e)\n    {\n        return false;\n    }\n    return obj;\n}\n\n\n/**\n * Is Map.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.is_map = function(mixed_var)\n{\n    return this.var_type(mixed_var) === MAP_TAG;\n}\n/**\n * Is node type.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @param   {string} tag        Tag to compare\n * @returns {boolean}\n */\n_.prototype.is_node_type = function(mixed_var, tag)\n{\n    return mixed_var.tagName.toUpperCase() === tag.toUpperCase();\n}\n\n/**\n * Is nodelist.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.is_nodelist = function(mixed_var)\n{\n    return this.var_type(mixed_var) === NODELST_TAG;\n}\n/**\n * Is null.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.is_null = function(mixed_var)\n{\n    return this.var_type(mixed_var) === NULL_TAG;\n}\n/**\n * Is number.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.is_number = function(mixed_var)\n{\n    return !isNaN(mixed_var) && this.var_type(mixed_var) === NUMBER_TAG;\n}\n/**\n * Is string.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.is_numeric = function(mixed_var)\n{\n    if (this.is_number(mixed_var))\n    {\n        return true;\n    }\n    else if (this.is_string(mixed_var))\n    {\n        return /^-?(0|[1-9]\\d*)(\\.\\d+)?$/.test(mixed_var.trim());\n    }\n\n    return false;\n}\n/**\n * Checks if variable is an object.\n *\n * @param   {mixed}  mixed_var Variable to evaluate\n * @returns {boolean}\n */\n_.prototype.is_object = function(mixed_var)\n{\n    return mixed_var !== null && this.var_type(mixed_var) === OBJECT_TAG;\n}\n/**\n * Is regexp.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.is_regexp = function(mixed_var)\n{\n    return this.var_type(mixed_var) === REGEXP_TAG;\n}\n/**\n * Is Set.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.is_set = function(mixed_var)\n{\n    return this.var_type(mixed_var) === SET_TAG;\n}\n/**\n * Is string.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.is_string = function(mixed_var)\n{\n    return this.var_type(mixed_var) === STRING_TAG;\n}\n/**\n * Is Symbol.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.is_symbol = function(mixed_var)\n{\n    return this.var_type(mixed_var) === SYMBOL_TAG;\n}\n/**\n * Is undefined.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {boolean}\n */\n_.prototype.is_undefined = function(mixed_var)\n{\n    return this.var_type(mixed_var) === UNDEF_TAG;\n}\n/**\n * Returns array/object/string/number size.\n * \n * @param   {mixed}  mixed_var  Variable to test\n * @returns {number}\n */\n_.prototype.size = function(mixed_var)\n{\n    if (this.is_string(mixed_var) || this.is_array(mixed_var))\n    {\n        return mixed_var.length;\n    }\n    else if (this.is_number(mixed_var))\n    {\n        return mixed_var;\n    }\n    else if (this.is_bool(mixed_var))\n    {\n        return mixed_var === true ? 1 : -1;\n    }\n    else(this.is_object(mixed_var))\n    {\n        return Object.keys(mixed_var).length;\n    }\n\n    return 1;\n}\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @public\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\n_.prototype.var_type = function(value)\n{\n    if (value == null)\n    {\n        return value === undefined ? '[object Undefined]' : '[object Null]'\n    }\n\n    return TO_STR.call(value);\n}\n// Destructor\n_.prototype.destruct = function()\n{\n    this.clear_event_listeners();\n}\n\nContainer.singleton('_', _);\n\n})();\n\n// frontbx core\n(function()\n{\n    /**\n     * Application core\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Application = function()\n    {\n        this.version_major = '0';\n\n        this.version_minor = '0';\n\n        this.version_patch = '1';\n\n        this.version = `${this.version_major}.${this.version_minor}.${this.version_patch }`;\n    }\n\n    /**\n     * Called when the application is first initialized\n     *\n     * @access {public}\n     */\n    Application.prototype.boot = function()\n    {        \n        this.dom().boot();\n\n        this._().trigger_event(window, 'frontbx:ready', this);\n    }\n\n    /**\n     * Get the DOM component\n     *\n     * @access {public}\n     * @return {object}\n     */\n    Application.prototype.dom = function()\n    {\n        return this.Dom();\n    }\n\n    Container._().trigger_event(window, 'frontbx:loading');\n\n    const app = Container._().extend(Container, new Application);\n\n    window.Container = undefined;\n\n    delete window['Container'];\n\n    // Set global\n    window.frontbx = app;\n\n    console.log(app);\n\n})();\n(function()\n{\n    /**\n     * Utility functions\n     *\n     * @var {Function}\n     */\n    const [each, trigger_event, collect_garbage, is_undefined, is_string, is_htmlElement] = frontbx.import(['each', 'trigger_event', 'collect_garbage', 'is_undefined', 'is_string', 'is_htmlElement']).from('_');\n\n    /**\n     * Prefix for container.\n     *\n     * @var {String}\n     */\n    const KEYPREFIX = 'HB_DOM:';\n\n    /**\n     * DOM Manager\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Dom = function()\n    {\n        this._isReady = false;\n\n        this.components = [];\n    }\n\n    /**\n     * Boot Dom\n     *\n     * @access {public}\n     * @param {string} name   Name of the module\n     * @param {object} module Uninvoked module object\n     */\n    Dom.prototype.boot = function()\n    {\n        each(this.components, function(i, name)\n        {\n            this._bindComponent(name, document);\n\n        }, this);\n\n        this._dispatchReady();\n\n        this._isReady = true;\n    }\n\n    /**\n     * Register a DOM component\n     *\n     * @access {public}\n     * @param {string} name   Name of the module\n     * @param {object} module Uninvoked module object\n     * @param {bool}   invoke Invoke the module immediately (optional) (default false)\n     */\n    Dom.prototype.register = function(name, component, invoke)\n    {\n        invoke = (typeof invoke === 'undefined' ? false : invoke);\n\n        this.components.push(name);\n\n        frontbx.singleton(this._normaliseKey(name), component);\n\n        if (invoke || this._isReady)\n        {\n            this._bindComponent(name, document);\n        }\n    }\n\n    /**\n     * Returns a component.\n     *\n     * @access {public}\n     */\n    Dom.prototype.component = function(name)\n    {\n        return frontbx.get(this._normaliseKey(name));\n    }\n\n    /**\n     * Returns a component.\n     *\n     * @access {public}\n     */\n    Dom.prototype.create = function(name, options, appendTo)\n    {\n        return this.component(name).create(options, appendTo);\n    }\n\n    /**\n     * Boot Dom\n     *\n     * @access {public}\n     * @param {string} name   Name of the module\n     * @param {object} module Uninvoked module object\n     */\n    Dom.prototype._dispatchReady = function()\n    {\n        trigger_event(window, 'frontbx:dom:ready', {dom: this});\n    }\n\n    /**\n     * Boot Dom\n     *\n     * @access {public}\n     * @param {string} name   Name of the module\n     * @param {object} module Uninvoked module object\n     */\n    Dom.prototype._dispatchComponent = function(name, event, component, context)\n    {\n        trigger_event(window, `frontbx:dom:${event}:${name}`, { component: component, context: context});\n    }\n\n    /**\n     * Bind a single module\n     *\n     * @param {string} key Name of module to bind\n     * @access {private}\n     */\n    Dom.prototype._bindComponent = function(name, context, isRefresh)\n    {                \n        let component = frontbx.get(this._normaliseKey(name));\n\n        if (this._hasMethod(component, 'construct') && isRefresh)\n        {\n            component.construct(context);\n            \n            this._dispatchComponent(name, 'refresh', component, context);\n        }\n\n        this._dispatchComponent(name, 'bind', component, context);\n    }\n\n    /**\n     * Unbind a single module\n     *\n     * @param  {string}  key Name of module to unbind\n     * @access {private}\n     */\n    Dom.prototype._unbindComponent = function(name, context)\n    {            \n        let component = frontbx.get(this._normaliseKey(name));\n\n        if (this._hasMethod(component, 'destruct'))\n        {\n            component.destruct(context);\n        }\n\n        this._dispatchComponent(name, 'unbind', component, context);\n    }\n\n    /**\n     * Refresh the DOM modiules or a string module\n     *\n     * @access {public}\n     * @param  {string}               name    Name of the module (optional) (default false)\n     * @param  {DOMElement|undefined} context Context to refresh (default document)\n     */\n    Dom.prototype.refresh = function(component, context)\n    {\n        let globalRefresh = false;\n\n        // refresh()\n        if (arguments.length === 0)\n        {\n            component = false;\n\n            context = document;\n\n            globalRefresh = true;\n        }\n        else\n        {\n            // refresh(DOMElement)\n            if (is_htmlElement(component))\n            {\n                context  = component;\n                \n                component = false;\n\n                globalRefresh = true;\n            }\n\n            // refresh('module')\n            // refresh('module', DOMElement)\n            else if (is_string(component))\n            {\n                context = is_undefined(context) ? document : context;\n            }\n        }\n\n        each(this.components, function(i, name)\n        {\n            if (!component || component === name)\n            {\n                this._unbindComponent(name, context);\n\n                this._bindComponent(name, context, true);\n            }\n        }, this);\n\n        collect_garbage();\n\n        trigger_event(window, `frontbx:dom:refresh`, { context: context});\n\n        if (globalRefresh) this._dispatchReady();\n    }\n\n    /**\n     * Checks if a class object has a method by name\n     *\n     * @access {private}\n     * @param  {mixed}  classObj The object instance or reference\n     * @param  {string} method   The name of the method to check for\n     * @return {bool}\n     */\n    Dom.prototype._hasMethod = function(classObj, method)\n    {\n        return typeof classObj === 'object' && typeof classObj[method] === 'function';\n    }\n\n    /**\n     * Normalize key\n     *\n     * @access {public}\n     * @param {string} name   Name of the module\n     * @param {object} module Uninvoked module object\n     */\n    Dom.prototype._normaliseKey = function(key)\n    {\n        return `${KEYPREFIX}${key}`;\n    }\n\n    // Load into container and invoke\n    frontbx.singleton('Dom', Dom);\n    \n})();\n(function()\n{\n    const [find_all, each, map, traverse_up, is_empty, array_unique] = frontbx.import(['find_all','each','map','traverse_up','is_empty','array_unique']).from('_');\n\n    /**\n     * Component base class\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Component = function(selector)\n    {\n        /**\n         * Default props.\n         *\n         * @var {object}\n         */\n        this.defaultProps = !this.defaultProps ? {} : this.defaultProps;\n\n        /**\n         * Selector.\n         *\n         * @var {string}\n         */\n        this._selector = selector;\n\n        /**\n         * Dom elements\n         *\n         * @var {array}\n         */\n        this._DOMElements = [];\n\n        // Init\n        if (!is_empty(this._selector)) this.construct(document);\n\n        return this;\n    }\n\n    /**\n     * Module constructor\n     *\n     * @access {public}\n     */\n    Component.prototype.construct = function(context)\n    {\n        if (is_empty(this._selector)) return;\n\n        let nodes = map(find_all(this._selector, context, context !== document), (i, node) => !this._DOMElements.includes(node) ? node : false);\n\n        if (!is_empty(nodes))\n        {\n            this._DOMElements = [...this._DOMElements, ...nodes];\n\n            each(nodes, (i, node) => this.bind(node), this);\n        }\n    }\n\n    /**\n     * Module destructor\n     *\n     * @access {public}\n     */\n    Component.prototype.destruct = function(context)\n    {\n        if (!context || context === document)\n        {\n            each(this._DOMElements, (i, node) => this.unbind(node), this);\n            \n            this._DOMElements = [];\n\n            return;\n        }\n\n        each(this._DOMElements, (i, DOMElement) =>\n        {\n            if (DOMElement === context)\n            {\n                this.unbind(DOMElement);\n\n                this._DOMElements.splice(i, 1);\n            }\n            else\n            {\n                traverse_up(DOMElement, (parent) =>\n                {                \n                    if (parent === context)\n                    {\n                        this.unbind(DOMElement);\n\n                        this._DOMElements.splice(i, 1);\n\n                        return false;\n                    }\n                });\n            }\n        });\n    }\n\n    /**\n     * Create DOM elements and bind\n     * \n     */\n    Component.prototype.create = function(props, appendTo)\n    {\n        props = !props ? {} : props;\n\n        props = {...this.defaultProps, ...props};\n\n        let node = this.template(props);\n\n        if (appendTo) appendTo.appendChild(node);\n\n        frontbx.Dom().refresh(node);\n\n        return node;\n    }\n\n    /**\n     * Template abstract method\n     *\n     * @access {public}\n     */\n    Component.prototype.template = function()\n    {\n        throw new Error('[template] method must be implemented.');\n    }\n\n\n    /**\n     * Bind abstract method\n     *\n     * @access {public}\n     */\n    Component.prototype.bind = function(context)\n    {\n        throw new Error('[bind] method must be implemented.');\n    }\n\n    /**\n     * Unbind abstract method\n     *\n     * @access {public}\n     */\n    Component.prototype.unbind = function(context)\n    {\n        throw new Error('[unbind] method must be implemented.');\n    }\n\n    // Register\n    frontbx.set('Component', [Component]);\n\n})();\n\n// lazyload\n(function()\n{\n    if (!window.LAZY_FALLBACK_IMAGE)\n    {\n        window.LAZY_FALLBACK_IMAGE = 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBmaWxsPSJ3aGl0ZSI+CiAgPHBhdGggZD0iTTAgNCBMMCAyOCBMMzIgMjggTDMyIDQgeiBNNCAyNCBMMTAgMTAgTDE1IDE4IEwxOCAxNCBMMjQgMjR6IE0yNSA3IEE0IDQgMCAwIDEgMjUgMTUgQTQgNCAwIDAgMSAyNSA3Ij48L3BhdGg+Cjwvc3ZnPg==';\n    }\n\n    /**\n     * JS Async Queue\n     *\n     * @see https://medium.com/@griffinmichl/asynchronous-javascript-queue-920828f6327\n     */\n    var Queue = function(concurrency)\n    {\n        this.running     = 0;\n        this.concurrency = concurrency;\n        this.taskQueue   = [];\n        \n        return this;\n    }\n\n    Queue.prototype.add = function(task)\n    {\n        if (this.running < this.concurrency)\n        {\n            this._runTask(task);\n        }\n        else\n        {\n            this._enqueueTask(task);\n        }\n    }\n\n    Queue.prototype.next = function()\n    {        \n        this.running--;\n\n        if (this.taskQueue.length > 0)\n        {\n            this._runTask(this.taskQueue.shift());\n        }\n    }\n\n    Queue.prototype._runTask = function(task)\n    {       \n        this.running++;\n\n        task(this);\n    }\n\n    Queue.prototype._enqueueTask = function(task)\n    {\n        this.taskQueue.push(task);\n    }\n\n    /**\n     * Module constructor\n     *\n     * @access public\n     * @constructor\n     * @return this\n     */\n    const LazyLoad = function()\n    {\n        this._DOMElements = [];\n\n        this.construct(document);       \n\n        return this;\n    }\n\n    /**\n     * Destroy\n     *\n     * @access public\n     */\n    LazyLoad.prototype.construct = function(context)\n    {               \n        this._queue = new Queue(15);\n\n        let nodes = Array.prototype.slice.call(context.querySelectorAll('.js-lazyload'));\n\n        if (nodes.length >= 1)\n        {\n            for (var i = 0; i < nodes.length; i++)\n            {\n                this.bind(nodes[i]);\n            }\n\n            this._DOMElements = [...this._DOMElements, ...nodes];\n        }\n    }\n\n    /**\n     * Destroy\n     *\n     * @access public\n     */\n    LazyLoad.prototype.destruct = function(context)\n    {       \n        if (!context || context === document)\n        {            \n            this._DOMElements = [];\n\n            return;\n        }\n\n        const [each, closest] = frontbx.import(['each', 'closest']).from('_');\n\n        each(this._DOMElements, function(i, DOMElement)\n        {                \n            if (closest(DOMElement, context))\n            {\n                this._DOMElements.splice(i, 1);\n            }\n\n        }, this);\n    }\n\n    /**\n     * Bind and load images\n     *\n     * @access private\n     */\n    LazyLoad.prototype.bind = function(node)\n    {\n        var url = this._getSrc(node);\n\n        if (this._canLoad(node))\n        {\n            this._loadImage(node, url, this._isImage(node));\n        }\n    }\n\n    /**\n     * Bind and load images\n     *\n     * @access private\n     * @param  node    node    DOM node\n     * @param  string  url     The image URL to load\n     * @param  bool    isImage Is the node an <img> tag\n     */\n    LazyLoad.prototype._loadImage = function(node, url, isImage)\n    {\n        // Placeholder and image are the same\n        if (isImage && node.src === url)\n        {\n            this._markLoaded(node);\n        }\n        else\n        {\n            this._queue.add(this._getLoadFunc(node, url, isImage));\n        }\n    }\n\n    /**\n     * Return the image load function\n     *\n     * @access private\n     * @param  node    node       DOM node\n     * @param  string  url        The image URL to load\n     * @param  bool    isImage    Is the node an <img> tag?\n     * @return function\n     */\n    LazyLoad.prototype._getLoadFunc = function(node, url, isImage)\n    {\n        const _this = this;\n\n        let _fallback = window.LAZY_FALLBACK_IMAGE;\n\n        return function loadImage(queue)\n        {\n            var _image = new Image();\n\n            _image.onload = function()\n            {\n                if (isImage)\n                {\n                    node.src = url;\n                }\n                else\n                {\n                    node.style.backgroundImage = 'url('+ url +')';\n                }\n\n                _this._markLoaded(node);\n\n                _image.onload  = {};\n                _image.onerror = {};\n                \n                queue.next();\n            };\n\n            _image.onerror = function()\n            {\n                if (isImage)\n                {\n                    node.src = _fallback;\n                }\n                else\n                {\n                    node.style.backgroundImage = `url(\"${_fallback}\")`;\n                }\n\n                _this._markFailed(node);\n\n                queue.next();\n\n                _image.onload  = {};\n                _image.onerror = {};\n            };\n\n            _image.classList.add('lazy-loading');\n\n            _image.src = url;\n        };\n    }\n\n    /**\n     * Mark node as loaded\n     *\n     * @access private\n     * @param  node    node Image node element\n     * @return string\n     */\n    LazyLoad.prototype._markFailed = function(node)\n    {\n        node.classList.add('failed');\n\n        this._markLoaded(node);\n    }\n\n    /**\n     * Mark node as loaded\n     *\n     * @access private\n     * @param  node    node Image node element\n     * @return string\n     */\n    LazyLoad.prototype._markLoaded = function(node)\n    {\n        node.classList.add('lazy-loaded');\n\n        node.classList.remove('lazy-loading');\n    }\n\n    /**\n     * Get an image's src attribute\n     *\n     * @access private\n     * @param  node    node Image node element\n     * @return string\n     */\n    LazyLoad.prototype._getSrc = function(node)\n    {\n        return node.getAttribute('data-src') || node.dataset.src;\n    }\n\n    /**\n     * Should we load this image\n     *\n     * @access private\n     * @param  node    node Image node element\n     * @return bool\n     */\n    LazyLoad.prototype._canLoad = function(node)\n    {\n        return typeof this._getSrc(node) !== 'undefined' && (!node.classList.contains('lazy-loading') || !node.classList.contains('lazy-loaded'));\n    }\n\n    /**\n     * Is node an image\n     *\n     * @access private\n     * @param  node    node Image node element\n     * @return bool\n     */\n    LazyLoad.prototype._isImage = function(node)\n    {\n        return node.nodeName.toLowerCase() === 'img';\n    }\n\n    if (!window.frontbx)\n    {\n        window.addEventListener('DOMContentLoaded', () =>\n        {\n            // Invoke and start loading images\n            const lazy = new LazyLoad();\n\n            // Listen for frontbx:ready and register into dom\n            // Will not be invoked unless dom().refresh() is called\n            frontbx.dom().register('LazyLoad', lazy, false);\n        })\n    }\n    \n})();\n\n// vendors\n(function()\n{\n        /* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress * @license MIT */\n        var NProgress = {};\n\n        NProgress.version = '0.2.0';\n\n        var Settings = NProgress.settings = {\n            minimum: 0.08,\n            easing: 'linear',\n            positionUsing: '',\n            speed: 200,\n            trickle: true,\n            trickleSpeed: 200,\n            showSpinner: true,\n            barSelector: '[role=\"bar\"]',\n            spinnerSelector: '[role=\"spinner\"]',\n            parent: 'body',\n            template: '<div class=\"bar\" role=\"bar\"><div class=\"peg\"></div></div><div class=\"spinner\" role=\"spinner\"><div class=\"spinner-icon\"></div></div>'\n        };\n\n        /**\n        * Updates configuration.\n        *\n        *     NProgress.configure({\n        *       minimum: 0.1\n        *     });\n        */\n        NProgress.configure = function(options) {\n            var key, value;\n            for (key in options) {\n                value = options[key];\n                if (value !== undefined && options.hasOwnProperty(key)) Settings[key] = value;\n            }\n\n            return this;\n        };\n\n    /**\n    * Last number.\n    */\n\n        NProgress.status = null;\n\n    /**\n    * Sets the progress bar status, where `n` is a number from `0.0` to `1.0`.\n    *\n    *     NProgress.set(0.4);\n    *     NProgress.set(1.0);\n    */\n\n        NProgress.set = function(n) {\n            var started = NProgress.isStarted();\n\n            n = clamp(n, Settings.minimum, 1);\n            NProgress.status = (n === 1 ? null : n);\n\n            var progress = NProgress.render(!started),\n            bar      = progress.querySelector(Settings.barSelector),\n            speed    = Settings.speed,\n            ease     = Settings.easing;\n\n    progress.offsetWidth; /* Repaint */\n\n            queue(function(next) {\n    // Set positionUsing if it hasn't already been set\n                if (Settings.positionUsing === '') Settings.positionUsing = NProgress.getPositioningCSS();\n\n    // Add transition\n                css(bar, barPositionCSS(n, speed, ease));\n\n                if (n === 1) {\n      // Fade out\n                  css(progress, {\n                    transition: 'none',\n                    opacity: 1\n                });\n      progress.offsetWidth; /* Repaint */\n\n                  setTimeout(function() {\n                    css(progress, {\n                      transition: 'all ' + speed + 'ms linear',\n                      opacity: 0\n                  });\n                    setTimeout(function() {\n                      NProgress.remove();\n                      next();\n                  }, speed);\n                }, speed);\n              } else {\n                  setTimeout(next, speed);\n              }\n          });\n\n            return this;\n        };\n\n        NProgress.isStarted = function() {\n            return typeof NProgress.status === 'number';\n        };\n\n    /**\n    * Shows the progress bar.\n    * This is the same as setting the status to 0%, except that it doesn't go backwards.\n    *\n    *     NProgress.start();\n    *\n    */\n        NProgress.start = function() {\n            if (!NProgress.status) NProgress.set(0);\n\n            var work = function() {\n                setTimeout(function() {\n                  if (!NProgress.status) return;\n                  NProgress.trickle();\n                  work();\n              }, Settings.trickleSpeed);\n            };\n\n            if (Settings.trickle) work();\n\n            return this;\n        };\n\n    /**\n    * Hides the progress bar.\n    * This is the *sort of* the same as setting the status to 100%, with the\n    * difference being `done()` makes some placebo effect of some realistic motion.\n    *\n    *     NProgress.done();\n    *\n    * If `true` is passed, it will show the progress bar even if its hidden.\n    *\n    *     NProgress.done(true);\n    */\n\n        NProgress.done = function(force) {\n            if (!force && !NProgress.status) return this;\n\n            return NProgress.inc(0.3 + 0.5 * Math.random()).set(1);\n        };\n\n    /**\n    * Increments by a random amount.\n    */\n\n        NProgress.inc = function(amount) {\n            var n = NProgress.status;\n\n            if (!n) {\n                return NProgress.start();\n            } else if(n > 1) {\n                return;\n            } else {\n                if (typeof amount !== 'number') {\n                  if (n >= 0 && n < 0.2) { amount = 0.1; }\n                  else if (n >= 0.2 && n < 0.5) { amount = 0.04; }\n                  else if (n >= 0.5 && n < 0.8) { amount = 0.02; }\n                  else if (n >= 0.8 && n < 0.99) { amount = 0.005; }\n                  else { amount = 0; }\n              }\n\n              n = clamp(n + amount, 0, 0.994);\n              return NProgress.set(n);\n          }\n      };\n\n      NProgress.trickle = function() {\n        return NProgress.inc();\n    };\n\n    /**\n    * Waits for all supplied jQuery promises and\n    * increases the progress as the promises resolve.\n    *\n    * @param $promise jQUery Promise\n    */\n    (function() {\n        var initial = 0, current = 0;\n\n        NProgress.promise = function($promise) {\n            if (!$promise || $promise.state() === \"resolved\") {\n              return this;\n          }\n\n          if (current === 0) {\n              NProgress.start();\n          }\n\n          initial++;\n          current++;\n\n          $promise.always(function() {\n              current--;\n              if (current === 0) {\n                  initial = 0;\n                  NProgress.done();\n              } else {\n                  NProgress.set((initial - current) / initial);\n              }\n          });\n\n          return this;\n      };\n\n    })();\n\n    /**\n    * (Internal) renders the progress bar markup based on the `template`\n    * setting.\n    */\n\n    NProgress.render = function(fromStart) {\n        if (NProgress.isRendered()) return document.getElementById('nprogress');\n\n        addClass(document.documentElement, 'nprogress-busy');\n\n        var progress = document.createElement('div');\n        progress.id = 'nprogress';\n        progress.innerHTML = Settings.template;\n\n\n\n        var bar = progress.querySelector(Settings.barSelector),\n        perc = fromStart ? '-100' : toBarPerc(NProgress.status || 0),\n        parent = isDOM(Settings.parent)\n        ? Settings.parent\n        : document.querySelector(Settings.parent),\n        spinner\n\n        css(bar, {\n            transition: 'all 0 linear',\n            transform: 'translate3d(' + perc + '%,0,0)'\n        });\n\n        if (!Settings.showSpinner) {\n            spinner = progress.querySelector(Settings.spinnerSelector);\n            spinner && removeElement(spinner);\n        }\n\n        if (parent != document.body) {\n            addClass(parent, 'nprogress-custom-parent');\n        }\n\n        parent.appendChild(progress);\n        return progress;\n    };\n\n    /**\n    * Removes the element. Opposite of render().\n    */\n\n    NProgress.remove = function() {\n        removeClass(document.documentElement, 'nprogress-busy');\n        var parent = isDOM(Settings.parent)\n        ? Settings.parent\n        : document.querySelector(Settings.parent)\n        removeClass(parent, 'nprogress-custom-parent')\n        var progress = document.getElementById('nprogress');\n        progress && removeElement(progress);\n    };\n\n    /**\n    * Checks if the progress bar is rendered.\n    */\n\n    NProgress.isRendered = function() {\n        return !!document.getElementById('nprogress');\n    };\n\n    /**\n    * Determine which positioning CSS rule to use.\n    */\n\n    NProgress.getPositioningCSS = function() {\n    // Sniff on document.body.style\n        var bodyStyle = document.body.style;\n\n    // Sniff prefixes\n        var vendorPrefix = ('WebkitTransform' in bodyStyle) ? 'Webkit' :\n        ('MozTransform' in bodyStyle) ? 'Moz' :\n        ('msTransform' in bodyStyle) ? 'ms' :\n        ('OTransform' in bodyStyle) ? 'O' : '';\n\n        if (vendorPrefix + 'Perspective' in bodyStyle) {\n    // Modern browsers with 3D support, e.g. Webkit, IE10\n            return 'translate3d';\n        } else if (vendorPrefix + 'Transform' in bodyStyle) {\n    // Browsers without 3D support, e.g. IE9\n            return 'translate';\n        } else {\n    // Browsers without translate() support, e.g. IE7-8\n            return 'margin';\n        }\n    };\n\n    /**\n    * Helpers\n    */\n\n    function isDOM (obj) {\n        if (typeof HTMLElement === 'object') {\n            return obj instanceof HTMLElement\n        }\n        return (\n            obj &&\n            typeof obj === 'object' &&\n            obj.nodeType === 1 &&\n            typeof obj.nodeName === 'string'\n            )\n    }\n\n    function clamp(n, min, max) {\n        if (n < min) return min;\n        if (n > max) return max;\n        return n;\n    }\n\n    /**\n    * (Internal) converts a percentage (`0..1`) to a bar translateX\n    * percentage (`-100%..0%`).\n    */\n\n    function toBarPerc(n) {\n        return (-1 + n) * 100;\n    }\n\n\n    /**\n    * (Internal) returns the correct CSS for changing the bar's\n    * position given an n percentage, and speed and ease from Settings\n    */\n\n    function barPositionCSS(n, speed, ease) {\n        var barCSS;\n\n        if (Settings.positionUsing === 'translate3d') {\n            barCSS = { transform: 'translate3d('+toBarPerc(n)+'%,0,0)' };\n        } else if (Settings.positionUsing === 'translate') {\n            barCSS = { transform: 'translate('+toBarPerc(n)+'%,0)' };\n        } else {\n            barCSS = { 'margin-left': toBarPerc(n)+'%' };\n        }\n\n        barCSS.transition = 'all '+speed+'ms '+ease;\n\n        return barCSS;\n    }\n\n    /**\n    * (Internal) Queues a function to be executed.\n    */\n\n    var queue = (function() {\n        var pending = [];\n\n        function next() {\n            var fn = pending.shift();\n            if (fn) {\n              fn(next);\n          }\n      }\n\n      return function(fn) {\n        pending.push(fn);\n        if (pending.length == 1) next();\n    };\n    })();\n\n    /**\n    * (Internal) Applies css properties to an element, similar to the jQuery\n    * css method.\n    *\n    * While this helper does assist with vendor prefixed property names, it\n    * does not perform any manipulation of values prior to setting styles.\n    */\n\n    var css = (function() {\n        var cssPrefixes = [ 'Webkit', 'O', 'Moz', 'ms' ],\n        cssProps    = {};\n\n        function camelCase(string) {\n            return string.replace(/^-ms-/, 'ms-').replace(/-([\\da-z])/gi, function(match, letter) {\n              return letter.toUpperCase();\n          });\n        }\n\n        function getVendorProp(name) {\n            var style = document.body.style;\n            if (name in style) return name;\n\n            var i = cssPrefixes.length,\n            capName = name.charAt(0).toUpperCase() + name.slice(1),\n            vendorName;\n            while (i--) {\n              vendorName = cssPrefixes[i] + capName;\n              if (vendorName in style) return vendorName;\n          }\n\n          return name;\n      }\n\n      function getStyleProp(name) {\n        name = camelCase(name);\n        return cssProps[name] || (cssProps[name] = getVendorProp(name));\n    }\n\n    function applyCss(element, prop, value) {\n        prop = getStyleProp(prop);\n        element.style[prop] = value;\n    }\n\n    return function(element, properties) {\n        var args = arguments,\n        prop,\n        value;\n\n        if (args.length == 2) {\n          for (prop in properties) {\n            value = properties[prop];\n            if (value !== undefined && properties.hasOwnProperty(prop)) applyCss(element, prop, value);\n        }\n    } else {\n      applyCss(element, args[1], args[2]);\n    }\n    }\n    })();\n\n    /**\n    * (Internal) Determines if an element or space separated list of class names contains a class name.\n    */\n\n    function hasClass(element, name) {\n        var list = typeof element == 'string' ? element : classList(element);\n        return list.indexOf(' ' + name + ' ') >= 0;\n    }\n\n    /**\n    * (Internal) Adds a class to an element.\n    */\n\n    function addClass(element, name) {\n        var oldList = classList(element),\n        newList = oldList + name;\n\n        if (hasClass(oldList, name)) return;\n\n    // Trim the opening space.\n        element.className = newList.substring(1);\n    }\n\n    /**\n    * (Internal) Removes a class from an element.\n    */\n\n    function removeClass(element, name) {\n        var oldList = classList(element),\n        newList;\n\n        if (!hasClass(element, name)) return;\n\n    // Replace the class name.\n        newList = oldList.replace(' ' + name + ' ', ' ');\n\n    // Trim the opening and closing spaces.\n        element.className = newList.substring(1, newList.length - 1);\n    }\n\n    /**\n    * (Internal) Gets a space separated list of the class names on the element.\n    * The list is wrapped with a single space on each end to facilitate finding\n    * matches within the list.\n    */\n\n    function classList(element) {\n        return (' ' + (element && element.className || '') + ' ').replace(/\\s+/gi, ' ');\n    }\n\n    /**\n    * (Internal) Removes an element from the DOM.\n    */\n\n    function removeElement(element) {\n        element && element.parentNode && element.parentNode.removeChild(element);\n    }\n\n    // Load into container \n    frontbx.singleton('NProgress', NProgress);\n\n})();\n\n// utility\n// utility\n(function()\n{\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [each, is_function, is_object, is_array_last, is_empty, callable_name] = frontbx.import(['each','is_function','is_object','is_array_last','is_empty','callable_name']).from('_');\n\n    /**\n     * Named callbacks\n     * \n     * @var {array}\n     */\n    const NAMED_CALLBACKS = ['success', 'error', 'complete', 'abort', 'progress'];\n\n    /**\n     * JS Queue\n     *\n     * @class\n     * @see {https://medium.com/@griffinmichl/asynchronous-javascript-queue-920828f6327}\n     */\n    const Queue = function(concurrency)\n    {\n        this.running = 0;\n        this.concurrency = concurrency;\n        this.taskQueue = [];\n    };\n\n    Queue.prototype.add = function(task, _this, _args)\n    {\n        if (this.running < this.concurrency)\n        {\n            this._runTask(task, _this, _args);\n        }\n        else\n        {\n            this._enqueueTask(task, _this, _args);\n        }\n    }\n\n    Queue.prototype.next = function()\n    {\n        this.running--;\n\n        if (this.taskQueue.length > 0)\n        {\n            var task = this.taskQueue.shift();\n\n            this._runTask(task['callback'], task['_this'], task['_args']);\n        }\n    }\n\n    Queue.prototype._runTask = function(task, _this, _args)\n    {\n        this.running++;\n\n        task.apply(_this, _args);\n    }\n\n    Queue.prototype._enqueueTask = function(task, _this, _args)\n    {\n        this.taskQueue.push(\n        {\n            'callback': task,\n            '_this': _this,\n            '_args': _args\n        });\n    }\n\n    const AJAX_QUEUE = new Queue(15);\n\n    /**\n     * Module constructor\n     *\n     * @access {public}\n     * @class\n     */\n    const Ajax = function()\n    {\n        this._reset();\n    }\n\n    /**\n     * Reset internals.\n     *\n     * @return {this}\n     */\n    Ajax.prototype._reset = function()\n    {\n        this._settings =\n        {\n            'url': '',\n            'async': true,\n            'timeout': 10000,\n            'headers':\n            {\n                'Content-Type': 'application/x-www-form-urlencoded',\n                'Accepts': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9',\n                'Cache-Control': 'no-cache',\n                'Pragma': 'no-cache'\n            },\n        };\n\n        this._complete = () => {};\n        this._success  = () => {};\n        this._error    = () => {};\n        this._abort    = () => {};\n        this._progress = () => {};\n        this._xhr      = null;\n    }\n\n    /**\n     * Ajax Methods \n     *\n     * @access {public}\n     * @param  {string}        url     Destination URL\n     * @param  {string|object} data    Data (optional)\n     * @param  {function}      success Success callback (optional)\n     * @param  {function}      error   Error callback (optional)\n     * @param  {function}      abort   Abort callback (optional)\n     * @param  {object}        headers Request headers (optional)\n     * @return {this}\n     */\n    Ajax.prototype.post = function(url, data, success, error, complete, abort, headers)\n    {\n        this._setResponseHandlers('POST', url, data, success, error, complete, abort, headers);\n\n        AJAX_QUEUE.add(this._call, this);\n\n        return this;\n    }\n    Ajax.prototype.get = function(url, data, success, error, complete, abort, headers)\n    {\n        this._setResponseHandlers('GET', url, data, success, error, complete, abort, headers);\n\n        AJAX_QUEUE.add(this._call, this);\n\n        return this;\n    }\n    Ajax.prototype.head = function(url, data, success, error, complete, abort, headers)\n    {\n        this._setResponseHandlers('HEAD', url, data, success, error, complete, abort, headers);\n\n        AJAX_QUEUE.add(this._call, this);\n\n        return this;\n    }\n    Ajax.prototype.put = function(url, data, success, error, complete, abort, headers)\n    {\n        this._setResponseHandlers('PUT', url, data, success, error, complete, abort, headers);\n\n        AJAX_QUEUE.add(this._call, this);\n\n        return this;\n    }\n    Ajax.prototype.delete = function(url, data, success, error, complete, abort, headers)\n    {\n        this._setResponseHandlers('DELETE', url, data, success, error, complete, abort, headers);\n\n        AJAX_QUEUE.add(this._call, this);\n\n        return this;\n    }\n    Ajax.prototype.upload = function(url, data, success, error, complete, abort, progress, headers)\n    {\n        this._settings.async = true;\n\n        this._setResponseHandlers('UPLOAD', url, data, success, error, complete, abort, headers, progress);\n\n        AJAX_QUEUE.add(this._call, this);\n\n        return this;\n    }\n\n\n    /**\n     * Set async\n     *\n     * @param  {function}  callback Callback function\n     * @return {this}\n     */\n    Ajax.prototype.async = function(bool)\n    {\n        this._settings.async = bool;\n\n        return this;\n    }\n\n    /**\n     * Adds headers\n     *\n     * @param  {object}  headers\n     * @return {this}\n     */\n    Ajax.prototype.headers = function(_headers)\n    {\n        this._settings.headers = {...this._settings.headers, ..._headers};\n\n        return this;\n    }\n\n    /**\n     * Adds progress handler\n     *\n     * @param  {object}  headers\n     * @return {this}\n     */\n    Ajax.prototype.progress = function(callback)\n    {\n        this._progress = callback;\n\n        return this;\n    }\n\n    /**\n     * Success function\n     *\n     * @param  {function}  callback Callback function\n     * @return {this}\n     */\n    Ajax.prototype.success = function(callback)\n    {\n        this._success = callback;\n\n        return this;\n    }\n\n    /**\n     * Error function\n     *\n     * @param  {function}  callback Callback function\n     * @return {this}\n     */\n    Ajax.prototype.error = function(callback)\n    {\n        this._error = callback;\n\n        return this;\n    }\n\n    /**\n     * Alias for complete\n     *\n     * @param  {function}  callback Callback function\n     * @return {this}\n     */\n    Ajax.prototype.then = function(callback)\n    {\n        return this.complete(callback);\n    }\n\n    /**\n     * Complete function\n     *\n     * @param  {function}  callback Callback function\n     * @return {this}\n     */\n    Ajax.prototype.complete = function(callback)\n    {\n        this._complete = callback;\n\n        return this;\n    }\n\n    /**\n     * Abort an ajax call\n     *\n     * @param  {function}  callback Callback function\n     * @return {this}\n     */\n    Ajax.prototype.abort = function(callback)\n    {\n        let xhr = this._xhr;\n\n        // Called before XHR request\n        if (!xhr)\n        {\n            this._abort = callback;\n\n            return this;\n        }\n\n        // Already completed\n        if (!xhr.readyState >= 4)\n        {\n            return this;\n        }\n\n        xhr.onreadystatechange = () => {};\n        this._complete = null;\n        this._success  = null;\n        xhr.abort();\n\n        this._makeCallback(this._abort, this, [xhr.responseText, false]);\n\n        this._makeCallback(this._error, this, [xhr.responseText]);\n    }\n\n    /**\n     * Call callback function\n     *\n     * @param  {function}  callback Callback function\n     * @return {this}\n     */\n    Ajax.prototype._makeCallback = function(callback, _this, args)\n    {\n        if (is_function(callback)) callback.apply(_this, args);\n    }\n\n    /**\n     * Ajax call \n     *\n     * @access {private}\n     * @param  {string}        method   Request method\n     * @param  {string}        url      Destination URL\n     * @param  {string|object} data     Data (optional)\n     * @param  {function}      success  Success callback (optional)\n     * @param  {function}      error    Error callback (optional)\n     * @param  {function}      complete Complete callback (optional)\n     * @param  {function}      abort    Abort callback (optional)\n     * @param  {object}        headers  Request headers (optional)\n     * @return {this}\n     */\n    Ajax.prototype._call = function()\n    {\n        let [method, url] = [this.method, this.url];\n\n        var xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP');\n\n        this._xhr = xhr;\n\n        xhr.requestURL = url;\n\n        xhr.mthod = method === 'UPLOAD' ? 'POST' : method;\n\n        if (method === 'UPLOAD' && is_function(this._progress))\n        {\n            xhr.upload.addEventListener('progress', this._progress, false);\n        }\n\n        if (method === 'UPLOAD')\n        {\n            if (is_function(this._progress)) xhr.upload.addEventListener('progress', this._progress, false);\n\n            if (is_function(this._complete)) xhr.upload.addEventListener('load', this._complete, false);\n        }\n\n        xhr.open(method, url, this._settings.async);\n\n        xhr.timeout = this._settings.timeout;\n\n        this._sendHeaders();\n\n        if (this._settings.async)\n        {\n            xhr.onreadystatechange = () => { this._ready() };\n\n            xhr.send(this.data || null);\n        }\n        else\n        {\n            xhr.send(this.data || null);\n\n            this._ready();\n        }\n\n        return this;\n    }\n\n    /**\n     * Send XHR headers\n     *\n     * @access {private}\n     * @param  {object}    xhr     XHR object\n     * @param  {object}    headers Request headers (optional)\n     * @return {This}\n     */\n    Ajax.prototype._sendHeaders = function()\n    {\n        if (this.method === 'POST') this._settings.headers['REQUESTED-WITH'] = 'XMLHttpRequest';\n\n        each(this._settings.headers, (k,v) => this._xhr.setRequestHeader(k, v));\n    }\n\n    /**\n     * Normalise arguments from original call function\n     *\n     * @param  {string}        method   Request method\n     * @param  {string}        url      Destination URL\n     * @param  {string|object} data     Data (optional)\n     * @param  {function}      success  Success callback (optional)\n     * @param  {function}      error    Error callback (optional)\n     * @param  {function}      complete Complete callback (optional)\n     * @param  {function}      error    Abort callback (optional)\n     * @param  {object}        headers  Request headers (optional)\n     * @return {This}\n     */\n    Ajax.prototype._setResponseHandlers = function(method, url, data, success, error, complete, abort, headers, progress)\n    {\n        let ret = { method, url, data, success, error, complete, abort, headers, progress };\n\n        // Cleanup\n        let args = Array.prototype.slice.call(arguments);\n\n        // Remove method and URL\n        args.splice(0,2);\n\n        // post(url, complete)\n        // put(url, data)\n        if (args.length === 1 && is_function(args[0]) && !NAMED_CALLBACKS.includes(callable_name(args[0])))\n        {\n            ret.complete = data;\n            ret.data = ret.success = ret.error = ret.complete = ret.abort = ret.progress = ret.headers = null;\n        }\n        // post(url, data, complete)\n        else if (args.length === 2 && is_function(args[1]) && !NAMED_CALLBACKS.includes(callable_name(args[1])))\n        {\n            ret.complete = success;\n            ret.success = ret.error = ret.complete = ret.abort = ret.progress = ret.headers = null;\n        }\n        else\n        {\n            each(args, (i, arg) =>\n            {\n                if (is_function(arg))\n                {\n                    let name = callable_name(arg).toLowerCase();\n\n                    if (NAMED_CALLBACKS.includes(callable_name(arg)))\n                    {\n                        ret[name] = arg;\n                    }\n                }\n                else if (is_object(arg))\n                {\n                    // First arg is always data if it's an object\n                    if (i === 0)\n                    {\n                        ret.data = arg;\n                    }\n                    // Last arg should be headers if it's an object\n                    else if (is_array_last(arg, args))\n                    {\n                        ret.headers = arg;\n                    }\n                }\n            });\n        }\n\n        // Sanitize params\n        let hasData = is_object(ret.data) && !is_empty(ret.data);\n\n        // Ajax.get('foo.com?foo=bar&baz')\n        if (hasData)\n        {\n            if (method === 'UPLOAD')\n            {\n                let form = new FormData();\n\n                each(data, (k, v) =>\n                {\n                    form.append(key, value, v.type);\n                });\n            }\n            else if (method !== 'POST')\n            {   \n                let suffix = ret.url.includes('?') ? '&' : '?';\n                let params = this._params(ret.data);\n                ret.url    = `${ret.url}${suffix}${params}`;\n                ret.data   = undefined;\n            }\n            else\n            {\n                ret.data = this._params(ret.data);\n            }\n        }\n\n        let callbacks = ['success', 'error', 'complete', 'abort', 'headers', 'progress'];\n\n        each(ret, (k,v) => callbacks.includes(k) ? this[k](v) : this[k] = v);\n    }\n\n    /**\n     * Ready callback\n     *\n     * @param  {XMLHttpRequest} xhr     XHR Object\n     * @param  {function}      success  Success callback (optional)\n     * @param  {function}      error    Error callback (optional)\n     * @param  {function}      complete Complete callback (optional)\n     * @param  {function}      abort    Abort callback (optional)\n     */\n    Ajax.prototype._ready = function()\n    {        \n        let xhr = this._xhr;\n\n        if (xhr.readyState == 4)\n        {\n            let successfull = xhr.status >= 200 && xhr.status < 300 || xhr.status === 304;\n\n            let response = xhr.responseText;\n\n            this._makeCallback(successfull ? this._success : this._error, xhr, [response]);\n\n            this._makeCallback(this._complete, xhr, [response, successfull]);\n\n            // Next queue\n            AJAX_QUEUE.next();\n        }\n    }\n\n    Ajax.prototype._params = function(obj)\n    {\n        let s = [];\n\n        each(obj, (k,v) => s.push(encodeURIComponent(k) + '=' + encodeURIComponent(v)))\n\n        return s.join('&');\n    }\n\n    frontbx.set('Ajax', Ajax);\n})();\n(function()\n{\n    /**\n     * Helper functions.\n     * \n     * @var {Function}\n     */\n    const [find, find_all, on, each, map, in_array, in_dom, is_empty, is_string, scroll_pos, trigger_event, normalize_url, inner_HTML, extend] = frontbx.import(['find','find_all','on','each','map','in_array','in_dom','is_empty','is_string','scroll_pos','trigger_event','normalize_url','inner_HTML','extend']).from('_');\n\n    /**\n     * Are we listening for state changes ?\n     * \n     * @var {bool}\n     */\n    var _listening = false;\n\n    /**\n     * Default options\n     * \n     * @var {object}\n     */\n    const DEFAULT_OPTIONS = \n    {\n        element:   'body',\n        cacheBust:  true,\n        once:       false,\n        keepScroll: true,\n        pushstate:  false,\n        urlhash:    false,\n    };\n\n    /**\n     * Pjax module\n     *\n     * @class\n     * @extends   {Ajax}\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Pjax = function()\n    {\n        this.super();\n\n        if (!_listening)\n        {\n            on(window, 'popstate', this._popStateHandler, this);\n\n            _listening = true;\n        }\n    }\n\n    Pjax.prototype.request = function(url, options, success, error, complete, abort, headers)\n    {\n        // If we are already loading a pjax, cancel it and\n        if (this._xhr) this.abort();\n\n        // Reset variables\n        this._reset();\n\n        // Merge options with defaults\n        options = typeof options === 'undefined' ? { ...DEFAULT_OPTIONS } : { ...DEFAULT_OPTIONS, ...options };\n\n        // Set PJAX header\n        this.headers({'X-PJAX': true});\n\n        // Store URL in options for callbacks\n        options.url = normalize_url(url.trim());\n\n        // Default data to send\n        let data = options.cacheBust ? { t: Date.now().toString() } : {};\n        \n        // Fire the start event\n        trigger_event(window, 'frontbx:pjax:start', { options });\n\n        // Set response handlers\n        this._setResponseHandlers('GET', options.url, data, success, error, complete, abort, headers);\n\n        // Cache callbacks\n        const [_success, _error, _complete, _abort ] = [this.success, this.error, this.complete, this.abort];\n\n        // Cache current state\n        if (options.pushstate)\n        {            \n            let state = { ...options, id: normalize_url(window.location.href), scroll: {top: 0, left: 0} };\n\n            window.history.pushState(state, '', state.id);\n        }\n\n        frontbx.NProgress().start();\n\n        this.success((response) =>\n        {            \n            trigger_event(window, 'frontbx:pjax:success', { options });\n\n            this._handleSuccess(response.trim(), options);\n\n            if (_success) this._makeCallback(_success, this._xhr, [response]);\n        })\n        .error((response) =>\n        {\n            trigger_event(window, 'frontbx:pjax:error', { options });\n\n            if (_error) this._makeCallback(_error, this._xhr, [response]);\n        })\n        .abort((response) =>\n        {\n            trigger_event(window, 'frontbx:pjax:abort', { options });\n\n            if (_abort) this._makeCallback(_abort, this._xhr, [response, false]);\n        })\n        .complete((response, successfull) =>\n        {\n            trigger_event(window, 'frontbx:pjax:complete', { options });\n\n            if (_complete) this._makeCallback(_complete, this._xhr, [response, successfull]);\n\n            this._reset();\n\n            frontbx.NProgress().done();\n\n        })._call();\n    }\n\n    /**\n     * Pjax success handler\n     *\n     * @access {private}\n     * @param  {object} locationObj Location object from the cache\n     * @param  {string} HTML        HTML string response from server\n     * @param  {bool}   stateChange Change the window history state\n     */\n    Pjax.prototype._handleSuccess = function(HTML, options)\n    {        \n        // Parse the HTML\n        let responseDoc = this._parseHTML(HTML);\n\n        // Cache scripts\n        let descrMeta       = find('meta[name=description]');\n        let responseTitle   = this._findDomTitle(responseDoc);\n        let responseDesc    = this._findDomDesc(responseDoc);\n        let responseScripts = this._getScripts(responseDoc);\n        let currScripts     = this._getScripts(document);\n        responseDoc         = this._removeScripts(responseDoc);\n\n        // Move scripts to head incase we're replacing body\n        each(currScripts, (i, script) => { if (script.node.parentNode.nodeName.toLowerCase() !== 'head') find('head').appendChild(script.node); });\n        \n        // Default to document bodys\n        let targetEl        = document.body;\n        let responseEl      = responseDoc.body;\n\n        // Selector\n        if (options.element && options.element !== 'body' && options.element !== document.body)\n        {\n            if (is_string(options.element))\n            {\n                targetEl = find(options.element);\n\n                // Try to find the target element in the response\n                let tmpResponseEl = find(options.element, responseDoc);\n\n                if (tmpResponseEl) responseEl = tmpResponseEl;\n\n            }\n            // DOM Node\n            else if (in_dom(options.element))\n            {\n                // Target is options.element\n                targetEl = options.element;\n            }\n        }\n\n        // Push new state\n        if (options.pushstate)\n        {\n            if (responseTitle) document.title = responseTitle;\n\n            if (responseDesc && descrMeta) descrMeta.content = responseDesc;\n        \n            let state = { ...options, id: options.url, scroll: { top: 0, left: 0 } };\n\n            window.history.pushState(state, '', options.url);\n        }\n        // Adjust hash\n        else if (options.urlhash && targetEl !== document.body)\n        {\n            let url = window.location.href.split('#').shift();\n\n            window.history.replaceState({}, '', `${url}#${targetEl.id}`);\n        }\n\n        // Insert content\n        inner_HTML(targetEl, responseEl.innerHTML);\n\n        this._appendScripts(currScripts, responseScripts, () =>\n        {\n            frontbx.dom().refresh(targetEl === document.body ? document : targetEl);\n        });\n\n        if (!options.keepScroll || targetEl === document.body) window.scrollTo(0, 0);\n    }\n\n    /**\n     * State change event handler (back/forward clicks)\n     *\n     * Popstate is treated as another pjax request essentially\n     * \n     * @access {private}\n     * @param  {e}       event JavaScript 'popstate' event\n     */\n    Pjax.prototype._popStateHandler = function(e)\n    {\n        // State obj exists \n        if (e.state && typeof e.state.id !== 'undefined')\n        {\n            // Prevent default\n            e.preventDefault();\n\n            let options = e.state;\n\n            this.request(options.id, {...options, pushstate: false });\n\n            return false;\n        }\n    }\n\n    /**\n     * If there are any new scripts load them\n     * \n     * Note that appending or replacing content via 'innerHTML' or even\n     * native Nodes with scripts inside their 'innerHTML'\n     * will not load scripts so we need to compare what scripts have loaded\n     * on the current page with any scripts that are in the new DOM tree \n     * and load any that don't already exist\n     *\n     * @access {private}\n     * @param  {array}   currScripts Currently loaded scripts array\n     * @param  {object}  newScripts  Newly loaded scripts\n     */\n    Pjax.prototype._appendScripts = function(currScripts, newScripts, callback)\n    {\n        let scripts = map(newScripts, (i, script) =>\n        {\n            let ret = script;\n\n            each(currScripts, (i, cScript) =>\n            {\n                if (cScript.content === script.content && cScript.inline === script.inline)\n                {\n                    ret = false;\n\n                    return;\n                }\n            })\n\n            return ret;\n        });\n\n        if (scripts.length > 0) \n        {\n            return each(scripts, (i, script) =>  this._appendScript(script, i === scripts.length -1 ? callback : null));\n        }\n\n        callback();\n    }\n\n    Pjax.prototype._appendScript = function(scriptObj, callback)\n    {\n        let element = document.createElement(scriptObj.type);\n\n        element.type = scriptObj.type === 'script' ? 'text/javascript' : 'text/css';\n\n        if (scriptObj.type === 'script')\n        {\n            element.async = false;\n\n            if (!scriptObj.inline)\n            {\n                element.src = scriptObj.src;\n\n                if (callback) element.onload = () => callback();\n            }\n            else\n            {\n                element.innerHTML = scriptObj.src;\n\n                if (callback) callback();\n            }\n        }\n        else\n        {\n            element.rel = 'stylesheet';\n            \n            element.href = scriptObj.src;\n\n            if (callback) element.onload = () => callback();\n        }\n\n        find('head').appendChild(element);\n    }\n\n    /**\n     * Filter scripts with unique key/values into an array\n     *\n     * @access {private}\n     * @param  {string} html HTML as a string (with or without full doctype)\n     * @return {array}\n     */\n    Pjax.prototype._getScripts = function(doc)\n    {\n        var ret     = [];\n        var scripts = find_all('script, link[rel=stylesheet]', doc);\n\n        each(scripts, function(i, script)\n        {\n            let type   = script.nodeName.toLowerCase();\n            let src    = type === 'link' ? script.getAttribute('href') : script.getAttribute('src');\n            let inline = false; \n            let node   = script;\n\n            if (!src)\n            {\n                inline = true;\n                src = script.innerHTML.trim()\n            }\n\n            ret.push({type, src, inline, node });\n        });\n\n        return ret;\n    }\n\n    /**\n     * Remove all scripts from a document\n     *\n     * @access {private}\n     * @param  {Document} Document Document element\n     * @return {Document}\n     */\n    Pjax.prototype._removeScripts = function(doc)\n    {\n        var scripts = find_all('script, link[rel=stylesheet]', doc);\n\n        each(scripts, (i, script) => script.parentNode.removeChild(script));\n\n        return doc;\n    }\n\n    /**\n     * Try to find the page title in a DOM tree\n     *\n     * @access {private}\n     * @param  {string} html HTML as a string (with or without full doctype)\n     * @return {string|false}\n     */\n    Pjax.prototype._findDomTitle = function(DOM)\n    {\n        var title = DOM.getElementsByTagName('title');\n\n        if (title.length)\n        {\n            return title[0].innerHTML.trim();\n        }\n\n        return false;\n    }\n\n    /**\n     * Try to find the page title in a DOM tree\n     *\n     * @access {private}\n     * @param  {string} html HTML as a string (with or without full doctype)\n     * @return {string|false}\n     */\n    Pjax.prototype._findDomDesc = function(DOM)\n    {\n        var desc = find('meta[name=description]', DOM);\n\n        if (desc)\n        {\n            return desc.content.trim();\n        }\n\n        return false;\n    }\n\n    /**\n     * Parse HTML from string into a document\n     *\n     * @access {private}\n     * @param  {string} html HTML as a string (with or without full doctype)\n     * @return {DOM} tree\n     */\n    Pjax.prototype._parseHTML = function(html)\n    {\n        var parser = new DOMParser();\n\n        return parser.parseFromString(html, 'text/html');\n    }\n\n    // Pjax is singleton\n    frontbx.singleton('Pjax', extend(frontbx.Ajax().constructor, Pjax));\n\n})();\n(function()\n{\n    /**\n     * \n     * @var {Helper} obj\n     */\n    const [find, each, _for, is_array, is_object, in_array, is_undefined, is_callable, is_htmlElement, in_dom, is_empty, animate, add_class, remove_class, width, height, inline_style, rendered_style, css, is_array_last, dom_element] = frontbx.import(['find','each','for','is_array', 'is_object', 'in_array','is_undefined','is_callable','is_htmlElement','in_dom','is_empty','animate', 'add_class','remove_class', 'width', 'height', 'inline_style', 'rendered_style', 'css', 'is_array_last','dom_element']).from('_');\n\n    /**\n    * Wrappers that need \"position:relative\" to hide overflow.\n    * \n    * @var {array}\n    */\n    const STATIC_POSITIONS = ['static', 'unset', 'initial'];\n\n    /**\n     * Default options.\n     * \n     * @var {array}\n    */\n    const DEFAULT_OPTIONS =\n    {\n        count: 1,\n        lines: 0,\n        height: null,\n        width: null,\n        variant: 'block',\n        aspectratio: '',\n\n    };\n\n    /**\n    * Class variants.\n    * \n    * @var {array}\n    */\n    const CLASS_VARIANTS = ['block', 'text', 'btn', 'input', 'circle', 'wave', 'rounded', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6'];\n\n    /**\n    * Class variants.\n    * \n    * @var {array}\n    */\n    const WRAPPER_VARIANTS = ['text-block', 'block-h1', 'block-h2', 'block-h3', 'block-h4', 'block-h5', 'block-h6'];\n\n    /**\n    * Skeleton.\n    *\n    * @param  {DOMElement}   DOMElement Target node\n    * @param  {object|array} options\n    * @return {this}\n    */\n    const Skeleton = function(DOMElement, options)\n    {\n    this._DOMElement = DOMElement;\n\n    this._nodes = [];\n\n    this._isMulti = is_array(options);\n\n    if (is_empty(options)) return this;\n\n    if (is_array(options))\n    {\n        each(options, function(i, optionSet)\n        {\n            optionSet = {...DEFAULT_OPTIONS, ...optionSet};\n\n            this._build(optionSet);\n\n        }, this);\n    }\n    else\n    {\n        options = {...DEFAULT_OPTIONS, ...options};\n\n        this._build(options);\n    }\n    }\n\n    /**\n     * Gracefully individual content\n     * \n     * @param  {DOMElement|String} content\n     * @param  {function|null}     callback\n     * @access {public}\n     */\n    Skeleton.prototype.load = function(content, callback, wrapper)\n    {\n        if (is_object(content))\n        {\n            each(content, (selector, node) => \n            {\n                let cb = is_array_last(node, content) ? callback : null;\n\n                this.load(node, cb, find(selector, this._DOMElement));\n\n            }, this);\n\n            return;\n        }\n\n        wrapper = !wrapper ? this._DOMElement : wrapper;\n        const isHTML  = is_htmlElement(content);\n        \n        // Cache wrapper height and width and so we can transition content without changing layout\n        const h           = height(wrapper);\n        const w           = width(wrapper);\n        const position    = rendered_style(wrapper, 'position');\n        const InlOverflow = inline_style(wrapper, 'overflow') || false;\n        const InlPosition = inline_style(wrapper, 'overflow') || false;\n        const InlHeight   = inline_style(wrapper, 'height') || false;\n        const InlWidth    = inline_style(wrapper, 'width') || false;\n        const InlStyles   = { overflow: InlOverflow, position: InlPosition, height: InlHeight, width: InlWidth };\n        const newStyles   = { overflow: 'hidden', height: `${h}px`, width: `${w}px` };\n        if (in_array(position, STATIC_POSITIONS)) newStyles.position = 'relative';\n\n        // Prep content for inserting\n        var isFragment = false;\n        var oldContnet;\n\n        if (isHTML)\n        {\n            add_class(content, 'swapping-content-wrapper');\n        }\n        else\n        {\n            let div    = dom_element({tag: 'div', class: 'swapping-content-wrapper'}, null, content);\n            isFragment = div.children.length > 1;\n            if (isFragment) div.className += ' fragment';\n            oldContnet = content;\n            content    = div;\n        }\n\n        const _this = this;\n\n        const complete = function()\n        {\n            // Make optional user callback\n            if (is_callable(callback))\n            {\n                callback();\n            }\n\n            // If we wrapped 'content' we need to remove the outer '.swapping-content-wrapper'\n            if (!isHTML)\n            {\n                if (isFragment)\n                {\n                    wrapper.innerHTML = '';\n\n                    dom_element(null, wrapper, oldContnet);\n                }\n                else\n                {\n                    wrapper.replaceChild(content.children[0], content);\n                }\n            }\n            else\n            {\n                remove_class(content, 'swapping-content-wrapper');\n            }\n\n            // Remove skeletons\n            each(_this._nodes, function(i, node)\n            {\n                if (in_dom(node)) node.parentNode.removeChild(node);                    \n            });\n\n            // Set inline styles back to original\n            css(wrapper, InlStyles);\n\n            // Remove wrapper classes\n            remove_class(wrapper, 'skeleton-swapping-content');\n        }\n\n        // Fix dimensions, overflow and positioning while transition.\n        css(wrapper, newStyles);\n\n        // Add wrapper class to position content swap while transitioning\n        add_class(wrapper, 'skeleton-swapping-content');\n\n        // Finally append content\n        wrapper.appendChild(content);\n\n        each(this._nodes, function(i, node)\n        {\n            animate(node, { property : 'opacity', to : 0, duration: 500 });\n        });\n\n        animate(content, { property : 'opacity', from: '0', to : '1', duration: 750, callback: complete});\n    }\n\n    /**\n     * Remove and destroy\n     *\n     * @params {function} callback (optional)\n     * @params {boolean}  destroy  (optional default true)\n     * @access {private}\n     */\n    Skeleton.prototype.fade_out = function(callback, destroy)\n    {\n        destroy = is_undefined(destroy) ? true : destroy;\n        \n        let _this = this;\n\n        const complete = function()\n        {\n            if (destroy)\n            {\n                _this.destroy();\n            }\n\n            if (is_callable(callback))\n            {\n                callback();\n            }\n        }\n\n        let madeCallback = false;\n\n        each(this._nodes, function(i, node)\n        {\n            let _callback = madeCallback ? undefined : complete;\n\n            animate(node, { property : 'opacity', to : 0, duration: 500, callback: complete});\n\n            madeCallback = true;\n        });\n    }\n\n    /**\n     * Remove and destroy\n     *\n     * @params {_node} node\n     * @access {private}\n     */\n    Skeleton.prototype.destroy = function()\n    {\n        each(this._nodes, function(i, node)\n        {\n            node.parentNode.removeChild(node);\n        });\n\n        this._nodes = [];\n    }\n\n    /**\n     * Remove a notification\n     *\n     * @params {_node} node\n     * @access {private}\n     */\n    Skeleton.prototype._build = function(options)\n    {\n        let wrapper    = null;\n        let skeleton   = document.createElement('div');\n        let variants   = options.variant.split(' ').map((x) => x.trim().toLowerCase()).filter((x) => x !== '');\n        let DOMElement = options.selector ? find(options.selector, this._DOMElement) : this._DOMElement;\n        let width      = options.width;\n        let height     = options.height;\n        let classes    = ['skeleton'];\n\n        each(variants, function(i, variant)\n        {\n            if (in_array(variant, CLASS_VARIANTS))\n            {\n                classes.push(`skeleton-${variant}`);\n            }\n            else if (in_array(variant, WRAPPER_VARIANTS))\n            {\n                classes = ['skeleton'];\n\n                if (!wrapper)\n                {\n                    wrapper = document.createElement('div');\n                    wrapper.className = options.lines > 1 ? 'skeleton-text-block skeleton-lines' : 'skeleton-text-block' ;\n                }\n\n                if (variant !== 'text-block')\n                {\n                    wrapper.className += ` skeleton-text-${variant}`;\n                }\n            }\n        });\n\n        skeleton.className = classes.join(' ');\n\n        let skeletons = [skeleton];\n\n        if (options.count > 1 || options.lines > 1)\n        {\n            let count = Math.max(options.count, options.lines);\n\n            _for(count -1, (i) => skeletons.push(skeleton.cloneNode(true)));\n        }\n\n        each(skeletons, function(i, _skeleton)\n        {\n            this._setDimensions(_skeleton, width, height, wrapper, options.aspectratio, options.lines > 1);\n\n            if (wrapper)\n            {\n                wrapper.appendChild(_skeleton);\n            }\n            else\n            {\n                DOMElement.appendChild(_skeleton);\n            }\n\n        }, this);\n\n        if (wrapper)\n        {                \n            DOMElement.appendChild(wrapper);\n\n            this._nodes.push(wrapper);\n        }\n        else\n        {\n            each(skeletons, (i, skel) => this._nodes.push(skel), this);\n        }\n    }\n\n    /**\n     * Remove and destroy\n     *\n     * @params {callback} node\n     * @access {private}\n     */\n    Skeleton.prototype._setDimensions = function(skeleton, width, height, wrapper, aspectRatio, isLines)\n    {\n        // Text blocks get random width;\n        if (wrapper)\n        {\n            let min = isLines ? 70 : 15;\n            let max = isLines ? 95 : 85;\n            let w   = Math.floor(Math.random() * (max - min + 1) + min);\n\n            skeleton.style.width = `${w}%`;\n\n            return;\n        }\n\n        if (aspectRatio !== '')\n        {\n            skeleton.style.width  = '100%';\n            skeleton.style.height = 'auto';\n            skeleton.style.aspectRatio = aspectRatio;\n\n            return;\n        }\n\n        if (width)\n        {\n            skeleton.style.width = width;\n        }\n\n        if (height)\n        {\n            skeleton.style.height = height;\n        }\n    }\n\n    // Add to container\n    frontbx.set('Skeleton', Skeleton);\n\n})();\n(function()\n{\n    /**\n     * TinyGesture.js\n     *\n     * This service uses passive listeners, so you can't call event.preventDefault()\n     * on any of the events.\n     *\n     * Adapted from https://gist.github.com/SleepWalker/da5636b1abcbaff48c4d\n     * and https://github.com/uxitten/xwiper\n     * plus a bunch more of my own code.\n     */\n    class TinyGesture\n    {\n        constructor(element, options)\n        {\n            this.element = element;\n            this.touch1 = null;\n            this.touch2 = null;\n            this.touchStartX = null;\n            this.touchStartY = null;\n            this.touchEndX = null;\n            this.touchEndY = null;\n            this.touchMove1 = null;\n            this.touchMove2 = null;\n            this.touchMoveX = null;\n            this.touchMoveY = null;\n            this.velocityX = null;\n            this.velocityY = null;\n            this.longPressTimer = null;\n            this.doubleTapTimer = null;\n            this.doubleTapWaiting = false;\n            this.thresholdX = 0;\n            this.thresholdY = 0;\n            this.disregardVelocityThresholdX = 0;\n            this.disregardVelocityThresholdY = 0;\n            this.swipingHorizontal = false;\n            this.swipingVertical = false;\n            this.swipingDirection = null;\n            this.swipedHorizontal = false;\n            this.swipedVertical = false;\n            this.originalDistance = null;\n            this.newDistance = null;\n            this.scale = null;\n            this.originalAngle = null;\n            this.newAngle = null;\n            this.rotation = null;\n            this.handlers = {\n                panstart: [],\n                panmove: [],\n                panend: [],\n                swipeleft: [],\n                swiperight: [],\n                swipeup: [],\n                swipedown: [],\n                tap: [],\n                doubletap: [],\n                longpress: [],\n                pinch: [],\n                pinchend: [],\n                rotate: [],\n                rotateend: [],\n            };\n            this._onTouchStart = this.onTouchStart.bind(this);\n            this._onTouchMove = this.onTouchMove.bind(this);\n            this._onTouchEnd = this.onTouchEnd.bind(this);\n            this.opts = Object.assign({}, TinyGesture.defaults, options);\n            this.element.addEventListener('touchstart', this._onTouchStart, passiveIfSupported);\n            this.element.addEventListener('touchmove', this._onTouchMove, passiveIfSupported);\n            this.element.addEventListener('touchend', this._onTouchEnd, passiveIfSupported);\n            if (this.opts.mouseSupport && !('ontouchstart' in window)) {\n                this.element.addEventListener('mousedown', this._onTouchStart, passiveIfSupported);\n                document.addEventListener('mousemove', this._onTouchMove, passiveIfSupported);\n                document.addEventListener('mouseup', this._onTouchEnd, passiveIfSupported);\n            }\n        }\n        destroy() {\n            var _a, _b;\n            this.element.removeEventListener('touchstart', this._onTouchStart);\n            this.element.removeEventListener('touchmove', this._onTouchMove);\n            this.element.removeEventListener('touchend', this._onTouchEnd);\n            this.element.removeEventListener('mousedown', this._onTouchStart);\n            document.removeEventListener('mousemove', this._onTouchMove);\n            document.removeEventListener('mouseup', this._onTouchEnd);\n            clearTimeout((_a = this.longPressTimer) !== null && _a !== void 0 ? _a : undefined);\n            clearTimeout((_b = this.doubleTapTimer) !== null && _b !== void 0 ? _b : undefined);\n        }\n        on(type, fn) {\n            if (this.handlers[type]) {\n                this.handlers[type].push(fn);\n                return {\n                    type,\n                    fn,\n                    cancel: () => this.off(type, fn),\n                };\n            }\n        }\n        off(type, fn) {\n            if (this.handlers[type]) {\n                const idx = this.handlers[type].indexOf(fn);\n                if (idx !== -1) {\n                    this.handlers[type].splice(idx, 1);\n                }\n            }\n        }\n        fire(type, event) {\n            for (let i = 0; i < this.handlers[type].length; i++) {\n                this.handlers[type][i](event);\n            }\n        }\n        onTouchStart(event) {\n            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1;\n            let didTouch1 = false;\n            let didTouch2 = false;\n            if (event.type !== 'mousedown') {\n                if (!this.touch1) {\n                    this.touch1 = event.changedTouches[0];\n                    didTouch1 = true;\n                }\n                if (((didTouch1 && event.changedTouches.length > 1) || !didTouch1) && !this.touch2) {\n                    this.touch2 =\n                        [...event.changedTouches].find((touch) => { var _a; return touch.identifier !== ((_a = this.touch1) === null || _a === void 0 ? void 0 : _a.identifier); }) ||\n                            null;\n                    this.originalDistance = Math.sqrt(Math.pow(((_b = (_a = this.touch2) === null || _a === void 0 ? void 0 : _a.screenX) !== null && _b !== void 0 ? _b : 0) - ((_f = (_d = (_c = this.touchMove1) === null || _c === void 0 ? void 0 : _c.screenX) !== null && _d !== void 0 ? _d : (_e = this.touch1) === null || _e === void 0 ? void 0 : _e.screenX) !== null && _f !== void 0 ? _f : 0), 2) +\n                        Math.pow(((_h = (_g = this.touch2) === null || _g === void 0 ? void 0 : _g.screenY) !== null && _h !== void 0 ? _h : 0) - ((_m = (_k = (_j = this.touchMove1) === null || _j === void 0 ? void 0 : _j.screenY) !== null && _k !== void 0 ? _k : (_l = this.touch1) === null || _l === void 0 ? void 0 : _l.screenY) !== null && _m !== void 0 ? _m : 0), 2));\n                    this.originalAngle =\n                        Math.atan2(((_p = (_o = this.touch2) === null || _o === void 0 ? void 0 : _o.screenY) !== null && _p !== void 0 ? _p : 0) - ((_t = (_r = (_q = this.touchMove1) === null || _q === void 0 ? void 0 : _q.screenY) !== null && _r !== void 0 ? _r : (_s = this.touch1) === null || _s === void 0 ? void 0 : _s.screenY) !== null && _t !== void 0 ? _t : 0), ((_v = (_u = this.touch2) === null || _u === void 0 ? void 0 : _u.screenX) !== null && _v !== void 0 ? _v : 0) - ((_z = (_x = (_w = this.touchMove1) === null || _w === void 0 ? void 0 : _w.screenX) !== null && _x !== void 0 ? _x : (_y = this.touch1) === null || _y === void 0 ? void 0 : _y.screenX) !== null && _z !== void 0 ? _z : 0)) /\n                            (Math.PI / 180);\n                    return;\n                }\n                if (!didTouch1 && !didTouch2) {\n                    return;\n                }\n            }\n            if (didTouch1 || event.type === 'mousedown') {\n                this.thresholdX = this.opts.threshold('x', this);\n                this.thresholdY = this.opts.threshold('y', this);\n                this.disregardVelocityThresholdX = this.opts.disregardVelocityThreshold('x', this);\n                this.disregardVelocityThresholdY = this.opts.disregardVelocityThreshold('y', this);\n                this.touchStartX = event.type === 'mousedown' ? event.screenX : ((_0 = this.touch1) === null || _0 === void 0 ? void 0 : _0.screenX) || 0;\n                this.touchStartY = event.type === 'mousedown' ? event.screenY : ((_1 = this.touch1) === null || _1 === void 0 ? void 0 : _1.screenY) || 0;\n                this.touchMoveX = null;\n                this.touchMoveY = null;\n                this.touchEndX = null;\n                this.touchEndY = null;\n                this.swipingDirection = null;\n                this.longPressTimer = setTimeout(() => this.fire('longpress', event), this.opts.longPressTime);\n                this.scale = 1;\n                this.rotation = 0;\n                this.fire('panstart', event);\n            }\n        }\n        onTouchMove(event) {\n            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o;\n            if (event.type === 'mousemove' && (!this.touchStartX || this.touchEndX !== null)) {\n                return;\n            }\n            let touch1 = undefined;\n            let touch2 = undefined;\n            if (event.type !== 'mousemove') {\n                touch1 = [...event.changedTouches].find((touch) => { var _a; return touch.identifier === ((_a = this.touch1) === null || _a === void 0 ? void 0 : _a.identifier); });\n                this.touchMove1 = touch1 || this.touchMove1;\n                touch2 = [...event.changedTouches].find((touch) => { var _a; return touch.identifier === ((_a = this.touch2) === null || _a === void 0 ? void 0 : _a.identifier); });\n                this.touchMove2 = touch2 || this.touchMove2;\n            }\n            if (event.type === 'mousemove' || touch1) {\n                const touchMoveX = (event.type === 'mousemove' ? event.screenX : (_a = touch1 === null || touch1 === void 0 ? void 0 : touch1.screenX) !== null && _a !== void 0 ? _a : 0) - ((_b = this.touchStartX) !== null && _b !== void 0 ? _b : 0);\n                this.velocityX = touchMoveX - ((_c = this.touchMoveX) !== null && _c !== void 0 ? _c : 0);\n                this.touchMoveX = touchMoveX;\n                const touchMoveY = (event.type === 'mousemove' ? event.screenY : (_d = touch1 === null || touch1 === void 0 ? void 0 : touch1.screenY) !== null && _d !== void 0 ? _d : 0) - ((_e = this.touchStartY) !== null && _e !== void 0 ? _e : 0);\n                this.velocityY = touchMoveY - ((_f = this.touchMoveY) !== null && _f !== void 0 ? _f : 0);\n                this.touchMoveY = touchMoveY;\n                const absTouchMoveX = Math.abs(this.touchMoveX);\n                const absTouchMoveY = Math.abs(this.touchMoveY);\n                this.swipingHorizontal = absTouchMoveX > this.thresholdX;\n                this.swipingVertical = absTouchMoveY > this.thresholdY;\n                this.swipingDirection =\n                    absTouchMoveX > absTouchMoveY\n                        ? this.swipingHorizontal\n                            ? 'horizontal'\n                            : 'pre-horizontal'\n                        : this.swipingVertical\n                            ? 'vertical'\n                            : 'pre-vertical';\n                if (Math.max(absTouchMoveX, absTouchMoveY) > this.opts.pressThreshold) {\n                    clearTimeout((_g = this.longPressTimer) !== null && _g !== void 0 ? _g : undefined);\n                }\n                this.fire('panmove', event);\n            }\n            if (event.type !== 'mousemove' && this.touchMove1 != null && this.touchMove2 != null) {\n                this.newDistance = Math.sqrt(Math.pow(this.touchMove2.screenX - this.touchMove1.screenX, 2) +\n                    Math.pow(this.touchMove2.screenY - this.touchMove1.screenY, 2));\n                this.scale = this.newDistance / ((_h = this.originalDistance) !== null && _h !== void 0 ? _h : 0);\n                this.fire('pinch', event);\n                this.newAngle =\n                    Math.atan2(((_j = this.touchMove2.screenY) !== null && _j !== void 0 ? _j : 0) - ((_k = this.touchMove1.screenY) !== null && _k !== void 0 ? _k : 0), ((_l = this.touchMove2.screenX) !== null && _l !== void 0 ? _l : 0) - ((_m = this.touchMove1.screenX) !== null && _m !== void 0 ? _m : 0)) /\n                        (Math.PI / 180);\n                this.rotation = this.newAngle - ((_o = this.originalAngle) !== null && _o !== void 0 ? _o : 0);\n                this.fire('rotate', event);\n            }\n        }\n        onTouchEnd(event) {\n            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n            let touch1 = undefined;\n            if (event.type !== 'mouseup') {\n                touch1 = [...event.changedTouches].find((touch) => { var _a; return touch.identifier === ((_a = this.touch1) === null || _a === void 0 ? void 0 : _a.identifier); });\n                if (![...event.touches].find((touch) => { var _a; return touch.identifier === ((_a = this.touch1) === null || _a === void 0 ? void 0 : _a.identifier); })) {\n                    this.touch1 = null;\n                    this.touchMove1 = null;\n                }\n                if (![...event.touches].find((touch) => { var _a; return touch.identifier === ((_a = this.touch2) === null || _a === void 0 ? void 0 : _a.identifier); })) {\n                    this.touch2 = null;\n                    this.touchMove2 = null;\n                }\n            }\n            if (event.type === 'mouseup' && (!this.touchStartX || this.touchEndX !== null)) {\n                return;\n            }\n            if (event.type === 'mouseup' || touch1) {\n                this.touchEndX = event.type === 'mouseup' ? event.screenX : (_a = touch1 === null || touch1 === void 0 ? void 0 : touch1.screenX) !== null && _a !== void 0 ? _a : 0;\n                this.touchEndY = event.type === 'mouseup' ? event.screenY : (_b = touch1 === null || touch1 === void 0 ? void 0 : touch1.screenY) !== null && _b !== void 0 ? _b : 0;\n                this.fire('panend', event);\n                clearTimeout((_c = this.longPressTimer) !== null && _c !== void 0 ? _c : undefined);\n                const x = this.touchEndX - ((_d = this.touchStartX) !== null && _d !== void 0 ? _d : 0);\n                const absX = Math.abs(x);\n                const y = this.touchEndY - ((_e = this.touchStartY) !== null && _e !== void 0 ? _e : 0);\n                const absY = Math.abs(y);\n                const distance = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\n                const absDistance = Math.abs(distance);\n                const diagonal = absY / absX;\n                if (absX > this.thresholdX ||\n                    absY > this.thresholdY ||\n                    (this.opts.diagonalSwipes && (absDistance > this.thresholdX || absDistance > this.thresholdY))) {\n                    this.swipedHorizontal = absX > this.thresholdX || (this.opts.diagonalSwipes && absDistance > this.thresholdX);\n                    this.swipedVertical = absY > this.thresholdY || (this.opts.diagonalSwipes && absDistance > this.thresholdY);\n                    if (!this.opts.diagonalSwipes ||\n                        diagonal < Math.tan(((45 - this.opts.diagonalLimit) * Math.PI) / 180) ||\n                        diagonal > Math.tan(((45 + this.opts.diagonalLimit) * Math.PI) / 180)) {\n                        if (absX >= absY) {\n                            this.swipedVertical = false;\n                        }\n                        if (absY > absX) {\n                            this.swipedHorizontal = false;\n                        }\n                    }\n                    if (this.swipedHorizontal) {\n                        if (x < 0) {\n                            if (((_f = this.velocityX) !== null && _f !== void 0 ? _f : 0) < -this.opts.velocityThreshold || distance < -this.disregardVelocityThresholdX) {\n                                this.fire('swipeleft', event);\n                            }\n                        }\n                        else {\n                            if (((_g = this.velocityX) !== null && _g !== void 0 ? _g : 0) > this.opts.velocityThreshold || distance > this.disregardVelocityThresholdX) {\n                                this.fire('swiperight', event);\n                            }\n                        }\n                    }\n                    if (this.swipedVertical) {\n                        if (y < 0) {\n                            if (((_h = this.velocityY) !== null && _h !== void 0 ? _h : 0) < -this.opts.velocityThreshold || distance < -this.disregardVelocityThresholdY) {\n                                this.fire('swipeup', event);\n                            }\n                        }\n                        else {\n                            if (((_j = this.velocityY) !== null && _j !== void 0 ? _j : 0) > this.opts.velocityThreshold || distance > this.disregardVelocityThresholdY) {\n                                this.fire('swipedown', event);\n                            }\n                        }\n                    }\n                }\n                else if (absX < this.opts.pressThreshold && absY < this.opts.pressThreshold) {\n                    if (this.doubleTapWaiting) {\n                        this.doubleTapWaiting = false;\n                        clearTimeout((_k = this.doubleTapTimer) !== null && _k !== void 0 ? _k : undefined);\n                        this.fire('doubletap', event);\n                    }\n                    else {\n                        this.doubleTapWaiting = true;\n                        this.doubleTapTimer = setTimeout(() => (this.doubleTapWaiting = false), this.opts.doubleTapTime);\n                        this.fire('tap', event);\n                    }\n                }\n            }\n            if (!this.touch1 && !this.touch2) {\n                this.fire('pinchend', event);\n                this.fire('rotateend', event);\n                this.originalDistance = null;\n                this.newDistance = null;\n                this.scale = null;\n                this.originalAngle = null;\n                this.newAngle = null;\n                this.rotation = null;\n            }\n        }\n    }\n    TinyGesture.defaults = {\n        threshold: (type, _self) => Math.max(25, Math.floor(0.15 *\n            (type === 'x'\n                ? window.innerWidth || document.body.clientWidth\n                : window.innerHeight || document.body.clientHeight))),\n        velocityThreshold: 10,\n        disregardVelocityThreshold: (type, self) => Math.floor(0.5 * (type === 'x' ? self.element.clientWidth : self.element.clientHeight)),\n        pressThreshold: 8,\n        diagonalSwipes: false,\n        diagonalLimit: 15,\n        longPressTime: 500,\n        doubleTapTime: 300,\n        mouseSupport: true,\n    };\n    let passiveIfSupported = false;\n    try {\n        window.addEventListener('test', null, Object.defineProperty({}, 'passive', {\n            get: function () {\n                passiveIfSupported = { passive: true };\n            },\n        }));\n    }\n    catch (err) { }\n\n    frontbx.set('TinyGesture', TinyGesture);\n\n})();\n(function()\n{\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, find_all, each, dom_element, add_class, toggle_class, on, off, has_class, remove_class, remove_from_dom, css, height, width, preapend, scroll_pos, animate_css, rendered_style] = frontbx.import(['find','find_all','each','dom_element','add_class','toggle_class','on','off','has_class','remove_class','remove_from_dom', 'css', 'height', 'width', 'preapend', 'scroll_pos', 'animate_css', 'rendered_style']).from('_');\n\n    /**\n     * Default options\n     * \n     * @var {obj}\n     */\n    var DEFAULT_OPTIONS =\n    {\n        // Content - can be a node, nodelist, or string of HTML\n        content: '',\n        \n        // Overlay color - dark, light, none,\n        overlay: 'dark',\n\n        // Force overlay on persistent drawer\n        persistentOverlay: false,\n\n        // When true allows swiping on screen to hide/show\n        swipeable: false,\n\n        // When keepEdge is true, the default state to set \"expanded\"|\"collapsed\"\n        state: 'expanded',\n\n        // Where the drawer comes from - left,right,top,bottom\n        direction: 'left',\n\n        // Collapses to icon size\n        peekable: false,\n\n        // Adapt body body\n        persistent: false,\n\n        // Responsive\n        responsive: false,\n\n        // Push body instead of changing width\n        pushbody: false,\n\n        // Animiation time\n        animationTime: 250,\n\n        // Animation easing\n        easing: 'easeOut',\n\n        // HTML initialized\n        fromHTML: false,\n        \n        // Additional classes to apply to wrapper\n        classes: '',\n\n        // State callbacks\n        callbackBuilt:    () => { },\n        callbackRender:   () => { },\n        callbackClose:    () => { },\n        callbackOpen:     () => { },\n        callbackValidate: () => true,\n    };\n\n    /**\n     * Closing arrow icons.\n     * \n     * @var {obj}\n     */\n    const PUSH_ARROWS =\n    {\n        left: 'left',\n        right: 'right',\n        top: 'up',\n        bottom: 'down'\n    };\n\n    /**\n     * Swipe open/close directions.\n     * \n     * @var {obj}\n     */\n    const SWIPE_DIRECTIONS =\n    {\n        left: ['swiperight', 'swipeleft'],\n        right: ['swipeleft', 'swiperight'],\n        top:  ['swipedown', 'swipeup'],\n        bottom: ['swipeup', 'swipedown'],\n    };\n\n    /**\n     * Don't double wrap body.\n     * \n     * @var {boolean}\n     */\n    var WRAPPED_BODY = false;\n\n    /**\n     * Don't double wrap body.\n     * \n     * @var {boolean}\n     */\n    var WRAPPED_DRAWERS = 0;\n\n    /**\n     * Module constructor\n     *\n     * @class\n     * @params {options} obj\n     * @access {public}\n     */\n    const Drawer = function(options)\n    { \n        // Merge options\n        this._options = {...DEFAULT_OPTIONS, ...options};\n\n        if (!SWIPE_DIRECTIONS[this._options.direction]) throw new Error('Unsupported direction.');\n\n        if (this._options.peekable) this._options.persistent = true;\n\n        if (this._options.pushbody)\n        {\n            this._options.persistent = true;\n\n            this._options.peekable = false;\n        }\n\n        // Save state\n        this._state = this._options.state;\n\n        // Animating\n        this._animating = false;\n\n        // Already mounted?\n        this._mounted = false;\n\n        // Initial mount\n        this._animateOnMount = typeof this._options.animateOnMount === 'undefined' ? this._state === 'expanded' && !this._options.fromHTML : this._options.animateOnMount;\n\n        // Do we have an overlay\n        this._hasOverlay = !this._options.persistent || (this._options.persistent && this._options.persistentOverlay);\n\n        // Cache resize throttle\n        this._resizeThrottle = throttle(() => this.resize(), 100);\n\n        // Build the drawer\n        this._build();\n\n        // Render the drawer        \n        this._mount();\n\n        // Add listeners\n        this._bindListeners();\n\n        return this;\n    }\n\n    /**\n     * Is drawer open?\n     *\n     * @access {public}\n     * @return {Boolean}\n     */\n    Drawer.prototype.opened = function()\n    {\n        return this._state === 'expanded';\n    }\n\n    /**\n     * Is drawer closed?\n     *\n     * @access {public}\n     * @return {Boolean}\n     */\n    Drawer.prototype.closed = function()\n    {\n        return this._state === 'collapsed';\n    }\n\n    /**\n     * Is drawer open or closed?\n     *\n     * @access {public}\n     * @return {String}\n     */\n    Drawer.prototype.state = function()\n    {\n        return this._state;\n    }\n\n    /**\n     * Returns drawer direction.\n     *\n     * @access {public}\n     * @return {String}\n     */\n    Drawer.prototype.direction = function()\n    {\n        return this._options.direction;\n    }\n\n    /**\n     * Window resize handler\n     *\n     * @access {public}\n     */\n    Drawer.prototype.resize = function()\n    {\n        if (this._animating) return;\n\n        let x = width(window);\n\n        if (x < 768 && this.opened())\n        {\n            this.close();\n        }\n        else if (x > 768 && this.closed())\n        {\n            this.open();\n        }\n    }\n\n    /**\n     * Destroy drawer.\n     *\n     * @access {public}\n     */\n    Drawer.prototype.destroy = function()\n    {\n        // Close\n        this.close();\n\n        // Remove gestures\n        this._gestures.destroy();\n\n        // Unwrap body\n        if (this._options.persistent) this._unwrapBody();\n\n        if (this._options.responsive && this._options.persistent) \n        {\n            off(window, 'resize', this._resizeThrottle, this);\n        }\n\n        if (WRAPPED_DRAWERS <= 0)\n        {\n            remove_from_dom(this._containerWrap);\n        }\n        else\n        {\n            if (this._hasOverlay) remove_from_dom(this._overlay);\n\n            remove_from_dom(this._drawer);\n        }\n    }\n\n    /**\n     * Close drawer.\n     *\n     * @access {public}\n     */\n    Drawer.prototype.open = function()\n    {\n        // Don't open when animating or not already closed\n        if (this._state !== 'collapsed' || this._animating) return;\n\n        this._animating = true;\n\n        remove_class(this._containerWrap, 'closed, closing');\n\n        add_class(this._containerWrap, 'opening');\n\n        remove_class(this._drawer, 'disabled');\n\n        this._animteDrawer();\n\n        if (this._hasOverlay)\n        {\n            add_class(document.body, 'no-scroll');\n\n            this._animateOverlay();\n        }\n\n        if (this._options.pushbody) add_class(document.body, 'no-scroll');\n\n        if (this._options.persistent) this._animateBody();\n\n        if (!this._mounted) this._toggleEnd();\n    }\n\n    /**\n     * Open drawer.\n     *\n     * @access {public}\n     */\n    Drawer.prototype.close = function()\n    {\n        if (this._state !== 'expanded' || this._animating) return;\n\n        this._animating = true;\n\n        add_class(this._containerWrap, 'closing');\n\n        remove_class(this._containerWrap, 'expanded, opening');\n\n        remove_class(document.body, 'no-scroll');\n\n        this._animteDrawer();\n\n        if (this._hasOverlay) this._animateOverlay();\n\n        if (this._options.persistent) this._animateBody();\n\n        if (!this._mounted) this._toggleEnd();\n    }\n\n    /**\n     * Wrap body when 'persistent' true.\n     *\n     * @access {private}\n     */\n    Drawer.prototype._animteDrawer = function()\n    {\n        let peekable  = this._options.peekable;\n        let state     = this._state;\n        let direction = this._options.direction;\n        let duration  = this._options.animationTime;\n        let easing    = this._options.easing;\n        let property  = peekable ? (direction === 'left' || direction === 'right' ? 'width' : 'height') : 'transform';\n        let to        = peekable ? (state === 'collapsed' ? this._drawerSize : this._peekableSize) : 'translate3d(0px, 0px, 0px)';\n        let from      = peekable ? (state === 'collapsed' ? this._peekableSize : 'auto') : null;\n\n        if (peekable && state === 'collapsed' && (direction === 'top' || direction === 'bottom'))\n        {\n            to = this._drawerSize;\n        }\n\n        if (!peekable)\n        {\n            let x = (direction === 'left' || direction === 'right') ? (direction === 'left' ? '-100%' : '100%') : '0px';\n            let y = (direction === 'top' || direction === 'bottom') ? (direction === 'top' ? '-100%' : '100%') : '0px';\n            let tofrom = `translate3d(${x}, ${y}, 0px)`;\n\n            state === 'expanded' ? to = tofrom : from = tofrom;\n        }\n\n        (this._mounted || (!this._mounted && this._animateOnMount)) ? animate_css(this._drawer, {property, from, to, duration, easing, callback: () => this._toggleEnd() }) : css(this._drawer, property, to);\n    }\n\n    /**\n     * Wrap body when 'persistent' true.\n     *\n     * @access {private}\n     */\n    Drawer.prototype._animateOverlay = function()\n    {\n        let duration  = this._options.animationTime;\n        let easing    = this._options.easing;\n        let property  = 'opacity';\n        let to        = this._state === 'collapsed' ? '1' : '0';\n        let from      = this._state === 'collapsed' ? '0' : '1';\n\n        (this._mounted || (!this._mounted && this._animateOnMount)) ? animate_css(this._overlay, {property, from, to, duration, easing }) : css(this._overlay, property, to);\n    }\n\n    /**\n     * Wrap body when 'persistent' true.\n     *\n     * @access {private}\n     */\n    Drawer.prototype._animateBody = function()\n    {\n        if (!this._options.persistent) return;\n\n        let peekable  = this._options.peekable;\n        let state     = this._state;\n        let direction = this._options.direction;\n        let duration  = this._options.animationTime;\n        let easing    = this._options.easing;\n        let property  = 'margin';\n        let n, e, s, w;\n        n = e = s = w = '0px';\n\n        if (direction === 'left')   w = state === 'collapsed' ? this._drawerSize  : (peekable ? this._peekableSize : '0px');\n        if (direction === 'right')  e = state === 'collapsed' ? this._drawerSize  : (peekable ? this._peekableSize : '0px');\n        if (direction === 'top')    n = state === 'collapsed' ? `${height(this._drawer)}px` : (peekable ? this._peekableSize : '0px');\n\n        let to = `${n} ${e} ${s} ${w}`;\n\n        if (this._options.pushbody)\n        {\n            property = 'transform';\n            to = 'translate3d(0px, 0px, 0px)';\n\n            if (state === 'collapsed')\n            {\n                let x, y;\n                x = y = '0px';\n                if (e !== '0px') x = `-${e}`;\n                if (w !== '0px') x = w;\n                if (n !== '0px') y = n;\n                to = `translate3d(${x}, ${y}, 0px)`;\n            }\n        }\n\n        (this._mounted || (!this._mounted && this._animateOnMount)) ? animate_css(this._bodyWrap, {property, to, duration, easing }) : css(this._bodyWrap, property, to);\n    }\n\n    /**\n     * Completed opening / closing.\n     *\n     * @access {private}\n     */\n    Drawer.prototype._toggleEnd = function()\n    {        \n        // Multiple transitions\n        if (!this._animating) return;\n\n        this._state = this._state === 'collapsed' ? 'expanded' : 'collapsed';\n\n        add_class(this._containerWrap, this._state === 'expanded' ? 'expanded' : 'closed');\n\n        remove_class(this._containerWrap, this._state === 'expanded' ? 'opening' : 'closing');\n\n        this._makeCallback(this._state === 'expanded' ? this._options.callbackOpen : this._options.callbackClose);\n\n        this._animating = false;\n    }\n\n    /**\n     * Build DOM Elements for drawer.\n     *\n     * @access {private}\n     */\n    Drawer.prototype._build = function()\n    {\n        let container = dom_element({tag: 'div', class: `js-drawer-container drawer-container drawer-${this._options.direction} ${this._options.persistent ? 'persistent' : ''} ${this._options.peekable ? 'peekable' : null } overlay-${this._options.overlay} ${this._options.classes}`});\n        let overlay   = dom_element({tag: 'div', class: 'js-drawer-overlay drawer-overlay'}, !this._hasOverlay ? null : container);\n        let drawer    = dom_element({tag: 'aside', class: 'js-drawer-wrap drawer-wrap'}, container, \n            dom_element({tag: 'div', class: 'drawer-dialog js-drawer-dialog' }, null, this._options.content )\n        );\n\n        this._containerWrap = container;\n        this._drawer        = drawer;\n        this._overlay       = overlay;\n        this._dialog        = find('.js-drawer-dialog', this._drawer);\n\n        if (this._options.persistent)\n        {\n            let header = dom_element({tag: 'div', class: `flex-row-fluid align-cols-center-y drawer-header ${this._options.direction !== 'right' ? 'align-cols-right' : ''}`});\n            let closer = dom_element({tag: 'button', type: 'button', class: 'btn btn-pure btn-circle btn-xs close-btn'}, header, dom_element({tag: 'span', class: `fa fa-chevron-${PUSH_ARROWS[this._options.direction]}`}));\n            \n            this._options.direction === 'top' ? this._dialog.appendChild(header) : preapend(header, this._dialog);\n\n            on(closer, 'click', this._closeValidate, this);\n        }\n\n        this._makeCallback(this._options.callbackBuilt);\n    }\n\n    /**\n     * Mount and render the drawer.\n     *\n     * @access {private}\n     */\n    Drawer.prototype._mount = function()\n    {\n        document.body.appendChild(this._containerWrap);\n\n        this._containerWrap.offsetHeight;\n\n        this._peekableSize = this._options.peekableSize || rendered_style(this._containerWrap, '--fbx-drawer-size-peekable');\n        this._drawerSize   = this._options.drawerSize || rendered_style(this._containerWrap, '--fbx-drawer-width');\n\n        if (this._options.persistent) this._wrapBody();\n\n        this._state = this._state === 'expanded' ? 'collapsed' : 'expanded';\n\n        this._state === 'collapsed' ? this.open() : this.close();\n\n        this._mounted = true;\n\n        this._makeCallback(this._options.callbackRender);\n    }\n\n    /**\n     * Wrap body when 'persistent' true.\n     *\n     * @access {private}\n     */\n    Drawer.prototype._wrapBody = function()\n    {\n        WRAPPED_DRAWERS++;\n\n        // Don't double-wrap body\n        if (WRAPPED_BODY)\n        {\n            // Disable other drawers\n            each(find_all('.js-drawer-wrap'), (i, drawer) => add_class(drawer, 'disabled'));\n\n            let classN = this._containerWrap.className;\n\n            if (this._containerWrap.parentNode) this._containerWrap.parentNode.removeChild(this._containerWrap);\n\n            this._containerWrap = find('.js-drawer-container');\n\n            this._bodyWrap = find('.js-drawer-body-wrap');\n\n            this._containerWrap.className = classN;\n\n            this._containerWrap.appendChild(this._drawer);\n\n            return;\n        }\n\n        WRAPPED_BODY = true;\n\n        let pos = scroll_pos();\n\n        let content = find_all('body > *');\n\n        this._bodyWrap = dom_element({tag: 'div', class: 'js-drawer-body-wrap drawer-body-wrap'});\n\n        preapend(this._bodyWrap, this._containerWrap);\n        \n        each(content, (i, node) => node !== this._containerWrap ? this._bodyWrap.appendChild(node) : null);\n\n        this._containerWrap.scrollTo(pos.left, pos.top);\n    }\n\n    /**\n     * Unwrap body when 'persistent' true.\n     *\n     * @access {private}\n     */\n    Drawer.prototype._unwrapBody = function()\n    {\n        if (!WRAPPED_BODY) return;\n\n        WRAPPED_DRAWERS--;\n\n        // Only unwrap if we're the last drawer using the container.\n        if (WRAPPED_DRAWERS <= 0)\n        {\n            let pos = scroll_pos(this._containerWrap);\n\n            let content = find_all('> *', this._bodyWrap);\n\n            each(content, (i, node) => document.body.appendChild(node));\n           \n            window.scrollTo(pos.left, pos.top);\n\n            WRAPPED_BODY = false;\n        }\n    }\n\n    /**\n     * Validate closing.\n     *\n     * @access {private}\n     */\n    Drawer.prototype._closeValidate = function()\n    {\n        if (this._makeCallback(this._options.callbackValidate)) this.close();\n    }\n\n    /**\n     * Bind event listeners for drawer.\n     *\n     * @access {private}\n     */\n    Drawer.prototype._bindListeners = function()\n    {\n        if (!this._options.fromHTML) \n        {\n            let context = this._options.persistent ? this._drawer : this._containerWrap;\n            \n            frontbx.dom().refresh(context);\n        }\n\n        if (this._options.responsive && this._options.persistent) \n        {\n            on(window, 'resize', this._resizeThrottle, this);\n        }\n\n        on(this._overlay, 'click', this._closeValidate, this);\n\n        let directions = SWIPE_DIRECTIONS[this._options.direction];\n\n        this._gestures = frontbx.TinyGesture(this._options.swipeable ? window : this._drawer, { mouseSupport: true, velocityThreshold: 3, threshold: (type, self) => this._options.swipeable ? 20 : 3 });\n\n        this._gestures.on(directions[0], () => this.open() );\n\n        this._gestures.on(directions[1], () => this._closeValidate() );\n    }\n\n    /**\n     * Fire callbacks.\n     *\n     * @access {private}\n     */\n    Drawer.prototype._makeCallback = function(callback)\n    {\n        if (callback) return callback(this._containerWrap, this._drawer, this._overlay, this._bodyWrap);\n    }\n\n    // Load into container \n    frontbx.set('Drawer', Drawer);\n\n})();\n(function()\n{\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [on, find, dom_element, extend] = frontbx.import(['on','find','dom_element','extend']).from('_');\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const Drawer = frontbx.Drawer(frontbx.IMPORT_AS_REF);\n\n    /**\n     * @var {obj}\n     */\n    var DEFAULT_OPTIONS =\n    {\n        // Content - can be a node, nodelist, or string of HTML\n        content: '',\n\n        // Confirm button text or null + confirm button class\n        confirmBtn: null,\n        confirmClass: '',\n        \n        // Overlay color - \"dark\"| \"light\"\n        overlay: 'dark',\n\n        // Allows collapsing,expanding\n        peekable: false,\n\n        // When true allows swiping on screen to hide/show\n        swipeable: false,\n\n        // When keepEdge is true, the default state to set \"expanded\"|\"collapsed\"\n        state: 'expanded',\n\n        // Private\n        animationTime: 225,\n        persistentOverlay: true,\n        direction: 'bottom',\n        classes: '',\n        persistent: false,\n\n        // State callbacks\n        callbackBuilt:    () => { },\n        callbackRender:   () => { },\n        callbackConfirm:  () => { },\n        callbackClose:    () => { },\n        callbackOpen:     () => { },\n        callbackValidate: () => true,\n    };\n\n    /**\n     * Module constructor\n     *\n     * @class\n     * @params {options} obj\n     * @access {public}\n     * @return {this}\n     */\n    const Frontdrop = function(options)\n    {\n        let classes = options.confirmBtn ? `frontdrop with-confirmation ${options.classes}` : `frontdrop ${options.classes}`;\n\n        options = {...DEFAULT_OPTIONS, ...options, classes};\n\n        let content = this._buildFD(options);\n\n        options = {...options, content};\n\n        this.super(options);\n\n        if (options.confirmBtn) on(find('.js-frontdrop-confirm', content), 'click', this._closeValidate, this);\n    }\n\n    /**\n     * Build the frontdrop and overlay.\n     *\n     * @access {private}\n     */\n    Frontdrop.prototype._buildFD = function(options)\n    {\n        let footer = options.confirmBtn ? dom_element({tag: 'div', class: 'card-footer'}, null, \n            dom_element({tag: 'div', class: 'card-footer'}, null,\n                dom_element({tag: 'div', class: 'card-footer-content'}, null,\n                    dom_element({tag: 'div', class: 'container-fluid'}, null,\n                        dom_element({tag: 'button', type: 'button', class: `btn btn-block js-frontdrop-confirm ${options.confirmClass}`}, null, options.confirmBtn)\n                    )\n                )\n            )\n        ) : null;\n\n        return dom_element({tag: 'div', class: 'card js-frontdrop-inner'}, null,\n        [ \n            dom_element({tag: 'div', class: 'card-header'}, null,\n                dom_element({tag: 'div', class: 'container-fluid'}, null, \n                    dom_element({tag: 'div', class: 'card-header-content'}, null,\n                        dom_element({tag: 'div', class: 'card-title'}, null, options.title)\n                    )\n                )\n            ),\n            dom_element({tag: 'div', class: 'card-block'}, null, \n                dom_element({tag: 'div', class: 'container-fluid'}, null, options.content)\n            ),\n            footer\n        ])\n    }\n\n    // Load into container \n    frontbx.set('Frontdrop', extend(Drawer, Frontdrop));\n\n})();\n(function()\n{\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [on, find, dom_element, extend] = frontbx.import(['on','find','dom_element','extend']).from('_');\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const Drawer = frontbx.Drawer(frontbx.IMPORT_AS_REF);\n\n    /**\n     * Module constructor\n     *\n     * @class\n     * @params {options} obj\n     * @access {public}\n     * @return {this}\n     */\n    const Backdrop = function(options)\n    {\n        let classes = !options.classes ? 'backdrop' : `backdrop ${options.classes}`;\n\n        let persistent = true;\n\n        options = {...options, classes, persistent };\n\n        this.super(options);\n    }\n\n    // Load into container \n    frontbx.set('Backdrop', extend(Drawer, Backdrop));\n})();\n(function()\n{\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, dom_element, add_class, on, off, remove_class, remove_from_dom, hide_aria, show_aria] = frontbx.import(['find','dom_element','add_class','on','off','remove_class','remove_from_dom','hide_aria','show_aria']).from('_');\n\n    /**\n     * Default options\n     * \n     * @var {obj}\n     */\n    var DEFAULT_OPTIONS =\n    {\n        // Title\n        title: '',\n\n        // Content - can be a node, nodelist, or string of HTML\n        content: '',\n\n        // Additional classes to pass to modal\n        classes: '',\n\n        // Does not create card\n        custom: false,\n\n        // Click anywhere to close\n        closeAnywhere: true,\n\n        // Scroll 'content' or 'modal'\n        scroll: 'modal',\n\n        // Cancel btn\n        cancelBtn: null,\n        cancelClass: 'btn-danger btn-pure',\n\n        // Confirm btn\n        confirmBtn: null,\n        confirmClass: 'btn-pure',\n        \n        // Overlay color - dark, light, none,\n        overlay: 'dark',\n\n        // Default state when created/mounted set \"open\"|\"closed\"\n        state: 'open',\n\n        // Loaded from HTML DOM\n        fromHTML: false,\n\n        // State callbacks\n        callbackBuilt:    () => { },\n        callbackRender:   () => { },\n        callbackClose:    () => { },\n        callbackOpen:     () => { },\n        callbackValidate: () => true,\n    };\n\n    /**\n     * Module constructor\n     *\n     * @class\n     * @params {options} obj\n     * @access {public}\n     */\n    const Modal = function(options)\n    { \n        // Merge options\n        this._options = {...DEFAULT_OPTIONS, ...options};\n\n        // Save state\n        this._state = this._options.state;\n\n        // Animating\n        this._animating = false;\n\n        // Build the Modal\n        this._build();\n\n        // Add listeners\n        this._bindListeners();\n\n        // Render the Modal        \n        this._mount();\n\n        return this;\n    }\n\n    /**\n     * Is Modal open?\n     *\n     * @access {public}\n     * @return {Boolean}\n     */\n    Modal.prototype.opened = function()\n    {\n        return this._state === 'open';\n    }\n\n    /**\n     * Is Modal closed?\n     *\n     * @access {public}\n     * @return {Boolean}\n     */\n    Modal.prototype.closed = function()\n    {\n        return this._state === 'closed';\n    }\n\n    /**\n     * Is Modal open or closed?\n     *\n     * @access {public}\n     * @return {String}\n     */\n    Modal.prototype.state = function()\n    {\n        return this._state;\n    }\n\n    /**\n     * Destroy Modal.\n     *\n     * @access {public}\n     */\n    Modal.prototype.destroy = function()\n    {\n        this.close();\n\n        remove_from_dom(this._modal);\n\n        remove_from_dom(this._overlay);\n    }\n\n    /**\n     * Close Modal.\n     *\n     * @access {public}\n     */\n    Modal.prototype.open = function()\n    {\n        // Don't open when animating or not already closed\n        if (this._state !== 'closed' || this._animating) return;\n\n        this._animating = true;\n\n        on(this._dialog, 'transitionend', this._toggleEnd, this);\n\n        remove_class([this._modal, this._overlay], 'closed, closing');\n\n        add_class([this._modal, this._overlay], 'opening');\n\n        if (this._options.overlay !== false) add_class(document.body, 'no-scroll');\n\n        show_aria([this._modal, this._overlay]);\n    }\n\n    /**\n     * Open Modal.\n     *\n     * @access {public}\n     */\n    Modal.prototype.close = function()\n    {\n        if (this._state !== 'open' || this._animating) return;\n\n        this._animating = true;\n\n        on(this._dialog, 'transitionend', this._toggleEnd, this);\n\n        remove_class([this._modal, this._overlay], 'opening, opened');\n\n        add_class([this._modal, this._overlay], 'closing');\n\n        remove_class(document.body, 'no-scroll');\n\n        hide_aria([this._modal, this._overlay]);\n\n        this._dialog.blur();\n    }\n\n    /**\n     * Completed opening / closing.\n     *\n     * @access {private}\n     */\n    Modal.prototype._toggleEnd = function()\n    {                \n        // Multiple transitions\n        if (!this._animating) return;\n\n        if (this._state === 'closed') this._dialog.focus();\n\n        this._state = this._state === 'closed' ? 'open' : 'closed';\n\n        remove_class([this._modal, this._overlay], this._state === 'open' ? 'opening' : 'closing');\n\n        add_class([this._modal, this._overlay], this._state === 'open' ? 'opened' : 'closed');\n\n        this._makeCallback(this._state === 'open' ? this._options.callbackOpen : this._options.callbackClose);\n\n        off(this._dialog, 'transitionend', this._toggleEnd, this);\n\n        this._animating = false;\n    }\n\n    /**\n     * Build DOM Elements for Modal.\n     *\n     * @access {private}\n     */\n    Modal.prototype._build = function()\n    {\n        this._cancelBtn  = this._options.cancelBtn  ? dom_element({tag: 'button', type: 'button', class: `btn ${this._options.cancelClass}`}, null, this._options.cancelBtn) : null; \n        \n        this._confirmBtn = this._options.confirmBtn ? dom_element({tag: 'button', type: 'button', class: `btn ${this._options.confirmClass}`}, null, this._options.confirmBtn) : null;\n        \n        this._overlay = dom_element({tag: 'div', role: 'presentation', class: `modal-overlay closed overlay-${this._options.overlay} ${this._options.overlay === false ? 'disabled' : ''}`});\n        \n        this._modal    = dom_element({tag: 'div', role: 'presentation', tabindex: '-1', class: `modal-wrap closed scroll-${this._options.scroll} ${this._options.classes}`}, null, \n        dom_element({tag: 'div', class: 'modal-dialog js-modal-dialog'}, null,\n            this._options.custom ? this._options.content : dom_element({tag: 'div', class: `card ${this._options.scroll === 'content' ? 'card-scrollable-content' : 'card-scrollable'} `}, null, \n                [\n                    dom_element({tag: 'div', class: 'card-header'}, null, \n                        dom_element({tag: 'div', class: 'card-header-content'}, null, \n                            dom_element({tag: 'div', class: 'card-title'}, null, this._options.title)\n                        )\n                    ),\n                    dom_element({tag: 'div', class: 'card-block'}, null, this._options.content),\n                    (this._cancelBtn || this._confirmBtn ? \n                        dom_element({tag: 'div', class: 'card-footer'}, null, [ dom_element({tag: 'div', class: 'card-footer-content'}, null, '&nbsp;'),\n                            dom_element({tag: 'div', class: 'card-footer-right'}, null, [ this._cancelBtn, this._confirmBtn ])]\n                        ) : null)\n                ])\n            )\n        );\n\n        this._dialog = find('.js-modal-dialog', this._modal);\n\n        this._makeCallback(this._options.callbackBuilt);\n    }\n\n    /**\n     * Mount and render the Modal.\n     *\n     * @access {private}\n     */\n    Modal.prototype._mount = function()\n    {\n        document.body.appendChild(this._overlay);\n\n        document.body.appendChild(this._modal);\n\n        this._modal.offsetHeight;\n\n        this._overlay.offsetHeight;\n\n        if (!this._options.fromHTML) frontbx.dom().refresh(this._modal);\n\n        if (this._state === 'open')\n        {\n            this._state = 'closed';\n\n            this.open();\n        }\n    }\n\n    /**\n     * Bind event listeners for Modal.\n     *\n     * @access {private}\n     */\n    Modal.prototype._bindListeners = function()\n    {\n        if (this._options.closeAnywhere) on(this._modal, 'click', this._closeClick, this);\n\n        if (this._cancelBtn) on(this._cancelBtn, 'click', this._closeValidate, this);\n\n        if (this._confirmBtn) on(this._confirmBtn, 'click', this._closeValidate, this);\n    }\n\n    /**\n     * Validate closing.\n     *\n     * @access {private}\n     */\n    Modal.prototype._closeClick = function(e, clicked)\n    {\n        if (e.target === this._modal) this._closeValidate();\n    }\n\n    /**\n     * Validate closing.\n     *\n     * @access {private}\n     */\n    Modal.prototype._closeValidate = function()\n    {\n        if (this._makeCallback(this._options.callbackValidate)) this.close();\n    }\n\n    /**\n     * Fire callbacks.\n     *\n     * @access {private}\n     */\n    Modal.prototype._makeCallback = function(callback)\n    {\n        if (callback) return callback(this._modal, this._Modal, this._overlay, this._bodyWrap);\n    }\n\n    // Load into container \n    frontbx.set('Modal', Modal);\n\n})();\n(function()\n{\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, add_class, on, in_dom, remove_class, remove_from_dom, dom_element] = frontbx.import(['find','add_class','on','in_dom','remove_class','remove_from_dom','dom_element']).from('_');\n\n    /**\n     * Default options\n     * \n     * @var {array}\n     */\n    const DEFAULT_OPTIONS =\n    {\n        text:             '',\n        variant:          '',\n        icon:             '',\n        position:         'bottom',\n        timeout:          6000,\n        btn:              false,\n        btnVariant:       'primary',\n        callbackBuilt:    () => {},\n        callbackRender:   () => {},\n        callbackDismiss:  () => {},        \n        callbackValidate: () => { return true; }\n    };\n\n    /**\n     * Notification\n     *\n     * The Notification class is a utility class used to\n     * display a notification.\n     *\n     */\n    const Notification = function(options)\n    {\n        this._options = {...DEFAULT_OPTIONS, ...options };\n\n        this._buildNotificationContainer();\n\n        this._build();\n\n        this._render();\n\n        this._bindListeners();\n    }\n\n    /**\n     * Returns the notification element.\n     *\n     * @access {public}\n     */\n    Notification.prototype.domElement = function()\n    {\n        return this._notification;\n    }\n\n    /**\n     * Remove the notification.\n     *\n     * @access {public}\n     */\n    Notification.prototype.remove = function()\n    {\n        clearTimeout(this._timeout);\n\n        const wrappper = this._DOMElementWrapper;\n\n        add_class(this._notification, this._animateOutClass);\n        \n        remove_class(this._notification, this._animateInClass);\n\n        this._makeCallback(this._options.callbackDismiss);\n\n        setTimeout(() =>\n        {\n            if (wrappper.children.length === 0) remove_class(wrappper, 'active');\n\n            remove_from_dom(this._notification);\n\n        }, 300);\n    }\n\n    /**\n     * Build the notification container\n     *\n     * @access {private}\n     */\n    Notification.prototype._buildNotificationContainer = function()\n    {\n        this._wrapperClass = `.js-nofification-wrap.position-${this._options.position}`;\n\n        let wrapper = find(this._wrapperClass);\n\n        if (!wrapper)\n        {\n            wrapper = dom_element({tag: 'div', class: `notification-wrap position-${this._options.position} js-nofification-wrap`}, document.body);\n        }\n\n        this._DOMElementWrapper = wrapper;\n    }\n\n    /**\n     * Build the notification\n     *\n     * @access {private}\n     */\n    Notification.prototype._build = function()\n    {        \n        let options = this._options;\n\n        this._animateInClass = this._animateIn();\n\n        this._animateOutClass = this._animateOut();\n\n        let notif = dom_element({tag: 'div', class: options.variant ? `msg msg-dense msg-${options.variant} ${this._animateInClass}` : `msg msg-dense ${this._animateInClass}` });\n        \n        if (options.icon)\n        {\n            dom_element({tag: 'div', class: 'msg-icon' }, notif, dom_element({tag: 'span', class: `fa fa-${options.icon}` }));\n        }\n\n        dom_element({tag: 'div', class: 'msg-body'}, notif, dom_element({tag: 'p', innerHTML: options.text }))\n\n        if (options.btn)\n        {\n            this._btn = dom_element({tag: 'div', class: 'msg-btn' }, notif, dom_element({tag: 'button', class: `btn btn-pure btn-${options.btnVariant} btn-sm js-notif-btn`, innerText: options.btn }));\n        }\n\n        this._notification = notif;\n\n        this._makeCallback(this._options.callbackBuilt);\n    }\n\n    /**\n     * Build the notification\n     *\n     * @access {private}\n     */\n    Notification.prototype._animateIn = function()\n    {\n        if (this._options.position.includes('top')) return 'animate-in-down';\n\n        return 'animate-in-up';\n    }\n\n     /**\n     * Build the notification\n     *\n     * @access {private}\n     */\n    Notification.prototype._animateOut = function()\n    {\n        if (this._options.position.includes('top')) return 'animate-out-up';\n\n        return 'animate-out-down';\n    }\n\n    /**\n     * Render the notification.\n     *\n     * @access {private}\n     */\n    Notification.prototype._render = function()\n    {\n        add_class(this._DOMElementWrapper, 'active');\n\n        this._DOMElementWrapper.appendChild(this._notification);\n\n        this._notification.offsetHeight;\n\n        this._makeCallback(this._options.callbackRender);\n\n    }\n\n    /**\n     * Render the notification.\n     *\n     * @access {private}\n     */\n    Notification.prototype._removeValidate = function()\n    {\n        if (this._makeCallback(this._options.callbackValidate)) this.remove();\n    }\n\n    /**\n     * Render the notification.\n     *\n     * @access {private}\n     */\n    Notification.prototype._bindListeners = function()\n    {\n        if (this._options.timeout !== false)\n        {\n            this._timeout = setTimeout(() => this._removeValidate(), this._options.timeout);\n        }\n\n        on(this._notification, 'click', this._removeValidate, this);\n    }\n\n    /**\n     * Fire callbacks.\n     *\n     * @access {private}\n     */\n    Notification.prototype._makeCallback = function(callback,)\n    {\n        if (callback) return callback(this._notification);\n    }\n\n    // Add to container\n    frontbx.set('Notification', Notification);\n\n})();\n(function()\n{\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, in_dom, normalize_url, is_string, coordinates, height, animate] = frontbx.import(['find','in_dom','normalize_url','is_string','coordinates','height','animate']).from('_');\n\n    /**\n     * Default options\n     * \n     * @var {object}\n     */\n    const DEFAULT_OPTIONS =\n    {\n        'speed'     : 500,\n        'easing'    : 'easeInOutCubic',\n        'updateURL' : true,\n    };\n\n    /**\n     * Smooth scroll to an element or id\n     *\n     * @access {private}\n     */\n    function SmoothScroll(nodeOrId, options)\n    {\n        options = {...DEFAULT_OPTIONS, ...options};\n\n        let DOMElement = is_string(nodeOrId) ? find(nodeOrId) : nodeOrId;\n\n        if (!in_dom(DOMElement)) return;\n\n        let pos = coordinates(DOMElement).top;\n\n        let url = normalize_url(window.location.href);\n\n        let isHashable = is_string(nodeOrId);\n\n        let fixednav = find('.navbar.navbar-fixed');\n\n        if (fixednav)\n        {\n            let h = height(fixednav);\n\n            if (pos >= h)\n            {\n                pos = pos - h;\n            }\n        }\n\n        const complete = function()\n        {\n            window.history.replaceState({}, \"\", nodeOrId);\n        }\n\n        animate(window, { property : 'scrollTo', to: `0, ${pos}`,  easing: options.easing, duration: options.speed, callback: isHashable && options.updateURL ? complete : null});\n    }\n\n\n    // Load into frontbx DOM core\n    frontbx.set('SmoothScroll', SmoothScroll);\n\n})();\n(function()\n{\n    /**\n     * Cached helper functions.\n     * \n     * @var {functions}\n     */\n    const [on, off, _map, is_regexp] = frontbx.import(['on', 'off', 'map', 'is_regexp']).from('_');\n\n    /**\n     * Regex masks\n     * \n     * @var {object}\n     */\n    const MASK_MAP = \n    {\n        creditcard: /[0-9]/,\n        money: /[0-9.]/,\n        numeric: /[0-9]/,\n        numericdecimal: /[0-9.]/,\n        alphanumeric: /[A-z0-9-]/,\n        alphaspace: /[A-z ]/,\n        alphadash: /[A-z-]/,\n        alphanumericdash: /[A-z0-9-]/,\n    };\n\n    /**\n     * Credit card formatters.\n     * \n     * @var {function}\n     */\n    const _format_464 = function(cc)\n    {\n        return [cc.substring(0,4),cc.substring(4,10),cc.substring(10,14)].join(' ').trim()\n    };\n    const _format_465 = function(cc)\n    {\n        return [cc.substring(0,4),cc.substring(4,10),cc.substring(10,15)].join(' ').trim()\n    };\n    const _format_4444 = function(cc)\n    {\n        return cc?cc.match(/[0-9]{1,4}/g).join(' '):''\n    };\n\n    /**\n     * Credit card formatting.\n     * \n     * @var {object}\n     */\n    const _CARD_TYPES =\n    [\n        {'type':'visa','pattern':/^4/, 'format': _format_4444, 'maxlength': 19},\n        {'type':'master','pattern':/^((5[12345])|(2[2-7]))/, 'format': _format_4444, 'maxlength': 16},\n        {'type':'amex','pattern':/^3[47]/, 'format': _format_465, 'maxlength':15},\n        {'type':'jcb','pattern':/^35[2-8]/, 'format': _format_465, 'maxlength':19},\n        {'type':'maestro','pattern':/^(5018|5020|5038|5893|6304|6759|676[123])/, 'format': _format_4444, 'maxlength':19},\n        {'type':'discover','pattern':/^6[024]/, 'format': _format_4444, 'maxlength':19},\n        {'type':'instapayment','pattern':/^63[789]/, 'format': _format_4444, 'maxlength':16},\n        {'type':'diners_club','pattern':/^54/, 'format': _format_4444, 'maxlength':16},\n        {'type':'diners_club_international','pattern':/^36/, 'format': _format_464, 'maxlength':14},\n        {'type':'diners_club_carte_blanche','pattern':/^30[0-5]/, 'format': _format_464, 'maxlength':14}\n    ];\n\n    /**\n     * Component constructor.\n     *\n     * @constructor\n     * @param       {DOMElement}  element  Input element\n     * @param       {string}      mask     Supported mask name or regex filter as string\n     * @param       {string}      format   Optional format e.g (xxxx-xxxx-xxxx-xxxx);\n     */\n    const InputMasker = function(element, mask, format)\n    {\n        this.DOMElement = element;\n\n        this.maskRegexp = this._getMaskRegexp(mask);\n\n        this.format = !format ? null : this._buildFormatRegexp(format);\n\n        this.maskName = mask;\n\n        this.handler = function(){};\n\n        this._bind();\n\n    }\n\n    /**\n     * Disable the mask\n     *\n     * @access {public}\n     */\n    InputMasker.prototype.destroy = function()\n    {\n        off(this.DOMElement, 'input', this.handler);\n        off(this.DOMElement, 'paste', this.handler);\n    }\n\n    /**\n     * Binds input events.\n     *\n     * @access {private}\n     */\n    InputMasker.prototype._bind = function()\n    {\n        var _this      = this;\n        var DOMElement = this.DOMElement;\n        var maskRegexp = this.maskRegexp;\n        var format     = this.format;\n        var isCC       = _this.maskName === 'creditcard';\n\n        const _handler = function(e)\n        {\n            e = e || window.event;\n\n            _this._handle(DOMElement, DOMElement.value, maskRegexp, isCC);\n        }\n\n        this.handler = _handler;\n\n        on(this.DOMElement, 'input', _handler);\n        on(this.DOMElement, 'paste', _handler);\n    }\n\n    /**\n     * Get or builds mask regexp.\n     *\n     * @access {private}\n     * @param  {string}  mask\n     * @return {RegExp}\n     */\n    InputMasker.prototype._getMaskRegexp = function(mask)\n    {\n        if (is_regexp(mask)) return mask;\n        \n        let regexp = MASK_MAP[mask.replaceAll('-', '').toLowerCase()];\n\n        if (!regexp)\n        {\n            return new RegExp(mask);\n        }\n\n        return regexp;\n    }\n\n    /**\n     * Builds custom format values.\n     *\n     * @access {private}\n     * @param  {string}  format Formatting string\n     * @return {object}\n     */\n    InputMasker.prototype._buildFormatRegexp = function(format)\n    {\n        let raw        = format;\n        let seperators = format.split('x').filter((x) => x !== '');\n        let regexp     = new RegExp(_map(format.split(/[^x]/), (i, x) => x.includes('x') ? `(.{0,${x.length}})` : false ).join(''));\n        let prefix     = format.startsWith('x') ? '' : seperators.shift();\n        let suffix     = format.endsWith('x') ? '' : seperators.pop();\n        let len        = (raw.length -suffix.length);\n\n        return { seperators, regexp, prefix, suffix, raw, len };\n    }\n\n    /**\n     * Custom format function.\n     *\n     * @access {private}\n     * @param  {string}  str\n     * @return {str}\n     */\n    InputMasker.prototype._formatFilter = function(str)\n    {\n        // Regex filter\n        str = _map(str.split(''), (x, char) => !this.maskRegexp.test(char) ? null : char ).join('');\n\n        // Ignore or no formatting\n        if (str === '' || !this.format) return str;\n\n        // Cache seperators\n        let { seperators, regexp, prefix, suffix, raw, len } = this.format;\n\n        let splits = _map(str.match(regexp).slice(1), (i, str) => str === '' ? false : str);\n        let mapped = _map(splits, function(i, match)\n        {\n            return i === 0 ? prefix + match : seperators[i-1] + match;\n            \n        }).join('');\n\n        if (mapped.length === len)\n        {\n            mapped += suffix;\n        }\n\n        return mapped;\n    }\n\n    /**\n     * Sepcial handler for creditcard\n     *\n     * @access {private}\n     */\n    InputMasker.prototype._formatCC = function(cc)\n    {           \n        cc = cc.replaceAll(/[^0-9]/g, '');\n\n        for(var i in _CARD_TYPES)\n        {\n            const ct = _CARD_TYPES[i];\n\n            if (cc.match(ct.pattern))\n            {\n                cc = cc.substring(0, ct.maxlength)\n                \n                return ct.format(cc);\n            }\n        }\n\n        cc = cc.substring(0,19);\n\n        return _format_4444(cc);\n    }\n\n    /**\n     * Handles input event\n     *\n     * @access {private}\n     * @param  {DOMElement} DOMElement\n     * @param  {string}     oldval     \n     * @param  {RegExp}     maskRegexp \n     * @param  {bool}       isCC \n     */\n    InputMasker.prototype._handle = function(DOMElement, oldval, maskRegexp, isCC)\n    {\n        // Filter\n        let newVal = isCC ? this._formatCC(oldval) : this._formatFilter(oldval);\n\n        // Ignore no change\n        if (newVal == oldval) return;\n\n        // Set position and format\n        var pos          = DOMElement.selectionStart;\n        var before_caret = oldval.substring(0, pos);\n        before_caret     = isCC ? this._formatCC(oldval) : this._formatFilter(before_caret);\n        pos              = before_caret.length;\n        \n        DOMElement.value = newVal;\n        DOMElement.focus();\n        DOMElement.setSelectionRange(pos,pos);\n    }\n\n    // SET IN IOC\n    frontbx.set('InputMasker', InputMasker);\n\n})();\n(function()\n{\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find_all, add_class, attr, bool, closest, each, form_inputs, form_values, on, off, input_value, is_callable, is_empty, remove_class] = frontbx.import(['find_all','add_class','attr','bool','closest','each','form_inputs','form_values','on','off','input_value','is_callable','is_empty','remove_class']).from('_');\n\n    /**\n     * Validator functions\n     *\n     * @access {private}\n     * @return {boolean}\n     */\n    const VALIDATORS = \n    {\n        specialchars: ['!', '\"', '`', '#', 'find', '%', '&', '\\'', '(', ')', '*', '+', '-', '.', '/', ':', ';', '<', '=', '>', '?', '@', '[', ']', '^', '_', '{', '|', '}', '~'],\n\n        email: function(value)\n        {\n            var re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n            return re.test(value);\n        },\n        name: function(value)\n        {\n            return /[^A-z'\\ -'❜]/.test(value) === false;\n        },\n        password: function(value)\n        {   \n            if (!VALIDATORS.minlength(value, 6) || !VALIDATORS.maxlength(value, 40)) return false;\n\n            let chars = `${value}`;\n            let valid = false;\n\n            each(VALIDATORS.specialchars, (i, char) =>\n            {\n                if (value.includes(char))\n                {\n                    valid = true;\n\n                    return false;\n                }\n            });\n\n            return valid;\n        },\n        url: function(value)\n        {\n            re = /^(www\\.|[A-z]|https:\\/\\/www\\.|http:\\/\\/|https:\\/\\/)[a-z0-9]+([\\-\\.]{1}[a-z0-9]+)*\\.[a-z]{2,5}(:[0-9]{1,5})?(\\/.*)?$/;\n            return re.test(value);\n        },\n        alpha: function(value)\n        {\n            return /[^A-z]/.test(value) === false;\n        },\n        alphaspace: function(value)\n        {\n            return /[^A-z ]/.test(value) === false;\n        },\n        alphanumeric: function(value)\n        {\n            return /[^A-z0-9]/.test(value) === false;\n        },\n        alphadash: function(value)\n        {\n            return /[^A-z-]/.test(value) === false;\n        },\n        alphadot: function(value)\n        {\n            return /[^A-z\\.]/.test(value) === false;\n        },\n        alphadashdot: function(value)\n        {\n            return /[^A-z\\.-]/.test(value) === false;\n        },\n        alphadashes: function(value)\n        {\n            return /[^A-z-_]/.test(value) === false;\n        },\n        alphadashesdot: function(value)\n        {\n            return /[^A-z-_\\.]/.test(value) === false;\n        },\n        alphanumericdash: function(value)\n        {\n            return /[^A-z0-9-]/.test(value) === false;\n        },\n        alphanumericdot: function(value)\n        {\n            return /[^A-z0-9\\.]/.test(value) === false;\n        },\n        alphanumericdashdot: function(value)\n        {\n            return /[^A-z0-9\\.-]/.test(value) === false;\n        },\n        alphanumericdashesdot: function(value)\n        {\n            return /[^A-z0-9\\._-]/.test(value) === false;\n        },\n        numeric: function(value)\n        {\n            return /[^0-9]/.test(value) === false;\n        },\n        numericdecimal: function(value)\n        {\n            return /[^0-9\\.]/.test(value) === false;\n        },\n        list: function(value)\n        {\n            var re = /^[-\\w\\s]+(?:,[-\\w\\s]*)*$/;\n\n            return re.test(value);\n        },\n        creditcard: function(value)\n        {\n            /*Amex Card: ^3[47][0-9]{13}$\n            BCGlobal: ^(6541|6556)[0-9]{12}$\n            Carte Blanche Card: ^389[0-9]{11}$\n            Diners Club Card: ^3(?:0[0-5]|[68][0-9])[0-9]{11}$\n            Discover Card: ^65[4-9][0-9]{13}|64[4-9][0-9]{13}|6011[0-9]{12}|(622(?:12[6-9]|1[3-9][0-9]|[2-8][0-9][0-9]|9[01][0-9]|92[0-5])[0-9]{10})$\n            Insta Payment Card: ^63[7-9][0-9]{13}$\n            JCB Card: ^(?:2131|1800|35\\d{3})\\d{11}$\n            KoreanLocalCard: ^9[0-9]{15}$\n            Laser Card: ^(6304|6706|6709|6771)[0-9]{12,15}$\n            Maestro Card: ^(5018|5020|5038|6304|6759|6761|6763)[0-9]{8,15}$\n            Mastercard: ^(5[1-5][0-9]{14}|2(22[1-9][0-9]{12}|2[3-9][0-9]{13}|[3-6][0-9]{14}|7[0-1][0-9]{13}|720[0-9]{12}))$\n            Solo Card: ^(6334|6767)[0-9]{12}|(6334|6767)[0-9]{14}|(6334|6767)[0-9]{15}$\n            Switch Card: ^(4903|4905|4911|4936|6333|6759)[0-9]{12}|(4903|4905|4911|4936|6333|6759)[0-9]{14}|(4903|4905|4911|4936|6333|6759)[0-9]{15}|564182[0-9]{10}|564182[0-9]{12}|564182[0-9]{13}|633110[0-9]{10}|633110[0-9]{12}|633110[0-9]{13}$\n            Union Pay Card: ^(62[0-9]{14,17})$\n            Visa Card: ^4[0-9]{12}(?:[0-9]{3})?$\n            Visa Master Card: ^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14})$*/\n\n            var arr = [0, 2, 4, 6, 8, 1, 3, 5, 7, 9];\n            var ccNum = String(value).replace(/[- ]/g, '');\n\n            var\n                len = ccNum.length,\n                bit = 1,\n                sum = 0,\n                val;\n\n            while (len)\n            {\n                val = parseInt(ccNum.charAt(--len), 10);\n                sum += (bit ^= 1) ? arr[val] : val;\n            }\n\n            return sum && sum % 10 === 0;\n        },\n        minlength: function(value, min)\n        {\n            value = `${value}`;\n\n            return value.length >= parseInt(min);\n        },\n        maxlength: function(value, max)\n        {\n            value = `${value}`;\n\n            return value.length <= parseInt(max);\n        }\n    };\n\n    /**\n     * FormValidator\n     *\n     * This class is used to validate a form and \n     * also apply and classes to display form results and input errors.\n     *\n     */\n    const FormValidator = function(form)\n    {\n        // Save inputs\n        this._formEl = form;\n        this._inputs = form_inputs(form);\n\n        // Defaults\n        this._ruleSets = [];\n        this._formObj  = {};\n        this._valid    = false;\n\n        // Initialize\n        this._buildRuleSets();\n    }\n\n    /**\n     * Validate the form.\n     *\n     * @access {public}\n     * @return {boolean}\n     */\n    FormValidator.prototype.validate = function()\n    {\n        // Remove all listeners\n        this._unListen();\n\n        // Clear any invalids\n        this._clearForm();\n\n        // Validate inputs\n        this._validateRuleSets();\n\n        // Show invalid inputs\n        each(this._ruleSets, (i, ruleset) =>\n        {\n            if (!ruleset.valid) this._devalidateField(ruleset.node, ruleset.failClass);\n        });\n\n        // Listen to input changes.\n        this._listen();\n\n        return this._valid;\n    }\n\n    /**\n     * Destroy the validator.\n     *\n     * @access {public}\n     */\n    FormValidator.prototype.destroy = function()\n    {\n        this._unListen();\n\n        this._clearForm();\n\n        each(this._ruleSets, (i, ruleset) =>\n        {\n            this._validateField(ruleset.node, ruleset.failClass);\n        });\n    }\n\n    /**\n     * Show form result\n     *\n     * @access {public}\n     */\n    FormValidator.prototype.showResult = function(result)\n    {\n        this._clearForm();\n\n        add_class(this._formEl, result);\n    }\n\n    /**\n     * Append a key/pair and return form obj\n     *\n     * @access {public}\n     * @return {obj}\n     */\n    FormValidator.prototype.append = function(key, value)\n    {\n        this._formObj[key] = value;\n\n        let form = this.form();\n\n        return {...form, ...this._formObj};\n    };\n\n    /**\n     * Get the form object\n     *\n     * @access {public}\n     * @return {obj}\n     */\n    FormValidator.prototype.form = function()\n    {\n        return form_values(this._formEl);\n    }\n\n    /**\n     * Build validation rule sets.\n     *\n     * @access {private}\n     */\n    FormValidator.prototype._buildRuleSets = function()\n    {\n        each(this._inputs, (i, input) =>\n        {\n            // No name or radio\n            if (!input.name) return;\n\n            let node = input;\n\n            let required   = bool(attr(input, 'data-js-required') || attr(input, 'required'));\n            let minlength  = attr(input, 'data-js-min-length') || attr(input, 'minlength');\n            let maxlength  = attr(input, 'data-js-max-length') || attr(input, 'maxlength');\n            let valid      = true;\n            let validation = this._validationFunc(attr(input, 'data-js-validation'));\n            let failClass  = attr(input, 'data-js-validation-fail') || 'danger'; \n\n            this._ruleSets.push({node, required, minlength, maxlength, validation, failClass, valid});\n        });\n    }\n\n    /**\n     * Returns the validation callback function by name.\n     *\n     * @access {private}\n     * @param  {String}   name Validation name\n     * @return {Function}\n     */\n    FormValidator.prototype._validationFunc = function(name)\n    {\n        if (!name) return;\n\n        let key = name.replaceAll('-', '').toLowerCase();\n\n        if (!VALIDATORS[key]) throw new error(`Unsupported input validation [${name}].`)\n\n        return VALIDATORS[key];\n    }\n\n    /**\n     * Validate all rule sets.\n     *\n     * @access {private}\n     * @return {Boolean}\n     */\n    FormValidator.prototype._validateRuleSets = function()\n    {\n        this._valid = true;\n\n        each(this._ruleSets, (i, ruleset) => { this._validateRuleSet(ruleset) });\n        \n        return this._valid;\n    }\n\n    /**\n     * Validate an individual ruleset.\n     *\n     * @access {private}\n     * @param  {Object}  ruleset Ruleset to validate\n     * @return {Boolean}\n     */\n    FormValidator.prototype._validateRuleSet = function(ruleset)\n    {\n        let value = input_value(ruleset.node);\n\n        // Skip radios, they don't have any validation\n        if (ruleset.node.type === 'radio') return true;\n        \n        if (ruleset.required && is_empty(value))\n        {\n            this._valid = false;\n            ruleset.valid = false;\n        }\n        else if (ruleset.minlength && !VALIDATORS.minlength.call(null, value, ruleset.minlength))\n        {\n            this._valid = false;\n            ruleset.valid = false;\n        }\n        else if (ruleset.maxlength && !VALIDATORS.maxlength.call(null, value, ruleset.maxlength))\n        {\n            this._valid = false;\n            ruleset.valid = false;\n        }\n        else if (is_callable(ruleset.validation) && !ruleset.validation.call(null, value))\n        {\n            this._valid = false;\n            ruleset.valid = false;\n        }\n        else\n        {\n            ruleset.valid = true;\n        }\n\n        return ruleset.valid;\n    }\n\n    /**\n     * Listen to input\n     *\n     * @access {private}\n     * @param  {HTMLElement} node Input\n     */\n    FormValidator.prototype._listen = function()\n    {\n        each(this._ruleSets, (i, ruleset) => \n        {\n            on(ruleset.node, 'input, change', this._liveValidate, this);\n        });\n    }\n\n    /**\n     * Listen to inputs.\n     *\n     * @access {private}\n     */\n    FormValidator.prototype._unListen = function()\n    {\n        each(this._ruleSets, (i, ruleset) => \n        {\n            off(ruleset.node, 'input, change', this._liveValidate, this);\n        });\n    }\n\n    /**\n     * Live validate an input.\n     *\n     * @access {private}\n     * @param  {Object}      e     Event\n     * @param  {HTMLElement} input Input\n     */\n    FormValidator.prototype._liveValidate = function(e, input)\n    {\n        each(this._ruleSets, (i, ruleset) => \n        {\n            if (ruleset.node === input)\n            {\n                let valid = this._validateRuleSet(ruleset);\n\n                valid ? this._validateField(input, ruleset.failClass) : this._devalidateField(input, ruleset.failClass);\n            }\n        });\n    }\n\n    /**\n     * Show form field as valid.\n     *\n     * @access {private}\n     * @param  {HTMLElement} node Input\n     */\n    FormValidator.prototype._validateField = function(input, failClass)\n    {\n        let fieldWrap = closest(input, '.form-field');\n\n        if (fieldWrap) remove_class(fieldWrap, ['info', 'success', 'warning', 'danger', failClass]);\n    }\n\n    /**\n     * Show form field as invalid.\n     *\n     * @access {private}\n     */\n    FormValidator.prototype._devalidateField = function(input, failClass)\n    {\n        let fieldWrap = closest(input, '.form-field');\n\n        if (fieldWrap) add_class(fieldWrap, failClass);\n    }\n\n    /**\n     * Clear form results.\n     *\n     * @access {private}\n     */\n    FormValidator.prototype._clearForm = function()\n    {\n        // Remove the form result\n        remove_class(this._formEl, ['info', 'success', 'warning', 'danger']);\n    }\n\n    // Load into container\n    frontbx.set('FormValidator', FormValidator);\n\n})();\n\n// dom components\n(function()\n{\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [add_class, animate, attr, css, dom_element, each, find, find_all, _for, is_object, map, sibling_index, off, on, preapend, remove_class, rendered_style, width, remove_from_dom, inline_style] = frontbx.import(['add_class','animate','attr','css','dom_element','each','find','find_all','for','is_object','map','sibling_index','off','on','preapend','remove_class','rendered_style','width','remove_from_dom','inline_style']).from('_');\n\n    /**\n     * Default options\n     * \n     * @var {Object}\n     */\n    const DEFAULT_OPTIONS =\n    {\n        // enable keyboard navigation, pressing left & right keys\n        accessibility: true,\n        \n        // advances to the next cell\n        // if true, default is 3 seconds\n        // or set time between advances in milliseconds\n        // i.e. `autoPlay: 1000` will advance every 1 second\n        autoPlay: true,\n\n        // zero-based index of the initial selected cell\n        initialIndex: 0,\n        \n        controls: true,\n        // creates and enables buttons to click to previous & next cells\n\n        dots: true,\n        // create and enable page dots\n\n        resize: true,\n        // listens to window resize events to adjust size & positions\n\n        wrap: true,\n        // at end of cells, wraps-around to first for infinite scrolling\n\n        // Group slides\n        groupSlides: false,\n\n        pauseOnHover: true,\n        // Pauses autoplay on hover\n\n        easing: 'easeOutExpo',\n        // Easing pattern\n\n        draggable: true,\n        // Draggable\n\n        friction: 0.85,\n        // Dragging friction\n\n        mouseSupport: true,\n        // Enables dragging with mouse,\n\n        // Minimum swipe distance to be a \"swipe\"\n        threshold: (type, self) => 3,\n\n        // Minimum travel swipe velocity to be considered a \"swipe\"\n        velocityThreshold: 3,\n        \n    };\n\n    /**\n     * Slider.\n     *\n     * @param {HTMLElement} wrapper Wrapper element\n     * @param {Object}      options Options\n     */\n    const _Slider = function(wrapper, options)\n    {\n        this.options = is_object(options) ? {...DEFAULT_OPTIONS, ...options } :  {...DEFAULT_OPTIONS };\n\n        this.DOMElementWrapper = wrapper;\n\n        this._animating = false;\n\n        this._playing = 'stopped';\n\n        this._translated = 0;\n\n        this._resizeThrottle = throttle(() => this.resize(), 100);\n\n        this._build();\n\n        this._moveIndexToMiddle();\n\n        this.resize();\n\n        if (this.options.autoPlay) this.play();\n    }\n\n    /**\n     * Destroy the slider.\n     *\n     * @access {public}\n     */\n    _Slider.prototype.destroy = function()\n    {\n        this.stop();\n\n        if (this._gestures) this._gestures.destroy();\n\n        off(window, 'resize', this._resizeThrottle, this);\n\n        off(this.DOMElementWrapper, 'mouseover', this.pause, this);\n\n        off(this.DOMElementWrapper, 'mouseout', this.unpause, this);\n\n        if (this.options.dots) remove_from_dom(this._dotWrap);\n\n        if (this.options.controls) remove_from_dom([this._righBtn, this._leftBtn]);\n\n        let slides = !this.options.groupSlides ? this._slides : find_all('.slide-group > *', this.DOMElementWrapper);\n\n        each(slides, (i, slide) => this.DOMElementWrapper.appendChild(slide));\n    }\n\n    /**\n     * Next slide\n     *\n     * @access {public}\n     */\n    _Slider.prototype.next = function(animationOrClickEvent)\n    {\n        // Stop on animating\n        if (this._animating || this._dragging) return;\n\n        // Do nothing on non-wrap and at end\n        if (!this.options.wrap && this._index === this._slidesIndexs) return;\n\n        // Don't animate\n        if (animationOrClickEvent === false) return this._toSlideDirect(this._index +1);\n\n        // Pause autoplay\n        this.pause();\n\n        // We're now animating\n        this._animating = true;\n\n        // Run animation\n        let distance = this._slideWidthWGap;\n\n        if (!this.options.wrap)\n        {\n            distance += this._translated;\n            \n            this._translated = distance;\n        }\n\n        // Update the index and dots.        \n        this._updateIndex(1);\n        this._updateDots();\n\n        // Shuffle before animation\n        if (this.options.wrap)\n        {\n            // Adjust pre distance before animation\n            let preDistance = this._offset - this._slideWidthWGap;\n\n            this._moved(1);\n\n            css(this._DOMElementViewport, 'left', `-${preDistance}px`);\n        }\n\n        animate(this._DOMElementViewport, { transform: `translateX(-${distance}px)`, easing: this.options.easing, duration: 550, complete: () =>\n        { \n            if (this.options.wrap)\n            {\n                css(this._DOMElementViewport, 'left', `-${this._offset}px`);\n\n                css(this._DOMElementViewport, 'transform', `translateX(0px)`);\n            }\n\n            if (!this.options.wrap) this._moved(1);\n\n            this._animating = false;\n\n            if (!animationOrClickEvent) this.unpause();\n        }});\n    }\n\n    /**\n     * Previous slide\n     *\n     * @access {public}\n     */\n    _Slider.prototype.previous = function(animationOrClickEvent)\n    {\n        // Stop on animating\n        if (this._animating || this._dragging) return;\n\n        // Do nothing on non-wrap and at start\n        if (!this.options.wrap && this._index === 0) return;\n\n        // Don't animate\n        if (animationOrClickEvent === false) return this._toSlideDirect(this._index +1);\n\n        // Clear timeout\n        this.pause();\n\n        // We're now animating\n        this._animating = true;\n\n        // Cache distance\n        let distance = !this.options.wrap ? (this._translated - this._slideWidthWGap) : this._slideWidthWGap;\n\n        this._translated = distance < 2 ? 0 : distance;\n\n        // Failsafe \n        if (!this.options.wrap) distance = distance < 2 ? 0 : -distance;\n\n        // Update dots and indexes\n        this._updateIndex(-1);\n        this._updateDots();\n\n        // Shuffle before animation\n        if (this.options.wrap)\n        {\n            // Adjust pre distance before animation\n            let preDistance = this._offset + this._slideWidthWGap;\n\n            this._moved(-1);\n\n            css(this._DOMElementViewport, 'left', `-${preDistance}px`);\n        }\n\n        // Run animation\n        animate(this._DOMElementViewport, { transform: `translateX(${distance}px)`, easing: this.options.easing, duration: 550, complete: () => \n        { \n            if (this.options.wrap)\n            {\n                css(this._DOMElementViewport, 'left', `-${this._offset}px`);\n\n                css(this._DOMElementViewport, 'transform', `translateX(0px)`);\n            }\n\n            this._animating = false;\n\n            if (!animationOrClickEvent) this.unpause();\n        } });\n    }\n\n    /**\n     * Go to slide.\n     *\n     * @access {public}\n     * @param  {integer} slideNum Slide number\n     */\n    _Slider.prototype.toSlide = function(slideNum, animation, fromClick)\n    {\n        // Animating\n        if (this._animating) return false;\n\n        animation = typeof animation === 'undefined' ? true : animation;\n\n        fromClick = typeof fromClick === 'undefined' ? false : fromClick;\n\n        if (!animation) return this._toSlideDirect(slideNum);\n\n        // convert slide number to index\n        let index = slideNum === 1 ? 0 : slideNum-1;\n\n        // Invalid or does nothing\n        if (index === this._index || index > this._slidesIndexs || index < 0) return;\n\n        // Go to previous\n        if ( (index === (this._index -1) && this._index > 0) || (index === this._slidesIndexs && this._index === 0 && this.options.wrap))\n        {\n            return this.previous();\n        }\n\n        // Go to next\n        else if ((index === (this._index + 1) && this._index < this._slidesIndexs) || (index === 0 && this._index === this._slidesIndexs && this.options.wrap))\n        {            \n            return this.next();\n        }\n\n        // We're now animating\n        this._animating = true;\n\n        // Clear timeout\n        this.pause();\n\n        // Default delta and direction\n        let { delta, direction } = this._moveDelta(index);\n\n        // If we're not wrapping we can skip all of this\n        if (!this.options.wrap)\n        {\n            let distance = this._slideWidthWGap * delta;\n\n            distance = direction === -1 ? this._translated - distance : this._translated + distance;\n            \n            this._translated = distance < 2 ? 0 : distance;\n\n            _for(delta, () => { this._updateIndex(direction) });\n\n            this._updateDots();\n            \n            animate(this._DOMElementViewport, { transform: `translateX(${distance < 2 ? 0 : -distance}px)`, easing: this.options.easing, duration: 550, complete: () => \n            { \n                this._animating = false;\n\n                if (!fromClick) this.unpause();\n\n            } });\n\n            return;\n        }\n\n        // Moving back shifts index forward\n        // Moving forwards shifts index back\n        let postIndex = direction === -1 ? this._middleIndex + delta : (this._middleIndex - delta) + this._bufferSize;\n\n        // Since we know the new index, we can just calculate how far offset center it is.\n        let tmpOffset = (postIndex * this._slideWidthWGap) - (this._viewportWidth / 2) + (this._slideWidth / 2);\n\n        // Run animation\n        let distance = this._slideWidthWGap * delta;\n        distance  = direction === 1 ? -distance : distance;\n\n        // Shuffle slides\n        _for(delta, () => { this._moved(direction); this._updateIndex(direction) }, this);\n\n        // Insert buffer clones\n        let clones = this._bufferNodes(direction);\n\n        css(this._DOMElementViewport, 'left', `-${tmpOffset}px`);\n\n        // Run animation\n        animate(this._DOMElementViewport, { transform: `translateX(${distance}px)`, easing: this.options.easing, duration: 650, complete: () => \n        { \n            each(clones, (i, clone) =>\n            {\n                clone.parentNode.removeChild(clone);\n            });\n\n            css(this._DOMElementViewport, 'left', `-${this._offset}px`);\n\n            css(this._DOMElementViewport, 'transform', `translateX(0px)`);\n\n            this._animating = false;\n\n            if (!fromClick) this.unpause();\n\n        } });\n\n        this._updateDots();\n    }\n\n     /**\n     * Go to slide.\n     *\n     * @access {public}\n     * @param  {integer} slideNum Slide number\n     */\n    _Slider.prototype._toSlideDirect = function(slideNum)\n    {\n        // convert slide number to index\n        let index = slideNum === 1 ? 0 : slideNum-1;\n\n        // Clear timeout\n        this.pause();\n\n        // Default delta and direction\n        let delta       = index < this._index ? this._index - index : index - this._index;\n        let direction   = index < this._index ? -1 : 1;\n\n        // If we're not wrapping we can skip all of this\n        if (!this.options.wrap)\n        {\n            let distance = this._slideWidthWGap * delta;\n\n            distance = direction === -1 ? this._translated - distance : this._translated + distance;\n            \n            this._translated = distance < 2 ? 0 : distance;\n\n            _for(delta, () => { this._updateIndex(direction) });\n\n            this._updateDots();\n\n            css(this._DOMElementViewport, 'transform',  `translateX(${distance < 2 ? 0 : -distance}px)`);\n            \n            this.unpause();\n\n            return;\n        }\n\n        // Shuffle slides\n        _for(delta, () => { this._moved(direction); this._updateIndex(direction) }, this);\n\n        css(this._DOMElementViewport, 'transform', `translateX(0px)`);\n\n        this._updateDots();\n\n        this.unpause();\n    }\n\n    /**\n     * Window resize handler.\n     *\n     * @access {private}\n     */\n    _Slider.prototype.resize = function()\n    {\n        if (this._slidesCount === 0) return;\n\n        // Is full width, may change with responsive CSS\n        this._isFullWidth = parseInt(rendered_style(this._slides[0], 'max-width')) === 100;\n\n        // Viewport width\n        this._viewportWidth = Math.round(width(this.DOMElementWrapper));\n\n        // Gap size\n        this._gapSize = parseInt(rendered_style(this._DOMElementViewport, 'column-gap'));\n\n        // Slide width\n        this._slideWidth = Math.round(width(this._slides[0], this.DOMElementWrapper));\n\n        // Slide width with gap\n        this._slideWidthWGap = this._slideWidth + this._gapSize;\n\n        // Offset\n        this._offset = Math.round(this.options.wrap ? (this._middleIndex * this._slideWidthWGap) - (this._viewportWidth / 2) + (this._slideWidth / 2) : this._slideWidthWGap - ((this._viewportWidth + this._slideWidth) / 2));\n\n        // Buffer\n        if (!this._isFullWidth)\n        {\n            let percentagWidth  = (100 * this._slideWidth) / this._viewportWidth;\n            this._bufferSize    = percentagWidth > 50 ? 3 : Math.round(100 / percentagWidth);            \n        }\n\n        // Make offset\n        css(this._DOMElementViewport, 'left', `${this._offset === 0 ? 0 : -this._offset}px`);\n\n        // Visible slides\n        this._visibleSlides = this._isFullWidth ? 1 : this._viewportWidth / this._slideWidthWGap;\n\n        this._dragBoundryL = this._offset - this._slideWidthWGap;\n\n        this._dragBoundryR = -(this._dragBoundryL);\n    }\n\n    /**\n     * Start autoplay.\n     *\n     * @access {public}\n     */\n    _Slider.prototype.play = function()\n    {      \n        if (this._playing === 'playing') return;\n\n        // do not play if page is hidden, start playing when page is visible\n        let isPageHidden = document.hidden;\n        \n        if (isPageHidden)\n        {\n            on(document, 'visibilitychange', this._onVisibilityPlay, this);\n\n            return;\n        }\n\n        this._playing = 'playing';\n\n        // listen to visibility change\n        on(document, 'visibilitychange', this._onVisibilityChange, this);\n\n        // start ticking\n        this._tick();\n    }\n\n    /**\n     * Stop autoplay.\n     *\n     * @access {public}\n     */\n    _Slider.prototype.stop = function()\n    {\n        this._playing = 'stopped';\n\n        clearTimeout(this._playTimer);\n        \n        // remove visibility change event\n        off(document, 'visibilitychange', this._onVisibilityChange, this);\n    }\n\n    /**\n     * Pause autoplay.\n     *\n     * @access {public}\n     */\n    _Slider.prototype.pause = function()\n    {\n        if (this._playing === 'playing')\n        {\n            this._playing = 'paused';\n            \n            clearTimeout(this._playTimer);\n        }\n    }\n\n    /**\n     * Unpause autoplay.\n     *\n     * @access {public}\n     */\n    _Slider.prototype.unpause = function()\n    {\n        // re-start play if paused\n        if (this._playing === 'paused') this.play();\n    }\n\n    /**\n     * Build the slider.\n     *\n     * @access {private}\n     */\n    _Slider.prototype._build = function()\n    {\n        // Find slides\n        this._slides = !this.options.groupSlides ? find_all('> *', this.DOMElementWrapper) : map([...Array(Math.ceil(find_all('> *', this.DOMElementWrapper).length / this.options.groupSlides)).keys()], (i) =>\n        {\n            // Since we're appending children as we go we're always taking the first n children\n            return dom_element({tag: 'div', class: 'slide-group'}, null, find_all('> *', this.DOMElementWrapper).slice(0, this.options.groupSlides));\n        });\n\n        // Slides count\n        this._slidesCount = this._slides.length;\n\n        // Slide indexes\n        this._slidesIndexs = this._slides.length -1;\n\n        // Starting index\n        this._index = this.options.initialIndex;\n\n        // Middle index\n        this._middleIndex = Math.floor(this._slidesCount / 2);\n\n        // Visible slides\n        this._visibleSlides = 1;\n\n        // Buffer size\n        this._bufferSize = 0;\n\n        // Create viewport\n        this._DOMElementViewport = dom_element({tag: 'div', class: 'slider-viewport js-slider-viewport'}, this.DOMElementWrapper, this._slides);\n\n        // Controls\n        if (this.options.controls) this._buildControls();\n\n        // Dots\n        this._dots = [];\n        if (this.options.dots) this._buildDots();\n\n        // Pause on hover\n        if (this.options.autoPlay && this.options.pauseOnHover)\n        {\n            on(this.DOMElementWrapper, 'mouseover', this.pause, this);\n\n            on(this.DOMElementWrapper, 'mouseout', this.unpause, this);\n        }\n\n        // Window resize\n        if (this.options.resize)\n        {\n            on(window, 'resize', this._resizeThrottle, this);\n        }\n\n        if (this.options.draggable && this._slidesCount > 1)\n        {\n            add_class(this.DOMElementWrapper, 'draggable');\n\n            this._bindGestures();\n        }\n\n        add_class(this.DOMElementWrapper, 'js-slider');\n    }\n\n    /**\n     * Start dragging slide.\n     *\n     * @access {public}\n     * @param  {integer} slideNum Slide number\n     */\n    _Slider.prototype._dragSlide = function(moved)\n    {\n        let x = this._dragX;\n\n        if (this.options.wrap)\n        {\n            let nearEnd = (x < 0 && x <= this._dragBoundryR) || (x > 0 && x >= this._dragBoundryL);\n\n            if (nearEnd)\n            {\n                this._dragCloneSlides();\n\n                return;\n            }\n        }\n\n        css(this._DOMElementViewport, 'transform', `translateX(${x}px)`);\n    }\n\n    /**\n     * Go to slide.\n     *\n     * @access {public}\n     * @param  {integer} slideNum Slide number\n     */\n    _Slider.prototype._dragCloneSlides = function()\n    {   \n        // No need to clone on non wrapping sliders     \n        if (!this.options.wrap) return;\n\n        let distance = this._slideWidthWGap * this._bufferSize;\n\n        // Push out the drag boundaries\n        // Drag bondry L remains the same as it is a fixed position from start\n        this._dragBoundryR = -((this._slideWidthWGap * (this._bufferSize + this._slidesCount -1)) + (this._slideWidth /2));\n\n        // Adjust the dragging buffer\n        this._draggingbuffer = !this._draggingbuffer ? distance : this._draggingbuffer + distance;\n\n        // Resting distance\n        distance = this._dragX - distance;\n\n        // Pad sides and clone\n        this._bufferDragClones();\n\n        // Adjust drag position\n        css(this._DOMElementViewport, 'transform', `translateX(${distance}px)`);\n    }\n\n    /**\n     * Fake shuffle cloned slides to start or end\n     *\n     * @access {private}\n     */\n    _Slider.prototype._bufferDragClones = function()\n    {    \n        if (!this.options.wrap) return;\n\n        let viewport = this._DOMElementViewport;\n\n        let clones = [];\n\n        _for(this._bufferSize, (i) =>\n        {\n            let cloneR = find(`> *:nth-child(${this._dragRIndex})`, this._DOMElementViewport).cloneNode(true);\n            let cloneL = find(`> *:nth-last-child(${this._dragLIndex})`, this._DOMElementViewport).cloneNode(true);\n            add_class([cloneR, cloneL], 'slide-clone');\n\n            this._dragClones.push(cloneR);\n            this._dragClones.push(cloneL);\n\n            preapend(cloneL, viewport);\n\n            viewport.appendChild(cloneR);\n\n            this._dragRIndex += 2;\n\n            this._dragLIndex += 2;\n        });\n    }\n\n    /**\n     * Clear drag clones.\n     *\n     * @access {private}\n     */\n    _Slider.prototype._clearDragClones = function()\n    {\n        each(this._dragClones, (i, clone) =>\n        {\n            this._DOMElementViewport.removeChild(clone);\n        });\n    }\n\n    _Slider.prototype._restingDragPos = function()\n    {\n        let ret = { rest: 0, slideIndex: 1 };\n\n        // There would be a smarter way to figure all this out, however have not been able to figure out an easy solution\n        let wrapping = this.options.wrap;\n\n        // What distance have we actually moved in total?\n        let moved = !wrapping ? Math.abs(this._dragX) - Math.abs(this._offset) : (this._slideWidthWGap * this._middleIndex) + (this._slideWidth / 2)\n\n        if (wrapping) moved = this._dragX < 0 ? moved + Math.abs(this._dragX) : moved - this._dragX;\n\n        // Always first slide\n        if (!wrapping && (this._dragX > 0 || moved < 0)) return ret;\n\n        // Get the DOM index of the slide that should be resting\n        let index = !wrapping ? Math.ceil(moved / this._slideWidthWGap) : Math.ceil(moved / this._slideWidthWGap) -1;\n\n        // Dragged over the edge on non-wrapping sliders\n        if (!wrapping && index > this._slidesIndexs) index = this._slidesIndexs;\n\n        // Get X pos of where target slide starts\n        let slideStarts = (index * this._slideWidthWGap) - (this._viewportWidth / 2) + (this._slideWidth / 2);\n\n        // Figure out the resting point\n        let rest = this._offset - slideStarts;\n\n        let slideIndex = parseInt(attr(find(`>:nth-child(${index +1})`, this._DOMElementViewport), 'data-index')) +1;\n\n        this._dragMoved = (slideIndex -1) !== this._index;\n\n        if (!wrapping) this._translated = Math.abs(rest);\n\n        return { rest, slideIndex };\n    }\n\n    /**\n     * Find closest slide on end\n     *\n     * @access {private}\n     */\n    _Slider.prototype._onDragEnd = function()\n    {\n        let { rest, slideIndex } = this._restingDragPos();\n\n        this._dragEndAnim = animate(this._DOMElementViewport, { property: 'transform', from: `translateX(${this._dragX}px)`, to: `translateX(${rest}px)`, duration: 650, easing: this.options.easing, complete: () => \n        {\n            if (this._dragClones.length >= 1) this._clearDragClones();\n\n            if (this._dragMoved && this.options.wrap) this.toSlide(slideIndex, false, false);\n\n            if (!this._dragMoved && this.options.wrap) css(this._DOMElementViewport, 'transform', `translateX(0px)`);\n\n            this._index = slideIndex -1;\n\n            this._translated = Math.abs(rest);\n\n            this._updateDots();\n\n            this.unpause();\n\n            this._resetDragVars();\n        }} );\n    }\n\n    /**\n     * Build controls.\n     *\n     * @access {private}\n     */\n    _Slider.prototype._resetDragVars = function()\n    {\n        this._dragClones      = [];\n        this._dragRIndex      = 1;\n        this._dragLIndex      = 1;\n        this._dragging        = false;\n        this._dragMoved       = false;\n        this._dragStartPointX = { x: 0, y: 0};\n        this._dragBoundryL    = this._offset - this._slideWidthWGap;\n        this._dragBoundryR    = -(this._dragBoundryL);\n        \n        delete this._dragX;\n\n        delete this._prevDrag;\n\n        delete this._dragEndAnim;\n\n        delete this._draggingbuffer;\n    }\n\n    /**\n     * Build controls.\n     *\n     * @access {private}\n     */\n    _Slider.prototype._bindGestures = function()\n    {\n        let wrapper = this.DOMElementWrapper;\n\n        const gestures = frontbx.TinyGesture(this.DOMElementWrapper, { mouseSupport: this.options.mouseSupport, velocityThreshold: this.options.velocityThreshold, threshold: this.options.threshold });\n\n        this._resetDragVars();\n\n        gestures.on('panstart', (event) =>\n        {\n            // No drag on transitioning\n            if (this._animating) return;\n\n            // Clear timeout\n            this.pause();\n\n            // Register start point\n            this._dragStartPointX = event.pageX;\n\n            // We have a previous unfinished drag\n            if (this._dragEndAnim)\n            {\n                this._dragEndAnim.stop();\n\n                this._prevDrag = parseFloat(inline_style(this._DOMElementViewport, 'transform').replaceAll(/[^0-9-.]/g, ''));\n\n                delete this._dragEndAnim;\n            }\n\n            // Add helper class for optional UI\n            add_class(wrapper, 'dragging');\n        });\n\n        gestures.on('panmove', (event) =>\n        {\n            // No drag on transitioning\n            if (this._animating) return;\n\n            // Base movement\n            let moveVectorX = (event.pageX - this._dragStartPointX);\n\n            // No drag\n            if ( Math.abs(moveVectorX) < 3 ) return;\n\n            this._dragging = true;\n\n            // Much slower on non-wrapping sliders when at end or start and going in opposite direction\n            if (!this.options.wrap && ( (this._index === 0 && moveVectorX > 0) || (this._index === this._slidesIndexs && moveVectorX < 0) ))\n            {\n                moveVectorX = moveVectorX * (this.options.friction / 3);\n            }\n            else\n            {\n                // Slow down further we drag\n                moveVectorX = moveVectorX * this.options.friction;\n            }\n\n            // Previous drag\n            if (this._prevDrag)\n            {\n                moveVectorX = this._prevDrag + moveVectorX\n            }\n\n            // Non wrap + translated\n            else if (!this.options.wrap)\n            {\n                moveVectorX = moveVectorX - this._translated;\n            }\n\n            // Calculate travel distance\n            this._dragX = !this._draggingbuffer ? moveVectorX : moveVectorX - this._draggingbuffer;\n\n            // Drag the slide\n            this._dragSlide();\n        });\n\n        gestures.on('panend', (event) =>\n        {\n            remove_class(wrapper, 'dragging');\n\n            if (!this._dragX) return this.unpause();\n\n            this._onDragEnd();\n        });\n\n        gestures.on('swiperight', (event) =>\n        {\n            // Don't swipe on animating\n            if (this._animating) return;\n\n            // Don't swipe on drags\n            if (this._dragEndAnim && this._dragMoved) return;\n\n            // Can't go back\n            if (!this.options.wrap && this._index === 0) return;\n\n            // Stop dragend if running\n            if (this._dragEndAnim) this._dragEndAnim.stop();\n\n            this._resetDragVars();\n\n            this.previous();\n        });\n        gestures.on('swipeleft', (event) =>\n        {\n            // Don't swipe on animating\n            if (this._animating) return;\n\n            // Don't swipe on drags\n            if (this._dragEndAnim && this._dragMoved) return;\n            \n            // Can't go forward\n            if (!this.options.wrap && this._index === this._slidesIndexs) return;\n\n            // Stop dragend if running\n            if (this._dragEndAnim) this._dragEndAnim.stop();\n\n            this._resetDragVars();\n\n            this.next();\n        });\n\n        this._gestures = gestures;\n    }\n\n    /**\n     * Build controls.\n     *\n     * @access {private}\n     */\n    _Slider.prototype._buildControls = function()\n    {\n        // Right button\n        this._righBtn = dom_element({tag: 'button', type: 'button', class: 'slider-control control-right btn btn-pure'}, this.DOMElementWrapper, \n            dom_element({tag: 'span',class: 'fa fa-caret-right'})\n        );\n\n        // Left button\n        this._leftBtn = dom_element({tag: 'button', type: 'button', class: 'slider-control control-left btn btn-pure'}, this.DOMElementWrapper, \n            dom_element({tag: 'span',class: 'fa fa-caret-left'})\n        );\n\n        // Handlers\n        on(this._righBtn, 'click', this.next, this);\n        on(this._leftBtn, 'click', this.previous, this);\n    }\n\n    /**\n     * Build dots.\n     *\n     * @access {private}\n     */\n    _Slider.prototype._buildDots = function()\n    {\n        let index = this._index;\n\n        this._dotWrap = dom_element({tag: 'div', class: 'slider-dots js-slider-dots'}, this.DOMElementWrapper, map(this._slides, (i, slide) =>\n        {\n            let active = i === index ? 'active' : '';\n\n            let dot = dom_element({tag: 'button', type: 'button', dataIndex: i, class: `slider-dot js-slider-dot btn btn-circle ${active}`});\n\n            on(dot, 'click', this._dotClick, this);\n\n            this._dots.push(dot);\n\n            return dot;\n        }));\n    }\n\n     /**\n     * Moves indexed slide to middle.\n     *\n     * @access {private}\n     */\n    _Slider.prototype._moveIndexToMiddle = function()\n    {\n        each(this._slides, (i) =>\n        {\n            attr(this._slides[i], 'data-index', i);\n        \n        }, this);\n\n        if (!this.options.wrap) return;\n\n        let slide = this._slides[this._index];\n\n        _for(this._slidesCount, (i) =>\n        {\n            if (sibling_index(slide) === this._middleIndex) return false;\n\n            preapend(find('> *:last-child', this._DOMElementViewport), this._DOMElementViewport);\n        \n        }, this);  \n    }\n\n    /**\n     * On dot click.\n     *\n     * @access {private}\n     */\n    _Slider.prototype._dotClick = function(e, dot)\n    {\n        if (this._animating || this._dragging) return;\n\n        let index = parseInt(attr(dot, 'data-index')) +1;\n\n        this.toSlide(index, true, true);\n    }\n\n    /**\n     * Update index from previous / next.\n     *\n     * @access {private}\n     * @param  {Integer} direction -1|1\n     */\n    _Slider.prototype._updateIndex = function(direction)\n    {\n        if (direction === 1)\n        {\n            this._index = this._index === this._slidesIndexs ? 0 : this._index + 1;\n        }\n        else\n        {\n            this._index = this._index === 0 ? this._slidesIndexs : this._index - 1;\n        }\n    }\n\n    /**\n     * Returns the move delta\n     *\n     * @access {private}\n     * @param  {Integer} direction -1|1\n     */\n    _Slider.prototype._moveDelta = function(index)\n    {\n        // Default delta and direction\n        let delta       = index < this._index ? this._index - index : index - this._index;\n        let direction   = index < this._index ? -1 : 1;\n        \n        // We only go shortest path if we're wrapping and there's more than 5 slides\n        if (this.options.wrap && this._slidesCount > 4)\n        {\n            if (index > this._index)\n            {\n                let backN = (this._slidesCount - index) + this._index;\n\n                if (backN < delta)\n                {\n                    delta = backN;\n                    direction = -1;\n                }\n            }\n            else if (index < this._index)\n            {\n                let forwdN = (this._slidesCount - this._index) + index;\n\n                if (forwdN < delta)\n                {\n                    delta = forwdN;\n                    direction = 1;\n                }\n            }\n        }\n\n        return { delta, direction };\n    }\n\n    /**\n     * Create buffers cloned nodes.\n     *\n     * @access {private}\n     * @param  {Integer} direction -1|1\n     */\n    _Slider.prototype._bufferNodes = function(direction)\n    {\n        let viewport = this._DOMElementViewport;\n\n        return map([...Array(this._bufferSize).keys()], (i) =>\n        {\n            let clone = find(`> *:nth${direction === -1 ? '-' : '-last-'}child(${i+1})`, viewport).cloneNode(true);\n\n            direction === -1 ? viewport.appendChild(clone) : preapend(clone, viewport);\n\n            return clone;\n        });\n    }\n\n    /**\n     * pause if page visibility is hidden, unpause if visible\n     *\n     * @access {private}\n     */\n    _Slider.prototype._onVisibilityChange = function()\n    {\n        let isPageHidden = document.hidden;\n        \n        this[ isPageHidden ? 'pause' : 'unpause' ]();\n    }\n\n    /**\n     * Start playing on page return.\n     *\n     * @access {private}\n     */\n    _Slider.prototype._onVisibilityPlay = function()\n    {\n        this.play();\n        \n        off(document, 'visibilitychange', this._onVisibilityPlay, this);\n    }\n\n    /**\n     * Timeout ticker.\n     *\n     * @access {private}\n     */\n    _Slider.prototype._tick = function()\n    {\n        // do not tick if not playing\n        if ( this._playing !== 'playing' ) return;\n\n        // default to 3 seconds\n        let time = typeof this.options.autoPlay == 'number' ? this.options.autoPlay : 3000;\n\n        // HACK: reset ticks if stopped and started within interval\n        clearTimeout(this._playTimer);\n\n        this._playTimer = setTimeout( () =>\n        {\n            this.next();\n            \n            this._tick();\n\n        }, time );\n    }\n\n    /**\n     * Shuffle slides after moved.\n     *\n     * @access {private}\n     * @param  {Integer} direction -1|1\n     */\n    _Slider.prototype._moved = function(direction)\n    {    \n        if (!this.options.wrap) return;\n\n        if (direction === 1)\n        {\n            this._DOMElementViewport.appendChild(find('> *:first-child', this._DOMElementViewport));\n        }\n        else\n        {\n           preapend(find('> *:last-child', this._DOMElementViewport), this._DOMElementViewport);\n        }\n    }\n\n    /**\n     * Update active dot after move.\n     *\n     * @access {private}\n     */\n    _Slider.prototype._updateDots = function()\n    {\n        if (!this.options.dots) return;\n\n        remove_class(find('.js-slider-dots .js-slider-dot.active', this.DOMElementWrapper), 'active');\n\n        add_class(this._dots[this._index], 'active');\n    }\n\n    // Load into container\n    frontbx.set('_Slider', _Slider);\n\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {Class}\n     */\n    const [Component] = frontbx.get('Component');\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [attr, each, map, extend, dom_element, json_decode] = frontbx.import(['attr', 'each', 'map', 'extend', 'dom_element', 'json_decode']).from('_');\n\n    /**\n     * Slider instances.\n     * \n     * @var {Array}\n     */\n    const SLIDERS = [];\n\n    /**\n     * Dom Slider component.\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Slider = function()\n    {\n        this.super('.js-slider');\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Slider.prototype.bind = function(node)\n    {\n        let options = attr(node, 'data-slider-options');\n\n        options = !options ? {} : json_decode(options);\n\n        SLIDERS.push(frontbx._Slider(node, options));\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Slider.prototype.unbind  = function(node)\n    {\n        each(SLIDERS, (i, slider) =>\n        {\n            if (slider.DOMElementWrapper === node)\n            {\n                slider.destroy();\n\n                SLIDERS.splice(i, 1);\n\n                return false;\n            }\n        });\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Slider.prototype.template = function(props)\n    {\n        return dom_element({tag: 'div', class: 'slider js-slider'}, null, props.slides);\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('Slider', extend(Component, Slider));\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const [Component] = frontbx.get('Component');\n\n    /**\n     * Helper functions\n     * \n     * @var {function}\n     */\n    const [find, add_class, on, closest, in_dom, input_value, remove_class, off, extend] = frontbx.import(['find','add_class','on','closest','in_dom','input_value','remove_class','off','extend']).from('_');\n\n    /**\n     * Adds classes to inputs\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Inputs = function()\n    {\n        this.super('.form-field input:not([type=\"radio\"]):not([type=\"checkbox\"]):not([type=\"range\"]), .form-field select, .form-field textarea, .form-field label');\n\n        return this;\n    }\n\n    /**\n     * Event binder\n     *\n     * @access {private}\n     */\n    Inputs.prototype.bind = function(node)\n    {\n        if (node.tagName.toLowerCase() === 'label')\n        {\n            on(node, 'click', this._onLabelClick);\n        }\n        else\n        {\n            on(node, 'click, focus, blur, change, input', this._eventHandler);\n\n            this._setClasses(node);\n        }\n    }\n\n    /**\n     * Event ubinder\n     *\n     * @access {private}\n     */\n    Inputs.prototype.unbind = function(node)\n    {\n        if (node.tagName.toLowerCase() === 'label')\n        {\n            off(node, 'click', this._onLabelClick);\n        }\n        else\n        {\n            off(node, 'click, focus, blur, change, input', this._eventHandler);\n        }\n    }\n\n    /**\n     * Event handler\n     *\n     * @access {private}\n     * @params {event|null} e Browser click event\n     */\n    Inputs.prototype._onLabelClick = function(e)\n    {\n        e = e || window.event;\n\n        var input = find('input', this.parentNode);\n\n        if (in_dom(input))\n        {\n            input.focus();\n\n            return;\n        }\n\n        var input = find('select', this.parentNode);\n\n        if (in_dom(input))\n        {\n            input.focus();\n\n            return;\n        }\n\n        var input = find('textarea', this.parentNode);\n\n        if (in_dom(input))\n        {\n            input.focus();\n\n            return;\n        }\n    }\n\n    /**\n     * Event handler\n     *\n     * @access {private}\n     * @params {event|null} e Browser click event\n     */\n    Inputs.prototype._eventHandler = function(e)\n    {\n        e = e || window.event;\n\n        var wrapper = closest(this, '.form-field');\n\n        if (!wrapper) return;\n\n        if (e.type === 'click')\n        {\n            this.focus();\n        }\n        else if (e.type === 'focus')\n        {\n            add_class(wrapper, 'focus');\n        }\n        else if (e.type === 'blur')\n        {\n            remove_class(wrapper, 'focus');\n        }\n\n        if (e.type === 'change' || e.type === 'input' || e.type === 'blur')\n        {\n            var _value = input_value(this);\n\n            if (_value === '')\n            {\n                remove_class(wrapper, 'not-empty');\n                add_class(wrapper, 'empty');\n            }\n            else\n            {\n                remove_class(wrapper, 'empty');\n                add_class(wrapper, 'not-empty');\n            }\n        }\n    }\n\n    /**\n     * Sets initial classes on load.\n     *\n     * @access {private}\n     * @params {DOMElement} input \n     */\n    Inputs.prototype._setClasses = function(input)\n    {\n        var wrapper = closest(input, '.form-field');\n\n        if (!wrapper) return;\n\n        var _value = input_value(input);\n\n        if (_value === '')\n        {\n            remove_class(wrapper, 'not-empty');\n            add_class(wrapper, 'empty');\n        }\n        else\n        {\n            remove_class(wrapper, 'empty');\n            add_class(wrapper, 'not-empty');\n        }\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('Inputs', extend(Component, Inputs));\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const [Component] = frontbx.get('Component');\n\n    /**\n     * Helper functions\n     * \n     * @var {function}\n     */\n    const [find, first_children, on, off, add_class, remove_class, has_class, each, map, _for, css, attr, is_empty, input_value, dom_element, extend] = frontbx.import(['find', 'first_children', 'on', 'off', 'add_class', 'remove_class', 'has_class', 'each', 'map', 'for', 'css', 'attr','is_empty', 'input_value','dom_element', 'extend']).from('_');\n\n    /**\n     * Default values\n     * \n     * @var {Object}\n     */\n    const DEFAULT_OPTIONS =\n    {\n        min: 0,\n        max: 100,\n        value: 50,\n        step: 1,\n        labeled: false,\n        indicators: false,\n    };\n\n    /**\n     * Range input utility\n     * \n     * @var {Function}\n     */\n    const Range = function(wrapper)\n    {\n        this.wrapperEl = wrapper;\n\n        this.inputEl = find('input[type=range]', wrapper);\n\n        let min     = attr(this.inputEl, 'min');\n        let max     = attr(this.inputEl, 'max');\n        let step    = attr(this.inputEl, 'step');\n        let value   = input_value(this.inputEl);\n        let suffix  = attr(this.inputEl, 'data-suffix');\n        let prefix  = attr(this.inputEl, 'data-prefix');\n        let labeled = has_class(this.wrapperEl, 'range-labeled');\n        let indicators = has_class(this.wrapperEl, 'range-indicators');\n\n        min   = is_empty(min)   ? DEFAULT_OPTIONS.min : (min.includes('.') ? parseFloat(min) : parseInt(min));\n        max   = is_empty(max)   ? DEFAULT_OPTIONS.max : (max.includes('.') ? parseFloat(max) : parseInt(max));\n        step  = is_empty(step)  ? DEFAULT_OPTIONS.step : (step.includes('.') ? parseFloat(step) : parseInt(step));\n        value = is_empty(value) ? DEFAULT_OPTIONS.value : value;\n\n        this.props = {min, max, step, value, suffix, prefix, labeled, indicators};\n\n        this._build();\n\n        this._bind();\n    }\n\n    /**\n     * Destroy slider.\n     * \n     * @access {public}\n     */\n    Range.prototype.destroy = function()\n    {\n        this._unbind();\n\n        _for(first_children(this.wrapperEl), (i, elem) => elem !== this.inputEl ? this.wrapperEl.removeChild(elem) : null);\n    }\n\n    /**\n     * Update the slider.\n     * \n     * @access {public}\n     */\n    Range.prototype.update = function(e)\n    {\n        let value = input_value(this.inputEl); value = is_empty(value) ? 0 : value;\n\n        if (value === this.props.min)\n        {\n            remove_class(this.wrapperEl, 'range-max');\n            add_class(this.wrapperEl, 'range-min');\n        }\n        else if (value === this.props.max)\n        {\n            remove_class(this.wrapperEl, 'range-min');\n            add_class(this.wrapperEl, 'range-max');\n        }\n        else \n        {\n            remove_class(this.wrapperEl, 'range-min, range-max');\n        }\n\n        this.props.value = value;\n\n        this.updateBackground();\n\n        _for(this.props.max.toString().length, (i) => this.updateIndicators(i));\n    }\n\n    /**\n     * Bind listener.\n     * \n     * @access {private}\n     */\n    Range.prototype._bind = function()\n    {\n        on(this.inputEl, 'input', this.update, this);\n    }\n\n    /**\n     * Unbind listener.\n     * \n     * @access {private}\n     */\n    Range.prototype._unbind = function()\n    {\n        off(this.inputEl, 'input', this.update, this);\n    }\n\n    /**\n     * Build slider.\n     * \n     * @access {private}\n     */\n    Range.prototype._build = function()\n    {\n        let length     = this.props.max.toString().length;\n        let digitWraps = [];\n        this.digitEls  = [];\n\n        _for(length, () => \n        {\n            let ul = dom_element({tag: 'ul'}, null, map(Array(10).fill(0), (i) => dom_element({tag: 'li', innerHTML: `${i}`})));\n\n            this.digitEls.push(ul);\n\n            digitWraps.push(dom_element({tag: 'div', class: 'slider-value-number'}, null, ul));\n        });\n\n        if (this.props.prefix)\n        {\n            digitWraps.unshift(dom_element({tag: 'div', class: 'slider-value-number'}, null, dom_element({tag: 'ul'}, null, dom_element({tag: 'li', innerHTML: this.props.prefix}))));\n        }\n\n        if (this.props.suffix)\n        {\n            digitWraps.push(dom_element({tag: 'div', class: 'slider-value-number'}, null, dom_element({tag: 'ul'}, null, dom_element({tag: 'li', innerHTML: this.props.suffix}))));\n        }\n\n        // Label style\n        if (this.props.indicators)\n        {\n            let prefix = this.props.prefix || '';\n            let suffix = this.props.suffix || '';\n\n            let label = dom_element({tag: 'div', class: this.props.labeled ? 'slider-value label' : 'slider-value'}, null, `${prefix}${this.props.min}${suffix}`);\n\n            let fChild = this.wrapperEl.firstChild;\n\n            if (fChild === this.inputEl)\n            {\n                this.wrapperEl.insertBefore(label, fChild);\n            }\n            else\n            {\n                this.wrapperEl.insertBefore(label, fChild.nextSibling);\n            }\n        }\n\n        this.digitWrapper = dom_element({tag: 'div', class: `slider-value ${this.props.labeled ? 'label' : ''}`}, this.wrapperEl, digitWraps);\n\n        this.update();\n    }\n\n    /**\n     * Update the digit indicators.\n     * \n     * @access {private}\n     * @param  {Integer} index\n     */\n    Range.prototype.updateIndicators = function(index)\n    {\n        let elem     = this.digitEls[index];\n        let value    = this.props.value.toString();\n        let { max }  = this.props;\n        let length   = max.toString().length;\n        let visible  = index + 1 > length - value.length;\n        let position = visible ? \"-\" + (value[index - (length - value.length)] * 10) + '%' : '10%';\n\n        !visible ? add_class(elem.parentNode, 'digit-hidden') : remove_class(elem.parentNode, 'digit-hidden');\n\n        //!visible ? css(elem.parentNode, 'display', 'none') : css(elem.parentNode, 'display', false);\n\n        css(elem,\n        {\n            transform: `translateY(${position})`,\n            opacity: visible ? '1' : '0'\n        });\n    }\n\n    /**\n     * Update the background of input.\n     * \n     * @access {private}\n     */\n    Range.prototype.updateBackground = function()\n    {\n        css(this.inputEl, 'background-size', `${this.percent()}% 100%`);\n    }\n\n    /**\n     * Returns background percentage width.\n     * \n     * @access {private}\n     * @return {Float}\n     */\n    Range.prototype.percent = function()\n    {\n        let { min, max } = this.props;\n        \n        return (this.props.value - min) * 100 / (max - min)\n    }\n\n    /**\n     * Ranges.\n     * \n     * @var {Map}\n     */\n    const RANGES = new Map;\n\n    /**\n     * RangeSlider Dom Component.\n     *\n     */\n    const RangeSlider = function()\n    {\n        this.super('.js-range-slider');\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    RangeSlider.prototype.bind = function(wrapper)\n    {        \n        RANGES.set(new Range(wrapper));\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    RangeSlider.prototype.unbind = function(wrapper)\n    {\n        let range = RANGES.get(wrapper);\n\n        if (range)\n        {\n            range.destroy();\n\n            RANGES.delete(wrapper);\n        }\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    RangeSlider.prototype.template = function(props)\n    {\n        console.log('create');\n\n        let inputProps = { min: props.min, max: props.max, value: props.value, step: props.step };\n\n        if (props.prefix) inputProps.dataPrefix = props.prefix;\n        if (props.suffix) inputProps.dataSuffix = props.suffix;\n\n        return dom_element({tag: 'div', class: `range-slider ${props.labeled ? 'range-labeled' : ''} ${props.indicators ? 'range-indicators' : ''} js-range-slider`}, null,\n            dom_element({ ...{ tag: 'input', type: 'range'}, ...inputProps})\n        );\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('RangeSlider', extend(Component, RangeSlider));\n})();\n(function()\n{\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [in_dom, coordinates] = frontbx.import(['in_dom','coordinates']).from('_');\n\n    /**\n     * Popover Handler\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const PopHandler = function(options)\n    {\n        this.trigger = options.target;\n        this.options = options;\n        this.el = this.buildPopEl();\n        this.el.className = options.classes;\n        this.animation = false;\n        this.state = 'inactive';\n\n        if (options.animation === 'pop')\n        {\n            this.animation = 'popover-pop';\n        }\n        else if (options.animation === 'fade')\n        {\n            this.animation = 'popover-fade';\n        }\n\n        this.render = function()\n        {\n            document.body.appendChild(this.el);\n\n            this.stylePop();\n\n            this.el.classList.add(this.animation);\n\n            this.state = 'active';\n\n            return this.el;\n        }\n    }\n\n    /**\n     * Build the popover\n     *\n     * @access {private}\n     */\n    PopHandler.prototype.buildPopEl = function()\n    {\n        var pop = document.createElement('div');\n        \n        pop.className = this.options.classes;\n\n        if (typeof this.options.template === 'string')\n        {\n            pop.innerHTML = this.options.template;\n        }\n        else\n        {\n            pop.appendChild(this.options.template);\n        }\n\n        return pop;\n    }\n\n    /**\n     * Remove the popover\n     *\n     * @access {public}\n     */\n    PopHandler.prototype.remove = function()\n    {\n        if (in_dom(this.el)) this.el.parentNode.removeChild(this.el);\n\n        this.state = 'inactive';\n    }\n\n    /**\n     * Position the popover\n     *\n     * @access {public}\n     */\n    PopHandler.prototype.stylePop = function()\n    {\n        var tarcoordinates = coordinates(this.options.target);\n\n        if (this.options.direction === 'top')\n        {\n            this.el.style.top = tarcoordinates.top - this.el.scrollHeight + 'px';\n            this.el.style.left = tarcoordinates.left - (this.el.offsetWidth / 2) + (this.options.target.offsetWidth / 2) + 'px';\n            return;\n        }\n        else if (this.options.direction === 'bottom')\n        {\n            this.el.style.top = tarcoordinates.top + this.options.target.offsetHeight + 10 + 'px';\n            this.el.style.left = tarcoordinates.left - (this.el.offsetWidth / 2) + (this.options.target.offsetWidth / 2) + 'px';\n            return;\n        }\n        else if (this.options.direction === 'left')\n        {\n            this.el.style.top = tarcoordinates.top - (this.el.offsetHeight / 2) + (this.options.target.offsetHeight / 2) + 'px';\n            this.el.style.left = tarcoordinates.left - this.el.offsetWidth - 10 + 'px';\n            return;\n        }\n        else if (this.options.direction === 'right')\n        {\n            this.el.style.top = tarcoordinates.top - (this.el.offsetHeight / 2) + (this.options.target.offsetHeight / 2) + 'px';\n            this.el.style.left = tarcoordinates.left + this.options.target.offsetWidth + 10 + 'px';\n            return;\n        }\n    }\n\n    // Set into container for private use\n    frontbx.set('PopHandler', PopHandler);\n\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const [Component] = frontbx.get('Component');\n\n    /**\n     * JS Helper reference\n     * \n     * @var {object}\n     */\n    const [find, find_all, add_class, on, closest, has_class, is_empty, remove_class, off, each, extend] = frontbx.import(['find', 'find_all', 'add_class', 'on', 'closest', 'has_class', 'is_empty', 'remove_class', 'off', 'each', 'extend']).from('_');\n\n    var HOVER_TIMER;\n\n    var POP_HANDLERS = new Map;\n\n    /**\n     * Popover\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Popover = function()\n    {\n        this.super('.js-popover');\n\n        this._windowClick = false;\n\n        this.defaultProps = \n        {\n            direction: 'top',\n            animation: 'pop',\n            theme:     'light',\n            title:     '',\n            content:   '',\n            event:     'click',\n        };\n    }\n\n    /**\n     * Initialize the handlers on a trigger\n     *\n     * @access {private}\n     * @param  {DOMElement} trigger Click/hover trigger\n     */\n    Popover.prototype.template = function(props)\n    {\n\n    }\n\n    /**\n     * Initialize the handlers on a trigger\n     *\n     * @access {private}\n     * @param  {DOMElement} trigger Click/hover trigger\n     */\n    Popover.prototype._build = function(options)\n    {\n\n    }\n\n    /**\n     * Initialize the handlers on a trigger\n     *\n     * @access {private}\n     * @param  {DOMElement} trigger Click/hover trigger\n     */\n    Popover.prototype.bind = function(trigger)\n    {\n        if (!this._windowClick)\n        {\n            on(window, 'click', this._windowClickHandler, this);\n\n            this._windowClick = true;\n        }\n\n        let direction = trigger.dataset.popoverDirection;\n        let title     = trigger.dataset.popoverTitle;\n        let theme     = trigger.dataset.popoverTheme || 'dark';\n        let content   = trigger.dataset.popoverContent;\n        let evnt      = trigger.dataset.popoverEvent;\n        let animation = trigger.dataset.popoverAnimate || 'pop';\n        let target    = trigger.dataset.popoverTarget;\n        let closeBtn  = evnt === 'click' ? '<button type=\"button\" class=\"btn btn-sm btn-pure btn-circle js-remove-pop close-btn\"><span class=\"fa fa-xmark\"></span></button>' : '';\n        let pop       = '<div class=\"popover-content\"><p>' + content + '</p></div>';\n\n        if (title)\n        {\n            pop = closeBtn + '<h5 class=\"popover-title\">' + title + '</h5>' + pop;\n        }\n\n        if (target)\n        {\n            pop = find('#' + target).cloneNode(true);\n            pop.classList.remove('hidden');\n        }\n\n        let popHandler = frontbx.get('PopHandler',\n        {\n            target: trigger,\n            direction: direction,\n            template: pop,\n            animation: animation,\n            classes: 'popover ' + direction + ' ' + theme,\n        });\n\n        if (evnt === 'click')\n        {\n            on(trigger, 'click', this._clickHandler, this);\n            on(window, 'resize', this._windowResize, this);\n        }\n        else\n        {                \n            on(trigger, 'mouseenter', this._hoverEnter, this);\n        }\n\n        POP_HANDLERS.set(trigger, popHandler);\n    }\n\n    /**\n     * Unbind event listeners on a trigger\n     *\n     * @param {trigger} node\n     * @access {private}\n     */\n    Popover.prototype.unbind = function(trigger)\n    {\n        if (this._windowClick)\n        {\n            off(window, 'click', this._windowClickHandler, this);\n\n            this._windowClick = false;\n        }\n\n        var evnt = trigger.dataset.popoverEvent;\n\n        if (evnt === 'click')\n        {\n            off(trigger, 'click', this._clickHandler, this);\n            off(window, 'resize', this._windowResize, this);\n        }\n        else\n        {\n            off(trigger, 'mouseenter', this._hoverEnter, this);\n            off(trigger, 'mouseleave', this._hoverLeave, this);\n\n            this._killPop(trigger);\n\n            POP_HANDLERS.delete(trigger);\n        }\n    }\n\n    /**\n     * Hover over event handler\n     *\n     * @access {private}\n     */\n    Popover.prototype._hoverEnter = function(e, trigger)\n    {\n        if (has_class(trigger, 'popped')) return;\n\n        let handler = POP_HANDLERS.get(trigger);\n        \n        let pop = handler.render();\n\n        on(pop, 'mouseenter', this._hoverPop, this);\n\n        on(trigger, 'mouseleave', this._hoverLeave, this);\n        \n        add_class(trigger, 'popped');\n    }\n\n    /**\n     * Hover leave event handler\n     *\n     * @access {private}\n     */\n    Popover.prototype._hoverLeave = function(e, trigger)\n    {\n        clearTimeout(HOVER_TIMER);\n\n        // Mouse leaving pop not trigger\n        if (!has_class(trigger, '.js-popover'))\n        {\n            for (let [_trigger, handler] of POP_HANDLERS)\n            {\n                if (handler.el === trigger) trigger = handler.trigger;\n            }\n        }\n\n        HOVER_TIMER = setTimeout(() => \n        {\n            this._killPop(trigger);\n\n            off(trigger, 'mouseleave', this._hoverLeave, this);\n\n        }, 300);\n    }\n\n    /**\n     * Hover leave event handler\n     *\n     * @access {private}\n     */\n    Popover.prototype._hoverPop = function(e, pop)\n    {\n        clearTimeout(HOVER_TIMER);\n\n        on(pop, 'mouseleave', this._hoverLeave, this);\n    }\n\n    /**\n     * Window resize event handler\n     *\n     * @access {private}\n     */\n    Popover.prototype._windowResize = function()\n    {\n        for (let [trigger, handler] of POP_HANDLERS)\n        {\n            if (handler.state === 'active') handler.stylePop();\n\n        }\n    }\n\n    /**\n     * Click event handler\n     *\n     * @param {event|null} e JavaScript click event\n     * @access {private}\n     */\n    Popover.prototype._killPop = function(trigger)\n    {            \n        let handler = POP_HANDLERS.get(trigger);\n\n        handler.remove();\n        \n        remove_class(trigger, 'popped');\n    }\n\n    /**\n     * Click event handler\n     *\n     * @param {event|null} e JavaScript click event\n     * @access {private}\n     */\n    Popover.prototype._clickHandler = function(e, trigger)\n    {\n        e = e || window.event;\n\n        e.preventDefault();\n        \n        var popHandler = POP_HANDLERS.get(trigger);\n\n        if (has_class(trigger, 'popped'))\n        {\n            this._removeAll(trigger);\n            \n            popHandler.remove();\n            \n            remove_class(trigger, 'popped');\n        }\n        else\n        {\n            this._removeAll(trigger);\n            \n            popHandler.render();\n            \n            add_class(trigger, 'popped');\n        }\n    }\n\n    /**\n     * Remove all popovers when anything is clicked\n     *\n     * @access {private}\n     */\n    Popover.prototype._windowClickHandler = function(e)\n    {        \n        let clicked = e.target;\n\n        // Clicked the close button\n        if (has_class(clicked, 'js-remove-pop') || closest(clicked, '.js-remove-pop'))\n        {\n            this._removeAll();\n\n            return;\n        }\n\n        // Clicked inside the popover\n        if (has_class(clicked, 'popover') || closest(clicked, '.popover'))\n        {\n            return;\n        }\n\n        // Clicked a popover trigger\n        if (has_class(clicked, 'js-popover') || closest(clicked, '.js-popover'))\n        {\n            return;\n        }\n\n        this._removeAll();\n    }\n\n    /**\n     * Remove all the popovers currently being displayed\n     *\n     * @access {private}\n     */\n    Popover.prototype._removeAll = function(exception)\n    {        \n        for (let [trigger, handler] of POP_HANDLERS)\n        {\n            if (!exception || (exception && trigger !== exception))\n            {\n                handler.remove();\n\n                remove_class(trigger, 'popped');\n            }\n        }\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('Popover', extend(Component, Popover));\n\n}());\n\n(function()\n{\n    /**\n     * Creates a chip\n     *\n     */\n    function createChip(options)\n    {\n        let chip = document.createElement(options.removeable || options.input ? 'SPAN' : 'BUTTON');\n\n        if (options.removeable || options.input) chip.type = 'button';\n\n        chip.className = options.variant ? `btn btn-chip ${options.variant}` : 'btn btn-chip';\n        chip.innerText = options.posticon || options.removeable ? `${options.text} ` : options.text;\n\n        if (options.preicon)\n        {\n            let icon1 = document.createElement('SPAN');\n            icon1.className = `fa fa-${options.preicon}`;\n            chip.appendChild(icon1);\n        }\n\n        if (options.removeable)\n        {\n            let removeBtn = document.createElement('BUTTON');\n            removeBtn.className = 'remove-btn btn-unstyled js-remove-btn';\n            removeBtn.ariaLabel = 'remove';\n            removeBtn.type = 'button';\n\n            let x = document.createElement('SPAN');\n            x.className = 'fa fa-xmark';\n            removeBtn.appendChild(x);\n\n            chip.appendChild(removeBtn);\n        }\n        else if (options.posticon)\n        {\n            let icon2 = document.createElement('SPAN');\n            icon2.className = `fa fa-${options.posticon}`;\n            chip.appendChild(icon2);\n        }\n        \n        if (options.input)\n        {\n            let input = document.createElement('INPUT');\n            input.hidden = true;\n            input.name   = options.input;\n            input.value  = options.text;\n            input.setAttribute('value', options.text);\n\n            chip.appendChild(input);\n        }\n\n        return chip;\n    }\n\n    // Load into frontbx DOM core\n    frontbx.set('Chip', createChip);\n\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const [Component] = frontbx.get('Component');\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, find_all, on, closest, first_children, in_array, input_value, is_empty, off, remove_from_dom, extend] = frontbx.import(['find','find_all','on','closest','first_children','in_array','input_value','is_empty','off','remove_from_dom','extend']).from('_');\n\n    /**\n     * Chip inputs\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const ChipInputs = function()\n    {\n        this.super('.js-chips-input');\n    }\n\n    /**\n     * Init a chips input\n     *\n     * @access {private}\n     * @param  {DOMElement}    _wrapper\n     */\n    ChipInputs.prototype.bind = function(_wrapper)\n    {\n        let _input = find('.js-chip-input', _wrapper);\n\n        on(find_all('.js-remove-btn', _wrapper), 'click', this._removeChip);\n\n        on(_input, 'keyup', this._onKeyUp, this);\n\n        if (closest(_input, 'form'))\n        {\n            on(_input, 'keydown', this._preventSubmit, this);\n        }\n    }\n\n    /**\n     * Destroy chip listeners\n     *\n     * @access {private}\n     * @param  {DOMElement}    _wrapper\n     */\n    ChipInputs.prototype.unbind = function(_wrapper)\n    {\n        var _removeBtns = find_all('.btn-chip .js-remove-btn', _wrapper);\n        var _input = find('.js-chip-input', _wrapper);\n\n        off(_removeBtns, 'click', this._removeChip);\n\n        off(_input, 'keyup', this._onKeyUp, this);\n\n        if (closest(_input, 'form'))\n        {\n            off(_input, 'keydown', this._preventSubmit, this);\n        }\n    }\n\n    /**\n     * Prevent the form from submitting if it's part of a form\n     *\n     * @access {private}\n     * @param  {event|null} e\n     */\n    ChipInputs.prototype._preventSubmit = function(e, input)\n    {\n        e = e || window.event;\n\n        var _key = e.code || e.key || e.keyCode || e.charCode;\n\n        if (_key == 'Enter' || _key === 13)\n        {\n            e.preventDefault();\n\n            return false;\n        }\n        // Backspace\n        else if (_key == 'Delete' || _key == 'Backspace' || _key == 8 || _key == 46)\n        {\n            if (input.value === '')\n            {\n                var _wrapper = closest(input, '.js-chips-input');\n\n                this._removeLastChip(_wrapper);\n            }\n        }\n    }\n\n    /**\n     * Handle pressing enter to insert the chip\n     *\n     * @access {private}\n     * @param  {event|null} e\n     */\n    ChipInputs.prototype._onKeyUp = function(e, input)\n    {\n        e = e || window.event;\n\n        var _key = e.code || e.key || e.keyCode || e.charCode;\n\n        // Enter\n        if (_key == 'Enter' || _key === 13)\n        {\n            var _wrapper = closest(input, '.js-chips-input');\n\n            var _value = input_value(input).trim();\n\n            if (!in_array(_value, this._getChipsValues(_wrapper)) && _value !== '')\n            {\n                this.addChip(_value, _wrapper);\n\n                input.value = '';\n            }\n        }\n    }\n\n    /**\n     * Remove last chip\n     *\n     * @access {private}\n     * @param  {DOMElement}    _wrapper\n     */\n    ChipInputs.prototype._removeLastChip = function(_wrapper)\n    {\n        var _chips = find_all('.btn-chip', _wrapper);\n\n        if (!is_empty(_chips))\n        {\n            remove_from_dom(_chips.pop());\n        }\n    }\n\n    /**\n     * Insert new chip\n     *\n     * @access {public}\n     * @param  {string}      _value\n     * @param  {DOMElement}        _wrapper\n     * @param  {string|bool} _icon\n     */\n    ChipInputs.prototype.addChip = function(_value, _wrapper, _icon)\n    {\n        let chip = frontbx.Chip({\n            text       : _value.trim(),\n            removeable : true,\n            input      : _wrapper.dataset.inputName,\n            variant    : _wrapper.dataset.chipClass,\n        });\n\n        _wrapper.insertBefore(chip, first_children(_wrapper).pop());\n\n        on(find('.js-remove-btn', chip), 'click', this._removeChip);\n\n        frontbx.dom().refresh('Ripple', _wrapper);\n    }\n\n    /**\n     * Remove an existing chip\n     *\n     * @access {private}\n     * @param  {event|null} e\n     */\n    ChipInputs.prototype._removeChip = function(e)\n    {\n        e = e || window.event;\n\n        e.preventDefault();\n\n        remove_from_dom(closest(this, '.btn-chip'));\n    }\n\n    /**\n     * Get all values from chip input\n     *\n     * @access {private}\n     * @param  {DOMElement}    _wrapper\n     * @return {array}\n     */\n    ChipInputs.prototype._getChipsValues = function(_wrapper)\n    {\n        var _result = [];\n\n        var _chips = find_all('.btn-chip input', _wrapper);\n\n        for (var i = 0; i < _chips.length; i++)\n        {\n            _result.push(input_value(_chips[i]));\n        }\n\n        return _result;\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('ChipInputs', extend(Component, ChipInputs));\n\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const [Component] = frontbx.get('Component');\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, add_class, on, closest, has_class, remove_class, off, attr, css, dom_element, map, trigger_event, extend] = frontbx.import(['find','add_class','on','closest','has_class','remove_class','off','attr','css','dom_element','map','trigger_event','extend']).from('_');\n\n    /**\n     * Dropdown Buttons\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Menu = function()\n    {\n        this.super('.js-select-menu > *:not(.menu-divider):not(.menu-header), .js-check-menu > *:not(.menu-divider):not(.menu-header), .js-active-menu > *:not(.menu-divider):not(.menu-header)');\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Menu.prototype.bind = function(node)\n    {\n        on(node, 'click', this._clickHandler, this);\n    }\n\n     /**\n     * @inheritdoc\n     * \n     */\n    Menu.prototype.unbind = function(node)\n    {\n        off(node, 'click', this._clickHandler, this);\n    }\n\n    /**\n     * Click event handler\n     *\n     * @param  {event|null} e JavaScript Click event\n     * @access {private}\n     */\n    Menu.prototype._clickHandler = function(e, item)\n    {\n        // Nothing to do\n        if (has_class(item, 'selected') || has_class(item, 'active') || has_class(item, 'checked')) return;\n\n        // Menu and class\n        let menu        = closest(item, '.js-select-menu') || closest(item, '.js-check-menu') || closest(item, '.js-active-menu');\n        let activeClass = has_class(menu, 'js-select-menu') ? 'selected' : (has_class(menu, 'js-check-menu') ? 'checked' : 'active');\n        let selected    = find(`> .${activeClass}`, menu);\n        let isCheck     = activeClass === 'checked';\n        let content     = item.innerText.trim();\n            \n        if (selected) remove_class(selected, activeClass);\n        \n        add_class(item, activeClass);\n\n        if (isCheck)\n        {\n            if (selected)\n            {\n                let selectedCheck = find('.item-right .fa.fa-check', selected);\n\n                if (selectedCheck) css(selectedCheck.parentNode, 'display', 'none');\n            }\n            \n            let check = find('.item-right .fa', item);\n\n            if (!check)\n            {\n                let itemContent = find('.item-body', item);\n\n                if (!itemContent)\n                {\n                    item.innerText = '';\n\n                    dom_element({tag: 'span', class: 'item-body'}, item, content);\n                }\n\n                dom_element({tag: 'span', class: 'item-right'}, item, dom_element({tag: 'span', class: 'fa fa-check'}));\n            }\n            else\n            {\n                attr(check.parentNode, 'style', false);\n            }\n        }\n\n        trigger_event(menu, 'frontbx:menu:selected', {item: item});\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Menu.prototype.template = function(props)\n    {\n        return dom_element({tag: 'ul', class: `menu ${props.classes ? props.classes : ''} ${props.dense ? 'menu-dense' : ''} ${props.ellipsis ? 'menu-ellipsis' : ''} ${ props.selectable ? `js-select-menu` : '' }`}, null, map(props.items, (i, item) =>\n            {\n                return dom_element({tag: 'li', class: `${item.state} ${props.selected && (props.selected === item.value || props.selected === item.text) ? 'selected' : null}`}, null,\n                [\n                    item.left ? dom_element({tag: 'span', class: 'item-left', innerHTML: item.left}) : null,\n                    dom_element({tag: 'span', class: 'item-body', innerText: item.body || item.text || item }),\n                    item.right ? dom_element({tag: 'span', class: 'item-right', innerHTML: item.right}) : null,\n                ])\n            })\n        );\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('Menu', extend(Component, Menu));\n\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const [Component] = frontbx.get('Component');\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, on, attr, closest, has_class, in_dom, off, remove_from_dom, trigger_event, extend] = frontbx.import(['find','on','attr','closest','has_class','in_dom','off','remove_from_dom','trigger_event','extend']).from('_');\n\n    /**\n     * Chip suggestions.\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const ChipSuggestions = function()\n    {\n        this.super('.js-chip-suggestions .btn-chip');\n    }\n\n    /**\n     * Bind DOM listeners\n     *\n     * @access {private}\n     */\n    ChipSuggestions.prototype.bind = function(node)\n    {\n        on(node, 'click', this._clickHandler);\n    }\n\n    /**\n     * Unbind DOM listeners\n     *\n     * @access {private}\n     */\n    ChipSuggestions.prototype.unbind = function()\n    {\n        off(node, 'click', this._clickHandler);\n    }\n\n    /**\n     * Chip click handler\n     *\n     * @access {private}\n     * @param  {event|null} e\n     */\n    ChipSuggestions.prototype._clickHandler = function(e)\n    {\n        e = e || window.event;\n\n        e.preventDefault();\n\n        var _wrapper = closest(this, '.js-chip-suggestions');\n        var _input   = find('#' + _wrapper.dataset.inputTarget);\n        var _text    = this.innerText.trim();\n\n        if (!_input || !in_dom(_input))\n        {\n            throw new Error('Target node does not exist.');\n\n            return false;\n        }\n\n        // Chips input\n        if (has_class(_input, '.js-chips-input'))\n        {\n            frontbx.dom().component('ChipInputs').addChip(_text, _input);\n\n            remove_from_dom(this);\n\n            return;\n        }\n\n        let val = attr(_input, 'value');\n\n        attr(_input, 'value',  val === '' ? _text : `${val} ${_text}`);\n\n        trigger_event(_input, 'change');\n\n        remove_from_dom(this);\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('ChipSuggestions', extend(Component, ChipSuggestions));\n\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const [Component] = frontbx.get('Component');\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, add_class, on, closest, has_class, remove_class, off, trigger_event, extend] = frontbx.import(['find','add_class','on','closest','has_class','remove_class','off','trigger_event','extend']).from('_');\n\n    /**\n     * Choice chips\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const ChoiceChips = function()\n    {\n        this.super('.js-choice-chips .btn-chip');\n    }\n\n    /**\n     * Bind DOM listeners\n     *\n     * @access {private}\n     */\n    ChoiceChips.prototype.bind = function(node)\n    {\n        on(node, 'click', this._clickHandler);\n    }\n\n    /**\n     * Unbind DOM listeners\n     *\n     * @access {private}\n     */\n    ChoiceChips.prototype.unbind = function(node)\n    {\n        off(node, 'click', this._clickHandler);\n    }\n\n    /**\n     * Handle click event on chip\n     *\n     * @access {private}\n     * @param  {event|null} e\n     */\n    ChoiceChips.prototype._clickHandler = function(e)\n    {\n        e = e || window.event;\n\n        var _wrapper = closest(this, '.js-choice-chips');\n\n        var _input = find('.js-choice-input', _wrapper);\n\n        if (!has_class(this, 'selected'))\n        {                \n            remove_class(find('.btn-chip.selected', _wrapper), 'selected');\n\n            add_class(this, 'selected');\n\n            if (_input)\n            {\n                _input.value = this.dataset.value || this.innerText.trim();\n\n                trigger_event(_input, 'input');\n                trigger_event(_input, 'change');\n            }\n        }\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('ChoiceChips', extend(Component, ChoiceChips));\n\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const [Component] = frontbx.get('Component');\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [on, off, toggle_class, extend] = frontbx.import(['on','off','toggle_class', 'extend']).from('_');\n\n    /**\n     * Filter chips\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const FilterChips = function()\n    {\n        this.super('.js-filter-chips .btn-chip');\n    }\n\n    /**\n     * Bind DOM listeners\n     *\n     * @access {private}\n     */\n    FilterChips.prototype.bind = function(node)\n    {\n        on(node, 'click', this._clickHandler);\n    }\n\n    /**\n     * Unbind DOM listeners\n     *\n     * @access {private}\n     */\n    FilterChips.prototype.unbind = function(node)\n    {\n        off(node, 'click', this._clickHandler);\n    }\n\n    /**\n     * Handle click event on chip\n     *\n     * @access {private}\n     * @param  {event|null} e\n     */\n    FilterChips.prototype._clickHandler = function(e)\n    {\n        e = e || window.event;\n\n        e.preventDefault();\n\n        toggle_class(this, 'checked');\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('FilterChips', extend(Component, FilterChips));\n\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const [Component] = frontbx.get('Component');\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, each, is_undefined, attr, on, off, to_camel_case, extend] = frontbx.import(['find','each','is_undefined','attr','on','off','to_camel_case','extend']).from('_');\n\n    /**\n     * Available data attributes.\n     * \n     * @var {Array}\n     */\n    const DATA_ATTRIBUTES = ['title','content','classes','custom','close-anywhere','scroll','cancel-btn','cancel-class','confirm-btn','confirm-class','overlay','state'];\n\n    /**\n     * Toggle active on lists\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Modal = function()\n    { \n        this.modals = new Map;\n\n        this.super('.js-modal-trigger');\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Modal.prototype.bind = function(node)\n    {            \n        let options = { fromHTML: true, state: 'closed' };\n\n        let elem;\n\n        each(DATA_ATTRIBUTES, (i, attribute) =>\n        {\n            let value = attr(node, `data-${attribute}`);\n\n            if (!is_undefined(value))\n            {\n                if (value === 'true' || value === 'false')value = value === 'true' ? true : false;\n\n                if (attribute === 'content' && value[0] === '#')\n                {\n                    elem = find(value);\n\n                    value = elem;\n                }\n\n                options[to_camel_case(attribute)] = value;\n            }\n        });\n\n        let modal = frontbx.Modal(options);\n\n        this.modals.set(node, modal);\n\n        on(node, 'click', this._toggle, this);\n\n        if (elem) elem.style = '';\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Modal.prototype.unbind = function(node)\n    {\n        let modal   = this.modals.get(node);\n        let content = attr(node, 'data-content');\n\n        if (content[0] === '#')\n        {\n            content = find(content);\n\n            if (content)\n            {\n                content.style.display = 'none';\n\n                document.body.appendChild(content);\n            }\n        }\n\n        modal.destroy();\n\n        this.modals.delete(node);\n\n        off(node, 'click', this._toggle, this);\n    }\n\n    /**\n     * Toggle modal.\n     * \n     * @access {private}\n     */\n    Modal.prototype._toggle = function(e, trigger)\n    { \n        let modal = this.modals.get(trigger);\n\n        modal.closed() ? modal.open() : modal.close();\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('Modal', extend(Component, Modal));\n})();\n(function()\n{\n    const [Component] = frontbx.get('Component');\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, each, is_undefined, attr, on, off, to_camel_case, add_class, remove_class, extend] = frontbx.import(['find','each','is_undefined','attr','on','off','to_camel_case','add_class','remove_class','extend']).from('_');\n\n    /**\n     * Available data attributes.\n     * \n     * @var {Array}\n     */\n    const DATA_ATTRIBUTES = ['content','direction','overlay','persistent','pushbody','peekable','swipeable','classes','state','easing','animation-time','responsive'];\n\n    /**\n     * Drawer\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Drawer = function()\n    { \n        this.drawers = new Map;\n\n        this.super('.js-drawer-trigger');\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Drawer.prototype.bind = function(node)\n    {            \n        let options = \n        { \n            fromHTML: true,\n            state: 'collapsed',\n            callbackClose: () => remove_class(node, 'active'),\n            callbackOpen: () => add_class(node, 'active'),\n        };\n\n        let elem;\n\n        each(DATA_ATTRIBUTES, (i, attribute) =>\n        {\n            let value = attr(node, `data-${attribute}`);\n\n            if (!is_undefined(value))\n            {\n                if (value === 'true' || value === 'false') value = value === 'true' ? true : false;\n\n                if (attribute === 'content' && value[0] === '#')\n                {\n                    elem = find(value);\n\n                    value = elem;\n                }\n\n                options[to_camel_case(attribute)] = value;\n            }\n        });\n\n        let drawer = frontbx.Drawer(options);\n\n        this.drawers.set(node, drawer);\n\n        on(node, 'click', this._toggle, this);\n\n        if (elem) elem.style = '';\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Drawer.prototype.unbind = function(node)\n    {\n        let drawer = this.drawers.get(node);\n\n        let content = attr(node, 'data-content');\n\n        if (content[0] === '#')\n        {\n            content = find(content);\n            \n            if (content)\n            {\n                content.style.display = 'none';\n\n                document.body.appendChild(content);\n            }\n        }\n\n        drawer.destroy();\n\n        this.drawers.delete(node);\n\n        off(node, 'click', this._toggle, this);\n    }\n\n    /**\n     * Toggle drawer.\n     * \n     * @access {private}\n     */\n    Drawer.prototype._toggle = function(e, trigger)\n    { \n        let drawer = this.drawers.get(trigger);\n\n        drawer.closed() ? drawer.open() : drawer.close();\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('Drawer', extend(Component, Drawer));\n    \n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const [Component] = frontbx.get('Component');\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, each, is_undefined, attr, on, off, to_camel_case, add_class, remove_class, extend] = frontbx.import(['find','each','is_undefined','attr','on','off','to_camel_case','add_class','remove_class','extend']).from('_');\n\n    /**\n     * Available data attributes.\n     * \n     * @var {Array}\n     */\n    const DATA_ATTRIBUTES = ['content','overlay','persistent','peekable','swipeable','classes','state','easing','animation-time'];\n\n    /**\n     * Toggle active on lists\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Frontdrop = function()\n    { \n        this.drawers = new Map;\n\n        this.super('.js-frontdrop-trigger');\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Frontdrop.prototype.bind = function(node)\n    {            \n        let options = \n        { \n            fromHTML: true,\n            state: 'collapsed',\n            callbackClose: () => remove_class(node, 'active'),\n            callbackOpen: () => add_class(node, 'active'),\n        };\n\n        let elem;\n\n        each(DATA_ATTRIBUTES, (i, attribute) =>\n        {\n            let value = attr(node, `data-${attribute}`);\n\n            if (!is_undefined(value))\n            {\n                if (value === 'true' || value === 'false') value = value === 'true' ? true : false;\n\n                if (attribute === 'content' && value[0] === '#')\n                {\n                    elem = find(value);\n\n                    value = elem;\n                }\n\n                options[to_camel_case(attribute)] = value;\n            }\n        });\n\n        let frontdrop = frontbx.Frontdrop(options);\n\n        this.drawers.set(node, frontdrop);\n\n        on(node, 'click', this._toggle, this);\n\n        if (elem) elem.style = '';\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Frontdrop.prototype.unbind = function(node)\n    {\n        let frontdrop = this.drawers.get(node);\n\n        let content = attr(node, 'data-content');\n\n        if (content[0] === '#')\n        {\n            content = find(content);\n\n            if (content)\n            {\n                content.style.display = 'none';\n\n                document.body.appendChild(content);\n            }\n        }\n\n        frontdrop.destroy();\n\n        this.drawers.delete(node);\n\n        off(node, 'click', this._toggle, this);\n    }\n\n    /**\n     * Toggle Frontdrop.\n     * \n     * @access {private}\n     */\n    Frontdrop.prototype._toggle = function(e, trigger)\n    { \n        let frontdrop = this.drawers.get(trigger);\n\n        frontdrop.closed() ? frontdrop.open() : frontdrop.close();\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('Frontdrop', extend(Component, Frontdrop));\n    \n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const [Component] = frontbx.get('Component');\n\n     /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, each, is_undefined, attr, on, off, to_camel_case, add_class, remove_class, extend] = frontbx.import(['find','each','is_undefined','attr','on','off','to_camel_case','add_class','remove_class','extend']).from('_');\n\n    /**\n     * Available data attributes.\n     * \n     * @var {Array}\n     */\n    const DATA_ATTRIBUTES = ['title','content','direction','classes','pushbody','swipeable','state','easing','animation-time','responsive'];\n\n    /**\n     * Toggle active on lists\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Backdrop = function()\n    { \n        this.drawers = new Map;\n\n        this.super('.js-backdrop-trigger');\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Backdrop.prototype.bind = function(node)\n    {            \n        let options = \n        { \n            fromHTML: true,\n            state: 'collapsed',\n            callbackClose: () => remove_class(node, 'active'),\n            callbackOpen: () => add_class(node, 'active'),\n        };\n\n        let elem;\n\n        each(DATA_ATTRIBUTES, (i, attribute) =>\n        {\n            let value = attr(node, `data-${attribute}`);\n\n            if (!is_undefined(value))\n            {\n                if (value === 'true' || value === 'false') value = value === 'true' ? true : false;\n\n                if (attribute === 'content' && value[0] === '#')\n                {\n                    elem = find(value);\n\n                    value = elem;\n                }\n\n                options[to_camel_case(attribute)] = value;\n            }\n        });\n\n        let backdrop = frontbx.Backdrop(options);\n\n        this.drawers.set(node, backdrop);\n\n        on(node, 'click', this._toggle, this);\n\n        if (elem) elem.style = '';\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Backdrop.prototype.unbind = function(node)\n    {\n        let backdrop = this.drawers.get(node);\n        let content = attr(node, 'data-content');\n\n        if (content[0] === '#')\n        {\n            content = find(content);\n\n            if (content)\n            {\n                content.style.display = 'none';\n\n                document.body.appendChild(content);\n            }\n        }\n\n        backdrop.destroy();\n\n        this.drawers.delete(node);\n\n        off(node, 'click', this._toggle, this);\n    }\n\n    /**\n     * Toggle Backdrop.\n     * \n     * @access {private}\n     */\n    Backdrop.prototype._toggle = function(e, trigger)\n    { \n        let backdrop = this.drawers.get(trigger);\n        \n        backdrop.closed() ? backdrop.open() : backdrop.close();\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('Backdrop', extend(Component, Backdrop));\n\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const [Component] = frontbx.get('Component');\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, each, is_undefined, attr, on, off, to_camel_case, extend] = frontbx.import(['find','each','is_undefined','attr','on','off','to_camel_case','extend']).from('_');\n\n    /**\n     * Available data attributes.\n     * \n     * @var {Array}\n     */\n    const DATA_ATTRIBUTES = ['text','timeout','icon','btn','variant','btnVariant'];\n\n    /**\n     * Toggle active on lists\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Notification = function()\n    {\n        this.super('.js-notification-trigger');\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Notification.prototype.bind = function(node)\n    {            \n        on(node, 'click', this._show, this);\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Notification.prototype.unbind = function(node)\n    {\n\n        off(node, 'click', this._show, this);\n    }\n\n    /**\n     * Toggle notification.\n     * \n     * @access {private}\n     */\n    Notification.prototype._show = function(e, trigger)\n    { \n        let options = { fromHTML: true };\n\n        each(DATA_ATTRIBUTES, (i, attribute) =>\n        {\n            let value = attr(trigger, `data-${attribute}`);\n\n            if (!is_undefined(value))\n            {\n                if (value === 'true' || value === 'false') value = value === 'true' ? true : false;\n\n                if (attribute === 'timeout') value = parseInt(value);\n\n                options[to_camel_case(attribute)] = value;\n            }\n        });\n\n        frontbx.Notification(options);\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('Notification', extend(Component, Notification));\n\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const [Component] = frontbx.get('Component');\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [on, off, attr, bool, extend]  = frontbx.import(['on','off','attr','bool','extend']).from('_');\n\n    /**\n     * URLS Requested\n     * \n     * @var {object}\n     */\n    const REQUESTED = [];\n\n    /**\n     * Pjax Links Module\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const PjaxLinks = function()\n    {\n        this.super('.js-pjax-link');\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    PjaxLinks.prototype.bind = function(node)\n    {        \n        on(node, 'click', this._requestHandler, this);\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    PjaxLinks.prototype.unbind = function(node)\n    {\n        off(node, 'click', this._requestHandler, this);\n    }\n\n    /**\n     * Event handler\n     *\n     * @param {event|null} e JavaScript click event\n     * @access {private}\n     */\n    PjaxLinks.prototype._requestHandler = function(e, clicked)\n    {\n        let url       = clicked.href || attr(clicked, 'data-pjax-target');\n        let once      = attr(clicked, 'data-pjax-once') || false;\n        let element   = attr(clicked, 'data-pjax-target');\n        let cacheBust = bool(attr(clicked, 'data-pjax-nocache'));\n        let pushstate = !element || attr(clicked, 'data-pjax-pushstate') ? true : false;\n        let urlhash   = !element ? false : bool(attr(clicked, 'data-pjax-urlhash'));\n\n        // Only request once\n        if (REQUESTED.includes(url) && once) return;\n\n        REQUESTED.push(url);\n\n        if (element) element = element[0] !== '#' ? `#${element}` : element;\n\n        frontbx.Pjax().request(url, {once, element, cacheBust, pushstate, urlhash});\n\n        return false;\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('PjaxLinks', extend(Component, PjaxLinks));\n\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const [Component] = frontbx.get('Component');\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, on, animate, bool, has_class, is_node_type, off, toggle_class, trigger_event, extend] = frontbx.import(['find','on','animate','bool','has_class','is_node_type','off','toggle_class','trigger_event','extend']).from('_');\n\n    /**\n     * Toggle height on click\n     *\n     * @class\n     * @extends {Component}\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Collapse = function()\n    {        \n        this.super('.js-collapse');\n    }\n\n    /**\n     * Event binder - Binds all events on button click\n     *\n     * @access {private}\n     */\n    Collapse.prototype.bind = function(node)\n    {\n        on(node, 'click', this._eventHandler);\n    }\n\n    /**\n     * Event unbinder - Removes all events on button click\n     *\n     * @access {private}\n     */\n    Collapse.prototype.unbind = function(node)\n    {\n        off(node, 'click', this._eventHandler);\n    }\n\n    /**\n     * Handle the click event\n     *\n     * @param {event|null} e JavaScript click event\n     * @access {private}\n     */\n    Collapse.prototype._eventHandler = function(e)\n    {\n        e = e || window.event;\n\n        if (is_node_type(this, 'a'))\n        {\n            e.preventDefault();\n        }\n\n        var clicked  = this;\n        var targetEl = find('#' + clicked.dataset.collapseTarget);\n        var duration = parseInt(clicked.dataset.collapseSpeed) || 225;\n        var easing   = clicked.dataset.collapseEasing || 'easeOutExpo';\n        var opacity  = bool(clicked.dataset.withOpacity);\n        var closing  = has_class(clicked, 'active');\n\n        trigger_event(targetEl, 'frontbx:collapse:toggle', closing ? 'close' : 'open');\n\n        var options  = \n        {\n            property: 'height',\n            to: closing ? '0px' : 'auto',\n            from: closing ? 'auto' : '0px',\n            duration: duration, \n            easing: easing,\n            callback: () => { trigger_event(targetEl, 'frontbx:collapse:toggled', closing ? 'close' : 'open'); }\n        };\n\n        animate(targetEl, options);\n        toggle_class(clicked, 'active');\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('Collapse', extend(Component, Collapse));\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const [Component] = frontbx.get('Component');\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, on, off, has_class, add_class, remove_class, closest, trigger_event, dom_element, map, extend] = frontbx.import(['find','on','off','has_class','add_class','remove_class','closest','trigger_event','dom_element', 'map','extend']).from('_');\n\n    /**\n     * Toggle active on lists\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const List = function()\n    { \n        this.super('.js-select-list > li');\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    List.prototype.bind = function(node)\n    {            \n        on(node, 'click', this._eventHandler);\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    List.prototype.unbind = function(node)\n    {\n        off(node, 'click', this._eventHandler);\n    }\n\n    /**\n     * Handle the click event\n     *\n     * @param {event|null} e JavaScript click event\n     * @access {private}\n     */\n    List.prototype._eventHandler = function(e)\n    {\n        e = e || window.event;\n        \n        if (has_class(this, 'selected')) return;\n\n        var list = closest(this, '.js-select-list');\n\n        remove_class(find('li.selected', list), 'selected');\n        \n        add_class(this, 'selected');\n\n        trigger_event(list, 'frontbx:list:selected', {item: this});\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    List.prototype.template = function(props)\n    {\n        return dom_element({tag: 'ul', class: `list ${props.classes ? props.classes : ''} ${props.dense ? 'list-dense' : ''} ${props.ellipsis ? 'list-ellipsis' : ''} ${ props.selectable ? `js-select-list` : '' }`}, null, map(props.items, (i, item) =>\n            {\n                return dom_element({tag: 'li', class: `${item.state} ${props.selected && (props.selected === item.value || props.selected === item.text) ? 'selected' : null}`}, null,\n                [\n                    item.left ? dom_element({tag: 'span', class: 'item-left', innerHTML: item.left}) : null,\n                    dom_element({tag: 'span', class: 'item-body', innerText: item.body || item.text || item }),\n                    item.right ? dom_element({tag: 'span', class: 'item-right', innerHTML: item.right}) : null,\n                ])\n            })\n        );\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('List', extend(Component, List));\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const [Component] = frontbx.get('Component');\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, find_all, map, add_class, on, closest, has_class, is_string, hide_aria, remove_class, off, show_aria, attr, css, dom_element, extend] = frontbx.import(['find','find_all','map','add_class','on','closest','has_class','is_string','hide_aria','remove_class','off','show_aria','attr','css','dom_element','extend']).from('_');\n\n    /**\n     * Dropdown Buttons\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Dropdown = function()\n    {\n        this.super('.js-drop-trigger, .drop-container .js-select-menu > *:not(.menu-divider):not(.menu-header), .drop-container .js-check-menu > *:not(.menu-divider):not(.menu-header), .drop-container .js-active-menu > *:not(.menu-divider):not(.menu-header)');\n\n        this.defaultProps =\n        {\n            checkable:    false,\n            selectable:   false,\n            caret:        false,\n            ellipsis:     false,\n            dense:        false,\n            position:     'sw',\n            anchorText:   '',\n            anchorTag:    'button', \n            items:        [],\n        };\n\n        this.boundWindow  = false;\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Dropdown.prototype.bind = function(node)\n    {\n        if (has_class(node, 'js-drop-trigger'))\n        {\n            on(node, 'click', this._clickHandler, this);\n        }\n        else\n        {\n            on(node, 'click', this._selectHandler, this);\n        }\n\n        if (!this.boundWindow)\n        {\n            on(window, 'click', this._windowClick, this);\n\n            this.boundWindow = true;\n        }\n    }\n\n     /**\n     * @inheritdoc\n     * \n     */\n    Dropdown.prototype.unbind = function(node)\n    {\n        if (has_class(node, 'js-drop-trigger'))\n        {\n            off(node, 'click', this._clickHandler, this);\n        }\n        else\n        {\n            off(node, 'click', this._selectHandler, this);\n        }\n\n        if (this.boundWindow)\n        {\n            off(window, 'click', this._windowClick, this);\n\n            this.boundWindow = false;\n        }\n    }\n\n    /**\n     * Click event handler\n     *\n     * @param  {event|null} e JavaScript Click event\n     * @access {private}\n     */\n    Dropdown.prototype._clickHandler = function(e, button)\n    {\n        var active = find('.js-drop-trigger.drop-active');\n\n        if (active) this._hideDrop(active);\n\n        // Remove active and return\n        if (active !== button)\n        {\n            this._showDrop(button);\n        }\n    }\n\n    /**\n     * Click event handler\n     *\n     * @param  {event|null} e JavaScript Click event\n     * @access {private}\n     */\n    Dropdown.prototype._hideDrop = function(button)\n    {\n        var drop = find('.js-drop-menu', button.parentNode);\n        \n        remove_class(button, ['active', 'drop-active']);\n        \n        button.setAttribute('aria-pressed', 'false');\n        \n        hide_aria(drop);\n        \n        drop.blur();\n    }\n\n    /**\n     * Click event handler\n     *\n     * @param  {event|null} e JavaScript Click event\n     * @access {private}\n     */\n    Dropdown.prototype._showDrop = function(button)\n    {\n        var drop = find('.js-drop-menu', button.parentNode);\n        \n        add_class(button, ['active', 'drop-active']);\n        \n        button.setAttribute('aria-pressed', 'true');\n        \n        show_aria(drop);\n        \n        drop.focus();\n    }\n\n    /**\n     * Window click event\n     *\n     * @param {event|null} e JavaScript click event\n     * @access {private}\n     */\n    Dropdown.prototype._windowClick = function(e)\n    {\n        if (closest(e.target, '.js-drop-trigger'))\n        {\n            return;\n        }\n\n        var active = find('.js-drop-trigger.drop-active');\n\n        if (active) this._hideDrop(active);\n    }\n\n    /**\n     * Click item on select handler\n     *\n     * @param  {event|null} e JavaScript Click event\n     * @access {private}\n     */\n    Dropdown.prototype._selectHandler = function(e, item)\n    {\n        let wrapper    = closest(item, '.drop-container');\n        let menu       = find('.js-select-menu, .js-check-menu, .js-active-menu', wrapper);\n        let trigger    = find('.js-drop-trigger', wrapper);\n        let selectable = has_class(trigger, 'js-drop-selectable');\n        let content    = item.innerText.trim();\n        let value      = attr(item, 'data-value') || content;\n        let input      = find('> input', wrapper);\n\n        if (input) attr(input, 'value', value);\n\n        if (selectable) trigger.innerText = content;\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Dropdown.prototype.template = function(props)\n    {\n        return dom_element({tag: 'div', class: 'drop-container'}, null,\n        [\n            // Input\n            props.checkable ? dom_element({tag: 'input', type: 'hidden', name: props.input, value: props.selected || ''}) : null,\n\n            // button / anchor\n            dom_element({tag: props.anchorTag, type: props.anchorTag === 'button' ? 'button' : null, role: props.anchorTag === 'button' ? 'button' : null, class: `${props.anchorTag === 'button' ? 'btn btn-dropdown' : 'btn-dropdown'} js-drop-trigger ${props.anchorClass} ${props.selectable ? 'js-select-menu' : '' }`}, null,\n                [\n                    props.anchorText,\n                    props.caret ? dom_element({tag: 'span', class: `caret-${props.caret}`}) : null,\n                ]\n            ),\n\n            // Dropdown\n            dom_element({tag: 'div', class: `drop-menu ${ props.position ? `drop-${props.position}` : '' } js-drop-menu`}, null, \n                dom_element({tag: 'ul', class: `menu ${props.dense ? 'menu-dense' : ''} ${props.ellipsis ? 'menu-ellipsis' : ''} ${ props.checkable ? 'js-menu-check' : '' }`}, null, \n                    map(props.items, (i, item) =>\n                    {\n                        return dom_element({tag: 'li', class: `${item.state} ${props.selected && (props.selected === item.value || props.selected === item.text) ? 'selected' : null}`, dataValue: item.value || item.text || item}, null,\n                        [\n                            item.left ? dom_element({tag: 'span', class: 'item-left', innerHTML: item.left}) : null,\n                            dom_element({tag: 'span', class: 'item-body', innerText: item.body || item.text || item }),\n                            item.right ? dom_element({tag: 'span', class: 'item-right', innerHTML: item.right}) : null,\n                        ])\n                    })\n                )\n            )\n        ]);\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('Dropdown', extend(Component, Dropdown));\n\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const [Component] = frontbx.get('Component');\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, attr, add_class, on, closest, has_class, is_empty, remove_class, off, extend] = frontbx.import(['find','attr','add_class','on','closest','has_class','is_empty','remove_class','off','extend']).from('_');\n\n    /**\n     * Tab Nav\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const TabNav = function()\n    {\n        this.super('.js-tab-nav > li > *, .js-tab-nav > *:not(li)');\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    TabNav.prototype.bind = function(node)\n    {            \n        on(node, 'click', this._eventHandler);\n    }\n\n    /**\n     * Unbind click events on all <a> tags in a .js-tab-nav\n     *\n     * @params {navWrap} node\n     * @access {private}\n     */\n    TabNav.prototype.unbind = function(node)\n    {            \n        off(node, 'click', this._eventHandler, this);\n    }\n\n    /**\n     * Click event handler\n     *\n     * @param {event|null} e JavaScript click event\n     * @access {private}\n     */\n    TabNav.prototype._eventHandler = function(e, clicked)\n    {\n        let nav         = closest(clicked, '.js-tab-nav');\n        let activeClass = attr(nav, 'data-active-class') || 'active';\n        let panel       = find(`[data-tab-panel=${attr(clicked, 'data-tab')}]`);\n        let panels      = closest(panel, '.js-tab-panels');\n\n        if (has_class(clicked, activeClass)) return false;\n\n        remove_class(find(`.${activeClass}[data-tab]`, nav), activeClass);\n        add_class(clicked, activeClass);\n\n        remove_class(find('.active[data-tab-panel]', panels), 'active');\n        add_class(panel, 'active');\n\n        return false;\n    }   \n\n    // Load into frontbx DOM core\n    frontbx.dom().register('TabNav', extend(Component, TabNav));\n})();\n(function()\n{\n    /**\n     * JS Helper reference\n     * \n     * @var {object}\n     */\n    const Helper = frontbx._();\n\n    /**\n     * Input masker\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const InputMasks = function()\n    {\n        this._nodes = Helper.find_all('.js-mask');\n        \n        this._masks = [];\n\n        this._bind();\n\n        return this;\n    }\n\n    /**\n     * Public destructor remove all masks\n     *\n     * @access {public}\n     */\n    InputMasks.prototype.destruct = function()\n    {\n        Helper.each(this._masks, function(i, mask)\n        {\n            mask.destroy();\n        });\n        \n        this._nodes = [];\n\n        this._masks = [];\n    }\n\n    /**\n     * Find all the nodes and apply any masks\n     *\n     * @access {private}\n     */\n    InputMasks.prototype._bind = function()\n    {\n        // Find all the nodes\n        Helper.each(this._nodes, function(i, input)\n        {\n            let mask = Helper.attr(input, 'data-mask');\n\n            let format = Helper.attr(input, 'data-format');\n\n            if (mask && mask.startsWith('regex('))\n            {\n                mask = mask.trim().replace('regex(', '').slice(0, -1);\n            }\n\n            if (mask)\n            {\n                this._masks.push(frontbx.InputMasker(input, mask, format));\n            }\n\n        }, this);\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('InputMasks', InputMasks);\n\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const [Component] = frontbx.get('Component');\n\n    /**\n     * Helper functions\n     * \n     * @var {function}\n     */\n    const [on, animate_css, closest, has_class, remove_from_dom, off, trigger_event, extend] = frontbx.import(['on','animate_css','closest','has_class','remove_from_dom','off','trigger_event','extend']).from('_');\n\n    /**\n     * Message closers\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const MessageClosers = function()\n    {\n        this.super('.js-close-msg');\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    MessageClosers.prototype.bind = function(node)\n    {\n        on(node, 'click', this._eventHandler);\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    MessageClosers.prototype.unbind = function(node)\n    {\n        off(node, 'click', this._eventHandler);\n    }\n\n    /**\n     * Event handler - handles removing the message\n     *\n     * @param  {event}   e JavaScript click event\n     * @access {private}\n     */\n    MessageClosers.prototype._eventHandler = function(e)\n    {\n        e = e || window.event;\n\n        e.preventDefault();\n\n        let msg      = closest(this, '.msg');\n        let toRemove = msg;\n\n        trigger_event(msg, 'frontbx:message:close');\n\n        if (has_class(this, 'js-rmv-parent'))\n        {\n            toRemove = toRemove.parentNode;\n        }\n\n        animate_css(toRemove, { opacity: 0, duration: 500, easing: 'easeInOutCubic', callback: function()\n        {\n            trigger_event(msg, 'frontbx:message:closed');\n\n            remove_from_dom(toRemove);\n        }});\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('MessageClosers', extend(Component, MessageClosers));\n\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const [Component] = frontbx.get('Component');\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, on, off, has_class, in_dom, parse_url, extend]  = frontbx.import(['find','on','off','has_class','in_dom','parse_url','extend']).from('_');\n\n    /**\n     * Has the page loaded?\n     * \n     * @var {object}\n     */\n    var pageLoaded = false;\n\n    /**\n     * Waypoints\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const WayPoints = function()\n    {        \n        this.super('.js-waypoint-trigger');\n\n        // Invoke pageload\n        if (!pageLoaded)\n        {\n            this._invokePageLoad();\n        }\n\n        pageLoaded = true;\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    WayPoints.prototype.bind = function(node)\n    {\n        on(node, 'click', this._eventHandler);\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    WayPoints.prototype.unbind = function(node)\n    {\n        off(node, 'click', this._eventHandler);\n    }\n\n    /**\n     * Event handler\n     *\n     * @param {event|null} e JavaScript click event\n     * @access {private}\n     */\n    WayPoints.prototype._eventHandler = function(e)\n    {\n        let trigger   = this;\n        let id        = trigger.dataset.waypointTarget || trigger.href.split('#').pop();\n        let speed     = parseInt(trigger.dataset.waypointSpeed) || 500;\n        let easing    = trigger.dataset.waypointEasing || 'easeInOutCubic';\n        let updateUrl = trigger.dataset.updateUrl === 'false' ? false : true;\n\n        if (id && id[0] !== '#') id = `#${id}`;\n\n        frontbx.SmoothScroll(id, { easing: easing, speed: speed, updateUrl: updateUrl });\n\n        return false;\n    }\n\n    /**\n     * Scroll to a element with id when the page loads\n     *\n     * @access {private}\n     */\n    WayPoints.prototype._invokePageLoad = function()\n    {\n        var url = parse_url(window.location.href);\n\n        let targetEl = url.hash && url.hash !== '' ? find(url.hash) : false;\n\n        if (!in_dom(targetEl) || !has_class(targetEl, '.js-waypoint')) return;\n       \n        let speed  = parseInt(targetEl.dataset.waypointSpeed) || 500;\n        let easing = targetEl.dataset.waypointEasing || 'easeInOutCubic';\n\n        const scroll = function()\n        {\n            frontbx.SmoothScroll(url.hash, { easing: easing, speed: speed, updateUrl: false });\n\n            off(window, 'frontbx:ready', scroll);\n        }\n\n        window.scrollTo(0, 0);\n\n        on(window, 'frontbx:ready', scroll);\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('WayPoints', extend(Component, WayPoints));\n\n})();\n\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const [Component] = frontbx.get('Component');\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, add_class, on, animate_css, closest, coordinates, css, has_class, height, in_array, in_dom, inline_style, preapend, remove_class, off, rendered_style, traverse_up, trigger_event, width, extend] = frontbx.import(['find','add_class','on','animate_css','closest','coordinates','css','has_class','height','in_array','in_dom','inline_style','preapend','remove_class','off','rendered_style','traverse_up','trigger_event','width','extend']).from('_');\n\n    /**\n     * Wrappers that need \"position:relative\" to hide overflow.\n     * \n     * @var {array}\n     */\n    const STATIC_POSITIONS = ['static', 'unset', 'initial'];\n\n    /**\n     * Original inline styles\n     * \n     * @var {Map}\n     */\n    const INLINESTYLES = new Map();\n\n    /**\n     * Currently rippling\n     * \n     * @var {Map}\n     */\n    const RIPPLING = new Map();\n\n    /**\n     * Currently clicking\n     * \n     * @var {Map}\n     */\n    var CLICKING;\n\n    /**\n     * Selectors\n     * \n     * @var {Map}\n     */\n    const SELECTORS =\n    [\n        '.btn',\n        '.list > li',\n        '.pagination li a',\n        '.tab-nav li a',\n        '.card.primary-action',\n        '.card .primary-action',\n        '.card-media',\n        '.js-ripple'\n    ];\n\n    /**\n     * Ripple click animation\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Ripple = function()\n    {\n        this.super(SELECTORS.join(','));\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Ripple.prototype.bind = function(node)\n    {                \n        // No ripples inside primary actions\n        if (!has_class(node, 'primary-action') && closest(node, '.primary-action') && !has_class(node, 'card'))\n        {\n            return;\n        }\n\n        // No ripples inside list buttons\n        if (has_class(node, 'btn') && closest(node, '.list'))\n        {\n            return;\n        }\n\n        // No ripples on list items with checkbox controls\n        if (closest(node, '.list') && (find('> .item-right .checkbox', node) || find('> .item-right .radio', node)  || find('> .item-right .switch', node))) return;\n\n        // Cache 'overflow' and 'position' inline styles\n        // to revert back to after complete\n        // If these are empty they will be removed\n        if (!INLINESTYLES.has(node))\n        {\n            let CSSoverflow = inline_style(node, 'overflow') || false;\n            \n            let CSSposition = inline_style(node, 'position') || false;\n\n            INLINESTYLES.set(node, [CSSoverflow, CSSposition]);\n        }\n\n        on(node, 'mousedown, touchstart', this._startRipple, this);\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Ripple.prototype.unbind  = function(node)\n    {\n        off(node, 'mousedown, touchstart', this._startRipple, this);\n    }\n\n    /**\n     * Ripple handler\n     *\n     * @access {private}\n     * @param  {event|null} e\n     */\n    Ripple.prototype._restore  = function(wrapper)\n    {\n        if (in_dom(wrapper))\n        {\n            wrapper.offsetHeight;\n\n            wrapper.removeAttribute('data-event');\n        \n            remove_class(wrapper, 'ripple-down');\n\n            let styles = INLINESTYLES.get(wrapper);\n\n            css(wrapper, 'overflow', styles[0]);\n\n            css(wrapper, 'position', styles[1]);\n        }\n    }\n\n    /**\n     * Ripple handler\n     *\n     * @access {private}\n     * @param  {event|null} e\n     */\n    Ripple.prototype._startRipple  = function(e, wrapper)\n    {\n        const _this = this;\n\n        // Ignore disabled\n        if (wrapper.disabled || has_class(wrapper, 'disabled')) return;\n\n        // Single finger \"clicks\" only\n        if (e.touches && e.touches.length > 1) return;\n\n        // Left click only on mouse\n        if ('button' in e && e.button !== 0) return;\n\n        // Store the event used to generate this ripple on the holder: don't allow\n        // further events of different types until we're done.\n        // Prevents double-ripples from mousedown/touchstart.\n        var prev = wrapper.getAttribute('data-event');\n        if (prev && prev !== e.type) return;\n\n        // Clear restorer\n        clearTimeout(RIPPLING.get(wrapper));\n\n        // Add the data-attribute to identify ripple event type\n        wrapper.setAttribute('data-event', e.type);\n\n        // Add class to parent do identify mousedown/touchstart\n        add_class(wrapper, 'ripple-down');\n\n        // Figure out release event type\n        var releaseEvent = (e.type === 'mousedown' ? 'mouseup' : 'touchend');\n\n        // Cached timer for release\n        var releaseTimer;\n        var released = false;\n\n        // Animation started\n        const t0 = performance.now();\n\n        // Create ripple and append immediately\n        var ripple = document.createElement('SPAN');\n        ripple.className = 'ripple';\n\n        // Release event\n        const release = function(ev)\n        {\n            // Clear timer\n            clearTimeout(releaseTimer);\n\n            // Remove release listener\n            document.removeEventListener(releaseEvent, release);\n\n            add_class(ripple, 'complete');\n\n            setTimeout(() => wrapper.removeChild(ripple), 400);\n\n            let restoreTimer = setTimeout(() => _this._restore(wrapper), 500);\n\n            RIPPLING.set(wrapper, restoreTimer);\n        };  \n\n        // Figure out where to place ripple inside parent\n        var c = coordinates(wrapper);\n        var s = Math.max(height(wrapper), width(wrapper));\n        var x = (e.pageX - c.left) - (s / 2);\n        var y = (e.pageY - c.top) - (s / 2);\n\n        // Apply styles to ripple\n        css(ripple, \n        {\n            width:  `${s}px`,\n            height: `${s}px`,\n            left:   `${x}px`,\n            top:    `${y}px`\n        });\n\n        // Issue here is that if ripple is clicked multiple times in quick succession\n        // the original inline overflow and position styles are overwritten by the next\n        // click\n\n        // Ensure parent hides overflow\n        css(wrapper, 'overflow', 'hidden !important');\n\n        // Ensure position relative if needed\n        if (in_array(rendered_style(wrapper, 'position'), STATIC_POSITIONS))\n        {\n            css(wrapper, 'position', 'relative');\n        }\n\n        // Release listener\n        document.addEventListener(releaseEvent, release);\n            \n        preapend(ripple, wrapper);\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('Ripple', extend(Component, Ripple));\n\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const [Component] = frontbx.get('Component');\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [find, on, off, has_class, add_class, remove_class, closest, trigger_event, dom_element, map, is_object, extend] = frontbx.import(['find','on','off','has_class','add_class','remove_class','closest','trigger_event','dom_element','map','is_object','extend']).from('_');\n\n    /**\n     * Toggle active on tables\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Table = function()\n    { \n        this.super('.js-select-table > tbody > tr');\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Table.prototype.bind = function(node)\n    {            \n        on(node, 'click', this._eventHandler, this);\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Table.prototype.unbind = function(node)\n    {\n        off(node, 'click', this._eventHandler, this);\n    }\n\n    /**\n     * Handle the click event\n     *\n     * @param {event|null} e JavaScript click event\n     * @access {private}\n     */\n    Table.prototype._eventHandler = function(e, row)\n    {\n        e = e || window.event;\n        \n        if (has_class(row, 'selected')) return;\n\n        var table = closest(row, 'table');\n\n        let selected = find('tr.selected', table);\n\n        if (selected) remove_class(selected, 'selected');\n\n        add_class(row, 'selected');\n\n        trigger_event(table, 'frontbx:table:selected', { item: row });\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Table.prototype.template = function(props)\n    {\n        let head = dom_element({tag: 'thead'}, null, dom_element({tag: 'tr'}, null, map(props.head, (i, cell) =>\n        {   \n            return is_object(cell) ? dom_element({tag: 'th', ...cell}) : dom_element({tag: 'th'}, null, cell);                    \n        })));\n\n        let body = dom_element({tag: 'tbody'}, null, map(props.rows, (i, item) =>\n        {\n            return dom_element({tag: 'tr', class: `${props.selected && (props.selected === i) ? 'selected' : null}`}, null, map(item, (j, cell) =>\n            {\n                return is_object(cell) ? dom_element({tag: 'th', ...cell}) : dom_element({tag: 'th'}, null, cell);\n            }));\n        }));\n\n        return dom_element({tag: 'table', class: `table ${props.classes ? props.classes : ''} ${props.dense ? 'table-dense' : ''} ${ props.selectable ? `js-select-table` : '' }`}, null, [head, body]);\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('Table', extend(Component, Table));\n\n})();\n(function()\n{\n    /**\n     * Component base\n     * \n     * @var {class}\n     */\n    const [Component] = frontbx.get('Component');\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const [is_undefined, map, dom_element, extend] = frontbx.import(['is_undefined','map','dom_element','extend']).from('_');\n\n    /**\n     * Helper functions\n     * \n     * @var {Function}\n     */\n    const AVAILABLE_OPTIONS = ['background', 'lazy', 'ratio', 'placeholder', 'src', 'grayscale'];\n\n    /**\n     * Toggle active on lists\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    const Image = function()\n    { \n        this.super();\n    }\n\n    /**\n     * @inheritdoc\n     * \n     */\n    Image.prototype.template = function(props)\n    {\n        let attrs        = map({...props}, (k, v) => !AVAILABLE_OPTIONS.includes(k) ? v : false );\n        let isBackground = props.background;\n        let isRatio      = !is_undefined(props.ratio);\n        let isLazy       = is_undefined(props.lazy) ? false : props.lazy;\n        let src          = isLazy ? (props.placeholder || window.LAZY_FALLBACK_IMAGE) : props.src;\n        let dataSrc      = isLazy ? props.src : false;\n        \n        if (!attrs.style) attrs.style = '';\n        if (!attrs.class) attrs.class = '';\n\n        if (isLazy)\n        {\n            attrs.class  += ` lazyload js-lazyload ${props.grayscale ? 'grayscale' : ''}`;\n            attrs.dataSrc = dataSrc;\n        }\n\n        // Background image\n        if (isBackground)\n        {\n            attrs.class += ' bg-image';\n            attrs.style += `;background-image: url(${src})`;\n            \n            if (isRatio) attrs.class += ` ratio-${props.ratio}`;\n\n            return dom_element({...attrs, tag: 'div'});\n        }\n\n        attrs.src = src;\n\n        let image = dom_element({...attrs, src: src, dataSrc: dataSrc, tag: 'img'})\n\n        // Ratio image\n        if (isRatio)\n        {\n            return dom_element({tag: 'div', class: `ratio-img ratio-${props.ratio}`}, null, image);\n        }\n\n        return image;\n    }\n\n    // Load into frontbx DOM core\n    frontbx.dom().register('Image', extend(Component, Image));\n    \n})();\n\n// boot frontbx\n/**\n * Boot and initialize frontbx core\n *\n * @author    {Joe J. Howard}\n * @copyright {Joe J. Howard}\n * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n */\n(function()\n{\n\tfrontbx.boot();\n\n})();\n\nconst frontbx = window.frontbx;\n\nexport default frontbx;\n"],"mappings":"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","ignoreList":[]}