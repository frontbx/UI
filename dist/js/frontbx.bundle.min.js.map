{"version":3,"names":["global","factory","exports","module","define","amd","globalThis","self","FrontBx","this","restArguments","_now","_delay","window","location","origin","protocol","hostname","port","CustomEvent","event","params","bubbles","cancelable","detail","evt","document","createEvent","initCustomEvent","func","startIndex","length","Math","max","arguments","rest","Array","index","call","args","apply","Date","now","getTime","wait","setTimeout","throttle","options","timeout","context","result","previous","later","leading","throttled","remaining","clearTimeout","trailing","cancel","debounce","immediate","debounced","callNow","Inverse","_store","IMPORT_AS_REF","prototype","set","key","value","singleton","_normalizeKey","_storeObj","_setProto","classObj","invoke","get","has","k","delete","_proto","Object","getPrototypeOf","undefined","slice","storeObj","instance","invokable","_newInstance","funcn","import","names","_this","_import","_rets","_context","i","mixedVar","push","_is_func","bind","callback","bound","defineProperty","name","__isBound","__boundContext","__origional","unshift","_singletonFunc","invoked","function","_isInvokable","mixed_var","test","toString","constructor","_isInvoked","constr","trim","startsWith","reference","isSingleton","replace","$1","toUpperCase","charAt","Container","container","NULL_TAG","UNDEF_TAG","BOOL_TAG","STRING_TAG","NUMBER_TAG","FUNC_TAG","ARRAY_TAG","ARGS_TAG","NODELST_TAG","OBJECT_TAG","DATE_TAG","SET_TAG","MAP_TAG","REGEXP_TAG","SYMBOL_TAG","ARRAY_BUFFER_TAG","DATAVIEW_TAG","ARRAYISH_TAGS","TO_STR","TO_ARR","HTML_REGXP","EMPTY_OBJ_KEYS","getOwnPropertyNames","SHORTHAND_PROPS","margin","outline","padding","background","border","font","mask","columns","cue","pause","animation","transition","flex","SHORTHAND_DEFAULTS","CSS_TRANSFORM_VALUES_COUNT","perspective","skewY","translateY","translateZ","scaleY","scaleZ","rotateX","rotateY","rotateZ","translateX","skewX","scaleX","rotate","skew","translate","scale","translate3d","scale3d","rotate3d","matrix","matrix3d","CSS_3D_TRANSFORM_DEFAULTS","CSS_3D_TRANSFORM_MAP_KEYS","x","y","z","CSS_RELATIVE_UNITS","em","ex","ch","rem","vw","vh","vmin","vmax","CSS_ABSOLUTE_UNITS","in","cm","mm","pt","pc","CSS_PIXELS_PER_INCH","px","CSS_PROP_TO_HYPHEN_CASES","CSS_PROP_TO_CAMEL_CASES","ANIMATION_DEFAULT_OPTIONS","easing","duration","fps","ANIMATION_ALLOWED_OPTIONS","ANIMATION_FILTER_OPTIONS","keys","ANIMATING","POW","pow","SQRT","sqrt","SIN","sin","COS","cos","PI","C1","C2","c3","C4","C5","bounceOut","n1","d1","ANIMATION_EASING_FUNCTIONS","linear","ease","easeIn","easeOut","easeInOut","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInBack","easeOutBack","easeInOutBack","easeInElastic","easeOutElastic","easeInOutElastic","easeInBounce","easeOutBounce","easeInOutBounce","CSS_EASINGS","DOC_EVENTS","concat","filter","indexOf","elem","pos","map","toLowerCase","BOOLEAN_ATTRS","PROP_ATTRIBUTES","_THIS","_","version","author","browser","_events","_guid","_guidgen","AnimateJS","DOMElement","keyframes","currentKeyframe","intervalDelay","floor","keyFrameCount","CSSProperty","property","isTransform","includes","isScroll","isColor","to","clearAnimating","parseOptions","generateKeyframes","stopped","CSSprop","each","stop","splice","start","clearTransitions","loop","_applyKeyframe","shift","_complete","_failTimer","fail","keyframe","prop","scrollTo","css","complete","_pre_transition","parseScrollOptions","parseTransformOptions","parseColorOptions","parseDefaultOptions","Error","startY","scrollY","startX","scrollX","endX","parseInt","split","endY","pop","distX","abs","distY","startValue","endValue","backAnimation","distance","CSSunits","startVal","is_undefined","from","rendered_style","endVal","prevStyle","inline_style","startUnit","css_value_unit","endUnit","css_to_px","css_unit_value","startValues","css_transform_props","endValues","baseTransforms","is_empty","join_obj","val","propAxis","valueStr","startValStr","sanitizeColor","color","replaceAll","rgb","match","forEach","item","is_equal","for","generateKeyframe","transformIndex","change","tween","mixColors","keyVal","roundNumber","prefix","suffix","color1RGB","color2RGB","blend","colorRGB","c1","mixedColor","y1","y2","round","transitions","css_transition_props","css_transition","n","dp","h","padEnd","type","time","__animate_js","AnimateCss","animatedProps","preAnimatedTransitions","stopValues","_callbackStart","_callbackComplete","_callbackFail","_callbackStep","preProcessStartEndValues","applyStartValues","applyTransitions","add_event_listener","transitionEnd","_stepTimer","setInterval","applyEndValues","clearInterval","resotoreElement","destory","remove_event_listener","e","css_prop_to_hyphen_case","propertyName","shorthand","option","step","inlineStyle","styles","__animate_css","animate","animationSet","Animation","factoryOptions","FROM_FACTORY","__animation_factory","AnimationInstance","opts","animate_css","cssAnimation","optionSets","el","in_array","camelProp","css_prop_to_camel_case","body","style","isObjSet","is_object","toMerge","longest","longestI","array_has","console","error","__array_delete_recursive","object","__array_get_recursive","__array_set_recursive","nextKey","islast","lastObj","JSON","stringify","converted","assign","__array_key_segment","path","segments","segment","subSegments","j","array_delete","array_filter","arr","isArr","is_array","ret","array_get","array_merge","arg","first","fType","array_set","array_unique","is_array_last","needle","haystack","strict","last","obj","clbkVal","isArray","len","thisArg","foreach","count","v","attr","is_string","__get_attribute","innerHTML","innerText","children","node","remove_from_dom","appendChild","removeAttribute","className","css_to_object","isData","camelName","to_camel_case","hyphenName","camel_case_to_hyphen","isEmpty","dataset","lc_first","ltrim","setAttribute","substring","retCamel","retAttr","getAttribute","is_null","removeProperty","re","RegExp","rtrim","hyphenProp","css_to_longhand","values","hasOwnProperty","splits","dfault","longhand","css_to_shorthand","needsFilling","longhands","matched","needsDefault","suppliedVal","matcher","defaltVal","matchAll","rule","join","is_numeric","parseFloat","unit","psize","parentNode","documentElement","width","height","w","min","element","elementStyle","getComputedStyle","getPropertyValue","hasOwn","remove_style","__computed_style","currentStyle","transitionVal","transitionSplit","char","inBezier","block","all","returnAsString","__un_css_matrix","inline","emptys","inlineDisplay","isHidden","transforms","computedStyleMap","computedTransforms","sort","reverse","axisMap","transform","bsName","lastChar","defltVal","axisProp","css_to_3d_transform","transformsStr","valueCount","initialVal","name3d","getPropValue","add_class","_DOMElement","_className","classList","add","closest","response","is_htmlElement","traverse_up","parent","closest_class","nodeName","clas","has_class","coordinates","box","getBoundingClientRect","docEl","scrollTop","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","borderL","borderR","borderT","borderB","top","left","right","bottom","first_children","$All","form_inputs","form","form_values","inputs","input","input_value","contains","hide_aria","HTMLElement","in_viewport","rect","innerHeight","clientHeight","innerWidth","clientWidth","inner_HTML","content","append","clear_event_listeners","trigger_event","inner_Text","text","childNodes","nodeValue","selectedIndex","multiple","files","dom_element","appendTo","innerHTMLOrChildren","_recursive_dom_element","tag","createElement","child","next","next_untill_class","nextSibling","preapend","wrapper","insertBefore","firstChild","previous_untill_class","previousSibling","prev","remove_class","remove","in_dom","removeChild","scroll_pos","doc","$","selector","fchild","multi","querySelector","find","includeContextEl","deleteParent","hasParent","querySelectorAll","find_all","show_aria","toggle_class","eventName","data","initEvent","dispatchEvent","fireEvent","is_constructed","state","events","base","subevent","origional","traverse_down","traverse_next","traverse_prev","nth_child","nth_siblings","on","handler","baseArgs","eventsArr","argsNormal","__normaliseListenerArgs","__addListener","pushFirst","bool","guid","hasHandler","handlerObj","addEventListener","__event_dispatcher","callbacks","handled","preventDefault","stopPropagation","onlyChildren","off","types","__remove_listener","collect_garbage","cleared","event_listeners","summary","details","__remove_element_listeners","__remove_element_type_listeners","handlers","_handler","eventType","removeEventListener","is_retina","devicePixelRatio","matchMedia","matches","parse_url","str","url","URL","search","queries","qret","query","decodeURI","url_query","results","decodeURIComponent","normalize_url","paths","href","pathname","backs","clone_deep","__clone_var","var_type","__clone_obj","__clone_array","__clone_func","__clone_RegExp","__clone_symbol","__clone_date","__clone_set","__clone_map","__clone_array_buffer","__clone_data_view","__clone_buffer","__clone_typed_array","object_props","protos","prototypes","curr","proto","clone","constrctor","setPrototypeOf","d","r","setTime","symbol","Symbol","valueOf","regexp","source","exec","lastIndex","m","Map","s","Set","arrayBuffer","byteLength","Uint8Array","dataView","buffer","byteOffset","allocUnsafe","copy","typedArray","dotify","res","recurse","current","newKey","extend","extension","proxySuper","superFn","fn","tmp","super","Class","protoProps","_super","create","enumerable","writable","configurable","is_function","extend_obj","baseProto","extendProto","extProto","newProto","seperator","glue","recursive","trimLast","merge_deep","cloned","deep","flatten_obj","json_decode","parse","json_encode","charlist","trimStart","makeid","possible","random","trimEnd","chars","uc_first","string","ucwords","is_regexp","is_bool","is_number","Number","callable_name","is_callable","size","is_args","is_buffer","is_class","classname","is_constructable","isES6","is_dataview","is_date","isNaN","a","b","__is_equal_func","__is_equal_traverseable","__is_equal_protos","aProtos","bProtos","nodeType","is_json","is_map","is_node_type","tagName","is_nodelist","is_set","is_symbol","destruct","Application","version_major","version_minor","version_patch","boot","dom","Dom","app","_isReady","components","_bindComponent","_dispatchReady","register","component","_normaliseKey","_dispatchComponent","isRefresh","_hasMethod","construct","_unbindComponent","refresh","globalRefresh","method","Component","defaultProps","_selector","_DOMElements","nodes","unbind","props","template","LAZY_FALLBACK_IMAGE","Queue","concurrency","running","taskQueue","task","_runTask","_enqueueTask","LazyLoad","_queue","_getSrc","_canLoad","_loadImage","_isImage","isImage","src","_markLoaded","_getLoadFunc","queue","_image","Image","onload","backgroundImage","onerror","_markFailed","lazy","initial","NProgress","Settings","settings","minimum","positionUsing","speed","trickle","trickleSpeed","showSpinner","barSelector","spinnerSelector","isDOM","clamp","toBarPerc","configure","status","started","isStarted","progress","render","bar","offsetWidth","getPositioningCSS","barCSS","barPositionCSS","opacity","work","done","force","inc","amount","promise","$promise","always","fromStart","isRendered","getElementById","addClass","id","spinner","perc","removeElement","removeClass","bodyStyle","vendorPrefix","pending","cssPrefixes","cssProps","applyCss","letter","vendorName","capName","getVendorProp","properties","hasClass","oldList","newList","NAMED_CALLBACKS","_args","AJAX_QUEUE","Ajax","_reset","_settings","async","headers","Accepts","Pragma","_success","_error","_abort","_progress","_xhr","post","success","abort","_setResponseHandlers","_call","head","put","upload","_headers","then","xhr","readyState","onreadystatechange","_makeCallback","responseText","XMLHttpRequest","ActiveXObject","requestURL","mthod","open","_sendHeaders","_ready","send","setRequestHeader","FormData","_params","successfull","encodeURIComponent","_listening","DEFAULT_OPTIONS","cacheBust","once","keepScroll","pushstate","urlhash","Pjax","_popStateHandler","request","t","scroll","history","pushState","_handleSuccess","rigger_event","HTML","responseDoc","_parseHTML","descrMeta","responseTitle","_findDomTitle","responseDesc","_findDomDesc","responseScripts","_getScripts","currScripts","_removeScripts","targetEl","responseEl","title","replaceState","_appendScripts","newScripts","scripts","script","cScript","_appendScript","scriptObj","rel","DOM","getElementsByTagName","desc","html","DOMParser","parseFromString","_for","STATIC_POSITIONS","lines","variant","aspectratio","CLASS_VARIANTS","WRAPPER_VARIANTS","Skeleton","_nodes","_isMulti","optionSet","_build","load","cb","isHTML","position","InlStyles","overflow","newStyles","oldContnet","isFragment","div","class","replaceChild","fade_out","destroy","madeCallback","skeleton","variants","classes","skeletons","cloneNode","_skeleton","_setDimensions","skel","aspectRatio","isLines","TinyGesture","touch1","touch2","touchStartX","touchStartY","touchEndX","touchEndY","touchMove1","touchMove2","touchMoveX","touchMoveY","velocityX","velocityY","longPressTimer","doubleTapTimer","doubleTapWaiting","thresholdX","thresholdY","disregardVelocityThresholdX","disregardVelocityThresholdY","swipingHorizontal","swipingVertical","swipingDirection","swipedHorizontal","swipedVertical","originalDistance","newDistance","originalAngle","newAngle","rotation","panstart","panmove","panend","swipeleft","swiperight","swipeup","swipedown","tap","doubletap","longpress","pinch","pinchend","rotateend","_onTouchStart","onTouchStart","_onTouchMove","onTouchMove","_onTouchEnd","onTouchEnd","defaults","passiveIfSupported","mouseSupport","_a","_b","idx","fire","_c","_d","_e","_f","_g","_h","_j","_k","_l","_m","_o","_p","_q","_r","_s","_t","_u","_v","_w","_x","_y","_z","_0","_1","didTouch1","changedTouches","touch","identifier","screenX","screenY","atan2","threshold","disregardVelocityThreshold","longPressTime","absTouchMoveX","absTouchMoveY","pressThreshold","touches","absX","absY","absDistance","diagonal","diagonalSwipes","tan","diagonalLimit","velocityThreshold","doubleTapTime","_self","passive","err","overlay","persistentOverlay","swipeable","direction","peekable","persistent","responsive","pushbody","animationTime","fromHTML","callbackBuilt","callbackRender","callbackClose","callbackOpen","callbackValidate","PUSH_ARROWS","SWIPE_DIRECTIONS","WRAPPED_BODY","WRAPPED_DRAWERS","Drawer","_options","_state","_animating","_mounted","_animateOnMount","animateOnMount","_hasOverlay","_resizeThrottle","resize","_mount","_bindListeners","opened","closed","close","_gestures","_unwrapBody","_containerWrap","_overlay","_drawer","_animteDrawer","_animateOverlay","_animateBody","_toggleEnd","_drawerSize","_peekableSize","tofrom","_bodyWrap","drawer","_dialog","header","closer","_closeValidate","offsetHeight","peekableSize","drawerSize","_wrapBody","classN","directions","confirmBtn","confirmClass","callbackConfirm","Frontdrop","_buildFD","footer","custom","closeAnywhere","cancelBtn","cancelClass","Modal","_modal","blur","focus","_cancelBtn","_confirmBtn","role","tabindex","_closeClick","clicked","target","_Modal","icon","btn","btnVariant","callbackDismiss","Notification","_buildNotificationContainer","_render","domElement","_notification","_timeout","wrappper","_DOMElementWrapper","_animateOutClass","_animateInClass","_wrapperClass","_animateIn","_animateOut","notif","_btn","_removeValidate","updateURL","nodeOrId","isHashable","hash","_map","MASK_MAP","creditcard","money","numeric","numericdecimal","alphanumeric","alphaspace","alphadash","alphanumericdash","_format_464","cc","_format_465","_format_4444","_CARD_TYPES","pattern","format","maxlength","InputMasker","maskRegexp","_getMaskRegexp","_buildFormatRegexp","maskName","_bind","isCC","_handle","raw","seperators","endsWith","_formatFilter","mapped","_formatCC","ct","oldval","newVal","selectionStart","before_caret","setSelectionRange","VALIDATORS","email","password","alpha","list","ccNum","String","bit","sum","minlength","FormValidator","_DOMElementForm","_DOMElementsFormFields","_inputs","_rulesIndex","_invalids","_formObj","_indexValidations","isValid","_validateForm","showInvalid","_clearForm","fieldWrap","clearInvalid","showResult","required","validation","_validationFunc","valid","_isValid","ruleset","_devalidate","accessibility","autoPlay","initialIndex","controls","dots","wrap","groupSlides","pauseOnHover","draggable","friction","_Slider","DOMElementWrapper","_playing","_translated","_moveIndexToMiddle","play","unpause","_dotWrap","_righBtn","_leftBtn","slides","_slides","slide","animationOrClickEvent","_dragging","_index","_slidesIndexs","_toSlideDirect","_slideWidthWGap","_updateIndex","_updateDots","preDistance","_offset","_moved","_DOMElementViewport","toSlide","slideNum","fromClick","delta","_moveDelta","tmpOffset","_middleIndex","_bufferSize","_viewportWidth","_slideWidth","clones","_bufferNodes","_slidesCount","_isFullWidth","_gapSize","percentagWidth","_visibleSlides","_dragBoundryL","_dragBoundryR","hidden","_onVisibilityPlay","_onVisibilityChange","_tick","_playTimer","ceil","_buildControls","_dots","_buildDots","_bindGestures","_dragSlide","moved","_dragX","_dragCloneSlides","_draggingbuffer","_bufferDragClones","viewport","cloneR","_dragRIndex","cloneL","_dragLIndex","_dragClones","_clearDragClones","_restingDragPos","wrapping","slideIndex","slideStarts","_dragMoved","_onDragEnd","_dragEndAnim","_resetDragVars","_dragStartPointX","_prevDrag","gestures","pageX","moveVectorX","dot","dataIndex","_dotClick","backN","forwdN","SLIDERS","Slider","slider","PopHandler","trigger","buildPopEl","stylePop","tarcoordinates","scrollHeight","HOVER_TIMER","POP_HANDLERS","Popover","_windowClick","theme","_windowClickHandler","popoverDirection","popoverTitle","popoverTheme","popoverContent","evnt","popoverEvent","popoverAnimate","popoverTarget","popHandler","_clickHandler","_windowResize","_hoverEnter","_hoverLeave","_killPop","_hoverPop","_trigger","_removeAll","exception","chip","removeable","posticon","preicon","icon1","removeBtn","ariaLabel","icon2","ChipInputs","_wrapper","_input","_removeChip","_onKeyUp","_preventSubmit","_removeBtns","_key","code","keyCode","charCode","_removeLastChip","_value","_getChipsValues","addChip","_chips","_icon","Chip","inputName","chipClass","_result","Menu","menu","activeClass","selected","isCheck","selectedCheck","check","ChipSuggestions","inputTarget","_text","ChoiceChips","FilterChips","DATA_ATTRIBUTES","modals","attribute","modal","_toggle","display","drawers","frontdrop","Backdrop","backdrop","_show","REQUESTED","PjaxLinks","_eventHandler","Collapse","collapseTarget","collapseSpeed","collapseEasing","closing","withOpacity","List","dense","ellipsis","selectable","items","Dropdown","checkable","caret","anchorText","anchorTag","boundWindow","_selectHandler","button","active","_hideDrop","_showDrop","drop","anchorClass","dataValue","TabNav","nav","panel","panels","Helper","InputMasks","_masks","MessageClosers","msg","toRemove","pageLoaded","WayPoints","_invokePageLoad","waypointTarget","waypointSpeed","waypointEasing","updateUrl","SmoothScroll","Inputs","_onLabelClick","_setClasses","INLINESTYLES","RIPPLING","SELECTORS","Ripple","CSSoverflow","CSSposition","_startRipple","_restore","disabled","releaseEvent","performance","ripple","release","ev","releaseTimer","restoreTimer","c","pageY","Table","table","cell","rows","AVAILABLE_OPTIONS","attrs","isBackground","isRatio","ratio","isLazy","placeholder","dataSrc","grayscale","image"],"sources":["dist/js/frontbx.bundle.js"],"sourcesContent":["/*!\n  * FrontBx v0.1.0\n  * \n  */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.FrontBx = factory());\n})(this, (function () { 'use strict';\n  \n    // Core\n    // polyfills\n    // polyfills\n    /**\n     * A fix to allow you to use window.location.origin consistently\n     *\n     * @see {https://tosbourn.com/a-fix-for-window-location-origin-in-internet-explorer/}\n     */\n    if (!window.location.origin)\n    {\n        window.location.origin = window.location.protocol + \"//\" + window.location.hostname + (window.location.port ? ':' + window.location.port : '');\n    }\n    /*\n     * Custom events \n     *\n     * @see {https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent#Polyfill}\n     */\n    (function()\n    {\n        if (typeof window.CustomEvent === \"function\") return false;\n    \n        function CustomEvent(event, params)\n        {\n            params = params ||\n            {\n                bubbles: false,\n                cancelable: false,\n                detail: null\n            };\n            var evt = document.createEvent('CustomEvent');\n            evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n            return evt;\n        }\n    \n        window.CustomEvent = CustomEvent;\n    \n    })();\n    /**\n     * debounce and throttle methods\n     * \n     * @see {Underscore.js} 1.9.1\n     */\n    (function()\n    {\n    \n        // Some functions take a variable number of arguments, or a few expected\n        // arguments at the beginning and then a variable number of values to operate\n        // on. This helper accumulates all remaining arguments past the function’s\n        // argument length (or an explicit `startIndex`), into an array that becomes\n        // the last argument. Similar to ES6’s \"rest parameter\".\n        var restArguments = function(func, startIndex)\n        {\n            startIndex = startIndex == null ? func.length - 1 : +startIndex;\n            return function()\n            {\n                var length = Math.max(arguments.length - startIndex, 0),\n                    rest = Array(length),\n                    index = 0;\n                for (; index < length; index++)\n                {\n                    rest[index] = arguments[index + startIndex];\n                }\n                switch (startIndex)\n                {\n                    case 0:\n                        return func.call(this, rest);\n                    case 1:\n                        return func.call(this, arguments[0], rest);\n                    case 2:\n                        return func.call(this, arguments[0], arguments[1], rest);\n                }\n                var args = Array(startIndex + 1);\n                for (index = 0; index < startIndex; index++)\n                {\n                    args[index] = arguments[index];\n                }\n                args[startIndex] = rest;\n                return func.apply(this, args);\n            };\n        };\n    \n        // A (possibly faster) way to get the current timestamp as an integer.\n        var _now = Date.now || function()\n        {\n            return new Date().getTime();\n        };\n    \n    \n        // Delays a function for the given number of milliseconds, and then calls\n        // it with the arguments supplied.\n        var _delay = restArguments(function(func, wait, args)\n        {\n            return setTimeout(function()\n            {\n                return func.apply(null, args);\n            }, wait);\n        });\n    \n    \n        // Returns a function, that, when invoked, will only be triggered at most once\n        // during a given window of time. Normally, the throttled function will run\n        // as much as it can, without ever going more than once per `wait` duration;\n        // but if you'd like to disable the execution on the leading edge, pass\n        // `{leading: false}`. To disable execution on the trailing edge, ditto.\n        var _throttle = function(func, wait, options)\n        {\n            var timeout, context, args, result;\n            var previous = 0;\n            if (!options) options = {};\n    \n            var later = function()\n            {\n                previous = options.leading === false ? 0 : _now();\n                timeout = null;\n                result = func.apply(context, args);\n                if (!timeout) context = args = null;\n            };\n    \n            var throttled = function()\n            {\n                var now = _now();\n                if (!previous && options.leading === false) previous = now;\n                var remaining = wait - (now - previous);\n                context = this;\n                args = arguments;\n                if (remaining <= 0 || remaining > wait)\n                {\n                    if (timeout)\n                    {\n                        clearTimeout(timeout);\n                        timeout = null;\n                    }\n                    previous = now;\n                    result = func.apply(context, args);\n                    if (!timeout) context = args = null;\n                }\n                else if (!timeout && options.trailing !== false)\n                {\n                    timeout = setTimeout(later, remaining);\n                }\n                return result;\n            };\n    \n            throttled.cancel = function()\n            {\n                clearTimeout(timeout);\n                previous = 0;\n                timeout = context = args = null;\n            };\n    \n            return throttled;\n        };\n    \n        // Returns a function, that, as long as it continues to be invoked, will not\n        // be triggered. The function will be called after it stops being called for\n        // N milliseconds. If `immediate` is passed, trigger the function on the\n        // leading edge, instead of the trailing.\n        var _debounce = function(func, wait, immediate)\n        {\n            var timeout, result;\n    \n            var later = function(context, args)\n            {\n                timeout = null;\n                if (args) result = func.apply(context, args);\n            };\n    \n            var debounced = restArguments(function(args)\n            {\n                if (timeout) clearTimeout(timeout);\n                if (immediate)\n                {\n                    var callNow = !timeout;\n                    timeout = setTimeout(later, wait);\n                    if (callNow) result = func.apply(this, args);\n                }\n                else\n                {\n                    timeout = _delay(later, wait, this, args);\n                }\n    \n                return result;\n            });\n    \n            debounced.cancel = function()\n            {\n                clearTimeout(timeout);\n                timeout = null;\n            };\n    \n            return debounced;\n        };\n    \n        window.throttle = _throttle;\n    \n        window.debounce = _debounce;\n    \n    }());\n    \n    \n    // container\n    (function()\n    {\n        /**\n         * JS IoC Container\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Inverse = function()\n        {\n            this._store = {};\n    \n            this.IMPORT_AS_REF = 100;\n        }\n    \n        /**\n         * Set data key to value\n         *\n         * @access {public}\n         * @param {string} key   The data key\n         * @param {mixed}  value The data value\n         */\n        Inverse.prototype.set = function(key, value, singleton)\n        {\n            key = this._normalizeKey(key);\n    \n            value = this._storeObj(value, singleton);\n    \n            this._store[key] = value;\n    \n            this._setProto(key);\n        }\n    \n        /**\n         * Stores a globally unique singleton\n         *\n         * @access {public}\n         * @param  {string} key      The value or object name\n         * @param  {object} classObj The closure that defines the object\n         * @return {this}\n         */\n        Inverse.prototype.singleton = function(key, classObj, invoke)\n        {\n            invoke = typeof invoke === 'undefined' ? false : invoke;\n    \n            this.set(key, classObj, true);\n    \n            if (invoke)\n            {\n                return this.get(key);\n            }\n        }\n    \n        /**\n         * Does this set contain a key?\n         *\n         * @access {public}\n         * @param  {string}  key The data key\n         * @return {boolean}\n         */\n        Inverse.prototype.has = function(key)\n        {\n            key = this._normalizeKey(key);\n    \n            for (var k in this._store)\n            {\n                if (k === key)\n                {\n                    return true;\n                }\n            }\n    \n            return false;\n        }\n    \n        /**\n         * Remove a key/value\n         *\n         * @access {public}\n         * @param {string} key   The data key\n         */\n        Inverse.prototype.delete = function(key)\n        {\n            key = this._normalizeKey(key);\n    \n            delete this._store[key];\n    \n            var _proto = Object.getPrototypeOf(this);\n    \n            if (typeof _proto[key] !== 'undefined')\n            {\n                _proto[key] = undefined;\n            }\n        }\n    \n        /**\n         * Get data value with key\n         *\n         * @access {public}\n         * @param  {string} key The data key\n         * @param  {mixed}  ... Any additional parameters to pass to the constructor (optional) (default null)\n         * @return {mixed}      The data value\n         */\n        Inverse.prototype.get = function(key)\n        {\n            key = this._normalizeKey(key);\n    \n            let args = Array.prototype.slice.call(arguments).slice(1);\n    \n            let storeObj = this._store[key];\n    \n            if (this.has(key))\n            {\n                if (args[0] && args[0] === this.IMPORT_AS_REF) return storeObj.value;\n    \n                // Singletons\n                if (storeObj.singleton)\n                {\n                    if (!storeObj.instance)\n                    {\n                        return storeObj.singleton.apply(this, [key, ...args]);\n                    }\n    \n                    return storeObj.instance;\n                }\n                // Constructorables\n                if (storeObj.invokable)\n                {\n                    return this._newInstance(storeObj.value, args);\n                }\n                // Functions\n                if (storeObj.funcn)\n                {\n                    return storeObj.value.apply(this, args);\n                }\n                // Intances and all other var types\n                return storeObj.value;\n            }\n        }\n    \n        /**\n         * Get data value with key\n         *\n         * @access {public}\n         * @param  {string} key The data key\n         * @param  {mixed}  ... Any additional parameters to pass to the constructor (optional) (default null)\n         * @return {mixed}      The data value\n         */\n        Inverse.prototype.import = function(names)\n        {\n            const _this   = this;\n            const _import = {};\n    \n            _import.from = function(module)\n            {\n                const _rets = [];\n    \n                const _context = _this.get(module);\n    \n                for (var i = 0; i < names.length; i++)\n                {\n                    const mixedVar = _context[names[i]];\n    \n                    _rets.push(_this._is_func(mixedVar) ? _this.bind(_context[names[i]], _context) : mixedVar);\n    \n                }\n    \n                return _rets;\n            };\n    \n            return _import;\n        }\n    \n        Inverse.prototype.bind = function(callback, context)\n        {\n            context = typeof context === 'undefined' ? window : context;\n    \n            const bound = function()\n            {\n                return callback.apply(context, arguments);\n            }\n    \n            Object.defineProperty(bound, 'name', { value: callback.name });\n    \n            bound.__isBound      = true;\n            bound.__boundContext = context;\n            bound.__origional    = callback;\n    \n            return bound;\n        }\n    \n        /**\n         * Sets the key as a prototype method\n         *\n         * @access {public}\n         * @param  {string} key   The data key\n         * @return {mixed}\n         */\n        Inverse.prototype._setProto = function(key)\n        {\n            var _this = this;\n    \n            var _proto = Object.getPrototypeOf(this);\n    \n            _proto[key] = function()\n            {\n                var args = Array.prototype.slice.call(arguments);\n    \n                args.unshift(key);\n    \n                return _this.get.apply(_this, args);\n            };\n        }\n    \n        /**\n         * Stores a globally unique singleton\n         *\n         * @access {public}\n         * @param  {string} key      The value or object name\n         * @param  {object} classObj The closure that defines the object\n         * @return {this}\n         */\n        Inverse.prototype._singletonFunc = function(key)\n        {\n            let storeObj = this._store[key];\n            let instance = storeObj.invoked ? storeObj.instance : null;\n            let args     = Array.prototype.slice.call(arguments).slice(1);\n    \n            if (!instance)\n            {\n                instance           = this._newInstance(storeObj.value, args);\n                storeObj.function  = false;\n                storeObj.invokable = false;\n                storeObj.invoked   = true;\n                storeObj.value     = null;\n                storeObj.instance  = instance;\n                storeObj.singleton = true;\n            }\n    \n            return instance;\n        }\n    \n        Inverse.prototype._isInvokable = function(mixed_var)\n        {\n            // Not a function\n            if (typeof mixed_var !== 'function' || mixed_var === null)\n            {\n                return false;\n            }\n    \n            // Strict ES6 class\n            if (/^\\s*class\\s+\\w+/.test(mixed_var.toString()))\n            {\n                return true;\n            }\n    \n            // Native arrow functions\n            if (!mixed_var.prototype || !mixed_var.prototype.constructor)\n            {\n                return false;\n            }\n    \n            return true;\n        }\n    \n        /**\n         * Checks if a class object has been invoked\n         *\n         * @access {private}\n         * @param  {mixed} mixedVar The object instance or reference\n         * @return {bool}\n         */\n        Inverse.prototype._isInvoked = function(mixedVar)\n        {\n            if (typeof mixedVar === 'object' && mixedVar.constructor && typeof mixedVar.constructor === 'function')\n            {\n                var constr = mixedVar.constructor.toString().trim();\n                \n                return constr.startsWith('function (') || constr.startsWith('function(') || constr.startsWith('function Object(') || constr.startsWith('class ') ;\n            }\n    \n            return false;\n        }\n    \n        /**\n         * Invokes and returns a new class instance\n         *\n         * @access {private}\n         * @param  {mixed} classObj The object instance or reference\n         * @param  {array} args     Arguements to pass to class constructor (optional) (default null)\n         * @return {object}\n         */\n        Inverse.prototype._newInstance = function(reference, args)\n        {\n            return new reference(...args);\n        }\n    \n        /**\n         * Invokes and returns a new class instance\n         *\n         * @access {private}\n         * @param  {mixed} classObj The object instance or reference\n         * @param  {array} args     Arguements to pass to class constructor (optional) (default null)\n         * @return {object}\n         */\n        Inverse.prototype._storeObj = function(mixedVar, isSingleton)\n        {\n            isSingleton = typeof isSingleton === 'undefined' ? false : isSingleton;\n    \n            let value       = mixedVar;\n            let invokable   = this._isInvokable(mixedVar);\n            let invoked     = this._isInvoked(mixedVar);\n            let instance    = invoked && isSingleton ? mixedVar : null;\n            let funcn       = this._is_func(mixedVar) && !invokable && !invoked && !isSingleton;\n            let singleton   = isSingleton ? this._singletonFunc : false;\n    \n            return { funcn, invokable, invoked, value, instance, singleton };\n        }\n    \n        /**\n         * Normalizes key for prototypes\n         *\n         * @access {private}\n         * @param  {string} key Key to normalize\n         * @return {string}\n         */\n        Inverse.prototype._normalizeKey = function(key)\n        {\n            key = key.replace(/['\"]/g, '').replace(/\\W+/g, ' ')\n                .replace(/ (.)/g, function($1)\n                {\n                    return $1.toUpperCase();\n                })\n                .replace(/ /g, '');\n    \n            key = key.charAt(0).toUpperCase() + key.slice(1);\n    \n            return key;\n        }\n    \n        Inverse.prototype._is_func = function(mixedVar)\n        {\n            return Object.prototype.toString.call(mixedVar) === '[object Function]';\n        }\n    \n        /**\n         * Loads container into global namespace as \"FrontBx\"\n         *\n         */\n        if (!window.Container)\n        {\n            var container = new Inverse;\n    \n            window.Container = container;\n        }\n        \n    })();\n    \n    // Utils\n    // Standard\n    const NULL_TAG = '[object Null]';\n    const UNDEF_TAG = '[object Undefined]';\n    const BOOL_TAG = '[object Boolean]';\n    const STRING_TAG = '[object String]';\n    const NUMBER_TAG = '[object Number]';\n    const FUNC_TAG = '[object Function]';\n    const ARRAY_TAG = '[object Array]';\n    const ARGS_TAG = '[object Arguments]';\n    const NODELST_TAG = '[object NodeList]';\n    const OBJECT_TAG = '[object Object]';\n    const DATE_TAG = '[object Date]';\n    \n    // Unusual\n    const SET_TAG = '[object Set]';\n    const MAP_TAG = '[object Map]';\n    const REGEXP_TAG = '[object RegExp]';\n    const SYMBOL_TAG = '[object Symbol]';\n    \n    // Array buffer\n    const ARRAY_BUFFER_TAG = '[object ArrayBuffer]';\n    const DATAVIEW_TAG = '[object DataView]';\n    const FLOAT32_TAG = '[object Float32Array]';\n    const FLOAT64_TAG = '[object Float64Array]';\n    const INT8_TAG = '[object Int8Array]';\n    const INT16_TAG = '[object Int16Array]';\n    const INT32_TAG = '[object Int32Array]';\n    const UINT8_TAG = '[object Uint8Array]';\n    const UINT8CLAMPED_TAG = '[object Uint8ClampedArray]';\n    const UINT16_TAG = '[object Uint16Array]';\n    const UINT32_TAG = '[object Uint32Array]';\n    \n    // Non-cloneable\n    const ERROR_TAG = '[object Error]';\n    const WEAKMAP_TAG = '[object WeakMap]';\n    \n    // Arrayish _tags\n    const ARRAYISH_TAGS = [ARRAY_TAG, ARGS_TAG, NODELST_TAG];\n    \n    // Object.prototype.toString\n    const TO_STR = Object.prototype.toString;\n    \n    // Array.prototype.slice\n    const TO_ARR = Array.prototype.slice;\n    \n    // Regex for HTMLElement types\n    const HTML_REGXP = /^\\[object HTML\\w*Element\\]$/;\n    \n    // Empty object\n    const EMPTY_OBJ_KEYS = Object.getOwnPropertyNames(Object.getPrototypeOf({}));\n    /**\n     * List of shorthand properties and their longhand equivalents\n     *\n     * @var {object}\n     */\n    const SHORTHAND_PROPS =\n    {\n        // CSS 2.1: http://www.w3.org/TR/CSS2/propidx.html\n        'list-style': ['-type', '-position', '-image'],\n        'margin': ['-top', '-right', '-bottom', '-left'],\n        'outline': ['-width', '-style', '-color'],\n        'padding': ['-top', '-right', '-bottom', '-left'],\n    \n        // CSS Backgrounds and Borders Module Level 3: http://www.w3.org/TR/css3-background/\n        'background': ['-image', '-position', '-size', '-repeat', '-origin', '-clip', '-attachment', '-color'],\n        'border': ['-width', '-style', '-color'],\n        'border-color': ['border-top-color', 'border-right-color', 'border-bottom-color', 'border-left-color'],\n        'border-style': ['border-top-style', 'border-right-style', 'border-bottom-style', 'border-left-style'],\n        'border-width': ['border-top-width', 'border-right-width', 'border-bottom-width', 'border-left-width'],\n        'border-top': ['-width', '-style', '-color'],\n        'border-right': ['-width', '-style', '-color'],\n        'border-bottom': ['-width', '-style', '-color'],\n        'border-left': ['-width', '-style', '-color'],\n        'border-radius': ['border-top-left-radius', 'border-top-right-radius', 'border-bottom-right-radius', 'border-bottom-left-radius'],\n        'border-image': ['-source', '-slice', '-width', '-outset', '-repeat'],\n    \n        // CSS Fonts Module Level 3: http://www.w3.org/TR/css3-fonts/\n        'font': ['-style', '-variant', '-weight', '-stretch', '-size', 'line-height', '-family'],\n        'font-variant': ['-ligatures', '-alternates', '-caps', '-numeric', '-east-asian'],\n    \n        // CSS Masking Module Level 1: http://www.w3.org/TR/css-masking/\n        'mask': ['-image', '-mode', '-position', '-size', '-repeat', '-origin', '-clip'],\n        'mask-border': ['-source', '-slice', '-width', '-outset', '-repeat', '-mode'],\n    \n        // CSS Multi-column Layout Module: http://www.w3.org/TR/css3-multicol/\n        'columns': ['column-width', 'column-count'],\n        'column-rule': ['-width', '-style', '-color'],\n    \n        // CSS Speech Module: http://www.w3.org/TR/css3-speech/\n        'cue': ['-before', '-after'],\n        'pause': ['-before', '-after'],\n        'rest': ['-before', '-after'],\n    \n        // CSS Text Decoration Module Level 3: http://www.w3.org/TR/css-text-decor-3/\n        'text-decoration': ['-line', '-style', '-color'],\n        'text-emphasis': ['-style', '-color'],\n    \n        // CSS Animations (WD): http://www.w3.org/TR/css3-animations\n        'animation': ['-name', '-duration', '-timing-function', '-delay', '-iteration-count', '-direction', '-fill-mode', '-play-state'],\n    \n        // CSS Transitions (WD): http://www.w3.org/TR/css3-transitions/\n        'transition': ['-property', '-duration', '-timing-function', '-delay'],\n    \n        // CSS Flexible Box Layout Module Level 1 (WD): http://www.w3.org/TR/css3-flexbox/\n        'flex': ['-grow', '-shrink', '-basis'],\n    };\n    \n    /**\n     * List of shorthand properties and their longhand equivalents\n     *\n     * @var {object}\n     */\n    const SHORTHAND_DEFAULTS = \n    {\n        '-width' : '0',\n        '-height' : '0',\n        '-top' : '0',\n        '-left' : '0',\n        '-bottom' : '0',\n        '-duration' : '0s',\n        '-delay' : '0s',\n        '-grow' : '1' ,\n        '-shrink' : '1' ,\n        '-iteration-count' : '1',\n        '-timing-function' : 'linear',\n        '-transition-property' : 'all',\n        '-fill-mode': 'none',\n        '-emphasis' : 'none',\n        '-color' : 'none',\n        '-decoration' : 'none',\n        '-direction' : 'normal',\n        '-play-state' : 'running',\n    };\n    \n    /**\n     * CSS Transform value counts\n     *\n     * @var {object}\n     */\n    const CSS_TRANSFORM_VALUES_COUNT = \n    {\n        perspective: 1,\n        skewY: 1,\n        translateY: 1,\n        translateZ: 1,\n        scaleY: 1,\n        scaleZ: 1,\n        rotateX: 1,\n        rotateY: 1,\n        rotateZ: 1,\n        translateX: 1,\n        skewX: 1,\n        scaleX: 1,\n        rotate: 1,\n    \n        skew: 2,\n        translate: 2,\n        scale: 2,\n    \n        translate3d: 3,\n        scale3d: 3,\n        rotate3d: 3,\n    \n        matrix: 6,\n        matrix3d: 16\n    };\n    \n    const CSS_3D_TRANSFORM_DEFAULTS =\n    {\n        'translate3d' : ['0','0','0'],\n        'scale3d'     : ['1','1','1'],\n        'rotate3d'    : ['0','0','1','0'],\n        'skew'        : ['0', '0'],\n    };\n    \n    const CSS_3D_TRANSFORM_MAP_KEYS =\n    {\n        x: 0,\n        y: 1,\n        z: 3\n    };\n    \n    /* USED FOR css_to_px */\n    const CSS_PIXELS_PER_INCH = 96;\n    const CSS_RELATIVE_UNITS  = {\n        // Relative to the font-size of the element (2em means 2 times the size of the current font)\n        'em' : 16,\n    \n        // Relative to the x-height of the current font (rarely used)\n        'ex' : 7.15625,\n    \n        // Relative to the width of the \"0\" (zero)\n        'ch' : 8,\n    \n        // Relative to font-size of the root element\n        'rem' : 16,\n    \n        // Relative to 1% of the width of the viewport\n        'vw' : 1,\n    \n        // Relative to 1% of the height of the viewport\n        'vh' : 1,\n    \n        // Relative to 1% of viewport's* smaller dimension\n        // If the viewport height is smaller than the width, \n        // the value of 1vmin will be equal to 1% of the viewport height.\n        // Similarly, if the viewport width is smaller than the height, the value of 1vmin will be equal to 1% of the viewport width.\n        'vmin' : 765,\n        'vmax' : 1200,\n    \n        // Relative to the parent element\n        '%' : 16\n    }\n    const CSS_ABSOLUTE_UNITS =\n    {\n        'in': CSS_PIXELS_PER_INCH,\n        'cm': CSS_PIXELS_PER_INCH / 2.54,\n        'mm': CSS_PIXELS_PER_INCH / 25.4,\n        'pt': CSS_PIXELS_PER_INCH / 72,\n        'pc': CSS_PIXELS_PER_INCH / 6,\n        'px': 1\n    }\n    \n    \n    /**\n     * Cached CSS propery cases.\n     *\n     * @var {object}\n     */\n    const CSS_PROP_TO_HYPHEN_CASES = {};\n    const CSS_PROP_TO_CAMEL_CASES  = {};\n    // Current clone map (stops recursive cloning between array/objects)\n    \n    /**\n     * Default options.\n     * \n     * @var {object}\n     */\n    const ANIMATION_DEFAULT_OPTIONS =\n    {\n        // Options\n        //'property', 'from', 'to', 'callback', 'complete', 'start', 'fail'\n        easing:               'ease',\n        duration:              500,\n        fps:                   60, // (16ms)\n    };\n    \n     /**\n     * Allowed Options.\n     * \n     * @var {array}\n     */\n    const ANIMATION_ALLOWED_OPTIONS = ['property', 'from', 'to', 'duration', 'easing', 'callback'];\n    \n    /**\n     * Allowed Options.\n     * \n     * @var {array}\n     */\n    const ANIMATION_FILTER_OPTIONS = [ ...Object.keys(ANIMATION_DEFAULT_OPTIONS), ...ANIMATION_ALLOWED_OPTIONS];\n    \n    /**\n     * Currently animating animations.\n     * \n     * @var {array}\n     */\n    const ANIMATING = [];\n    \n    \n    /**\n     * Math Contstansts.\n     * \n     * @var {mixed}\n     */\n    const POW  = Math.pow;\n    const SQRT = Math.sqrt;\n    const SIN  = Math.sin;\n    const COS  = Math.cos;\n    const PI   = Math.PI;\n    const C1   = 1.70158;\n    const C2   = C1 * 1.525;\n    const c3   = C1 + 1;\n    const C4   = (2 * PI) / 3;\n    const C5   = (2 * PI) / 4.5;\n    \n    /**\n     * bounceOut function.\n     * \n     * @var {function}\n     */\n    const bounceOut = function (x)\n    {\n        const n1 = 7.5625;\n        const d1 = 2.75;\n    \n        if (x < 1 / d1)\n        {\n            return n1 * x * x;\n        }\n        else if (x < 2 / d1)\n        {\n            return n1 * (x -= 1.5 / d1) * x + 0.75;\n        }\n        else if (x < 2.5 / d1)\n        {\n            return n1 * (x -= 2.25 / d1) * x + 0.9375;\n        }\n        else\n        {\n            return n1 * (x -= 2.625 / d1) * x + 0.984375;\n        }\n    };\n    \n    /**\n     * Easing functions.\n     * \n     * @var {object}\n     */\n    const ANIMATION_EASING_FUNCTIONS = \n    {\n        linear: (x) => x,\n        ease: function (x)\n        {\n            return x < 0.5 ? 4 * x * x * x : 1 - POW(-2 * x + 2, 3) / 2;\n        },\n        easeIn: function (x)\n        {\n            return 1 - COS((x * PI) / 2);\n        },\n        easeOut: function (x)\n        {\n            return SIN((x * PI) / 2);\n        },\n        easeInOut: function (x)\n        {\n            return -(COS(PI * x) - 1) / 2;\n        },\n        easeInQuad: function (x)\n        {\n            return x * x;\n        },\n        easeOutQuad: function (x)\n        {\n            return 1 - (1 - x) * (1 - x);\n        },\n        easeInOutQuad: function (x)\n        {\n            return x < 0.5 ? 2 * x * x : 1 - POW(-2 * x + 2, 2) / 2;\n        },\n        easeInCubic: function (x)\n        {\n            return x * x * x;\n        },\n        easeOutCubic: function (x)\n        {\n            return 1 - POW(1 - x, 3);\n        },\n        easeInOutCubic: function (x)\n        {\n            return x < 0.5 ? 4 * x * x * x : 1 - POW(-2 * x + 2, 3) / 2;\n        },\n        easeInQuart: function (x)\n        {\n            return x * x * x * x;\n        },\n        easeOutQuart: function (x)\n        {\n            return 1 - POW(1 - x, 4);\n        },\n        easeInOutQuart: function (x)\n        {\n            return x < 0.5 ? 8 * x * x * x * x : 1 - POW(-2 * x + 2, 4) / 2;\n        },\n        easeInQuint: function (x)\n        {\n            return x * x * x * x * x;\n        },\n        easeOutQuint: function (x)\n        {\n            return 1 - POW(1 - x, 5);\n        },\n        easeInOutQuint: function (x)\n        {\n            return x < 0.5 ? 16 * x * x * x * x * x : 1 - POW(-2 * x + 2, 5) / 2;\n        },\n        easeInSine: function (x)\n        {\n            return 1 - COS((x * PI) / 2);\n        },\n        easeOutSine: function (x)\n        {\n            return SIN((x * PI) / 2);\n        },\n        easeInOutSine: function (x)\n        {\n            return -(COS(PI * x) - 1) / 2;\n        },\n        easeInExpo: function (x)\n        {\n            return x === 0 ? 0 : POW(2, 10 * x - 10);\n        },\n        easeOutExpo: function (x)\n        {\n            return x === 1 ? 1 : 1 - POW(2, -10 * x);\n        },\n        easeInOutExpo: function (x)\n        {\n            return x === 0\n                ? 0\n                : x === 1\n                ? 1\n                : x < 0.5\n                ? POW(2, 20 * x - 10) / 2\n                : (2 - POW(2, -20 * x + 10)) / 2;\n        },\n        easeInCirc: function (x)\n        {\n            return 1 - SQRT(1 - POW(x, 2));\n        },\n        easeOutCirc: function (x)\n        {\n            return SQRT(1 - POW(x - 1, 2));\n        },\n        easeInOutCirc: function (x)\n        {\n            return x < 0.5\n                ? (1 - SQRT(1 - POW(2 * x, 2))) / 2\n                : (SQRT(1 - POW(-2 * x + 2, 2)) + 1) / 2;\n        },\n        easeInBack: function (x)\n        {\n            return c3 * x * x * x - C1 * x * x;\n        },\n        easeOutBack: function (x)\n        {\n            return 1 + c3 * POW(x - 1, 3) + C1 * POW(x - 1, 2);\n        },\n        easeInOutBack: function (x)\n        {\n            return x < 0.5\n                ? (POW(2 * x, 2) * ((C2 + 1) * 2 * x - C2)) / 2\n                : (POW(2 * x - 2, 2) * ((C2 + 1) * (x * 2 - 2) + C2) + 2) / 2;\n        },\n        easeInElastic: function (x)\n        {\n            return x === 0\n                ? 0\n                : x === 1\n                ? 1\n                : -POW(2, 10 * x - 10) * SIN((x * 10 - 10.75) * C4);\n        },\n        easeOutElastic: function (x)\n        {\n            return x === 0\n                ? 0\n                : x === 1\n                ? 1\n                : POW(2, -10 * x) * SIN((x * 10 - 0.75) * C4) + 1;\n        },\n        easeInOutElastic: function (x)\n        {\n            return x === 0\n                ? 0\n                : x === 1\n                ? 1\n                : x < 0.5\n                ? -(POW(2, 20 * x - 10) * SIN((20 * x - 11.125) * C5)) / 2\n                : (POW(2, -20 * x + 10) * SIN((20 * x - 11.125) * C5)) / 2 + 1;\n        },\n        easeInBounce: function (x)\n        {\n            return 1 - bounceOut(1 - x);\n        },\n        easeOutBounce: bounceOut,\n        easeInOutBounce: function (x)\n        {\n            return x < 0.5\n                ? (1 - bounceOut(1 - 2 * x)) / 2\n                : (1 + bounceOut(2 * x - 1)) / 2;\n        },\n    };\n    \n    const CSS_EASINGS = \n    {\n        // Defaults\n        ease: 'ease',\n        linear: 'linear',\n        easeIn: 'cubic-bezier(0.4, 0, 1, 1)',\n        easeOut: 'cubic-bezier(0, 0, 0.2, 1)',\n        easeInOut: 'cubic-bezier(0.4, 0, 0.2, 1)',\n    \n        // sine\n        easeInSine: 'cubic-bezier(0.47, 0, 0.745, 0.715)',\n        easeOutSine: 'cubic-bezier(0.39, 0.575, 0.565, 1)',\n        easeInOutSine: 'cubic-bezier(0.445, 0.05, 0.55, 0.95)',\n    \n        // Quad\n        easeInQuad: 'cubic-bezier(0.55, 0.085, 0.68, 0.53)',\n        easeOutQuad: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n        easeInOutQuad: 'cubic-bezier(0.455, 0.03, 0.515, 0.955)',\n    \n        // Cubic\n        easeInCubic: 'cubic-bezier(0.55, 0.055, 0.675, 0.19)',\n        easeOutCubic: 'cubic-bezier(0.215, 0.61, 0.355, 1)',\n        easeInOutCubic: 'cubic-bezier(0.645, 0.045, 0.355, 1)',\n    \n        // Queart\n        easeInQuart: 'cubic-bezier(0.895, 0.03, 0.685, 0.22)',\n        easeOutQuart: 'cubic-bezier(0.165, 0.84, 0.44, 1)',\n        easeInOutQuart: 'cubic-bezier(0.77, 0, 0.175, 1)',\n    \n        // Quint\n        easeInQuint: 'cubic-bezier(0.755, 0.05, 0.855, 0.06)',\n        easeOutQuint: 'cubic-bezier(0.23, 1, 0.32, 1)',\n        easeInOutQuint: 'cubic-bezier(0.86, 0, 0.07, 1)',\n    \n        // Expo\n        easeInExpo: 'cubic-bezier(0.95, 0.05, 0.795, 0.035)',\n        easeOutExpo: 'cubic-bezier(0.19, 1, 0.22, 1)',\n        easeInOutExpo: 'cubic-bezier(1, 0, 0, 1)',\n    \n        // Circ\n        easeInCirc: 'cubic-bezier(0.6, 0.04, 0.98, 0.335)',\n        easeOutCirc: 'cubic-bezier(0.075, 0.82, 0.165, 1)',\n        easeInOutCirc: 'cubic-bezier(0.785, 0.135, 0.15, 0.86)',\n    \n        // Back\n        easeInBack: 'cubic-bezier(0.6, -0.28, 0.735, 0.045)',\n        easeOutBack: 'cubic-bezier(0.175, 0.885, 0.32, 1.275)',\n        easeInOutBack: 'cubic-bezier(0.68, -0.55, 0.265, 1.55)',\n    };\n    \n    /**\n     * Array of HTML events\n     *\n     * @var {array}\n     */\n    const DOC_EVENTS = Object.getOwnPropertyNames(document).concat(Object.getOwnPropertyNames(Object.getPrototypeOf(Object.getPrototypeOf(document)))).concat(Object.getOwnPropertyNames(Object.getPrototypeOf(window))).filter(function(i){return !i.indexOf('on')&&(document[i]==null||typeof document[i]=='function');}).filter(function(elem, pos, self){return self.indexOf(elem) == pos;}).map((x) => x.replace('on', '').toLowerCase());\n    /**\n     * Boolean attributes\n     *\n     * @var {array}\n     */\n    const BOOLEAN_ATTRS = \n    [\n    \t'allowfullscreen',\n    \t'async',\n    \t'autofocus',\n    \t'autoplay',\n    \t'checked',\n    \t'controls',\n    \t'default',\n    \t'defer',\n    \t'disabled',\n    \t'formnovalidate',\n    \t'inert',\n    \t'ismap',\n    \t'itemscope',\n    \t'loop',\n    \t'multiple',\n    \t'muted',\n    \t'nomodule',\n    \t'novalidate',\n    \t'open',\n    \t'playsinline',\n    \t'readonly',\n    \t'required',\n    \t'reversed',\n    \t'selected'\n    ];\n    \n    /**\n     * Property attributes\n     *\n     * @var {array}\n     */\n    const PROP_ATTRIBUTES = ['href', 'list', 'form', 'tabIndex', 'download'];\n    \n    (function()\n    {\n        var _THIS = null;\n    \n        const _ = function()\n        {\n            this.version = \"1.0.0\";\n    \n            this.author = \"Joe Howard\";\n    \n            this.browser = false;\n    \n            this._events = {};\n    \n            this._guid = 1;\n    \n            _THIS = this;\n        }\n    \n        _.prototype._guidgen = function()\n        {\n            return `__${this._guid++}`;\n        }\n    const AnimateJS = function(DOMElement, options)\n    {\n        this.DOMElement = DOMElement;\n    \n        this.options = options;\n    \n        this.keyframes = [];\n    \n        this.currentKeyframe = 0;\n    \n        this.duration = options.duration;\n    \n        this.intervalDelay = Math.floor(1000 / options.fps);\n    \n        this.keyFrameCount = Math.floor(this.duration / this.intervalDelay) + 1;\n    \n        this.easing = options.easing;\n    \n        this.CSSProperty = options.property;\n    \n        this.isTransform = this.CSSProperty.toLowerCase().includes('transform');\n    \n        this.isScroll = this.CSSProperty.toLowerCase().replace('-', '') === 'scrollto' && DOMElement === window;\n    \n        this.isColor = options.property.includes('color') || options.to.startsWith('#') || options.to.startsWith('rgb');\n    \n        this.clearAnimating(DOMElement);\n    \n        this.parseOptions();\n    \n        this.generateKeyframes();\n    \n        this.stopped = true;\n    \n        return this;\n    }\n    \n    AnimateJS.prototype.clearAnimating = function(DOMElement)\n    {\n        const CSSprop = this.CSSProperty;\n    \n        _THIS.each(ANIMATING, function(i, animation)\n        {\n            if (animation.CSSProperty === CSSprop && animation.DOMElement === DOMElement)\n            {\n                animation.stop();\n    \n                ANIMATING.splice(i, 1);\n    \n                return false;\n            }\n        });\n    }\n    \n    AnimateJS.prototype.start = function()\n    {\n        if (this.keyFrameCount === 0) return;\n    \n        this.stopped = false;\n    \n        if (!this.isScroll) this.clearTransitions();\n    \n        if (this.options.start) this.options.start(this.DOMElement);\n    \n        const loop = () =>\n        {        \n            if (this.stopped) return;\n    \n            this._applyKeyframe(this.keyframes.shift());\n    \n            if (this.keyframes.length === 0)\n            {            \n                this._complete();\n    \n                return;\n            }\n    \n            setTimeout(loop, this.intervalDelay);\n        }\n    \n        loop();\n    \n        this._failTimer = setTimeout(() =>\n        {            \n            if (this.options.fail) this.options.fail(this.DOMElement);\n    \n        }, this.duration + 50 );\n    \n        ANIMATING.push(this);\n    \n        return this;\n    }\n    \n    AnimateJS.prototype._applyKeyframe = function(keyframe)\n    {\n        if (!keyframe) return;\n    \n        let prop = Object.keys(keyframe)[0];\n    \n        this.isScroll ? window.scrollTo(keyframe[0], keyframe[1]) : _THIS.css(this.DOMElement, prop, keyframe[prop]);\n    }\n    \n    AnimateJS.prototype._complete = function()\n    {\n        clearTimeout(this._failTimer);\n    \n        _THIS.each(ANIMATING, (i, animation) =>\n        {\n            if (animation === this)\n            {\n                ANIMATING.splice(i, 1);\n    \n                return false;\n            }\n        });\n    \n        let DOMElement = this.DOMElement;\n    \n        if (this.options.complete) this.options.complete(DOMElement);\n    \n        if (this.options.callback) this.options.callback(DOMElement);\n    \n        if (!this.isScroll) _THIS.css(DOMElement, 'transition', this._pre_transition );\n    }\n    \n    AnimateJS.prototype.stop = function()\n    {\n        this.stopped = true;\n    \n        clearTimeout(this._failTimer);\n    \n        return this;\n    }\n    \n    AnimateJS.prototype.parseOptions = function()\n    {\n        if (this.isScroll)\n        {\n            this.parseScrollOptions();\n        }\n        else if (this.isTransform)\n        {\n            this.parseTransformOptions();\n        }\n        else if (this.isColor)\n        {\n            this.parseColorOptions();\n        }\n        else\n        {\n            this.parseDefaultOptions();\n        }\n    }\n    \n    AnimateJS.prototype.parseScrollOptions = function()\n    {\n        if (!this.options.to.includes(','))\n        {\n            throw new Error('Invalid scroll value. Animating scroll should be provided as [Y, X].');\n        }\n    \n        // We ignore 'from'\n        let startY = window.scrollY;\n        let startX = window.scrollX;\n        let endX   = parseInt(this.options.to.split(',').shift().trim());\n        let endY   = parseInt(this.options.to.split(',').pop().trim());\n        let distX  = Math.abs(endX < startX ? (startX - endX) : (endX - startX))\n        let distY  = Math.abs(endY < startY ? (startY - endY) : (endY - startY))\n    \n        this.startValue    = [startX, startY];\n        this.endValue      = [endX, endY];\n        this.backAnimation = [endX < startX, endY < startY];\n        this.distance      = [distX, distY] ;\n        this.CSSunits      = '';\n    }\n    \n    AnimateJS.prototype.parseDefaultOptions = function()\n    {\n        var startVal = _THIS.is_undefined(this.options.from) ? _THIS.rendered_style(this.DOMElement, this.CSSProperty) : this.options.from;\n        var endVal   = this.options.to;\n    \n        // We need to set the end value, then remove it and re-apply any inline styles if they\n        // existed\n        if (endVal === 'auto' || endVal === 'initial' || endVal === 'unset')\n        {\n            let prevStyle = _THIS.inline_style(this.DOMElement, this.CSSProperty);\n    \n            _THIS.css(this.DOMElement, this.CSSProperty, endVal);\n            \n            endVal = _THIS.rendered_style(this.DOMElement, this.CSSProperty);\n            \n            _THIS.css(this.DOMElement, this.CSSProperty, prevStyle ? prevStyle : false);\n        }\n    \n        // From auto\n        if (startVal === 'auto' || startVal === 'initial')\n        {\n            startVal = _THIS.rendered_style(this.DOMElement, this.CSSProperty);\n        }\n    \n        var startUnit = _THIS.css_value_unit(startVal);\n        var endUnit   = _THIS.css_value_unit(endVal);\n    \n        if (startUnit !== endUnit && this.CSSProperty !== 'opacity')\n        {\n            if (startUnit !== 'px')\n            {\n                startVal  = _THIS.css_to_px(startVal + startUnit, this.DOMElement, this.CSSProperty);\n                startUnit = 'px';\n            }\n            if (endUnit !== 'px')\n            {\n                endVal  = _THIS.css_to_px(this.options.to, this.DOMElement, this.CSSProperty);\n                endUnit = 'px';\n            }\n        }\n    \n        startVal = _THIS.css_unit_value(startVal);\n        endVal   = _THIS.css_unit_value(endVal);\n    \n        this.startValue    = _THIS.css_unit_value(startVal);\n        this.endValue      = _THIS.css_unit_value(endVal);\n        this.backAnimation = endVal < startVal;\n        this.distance      = Math.abs(endVal < startVal ? (startVal - endVal) : (endVal - startVal));\n        this.CSSunits      = endUnit;\n    }\n    \n    AnimateJS.prototype.parseTransformOptions = function()\n    {\n        var DOMElement    = this.DOMElement;\n        var startValues   = _THIS.css_transform_props(DOMElement, false);\n        var endValues     = _THIS.css_transform_props(this.options.to, false);\n    \n        // If a start value was specified it gets overwritten as the transform\n        // property is singular\n        if (this.options.from)\n        {\n            startValues = _THIS.css_transform_props(this.options.from);\n        }\n    \n        this.CSSProperty    = [];\n        this.startValue     = [];\n        this.endValue       = [];\n        this.CSSunits       = [];\n        this.backAnimation  = [];\n        this.distance       = [];\n        this.baseTransforms = _THIS.is_empty(startValues) ? '' : _THIS.join_obj(_THIS.map(startValues, (prop, val) => !endValues[prop] ? val : false), '(', ') ', false, false);\n    \n        _THIS.each(endValues, function(propAxis, valueStr)\n        {\n            var startValStr        = !startValues[propAxis] ? (propAxis.includes('scale') ? '1' : '0') : startValues[propAxis];\n            var startVal           = _THIS.css_unit_value(startValStr);\n            var endVal             = _THIS.css_unit_value(valueStr);\n            var startUnit          = _THIS.css_value_unit(startValStr);\n            var endUnit            = _THIS.css_value_unit(valueStr);\n            var CSSpropertyUnits   = endUnit;\n    \n            if (startUnit !== endUnit)\n            {\n                // 0 no need to convert\n                if (_THIS.is_empty(startUnit))\n                {\n                    startUnit = endUnit;\n                }\n                else\n                {\n                    if (startUnit !== 'px') startVal = _THIS.css_to_px(startVal + startUnit, DOMElement, propAxis.includes('Y') ? 'height' : 'width');\n                    if (endUnit !== 'px') endVal = _THIS.css_to_px(endVal + endUnit, DOMElement, propAxis.includes('Y') ? 'height' : 'width');\n                    CSSpropertyUnits = 'px';\n                }\n            }\n    \n            this.CSSProperty.push(propAxis);\n            this.CSSunits.push(endUnit);\n            this.endValue.push(endVal);\n            this.startValue.push(startVal);\n            this.backAnimation.push(endVal < startVal);\n            this.distance.push(Math.abs(endVal < startVal ? (startVal - endVal) : (endVal - startVal)));\n    \n        }, this);\n    }\n    \n    AnimateJS.prototype.parseColorOptions = function()\n    {\n        this.startValue = this.sanitizeColor(this.options.from || _THIS.rendered_style(this.DOMElement, this.CSSProperty));\n        this.endValue   = this.sanitizeColor(this.options.to);\n    }\n    \n    /**\n     * Sanitize the start and end colors to RGB arrays.\n     * \n     * @param  {string} color  hex or rgb color as as string\n     * @return {array}\n     */\n    AnimateJS.prototype.sanitizeColor = function(color)\n    {\n        if (color.startsWith('rgb('))\n        {\n            return color.split(' ', 3).map((x) => parseInt(x.replaceAll(/[^\\d+]/g, '')));\n        }\n        else if (color.length === 7 )\n        {\n            let rgb = [];\n    \n            color.match(/#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})/i).forEach((item) =>\n            {\n                if (item.length === 2)\n                {\n                    const color = parseInt(item, 16);\n    \n                    rgb.push(color);\n                }\n            });\n    \n            return rgb;\n        }\n    }\n    \n    AnimateJS.prototype.generateKeyframes = function()\n    {    \n        if (_THIS.is_equal(this.startValue, this.endValue))\n        {\n            this.keyFrameCount = 0;\n    \n            return;\n        }\n    \n        if (this.isScroll)\n        {\n            _THIS.for(this.keyFrameCount, function(index)\n            {\n                let x = this.generateKeyframe(index, 0);\n                let y = this.generateKeyframe(index, 1);\n    \n                this.keyframes.push([x, y]);\n                                \n            }, this);\n    \n            // Fallback\n            this.keyframes.push([this.endValue[0], this.endValue[1]]);\n    \n            return;\n        }\n    \n        if (this.isTransform)\n        {\n            _THIS.for(this.endValue, function(transformIndex)\n            {\n                _THIS.for(this.keyFrameCount, function(index)\n                {\n                    this.keyframes.push(this.generateKeyframe(index, transformIndex));\n                    \n                }, this);\n                \n            }, this);\n    \n            return;\n        }\n    \n        _THIS.for(this.keyFrameCount, function(index)\n        {\n            this.keyframes.push(this.generateKeyframe(index));\n            \n        }, this);\n    \n        // Failsafe\n        if (this.keyframes[this.keyFrameCount -1][this.CSSProperty] !== `${this.endValue}${this.CSSunits}`)\n        {\n            this.keyframes.push({[this.CSSProperty]: `${this.endValue}${this.CSSunits}`});\n        }\n    }\n    \n    AnimateJS.prototype.generateKeyframe = function(index, transformIndex)\n    {\n        if (this.isColor)\n        {\n            const change = this.tween(this.easing, (index / this.keyFrameCount));\n            \n            return { [this.CSSProperty]: this.mixColors(this.startValue, this.endValue, change) };\n        }\n        \n        const backAnimation = this.isTransform || this.isScroll ? this.backAnimation[transformIndex] : this.backAnimation;\n    \n        const startValue = this.isTransform || this.isScroll ? this.startValue[transformIndex] : this.startValue;\n    \n        const distance = this.isTransform || this.isScroll ? this.distance[transformIndex] : this.distance;\n    \n        const change = (distance * this.tween(this.easing, (index / this.keyFrameCount)));\n    \n        const keyVal = this.roundNumber(backAnimation ? startValue - change : startValue + change, this.CSSProperty === 'opacity' ? 5 : 1);\n    \n        var property = this.isTransform ? 'transform' : this.CSSProperty;\n    \n        var prefix  = this.isTransform ? `${this.CSSProperty[transformIndex]}(` : '';\n    \n        var suffix  = this.isTransform ? `${this.CSSunits[transformIndex]})` : this.CSSunits;\n        \n        var keyframe = { [property]:  `${prefix}${keyVal}${suffix}` };\n        \n        if (this.isScroll)\n        {\n            return keyVal;\n        }\n    \n        if (this.isTransform && _THIS.is_undefined(this.keyframes[index]))\n        {\n            keyframe[property] = `${this.baseTransforms} ${keyframe[property]}`.trim();\n        }\n    \n        return keyframe;\n    }\n    \n    /**\n     * Mix 2 colors.\n     * \n     * @param  {array}  color1 RGB color array\n     * @param  {array}  color2 RGB color array\n     * @param  {number} blend % between 0 and 1\n     * @return {string} \n     */\n    AnimateJS.prototype.mixColors = function(color1RGB, color2RGB, blend)\n    {\n        function linearInterpolation(y1, y2, x)\n        {\n            return Math.round(x * (y2 - y1) + y1);\n        }\n        \n        const colorRGB  = [];\n    \n        color1RGB.forEach((c1, index) =>\n        {\n            const mixedColor = linearInterpolation(c1, color2RGB[index], blend);\n    \n            colorRGB.push(mixedColor);\n        });\n    \n        return 'rgb(' + colorRGB + ')';\n    }\n    \n    /**\n     * Calculate the easing pattern.\n     * \n     * @private\n     * @link    {https://gist.github.com/gre/1650294}\n     * @param   {String} type Easing pattern\n     * @param   {Number} time Time animation should take to complete\n     * @returns {Number}\n     */\n    AnimateJS.prototype.clearTransitions = function()\n    {        \n        var CSSProperty    = this.isTransform ? 'transform' : this.CSSProperty;\n        var transitions    = _THIS.css_transition_props(this.DOMElement);\n        var css_transition = _THIS.inline_style(this.DOMElement, 'transition'); \n    \n        if (_THIS.is_empty(transitions) || !transitions[CSSProperty]) return;\n    \n        transitions[CSSProperty] = '0s linear 0s';\n    \n        _THIS.css(this.DOMElement, 'transition', _THIS.join_obj(transitions, ' ', ', '));\n    \n        this._pre_transition = !css_transition ? false : css_transition;\n    }\n    \n    AnimateJS.prototype.roundNumber = (n, dp) => \n    {\n        const h = +('1'.padEnd(dp + 1, '0')) // 10 or 100 or 1000 or etc\n    \n        return Math.round(n * h) / h;\n    }\n    \n    /**\n     * Calculate the easing pattern.\n     * \n     * @private\n     * @link    {https://gist.github.com/gre/1650294}\n     * @param   {String} type Easing pattern\n     * @param   {Number} time Time animation should take to complete\n     * @returns {Number}\n     */\n    AnimateJS.prototype.tween = function(type, time)\n    {\n        return ANIMATION_EASING_FUNCTIONS[type].call(null, time) || time;\n    }\n    \n    _.prototype.__animate_js = function(DOMElement, options)\n    {\n        return (new AnimateJS(DOMElement, options)).start();\n    }\n    const AnimateCss = function(DOMElement, options)\n    {     \n        // Domeleement   \n        this.DOMElement = DOMElement;\n    \n        // Options\n        this.options = options;\n    \n        // Props to animate\n        this.animatedProps = {};\n    \n        // Pre animation transitions to restore\n        this.preAnimatedTransitions = {};\n    \n        // Cache stopvalues\n        this.stopValues = {};\n    \n        // Fail timer\n        this._failTimer = null;\n        \n        // Max duration\n        this.duration  = 0;\n        \n        // Callbacks\n        this._callbackStart    = () => {};\n        this._callbackComplete = () => {};\n        this._callbackFail     = () => {};\n        this._callbackStep     = () => {};\n    \n        this.preProcessStartEndValues();\n    \n        return this;\n    };\n    \n    /**\n     * Start animation.\n     *\n     */\n    AnimateCss.prototype.start = function()\n    {\n        this._callbackStart(this.DOMElement);\n    \n        this.applyStartValues();\n    \n        this.applyTransitions();\n    \n        _THIS.add_event_listener(this.DOMElement, 'transitionend', this.transitionEnd, this);\n    \n        let _this = this;\n    \n        this._failTimer = setTimeout(() =>\n        {\n            _this._callbackFail(_this.DOMElement);\n    \n            _this.stop();\n    \n        }, this.duration + 50 );\n    \n        this._stepTimer = setInterval(() => this._callbackStep(), 16);\n    \n        this.applyEndValues();\n    \n        return this;\n    }\n    \n    /**\n     * Stop animation.\n     *\n     */\n    AnimateCss.prototype.stop = function()\n    {\n        clearTimeout(this._failTimer);\n    \n        clearInterval(this._stepTimer);\n    \n        this.resotoreElement();\n    \n        _THIS.css(this.DOMElement, this.stopValues);\n    }\n    \n    /**\n     * Stop animation and destroy.\n     *\n     */\n    AnimateCss.prototype.destory = function()\n    {\n        this.stop();\n    \n        this.animatedProps = {};\n    \n        this.preAnimatedTransitions = {};\n    }\n    \n    /**\n     * On transition end.\n     * \n     * Note if a multiple animation properties wer supplied\n     * we only want to call the callback once when all transitions\n     * have completed.\n     *\n     * @param  {Event} e transitionEnd event\n     */\n    AnimateCss.prototype.resotoreElement = function()\n    {\n        _THIS.css(this.DOMElement, 'transition', this.preAnimatedTransitions);\n    \n        _THIS.remove_event_listener(this.DOMElement, 'transitionend', this.transitionEnd, this);\n    }\n    \n    /**\n     * On transition end.\n     * \n     * Note if a multiple animation properties wer supplied\n     * we only want to call the callback once when all transitions\n     * have completed.\n     *\n     * @param  {Event} e transitionEnd event\n     */\n    AnimateCss.prototype.transitionEnd = function(e)\n    {\n        e = e || window.event;\n    \n        let prop = _THIS.css_prop_to_hyphen_case(e.propertyName);\n    \n        // Convert to shorthand if needed\n        if (prop.includes('-'))\n        {\n            let shorthand = prop.split('-').shift();\n    \n            if (this.animatedProps[shorthand]) prop = shorthand;\n        }\n    \n        let endVal = this.animatedProps[prop];\n    \n        // Change inline style back to auto\n        if (endVal === 'auto' || endVal === 'initial' || endVal === 'unset') _THIS.css(this.DOMElement, prop, endVal);\n    \n        delete this.animatedProps[prop];\n        \n        if (_THIS.is_empty(this.animatedProps))\n        {        \n            clearTimeout(this._failTimer);\n    \n            clearInterval(this._stepTimer);\n    \n            this.resotoreElement();\n    \n            this._callbackComplete(this.DOMElement);\n        }\n    }\n    \n    /**\n     * Checks for \"auto\" transtions.\n     * \n     */\n    AnimateCss.prototype.preProcessStartEndValues = function()\n    {\n        var DOMElement = this.DOMElement;\n        \n        // We need to set the end value explicitly as these values will not\n        // transition with CSS\n        _THIS.each(this.options, function(i, option)\n        {\n            // Cache start and fail callbacks\n            if (option.start) this._callbackStart = option.start;\n            if (option.fail) this._callbackFail = option.fail;\n            if (option.step) this._callbackStep = option.step;\n    \n            // Keep the longest callback\n            if (option.duration >= this.duration && (option.callback || option.complete))\n            {\n                this._callbackComplete = (option.callback || option.complete);\n            }\n    \n            // Store the maximum duration\n            if (option.duration >= this.duration) this.duration = option.duration;\n    \n            let startValue  = option.from;\n            let endValue    = option.to;\n            let CSSProperty = option.property;\n            \n            if (startValue === 'auto' || startValue === 'initial' || startValue === 'unset' || !startValue)\n            {\n                option.from = _THIS.rendered_style(DOMElement, CSSProperty);\n            }\n    \n            if (endValue === 'auto' || endValue === 'initial' || endValue === 'unset')\n            {\n                let inlineStyle = _THIS.inline_style(DOMElement, CSSProperty);\n    \n                _THIS.css(DOMElement, CSSProperty, endValue);\n    \n                option.to = _THIS.rendered_style(DOMElement, CSSProperty);\n    \n                _THIS.css(DOMElement, CSSProperty, inlineStyle ? inlineStyle : false);\n            }\n    \n            this.animatedProps[CSSProperty] = endValue;\n    \n            this.stopValues[CSSProperty] = _THIS.inline_style(DOMElement, CSSProperty) || false;\n    \n        }, this);\n    }\n    \n    /**\n     * Apply start values.\n     * \n     */\n    AnimateCss.prototype.applyStartValues = function()\n    {\n        var styles = {};\n    \n        _THIS.each(this.options, function(i, option)\n        {\n            styles[option.property] = option.from;\n        });\n    \n        if (!_THIS.is_empty(styles)) _THIS.css(this.DOMElement, styles);\n    }\n    \n    /**\n     * Apply animation transitions.\n     * \n     */\n    AnimateCss.prototype.applyTransitions = function()\n    {\n        let transitions = _THIS.css_transition_props(this.DOMElement);\n    \n        this.preAnimatedTransitions  = _THIS.inline_style(this.DOMElement, 'transition') || false;\n    \n        _THIS.each(this.options, function(i, option)\n        {\n            // Setup and convert duration from MS to seconds\n            let property = option.property;\n            let duration = (option.duration / 1000);\n            let easing   = CSS_EASINGS[option.easing] || 'ease';\n    \n            // Set the transition for the property\n            // in our merged obj\n            transitions[property] = `${duration}s ${easing}`;\n    \n        }, this);\n    \n        _THIS.css(this.DOMElement, 'transition', _THIS.join_obj(transitions, ' ', ', '));\n    }\n    \n    /**\n     * Apply animation end values.\n     * \n     */\n    AnimateCss.prototype.applyEndValues = function()\n    {\n        let styles = {};\n    \n        _THIS.each(this.options, function(i, option)\n        {\n            styles[option.property] = option.to;\n    \n        }, this);\n    \n        _THIS.css(this.DOMElement, styles);\n    }\n    \n    /**\n     * CSS Animation.\n     *\n     * @access {private}\n     * @param  {DOMElement}     DOMElement          Target DOM node\n     * @param  {object}   options             Options object\n     * @param  {string}   options.property    CSS property\n     * @param  {mixed}    options.from        Start value\n     * @param  {mixed}    options.to          Ending value\n     * @param  {int}      options.duration    Animation duration in MS\n     * @param  {string}   options.easing      Easing function in camelCase\n     * @param  {function} options.callback    Callback to apply when animation ends (optional)\n     * Options can be provided three ways:\n     * \n     * 1. Flat object with single property\n     *      animate(el, { height: '500px', easing 'easeOut' })\n     * \n     * 2. Flat Object with multiple properties \n     *      Note this way you can only animate from the existing rendered element style (you cannot provide a 'from' value)\n     *      animate(el, { height: '500px', width: '500px', easing 'easeOut' })\n     * \n     * 3. Multi object with different options per property\n     *      animate(el, { height:{ from: '100px', to: '500px', easing: 'easeInOutElastic'}, opacity:{ to: 0, easing: 'linear'} } );\n     * \n     */\n    _.prototype.__animate_css = function(DOMElement, options)\n    {    \n        return new AnimateCss(DOMElement, options).start();\n    }\n    \n    /**\n     * Animate JS\n     *\n     * @access {public}\n     * @param  {DOMElement} DOMElement                  Target DOM node\n     * @param  {object}     options             Options object\n     * @param  {string}     options.property    CSS property\n     * @param  {mixed}      options.from        Start value\n     * @param  {mixed}      options.to          Ending value\n     * @param  {int}        options.duration    Animation duration in MS\n     * @param  {string}     options.easing      Easing function in camelCase\n     * @param  {function}   options.callback    Callback to apply when animation ends (optional)\n     * @return {array}\n     * Options can be provided three ways:\n     * \n     * 1. Flat object with single property\n     *      animate(el, { height: '500px', easing 'easeOut' })\n     * \n     * 2. Flat Object with multiple properties \n     *      Note this way you can only animate from the existing rendered element style (you cannot provide a 'from' value)\n     *      animate(el, { height: '500px', width: '500px', easing 'easeOut' })\n     * \n     * 3. Multi object with different options per property\n     *      animate(el, { height:{ from: '100px', to: '500px', easing: 'easeInOutElastic'}, opacity:{ to: 0, easing: 'linear'} } );\n     * \n     */\n    _.prototype.animate = function(DOMElement, options)\n    {    \n        const animationSet = [];\n    \n        const Animation = function()\n        {\n            return this;\n        };\n    \n        Animation.prototype.start = function()\n        {\n            for (var i = 0; i < animationSet.length; i++)\n            {\n                animationSet[i].start();\n            }\n        };\n    \n        Animation.prototype.stop = function()\n        {\n            for (var i = 0; i < animationSet.length; i++)\n            {\n                animationSet[i].stop(true);\n            }\n        };\n    \n        Animation.prototype.destory = function()\n        {\n            for (var i = 0; i < animationSet.length; i++)\n            {\n                animationSet[i].destory();\n            }\n    \n            animationSet = [];\n        };\n    \n        const factoryOptions = !options.FROM_FACTORY ? this.__animation_factory(DOMElement, options) : options;\n    \n        const AnimationInstance = new Animation;\n    \n        this.each(factoryOptions, function(i, opts)\n        {\n            animationSet.push(this.__animate_js(DOMElement, opts));\n    \n        }, this);\n    \n        return AnimationInstance;\n    }\n    \n    /**\n     * Animate CSS\n     *\n     * @access {public}\n     * @param  {DOMElement} DOMElement                  Target DOM node\n     * @param  {object}     options             Options object\n     * @param  {string}     options.property    CSS property\n     * @param  {mixed}      options.from        Start value\n     * @param  {mixed}      options.to          Ending value\n     * @param  {int}        options.duration    Animation duration in MS\n     * @param  {string}     options.easing      Easing function in camelCase\n     * @param  {function}   options.callback    Callback to apply when animation ends (optional)\n     * @return {array}\n     * Options can be provided three ways:\n     * \n     * 1. Flat object with single property\n     *      animate(el, { height: '500px', easing 'easeOut' })\n     * \n     * 2. Flat Object with multiple properties \n     *      Note this way you can only animate from the existing rendered element style (you cannot provide a 'from' value)\n     *      animate(el, { height: '500px', width: '500px', easing 'easeOut' })\n     * \n     * 3. Multi object with different options per property\n     *      animate(el, { height:{ from: '100px', to: '500px', easing: 'easeInOutElastic'}, opacity:{ to: 0, easing: 'linear'} } );\n     * \n     */\n    _.prototype.animate_css = function(DOMElement, options)\n    {\n        let cssAnimation;\n    \n        const Animation = function()\n        {\n            return this;\n        };\n    \n        Animation.prototype.start = function()\n        {\n            cssAnimation.start();\n        };\n    \n        Animation.prototype.stop = function()\n        {\n            cssAnimation.stop(true);\n        };\n    \n        Animation.prototype.destory = function()\n        {\n            cssAnimation.destory(true);\n        };\n    \n        const factoryOptions = !options.FROM_FACTORY ? this.__animation_factory(DOMElement, options) : options;\n    \n        cssAnimation = this.__animate_css(DOMElement, factoryOptions);\n        \n        return new Animation;\n    }\n    \n    /**\n     * Animation factory.\n     *\n     * @access {private}\n     * @param  {DOMElement} DOMElement                  Target DOM node\n     * @param  {object}     options             Options object\n     * @param  {string}     options.property    CSS property\n     * @param  {mixed}      options.from        Start value\n     * @param  {mixed}      options.to          Ending value\n     * @param  {int}        options.duration    Animation duration in MS\n     * @param  {string}     options.easing      Easing function in camelCase\n     * @param  {function}   options.callback    Callback to apply when animation ends (optional)\n     * @return {array}\n     * Options can be provided three ways:\n     * \n     * 1. Flat object with single property\n     *      animate(el, { height: '500px', easing 'easeOut' })\n     * \n     * 2. Flat Object with multiple properties \n     *      Note this way you can only animate from the existing rendered element style (you cannot provide a 'from' value)\n     *      animate(el, { height: '500px', width: '500px', easing 'easeOut' })\n     * \n     * 3. Multi object with different options per property\n     *      animate(el, { height:{ from: '100px', to: '500px', easing: 'easeInOutElastic'}, opacity:{ to: 0, easing: 'linear'} } );\n     * \n     */\n    _.prototype.__animation_factory = function(DOMElement, opts)\n    {\n        var optionSets = [];\n    \n        this.each(opts, function(key, val)\n        {\n            // animation_factory('foo', { property : 'left', from : '-300px', to: '0',  easing: 'easeInOutElastic', duration: 3000} );\n            if (key === 'property')\n            {\n                var options = { ...ANIMATION_DEFAULT_OPTIONS, ...opts};\n    \n                options.FROM_FACTORY = true;\n                options.property     = this.css_prop_to_hyphen_case(val);\n                options.el           = DOMElement;\n                optionSets.push(options);\n    \n                // break\n                return false;\n            }\n            else if (!this.in_array(key, ANIMATION_ALLOWED_OPTIONS))\n            {\n                // Only worth adding if the property is valid\n                var camelProp = this.css_prop_to_camel_case(key);\n                \n                if (!this.is_undefined(document.body.style[camelProp]))\n                {\n                    var isObjSet = this.is_object(val);\n                    var toMerge  = isObjSet ? val : opts;\n                    var options  = { ...ANIMATION_DEFAULT_OPTIONS, ...toMerge};\n                    \n                    // animation_factory('foo', { height: '100px', opacity: 0 } );\n                    if (!isObjSet)\n                    {\n                        options.to = val;\n                    }\n    \n                    // animation_factory('foo', { height: { from: '100px', to: '500px', easing: 'easeInOutElastic'}, opacity:{ to: 0, easing: 'linear'} } );\n                    options.FROM_FACTORY = true;\n                    options.property     = this.css_prop_to_hyphen_case(key);\n                    options.el           = DOMElement;\n                    optionSets.push(options);\n                }\n            }\n        }, this);\n    \n        // Santize callbacks\n        let longest  = 0;\n        let longestI = 0;\n        let start    = () => {};\n        let fail     = () => {};\n        let complete = () => {};\n        let step     = () => {};\n    \n        this.each(optionSets, function(i, options)\n        {\n            if (options.start)\n            {\n                start = options.start;\n    \n                delete options.start;\n            }\n    \n            if (options.fail)\n            {\n                fail = options.fail;\n    \n                delete options.fail;\n            }\n    \n            if (options.step)\n            {\n                step = options.step;\n    \n                delete options.step;\n            }\n    \n            // Store the maximum duration\n            if (options.duration >= longest)\n            {\n                if ((options.callback || options.complete)) complete = (options.callback || options.complete);\n    \n                delete options.callback;\n    \n                delete options.complete;\n    \n                longest = options.duration;\n    \n                longestI = i;\n            }\n    \n            // Not nessaray, but sanitize out redundant options\n            options = this.map(options, function(key, val)\n            {\n                return this.in_array(key, ANIMATION_FILTER_OPTIONS) ? val : false;\n    \n            }, this);\n    \n            // Sanitize to/from to strings\n            if (this.array_has('to', options)) options.to = options.to + '';\n            if (this.array_has('from', options)) options.from = options.from + '';\n    \n            if (!ANIMATION_EASING_FUNCTIONS[options.easing]) options.easing = 'ease';\n    \n            options.FROM_FACTORY = true;\n    \n            optionSets[i] = options;\n    \n        }, this);\n    \n        if (this.is_empty(optionSets))\n        {\n            console.error('Animation Error: Either no CSS property(s) was provided or the provided property(s) is unsupported.');\n        }\n    \n        optionSets[longestI].fail     = fail;\n        optionSets[longestI].start    = start;\n        optionSets[longestI].complete = complete;\n        optionSets[longestI].step     = step;\n    \n        return optionSets;\n    }\n    /**\n     * Recursively delete from array/object.\n     *\n     * @param   {array}        keys    Keys in search order\n     * @param   {object|array} object  Object to get from\n     * @returns {mixed}\n     */\n    _.prototype.__array_delete_recursive = function(keys, object)\n    {\n        var key = keys.shift();\n    \n        var islast = keys.length === 0;\n    \n        if (islast)\n        {\n            if (TO_STR.call(object) === '[object Array]')\n            {\n                object.splice(key, 1);\n            }\n            else\n            {\n                delete object[key];\n            }\n        }\n    \n        if (!object[key])\n        {\n            return false;\n        }\n    \n        return this.__array_delete_recursive(keys, object[key]);\n    }\n    \n    /**\n     * Recursively search from array/object.\n     *\n     * @param   {array}        keys    Keys in search order\n     * @param   {object|array} object  Object to get from\n     * @returns {mixed}\n     */\n    _.prototype.__array_get_recursive = function(keys, object)\n    {\n        var key = keys.shift();\n        var islast = keys.length === 0;\n    \n        if (islast)\n        {\n            return object[key];\n        }\n    \n        if (!object[key])\n        {\n            return undefined;\n        }\n    \n        return this.__array_get_recursive(keys, object[key]);\n    }\n    \n    /**\n     * Recursively set array/object.\n     *\n     * @param {array}          keys     Keys in search order\n     * @param {mixed}          value    Value to set\n     * @param {object|array}   object   Object to get from\n     * @param {string|number}  nextKey  Next key to set\n     */\n    _.prototype.__array_set_recursive = function(keys, value, object, nextKey)\n    {\n        var key = keys.shift();\n        var islast = keys.length === 0;\n        var lastObj = object;\n        object = !nextKey ? object : object[nextKey];\n    \n        // Trying to set a value on nested array that doesn't exist\n        if (!['object', 'function'].includes(typeof object))\n        {\n            throw new Error('Invalid dot notation. Cannot set key \"' + key + '\" on \"' + JSON.stringify(lastObj) + '[' + nextKey + ']\"');\n        }\n    \n        if (!object[key])\n        {\n            // Trying to put object key into an array\n            if (TO_STR.call(object) === '[object Array]' && typeof key === 'string')\n            {\n                var converted = Object.assign({}, object);\n    \n                lastObj[nextKey] = converted;\n    \n                object = converted;\n            }\n    \n            if (keys[0] && typeof keys[0] === 'string')\n            {\n                object[key] = {};\n            }\n            else\n            {\n                object[key] = [];\n            }\n        }\n    \n        if (islast)\n        {\n            object[key] = value;\n    \n            return;\n        }\n    \n        this.__array_set_recursive(keys, value, object, key);\n    }\n    \n    /**\n     * Segments an array/object path using from \"dot.notation\" into an array of keys in order.\n     *\n     * @param   {string}  path Path to parse\n     * @returns {array}\n     */\n    _.prototype.__array_key_segment = function(path)\n    {\n        var result = [];\n        var segments = path.split('.');\n    \n        for (var i = 0; i < segments.length; i++)\n        {\n            var segment = segments[i];\n    \n            if (!segment.includes('['))\n            {\n                result.push(segment);\n    \n                continue;\n            }\n    \n            var subSegments = segment.split('[');\n    \n            for (var j = 0; j < subSegments.length; j++)\n            {\n                if (['0', '1', '2', '3', '4', '5', '6', '7', '8', '9'].includes(subSegments[j][0]))\n                {\n                    result.push(parseInt(subSegments[j].replace(']')));\n                }\n                else if (subSegments[j] !== '')\n                {\n                    result.push(subSegments[j])\n                }\n            }\n        }\n    \n        return result;\n    }\n    \n    /**\n     * Recursively delete from array/object.\n     *\n     * @param   {array}        keys    Keys in search order\n     * @param   {object|array} object  Object to get from\n     * @returns {mixed}\n     */\n    _.prototype.__array_delete_recursive = function(keys, object)\n    {\n        var key = keys.shift();\n    \n        var islast = keys.length === 0;\n    \n        if (islast)\n        {\n            if (TO_STR.call(object) === '[object Array]')\n            {\n                object.splice(key, 1);\n            }\n            else\n            {\n                delete object[key];\n            }\n        }\n    \n        if (!object[key])\n        {\n            return false;\n        }\n    \n        return this.__array_delete_recursive(keys, object[key]);\n    }\n    /**\n     * Deletes from an array/object using dot/bracket notation.\n     *\n     * @param   {string}        path   Path to delete\n     * @param   {object|array}  object Object to delete from\n     * @returns {object|array}\n     */\n    _.prototype.array_delete = function(path, object)\n    {\n        this.__array_delete_recursive(this.__array_key_segment(path), object);\n    \n        return object;\n    }\n    /**\n     * Filters empty array entries and returns new array\n     *\n     * @param   {object|array}  object Object to delete from\n     * @returns {object|array}\n     */\n    _.prototype.array_filter = function(arr)\n    {\n        let isArr = this.is_array(arr);\n    \n        let ret = isArr ? [] : {};\n    \n        this.each(arr, function(i, val)\n        {\n            if (!this.is_empty(val))\n            {\n                isArr ? ret.push(val) : ret[i] = val;\n            }\n            \n        }, this);\n    \n        return ret;\n    }\n    /**\n     * Gets an from an array/object using dot/bracket notation.\n     *\n     * @param   {string}        path    Path to get\n     * @param   {object|array}  object  Object to get from\n     * @returns {mixed}\n     */\n    _.prototype.array_get = function(path, object)\n    {\n        return this.__array_get_recursive(this.__array_key_segment(path), object);\n    }\n    \n    \n    /**\n     * Checks if array/object contains path using dot/bracket notation.\n     *\n     * e.g array_has('foo.bar.baz[0]', obj)\n     * \n     * @param   {string}        path   Path to check\n     * @param   {object|array}  object Object to check on\n     * @returns {boolean}\n     */\n    _.prototype.array_has = function(path, object)\n    {\n        return !this.is_undefined(this.array_get(path, object));\n    }\n    /**\n     * Merges multiple objects or arrays into the original.\n     *\n     * @param   {object|array} First array then any number of array or objects to merge into\n     * @returns {object|array}\n     */\n    _.prototype.array_merge = function()\n    {\n        let args = TO_ARR.call(arguments);\n    \n        if (args.length === 0)\n        {\n            throw new Error('Nothing to merge.');\n        }\n        else if (args.length === 1)\n        {\n            return args[1];\n        }\n    \n        var clone = false;\n    \n        // Clone deep\n        this.each(args, function(i, arg)\n        {\n            if (arg = 'CLONE_FLAG_TRUE')\n            {\n                clone = true;\n    \n                return false;\n            }\n        });\n    \n        let first = args.shift();\n        let fType = this.is_array(first) ? 'array' : 'obj';\n    \n        this.each(args, function(i, arg)\n        {\n            if (!this.is_array(arg) && !this.is_object(arg))\n            {\n                throw new Error('Arguments must be an array or object.');\n            }\n    \n            first = fType === 'array' ? [...first, ...arg] : {...first, ...arg};\n    \n        }, this);\n    \n        return first;\n    }\n    /**\n     * Set a key using dot/bracket notation on an object or array.\n     *\n     * @param   {string}       path   Path to set\n     * @param   {mixed}        value  Value to set\n     * @param   {object|array} object Object to set into\n     * @returns {object|array}\n     */\n    _.prototype.array_set = function(path, value, object)\n    {\n        this.__array_set_recursive(this.__array_key_segment(path), value, object);\n    \n        return object;\n    }\n    /**\n     * Removes duplicates and returns new array.\n     *\n     * @param   {array} arr Array to run\n     * @returns {array}\n     */\n    _.prototype.array_unique = function(arr)\n    {\n        return arr.filter((value, index, self) => self.indexOf(value) === index);\n    }\n    /**\n     * Checks if element is last element in array or object.\n     *\n     * @access {public}\n     * @param  {string} needle    The value to search for\n     * @param  {array}  haystack  The target array to index\n     * @param  {bool}   strict    Strict comparison (optional) (default false)\n     * @return {bool}\n     * \n     */\n    _.prototype.is_array_last = function(needle, haystack, strict)\n    {\n        strict = this.is_undefined(strict) ? false : strict;\n    \n        let last = TO_STR.call(haystack) === '[object Array]' ? haystack[haystack.length -1] : haystack[Object.keys(haystack).pop()];\n        \n        return this.is_equal(needle, last, strict);\n    }\n    /**\n     * Foreach loop\n     * \n     * @access {public}\n     * @param  {object}  obj       The target object to loop over\n     * @param  {closure} callback  Callback to apply to each iteration\n     * @param  {array}   args      Array of params to apply to callback (optional) (default null)\n     */\n    _.prototype.each = function(obj, callback)\n    {\n        if (typeof obj !== 'object' || obj === null) return;\n    \n        let isArray = TO_STR.call(obj) === '[object Array]';\n        let i       = 0;\n        let keys    = isArray ? null : Object.keys(obj);\n        let len     = isArray ? obj.length : keys.length;\n        let args    = TO_ARR.call(arguments).slice(2);\n        let ret     = isArray ? [] : {};\n        let key;\n        let val;\n        let clbkVal;\n    \n        // Applies the value of \"this\" to the callback as the array or object provided\n        //var thisArg = typeof args !== 'undefined' && TO_STR.call(args) !== '[object Array]' ? args : obj;\n    \n        // Applies this arg as first extra arg if provided\n        // otherwise falls back to the array or object provided\n        // Removes \"this\" from args to callback\n        var thisArg = this.is_empty(args) ? obj : args[0];\n        args        = !this.is_empty(args) ? args.slice(1) : null;\n        args        = this.is_empty(args) ? null : args;\n    \n        if (TO_STR.call(args) === '[object Array]')\n        {\n            for (; i < len; i++)\n            {\n                key   = isArray ? i : keys[i];\n                val   = isArray ? obj[i] : obj[key];\n                clbkVal = callback.apply(thisArg, this.array_merge([key, val], args));\n    \n                if (clbkVal === false)\n                {\n                    break;\n                }\n            }\n    \n            // A special, fast, case for the most common use of each (no extra args provided)\n        }\n        else\n        {\n            for (; i < len; i++)\n            {\n                key   = isArray ? i : keys[i];\n                val   = isArray ? obj[i] : obj[key];\n                clbkVal = callback.call(thisArg, key, val);\n    \n                if (clbkVal === false)\n                {\n                    break;\n                }\n            }\n        }\n    \n        return obj;\n    }\n    \n    _.prototype.foreach = function()\n    {\n        return this.each.apply(this, arguments);\n    }\n    \n    /**\n     * For loop with count\n     * \n     * @access {public}\n     * @param  {object}  obj       The target object to loop over\n     * @param  {closure} callback  Callback to apply to each iteration\n     * @param  {array}   args      Array of params to apply to callback (optional) (default null)\n     */\n    _.prototype.for = function(count, callback)\n    {\n        var args = TO_ARR.call(arguments);\n    \n        args[0] = Array.from(Array(count).keys());\n    \n        return this.each.apply(this, args);\n    }\n    \n    \n    /**\n     * Checks if an array contains a value\n     *\n     * @access {public}\n     * @param  {string} needle    The value to search for\n     * @param  {array}  haystack  The target array to index\n     * @param  {bool}   strict    Strict comparison (optional) (default false)\n     * @return {bool}\n     * \n     */\n    _.prototype.in_array = function(needle, haystack, strict)\n    {\n        strict = this.is_undefined(strict) ? false : strict;\n        \n        if (!strict) return haystack.includes(needle);\n    \n        let ret = false;\n    \n        this.each(haystack, function(k, v)\n        {\n            ret = this.is_equal(needle, v, strict);\n    \n            if (ret) return false;\n    \n        }, this);\n    \n        return ret;\n    }\n    /**\n     * Map.\n     *  \n     * return undefined to break loop, true to keep, false to reject\n     * \n     * @param   {array|object}  obj\n     * @param   {function}      callback\n     * @param   {array|mixed}   args      If single arg provided gets apllied as this to callback, otherwise args apllied to callback\n     * @returns {array|object}\n     */\n    _.prototype.map = function(obj, callback)\n    {\n        if (typeof obj !== 'object' || obj === null) return;\n    \n        let isArray = TO_STR.call(obj) === '[object Array]';\n        let i       = 0;\n        let keys    = isArray ? null : Object.keys(obj);\n        let len     = isArray ? obj.length : keys.length;\n        let args    = TO_ARR.call(arguments).slice(2);\n        let ret     = isArray ? [] : {};\n        let key;\n        let val;\n        let clbkVal;\n    \n        // Applies the value of \"this\" to the callback as the array or object provided\n        //var thisArg = typeof args !== 'undefined' && TO_STR.call(args) !== '[object Array]' ? args : obj;\n    \n        // Applies this arg as first extra arg if provided\n        // otherwise falls back to the array or object provided\n        // Removes \"this\" from args to callback\n        var thisArg = this.is_empty(args) ? obj : args[0];\n        args        = !this.is_empty(args) ? args.slice(1) : null;\n        args        = this.is_empty(args) ? null : args;\n    \n        if (TO_STR.call(args) === '[object Array]')\n        {\n            for (; i < len; i++)\n            {\n                key   = isArray ? i : keys[i];\n                val   = isArray ? obj[i] : obj[key];\n                clbkVal = callback.apply(thisArg, this.array_merge([key, val], args));\n    \n                if (clbkVal === false)\n                {\n                    continue;\n                }\n                else if (typeof clbkVal === 'undefined')\n                {\n                    break;\n                }\n                else\n                {\n                    isArray ? ret.push(clbkVal) : ret[key] = clbkVal;\n                }\n            }\n    \n            // A special, fast, case for the most common use of each (no extra args provided)\n        }\n        else\n        {\n            for (; i < len; i++)\n            {\n                key   = isArray ? i : keys[i];\n                val   = isArray ? obj[i] : obj[key];\n                clbkVal = callback.call(thisArg, key, val);\n    \n                if (clbkVal === false)\n                {\n                    continue;\n                }\n                else if (typeof clbkVal === 'undefined')\n                {\n                    break;\n                }\n                else\n                {\n                    isArray ? ret.push(clbkVal) : ret[key] = clbkVal;\n                }\n            }\n        }\n    \n        return ret;\n    }\n    /**\n     * Set, get or remove DOM attribute.\n     *\n     * No third arg returns attribute value, third arg set to null or false removes attribute.\n     * \n     * @param {HTMLElement}  DOMElement  Dom node\n     * @param {string}       name        Property name\n     * @apram {mixed}        value       Property value\n     */\n    _.prototype.attr = function(DOMElement, name, value)\n    {        \n        // Get attribute\n        // e.g attr(node, style)\n        if ((TO_ARR.call(arguments)).length === 2 && this.is_string(name))\n        {\n            return this.__get_attribute(DOMElement, name);\n        }\n    \n        // attr(node, {foo : 'bar', baz: 'bar'})\n        if (this.is_object(name))\n        {\n            this.each(name, function(prop, value)\n            {\n                this.attr(DOMElement, prop, value);\n    \n            }, this);\n    \n            return;\n        }\n    \n        // Set or remove attibute.\n        switch (name)\n        {\n            // innerHTML\n            case 'innerHTML':\n                DOMElement.innerHTML = !value ? '' : value;\n                break;\n    \n            // innerText\n            case 'innerText':\n                DOMElement.innerText = !value ? '' : value;\n                break;\n    \n            // Children\n            case 'children':\n    \n                this.each(DOMElement.children, function(node)\n                {\n                    this.remove_from_dom(node);\n                \n                }, this);\n    \n                this.each(value, function(node)\n                {\n                    DOMElement.appendChild(node);\n                });\n    \n                break;\n    \n            // Class\n            case 'class':\n            case 'className':\n    \n                // Cleanup classname\n                value = this.is_string(value) ? this.replace(value, ['undefined', 'null', 'false', 'true'], '').replace(/\\s\\s+/g, ' ').trim() : value;\n    \n                if (this.is_empty(value))\n                {\n                    DOMElement.removeAttribute('class');\n                }\n                else\n                {\n                    DOMElement.className = value;\n                }\n    \n                break;\n    \n            // Style\n            case 'style':\n    \n                // remove all styles completely\n                if (this.is_empty(value))\n                {\n                    DOMElement.removeAttribute('style');\n                }\n    \n                DOMElement.style = '';\n    \n                let style = this.is_string(value) ? this.css_to_object(value) : value;\n    \n                this.each(style, (prop, value) => this.css(DOMElement, prop, value));\n               \n                break;\n    \n            // Events / attributes\n            default:\n    \n                // Events\n                if (name[0] === 'o' && name[1] === 'n')\n                {\n                    var evt = name.slice(2).toLowerCase();\n    \n                    // Remove old listeners\n                    this.remove_event_listener(DOMElement, evt);\n    \n                    // Add new listener if one provided\n                    if (value)\n                    {\n                        this.add_event_listener(DOMElement, evt, value);\n                    }\n                }\n                // All other node attributes\n                else\n                {\n                    let isData     = name.startsWith('data');\n                    let isAria     = name.startsWith('aria');\n                    let camelName  = name.includes('-') ? this.to_camel_case(name) : name;\n                    let hyphenName = name.includes('-') ? name : this.camel_case_to_hyphen(name);\n                    let isEmpty    = this.is_empty(value);\n    \n                    // Special data\n                    if (isData)\n                    {\n                        if (isEmpty)\n                        {\n                            DOMElement.removeAttribute(hyphenName);\n    \n                            delete DOMElement.dataset[this.lc_first(this.ltrim(camelName, 'data'))];\n                        }\n                        else\n                        {\n                            DOMElement.setAttribute(hyphenName, value);\n    \n                            DOMElement.dataset[this.lc_first(this.ltrim(camelName, 'data'))] = value;\n                        }\n    \n                        break;\n                    }\n    \n                    // Special booleans\n                    if (this.in_array(name, BOOLEAN_ATTRS))\n                    {\n                        DOMElement[name] = isEmpty ? '' : value;\n    \n                        if (isEmpty) DOMElement.removeAttribute(name);\n    \n                        break;\n                    }\n    \n                    if (!PROP_ATTRIBUTES.includes(camelName))\n                    {\n                        try\n                        {                        \n                            DOMElement[camelName] = isEmpty ? '' : value;\n    \n                        } catch (e) {}\n                    }\n    \n                    if (isEmpty)\n                    {\n                        DOMElement.removeAttribute(hyphenName);\n                    }\n                    else\n                    {\n                        DOMElement.setAttribute(hyphenName, value);\n                    }\n                }\n    \n                break;\n        }\n    }\n    \n    /**\n     * Simple get html attribute.\n     *\n     * No third arg returns attribute value, third arg set to null or false removes attribute.\n     * \n     * @access {private}\n     * @param  {HTMLElement}      DOMElement  Dom node\n     * @param  {string}           name        Property name\n     * @return {string|undefined}\n     */\n    _.prototype.__get_attribute = function(DOMElement, name)\n    {\n        if (name.startsWith('data'))\n        {\n            name = name.startsWith('data-') ? this.to_camel_case(name.substring(5)) : name.substring(4);\n    \n            return DOMElement.dataset[name];\n        }\n    \n        // Special booleans\n        if (this.in_array(name, BOOLEAN_ATTRS))\n        {\n            if (DOMElement[name] === '' || DOMElement[name] === 'true' || DOMElement[name] === true) return true;\n    \n            return DOMElement[name] === 'false' || !DOMElement[name] ? false : true;\n        }\n    \n        let camelName  = name.includes('-') ? this.to_camel_case(name) : name;\n        let hyphenName = name.includes('-') ? name : this.camel_case_to_hyphen(name);\n        let retCamel   = DOMElement[camelName];\n        let retAttr    = DOMElement.getAttribute(hyphenName);\n    \n        return retAttr === null || this.is_undefined(retAttr) ? retCamel : retAttr;\n    }\n    /**\n     * Set, get or remove CSS value(s) on element.\n     * \n     * Note that this will only return inline styles, use 'rendered_style' for\n     * currently displayed styles.\n     *\n     * @access {public}\n     * @param  {DOMElement}   el     Target DOM node\n     * @param  {string|object} Assoc array of property->value or string property\n     * @example {Helper.css(node,} { display : 'none' });\n     * @example {Helper.css(node,} 'display', 'none');\n     */\n    _.prototype.css = function(el, property, value)\n    {\n        // If their is no value and property is an object\n        if (this.is_object(property))\n        {\n            this.each(property, function(prop, val)\n            {\n                this.css(el, prop, val);\n    \n            }, this);\n        }\n        else\n        {\n            // Getting not settings\n            if (this.is_undefined(value))\n            {\n                return this.inline_style(el, property);\n            }\n            // Value is either null or false we remove\n            else if (this.is_null(value) || value === false)\n            {\n                if (el.style.removeProperty)\n                {\n                    el.style.removeProperty(property);\n                }\n                else\n                {\n                    el.style.removeAttribute(property);\n                }\n            }\n            else\n            {\n                if (value.includes('important') || property.startsWith('--'))\n                {\n                    let styles = el.getAttribute('style');\n    \n                    if (styles && styles.includes(property))\n                    {\n                        let re = new RegExp(`${property}\\s?:[^;]+;?`, 'g');\n    \n                        styles = styles.replace(re, '').trim();\n                    }\n                    \n                    styles = !styles ? `${property}:${value}` : `${this.rtrim(styles, ';')};${property}:${value}`;\n    \n                    el.setAttribute('style', styles);\n    \n                    return;\n                }\n                else\n                {\n                    el.style[property] = value;    \n                }\n            }\n        }\n    }\n    /**\n     * Converts CSS property to camel case.\n     *\n     * @access {public}\n     * @param  {string} prop Property to convert\n     * @retirm {string}\n     */\n    _.prototype.css_prop_to_camel_case = function(prop)\n    {\n        if (!prop.includes('-')) return prop;\n    \n        let camelProp = this.to_camel_case(prop);\n    \n        if (this.in_array(prop, Object.keys(CSS_PROP_TO_CAMEL_CASES)))\n        {\n            return CSS_PROP_TO_CAMEL_CASES[prop];\n        }\n    \n        // First char is always lowercase\n        let ret = camelProp.charAt(0).toLowerCase() + camelProp.slice(1);\n    \n        CSS_PROP_TO_CAMEL_CASES[prop] = ret;\n    \n        return ret;\n    }\n    /**\n     * Converts CSS property to hyphen case.\n     *\n     * @access {public}\n     * @param  {string} prop Property to convert\n     * @retirm {string}\n     */\n    _.prototype.css_prop_to_hyphen_case = function(prop)\n    {\n        if (!/[A-Z]/.test(prop)) return prop;\n        \n        if (this.in_array(prop, Object.keys(CSS_PROP_TO_HYPHEN_CASES)))\n        {\n            return CSS_PROP_TO_HYPHEN_CASES[prop];\n        }\n    \n        var hyphenProp = this.camel_case_to_hyphen(prop);\n    \n        if (hyphenProp.startsWith('webkit-') || hyphenProp.startsWith('moz-') || hyphenProp.startsWith('ms-') || hyphenProp.startsWith('o-'))\n        {\n            hyphenProp = '-' + hyphenProp;\n        }\n    \n        CSS_PROP_TO_CAMEL_CASES[prop] = hyphenProp;\n    \n        return hyphenProp;\n    }\n    /**\n     * Expand shorthand property to longhand properties \n     *\n     * @access {private}\n     * @param  {string}  CSS rules\n     * @return {object}\n     */\n    _.prototype.css_to_longhand = function(css)\n    {\n        var ret    = {};\n        var values = this.css_to_object(css);\n    \n        this.each(values, function(prop, value)\n        {\n            if (SHORTHAND_PROPS.hasOwnProperty(prop))\n            {\n                var splits  = value.split(' ').map( (x) => x.trim());\n                var dfault  = prop === 'margin' || prop === 'padding' ? '0' : 'initial';\n    \n                this.each(SHORTHAND_PROPS[prop], function(i, longhand)\n                {\n                    // Object is setup so that if it starts with a '-'\n                    // then it gets concatenated to the oridional prop\n                    // e.g 'background' -> '-image'\n                    longhand = longhand.startsWith('-') ? prop + longhand : longhand;\n    \n                    // otherwise it gets replaced\n                    // e.g 'border-color' -> 'border-top-color', 'border-right-color'... etc\n                    ret[longhand] = this.is_undefined(splits[i]) ? dfault : splits[i];\n    \n                }, this);\n            }\n            else\n            {\n                ret[prop] = value;\n            }\n    \n        }, this);\n    \n        return ret;\n    }\n    /**\n     * Concats longhand property to shorthand\n     *\n     * Note if values are not provide not all browsers will except initial\n     * for all properties in shorthand syntax\n     * \n     * @access {private}\n     * @param  {string}  CSS rules\n     * @return {object}\n     */\n    _.prototype.css_to_shorthand = function(css)\n    {\n        const needsFilling = ['margin', 'padding', 'transition', 'animation'];\n        var ret            = {};\n        var styles         = this.css_to_object(css);\n    \n        // 'margin': ['-top', '-right', '-bottom', '-left'],\n        this.each(SHORTHAND_PROPS, function(property, longhands)\n        {\n            var value       = '';\n            var matched     = false;\n            var needsDefault = this.in_array(property, needsFilling) || property.includes('border');\n    \n            this.each(longhands, function(i, longhand)\n            {\n                longhand = longhand.startsWith('-') ? property + longhand : longhand;\n    \n                var suppliedVal = styles[longhand];\n    \n                if (!this.is_undefined(suppliedVal))\n                {\n                    matched = true;\n                    // Colors get flatted\n                    if (longhand.includes('-color'))\n                    {\n                        value = suppliedVal;\n                    }\n                    else\n                    {\n                        value += suppliedVal + ' ';\n                    }\n                }\n                else if (needsDefault)\n                {\n                    this.each(SHORTHAND_DEFAULTS, function(matcher, defaltVal)\n                    {\n                        if (longhand.includes(matcher))\n                        {\n                            value += ` ${defaltVal} `;\n                        }\n                    });\n                }\n                \n            }, this);\n    \n            if (!this.is_empty(value) && matched) ret[property] = value.trim();\n            \n        }, this);\n    \n        return ret;\n    }\n    /**\n     * Converts string styles into an object\n     *\n     * @param  {string} styles CSS\n     * @return {object}\n     */\n    _.prototype.css_to_object = function(styles)\n    {\n        var ret = {};\n    \n        const nested_regex = /([^\\{]+\\{)([\\s\\S]+?\\})(\\s*\\})/g;\n    \n        const css_regex = /([^{]+\\s*\\{\\s*)([^}]+)(\\s*\\}\\s*)/g;\n    \n        if (styles.includes('{'))\n        {\n            var nestedStyles = [...css.matchAll(nested_regex)];\n        }\n    \n        this.each(styles.split(/;(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/g), function(i, rule)\n        {\n            var style = rule.split(':');\n    \n            if (style.length >= 2)\n            {\n                var prop = style.shift().trim();\n                var val  = style.join(':').trim();\n    \n                ret[prop] = val;\n            }\n        }, this);\n    \n        return ret;\n    }\n    /**\n     * Get CSS property.\n     * \n     * @param  {string} value CSS value (e.g \"12px\")\n     * @return {Number}\n     */\n    _.prototype.css_unit_value = function(value)\n    {\n        value = value + '';\n    \n        if (this.is_numeric(value))\n        {\n            return parseFloat(value);\n        }\n    \n        if (this.is_empty(value))\n        {\n            return 0;\n        }\n    \n        return parseFloat(value.replaceAll(/[^0-9-.]/g, ''));\n    }\n    \n    /**\n     * Get CSS property unit.\n     * \n     * @param  {string} value CSS value (e.g \"12px\")\n     * @return {string}\n     */\n    _.prototype.css_value_unit = function(value)\n    {\n        value = value + '';\n    \n        return value.split(/[0-9]/).pop().replaceAll(/[^a-z%]/g, '').trim();\n    }\n    \n    /**\n     * Converts CSS units to px.\n     * \n     * @param  {String}     value      CSS value (e.g \"12rem\")\n     * @param  {DomElement} DOMElement CSS value (optional) (used to relative units)\n     * @param  {String}     property   CSS property (optional) (used for % unit)\n     * @return {Number}\n     */\n    _.prototype.css_to_px = function(valueStr, DOMElement, property)\n    {\n        valueStr = valueStr + '';\n        \n        if (valueStr.includes('calc')) return valueStr;\n    \n        var unit  = this.css_value_unit(valueStr);\n        var value = this.css_unit_value(valueStr);\n    \n        if (valueStr.includes('px')) return value;\n    \n        if (!this.is_undefined(CSS_ABSOLUTE_UNITS[unit]))\n        {\n            return (value * CSS_ABSOLUTE_UNITS[unit]);\n        }\n    \n        if (!this.is_undefined(CSS_RELATIVE_UNITS[unit]))\n        {\n            if (unit === 'em' || unit === 'ex' || 'unit' === 'ch')\n            {\n                if (!DOMElement) return value * CSS_RELATIVE_UNITS[unit];\n                let psize = this.css_unit_value(this.rendered_style(DOMElement.parentNode, 'font-size'));\n                if (unit === 'em') return value * psize;\n                if (unit === 'ex') return value * (psize / 1.8);\n                if (unit === 'ch') return value * (psize / 2);\n                if (unit === '%')  return value * psize;\n            }\n            else if (unit === '%')\n            {\n                if (!DOMElement) return value * CSS_RELATIVE_UNITS[unit];\n                if (!property) property = 'height';\n                \n                let psize = this.css_unit_value(this.rendered_style(DOMElement, property));\n    \n                return psize * (value / 100);\n            }\n            else if (unit === 'rem')\n            {\n                // font sizes are always returned in px with JS\n                return value * this.css_unit_value(this.rendered_style(document.documentElement, 'font-size'));\n            }\n            else if (unit === 'vw')\n            {\n                return this.width(window) * (value / 100);\n            }\n            else if (unit === 'vh')\n            {\n                return this.height(window) * (value / 100);\n            }\n            else if (unit === 'vmin' || unit === 'vmax')\n            {\n                let w = this.width(window);\n                let h = this.height(window);\n                let m = unit === 'vmin' ? Math.min(w, h) : Math.max(w, h)\n    \n                return m * (value / 100);\n            }\n        }\n    \n        return value;\n    }\n    \n    /**\n     * Get an element's inline style if it exists\n     *\n     * @access {public}\n     * @param  {DOMElement}   el   Target element\n     * @param  {string} prop CSS property to check\n     * @return {string}\n     */\n    _.prototype.inline_style = function(element, prop)\n    {\n        const elementStyle = element.style;\n    \n        prop = this.css_prop_to_hyphen_case(prop);\n    \n        if (prop.startsWith('--'))\n        {\n            return window.getComputedStyle(element).getPropertyValue(prop);\n        }\n        else if (Object.hasOwn(elementStyle, prop))\n        {\n            const val = elementStyle.getPropertyValue(elementStyle[prop]) || elementStyle[prop];\n            \n            return val === '' ? undefined : val;\n        }\n    }\n    /**\n     * Remove inline css style\n     * \n     * @access {public}\n     * @param  {DOMElement}   el   Target element\n     * @param  {string} prop CSS property to removes\n     */\n    _.prototype.remove_style = function(el, prop)\n    {\n        if (typeof prop === 'undefined')\n        {\n            DOMElement.removeAttribute('style');\n    \n            return;\n        }\n    \n        this.css(el, prop);\n    }\n    /**\n     * Get the element's computed style on a property\n     *\n     * @access {public}\n     * @param  {DOMElement}   el   Target element\n     * @param  {string} prop CSS property to check (in camelCase) (optional)\n     * @return {mixed}\n     */\n    _.prototype.rendered_style = function(DOMElement, property)\n    {\n        if (property.includes('ransform'))\n        {\n            return this.css_transform_props(DOMElement, true);\n        }\n    \n        return this.__computed_style(DOMElement, property);\n    }\n    \n    /**\n     * Get the elements computed style.\n     *\n     * @access {private}\n     * @param  {DOMElement}          el   Target element\n     * @param  {string}        prop CSS property to check (in camelCase) (optional)\n     * @return {string|object}\n     */\n    _.prototype.__computed_style = function(DOMElement, property)\n    {\n        if (window.getComputedStyle)\n        {\n            let styles = window.getComputedStyle(DOMElement, null);\n    \n            if (property && property.startsWith('--')) return styles.getPropertyValue(property);\n    \n            return !property ? styles : styles[property];\n        }\n        else if (DOMElement.currentStyle)\n        {\n            let styles = DOMElement.currentStyle;\n    \n            return !property ? styles : styles[property];\n        }\n    \n        return '';\n    }\n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    /**\n     * Returns an object of CSS transitions by transition property as keys.\n     *\n     * @param  {node|string} DOMElement  Target element or transition value string\n     * @return {object}\n     */\n    _.prototype.css_transition_props = function(DOMElement)\n    {\n        if (!DOMElement) return {};\n        var transitions   = {};\n        var transitionVal = this.is_string(DOMElement) ? DOMElement : this.rendered_style(DOMElement, 'transition');\n    \n        // No transition\n        if (!transitionVal || transitionVal.startsWith('all 0s ease 0s') || transitionVal === 'none' || transitionVal === 'unset' || transitionVal === 'auto')\n        {\n            return transitions;\n        }\n    \n        let transitionSplit = transitionVal.includes('cubic-bezier') ? '' : transitionVal.trim().split(',');\n    \n        if (transitionVal.includes('cubic-bezier'))\n        {\n            let map      = [];\n            let inBezier = false;\n            let block    = '';\n            let char;\n    \n            this.for(transitionVal.length, function(i)\n            {\n                char = transitionVal[i];\n    \n                if (char === '(') inBezier = true;\n                if (char === ')') inBezier = false;\n    \n                if (char === ',' && !inBezier)\n                {\n                    map.push(block.trim());\n                    block = '';\n    \n                    // next\n                    return;\n                }\n    \n                block += char;\n    \n                if (i === transitionVal.length -1) map.push(block.trim());\n            });\n    \n            transitionSplit = map;\n        }\n    \n        this.each(transitionSplit, function(i, transition)\n        {\n            transition = transition.trim();\n    \n            // Variants of all\n            if (transition[0] === '.' || transition.startsWith('all ') ||  this.is_numeric(transition[0]))\n            {\n                transitions.all = transition.replace('all ', '');\n    \n                return false;\n            }\n    \n            var prop = transition.split(' ', 4).shift();\n    \n            transitions[prop] = transition.replace(prop, '').trim();\n    \n        }, this);\n    \n        return transitions;\n    }\n    /**\n     * Returns an object of CSS transforms by property as keys or transforms as string.\n     *\n     * @param  {node|string} DOMElement     Target element or transition value string\n     * @param  {bool}        returnAsString Returns transforms as string (optional) (default true)\n     * @return {object}\n     */\n    _.prototype.css_transform_props = function(DOMElement, returnAsString)\n    {\n        if (this.is_string(DOMElement))\n        {\n            return this.__un_css_matrix(DOMElement, returnAsString);\n        }\n    \n        returnAsString = this.is_undefined(returnAsString) ? true : returnAsString;\n    \n        let styles = this.__computed_style(DOMElement, 'transform');\n    \n        // If element is set to \"display:none\" only inline transforms will show up\n        // so we check those first\n        let inline   = this.inline_style(DOMElement, 'transform');\n        let emptys   = [undefined, '', 'none', 'unset', 'initial', 'inherit'];\n    \n        // Has inline styles - inline do not need to converted\n        if (!emptys.includes(inline))\n        {\n            return returnAsString ? inline : this.__un_css_matrix(inline, false);\n        }\n    \n        // If element is hiddien we need to display it quickly\n        // to get the CSS defined transform prop to be renderd\n        let inlineDisplay = this.inline_style(DOMElement, 'display');\n        let cssDisplay    = this.rendered_style(DOMElement, 'display');\n        let isHidden      = cssDisplay === 'none';\n    \n        // Re-get transform value\n        if (isHidden)\n        {\n            this.css(DOMElement, 'display', 'unset');\n    \n            styles = this.__computed_style(DOMElement, 'transform');\n        }\n    \n        // Doesn't have stylesheet styles\n        if (this.in_array(styles, emptys))\n        {\n            styles = styles === 'none' || styles === undefined ? '' : styles;\n        }\n    \n        // Empty return\n        if (!styles)\n        {\n            return returnAsString ? '' : {};\n        }\n    \n        // revert matrix\n        styles = this.__un_css_matrix(DOMElement, returnAsString);\n        \n        // Revert back origional styles\n        if (isHidden)\n        {\n            this.css(DOMElement, 'display', !inlineDisplay ? false : inlineDisplay);\n        }\n    \n        return returnAsString ? styles : styles;\n    }\n    \n    /**\n     * Converts an element's matrix transform value back to component transforms\n     *\n     * @access {private}\n     * @param  {DOMElement}   DOMElement     Target element\n     * @param  {bool}   returnAsString Returns string\n     * @return {string|object}\n     */\n    _.prototype.__un_css_matrix = function(DOMElement, returnAsString)\n    {\n        if (!this.is_string(DOMElement))\n        {\n            if (!DOMElement.computedStyleMap)\n            {\n                return returnAsString ? '' : {};\n            }\n    \n            var computedTransforms = DOMElement.computedStyleMap().get('transform');\n    \n            var transforms = Array.prototype.slice.call(computedTransforms).map( (x) => x.toString() ).sort().reverse();\n        }\n        else\n        {\n            var transforms = DOMElement.split(')');\n        }\n    \n        const axisMap = ['X', 'Y', 'Z'];\n    \n        const ret = {};\n    \n        this.each(transforms, function(i, transform)\n        {\n            if (transform.trim() === '') return;\n    \n            var split    = transform.split('(');\n            var bsName   = split[0].replace('3d', '');\n            var prop     = split.shift().trim();\n            var value    = split.pop().trim().replace(')', '');\n            var values   = value.split(',').map((x) => x.trim());\n            var lastChar = prop.slice(-1);\n    \n            if (prop === 'perspective')\n            {\n                ret.perspective = value;\n    \n                return;\n            }\n            \n            this.each(values, function(i, val)\n            {\n                if (i > 2) return false;\n    \n                let defltVal = prop.includes('scale') ? 1 : 0;\n                let axisProp = !axisMap.includes(lastChar) ? `${bsName}${axisMap[i]}` : bsName;\n    \n                if (prop === 'rotate')\n                {\n                    ret.rotateZ = val;\n                }\n                else if (prop === 'rotate3d')\n                {\n                    if (parseFloat(val) !== defltVal)\n                    {\n                        ret[axisProp] = values[values.length - 1];\n                    }\n                }\n                else if (parseFloat(val) === defltVal && ret[axisProp])\n                {\n                    return;\n                }\n                else\n                {\n                    ret[axisProp] = val;\n                }\n            });\n    \n        }, this);\n    \n        if (returnAsString)\n        {\n            return !this.is_empty(ret) ? this.join_obj(ret, '(', ') ') + ')' : '';\n        }\n        \n        return ret;\n    }\n    /**\n     * Returns an object of CSS transitions by transition property as keys.\n     *\n     * @param  {string} transforms A CSS transform value e.g translateY(300px) \n     * @return {object}\n     */\n    _.prototype.css_to_3d_transform = function(transformsStr)\n    {        \n        var transforms = {};\n    \n        var _this = this;\n    \n        /**\n         * Get value number\n         * \n         * @private\n         */\n        var getPropValue = function(value)\n        {\n            if (_this.is_numeric(value))\n            {\n                return parseFloat(value);\n            }\n    \n            if (_this.is_empty(value))\n            {\n                return 0;\n            }\n    \n            return parseFloat(value.replaceAll(/[^0-9-.]/g, ''));\n        }\n    \n        if (transformsStr.includes('matrix'))\n        {\n            return transformsStr;\n        }\n    \n        // Split into object\n        this.each(transformsStr.trim().split(')'), function(i, transform)\n        {\n            transform = transform.trim();\n    \n            if (transform === '') return;\n    \n            transform      = transform.split('(');\n            var prop       = transform.shift().trim();\n            var value      = transform.pop().trim();\n            var values     = value.split(',').map((x) => x.trim());\n            var valueCount = CSS_TRANSFORM_VALUES_COUNT[prop];\n    \n            if (prop === 'perspective')\n            {\n                transforms.perspective = values[0];\n            }\n            else if (valueCount === 1 || valueCount === 2)\n            {\n                var initialVal = prop === 'scale' ? 1 : 0;\n                var name3d     = valueCount === 1 ? `${prop.slice(0,-1)}3d` : `${prop}3d`;\n                    name3d     = name3d.includes('skew') ? 'skew' : name3d;\n                    name3d     = name3d === 'rotat3d' ? 'rotate3d' : name3d;\n                var key        = CSS_3D_TRANSFORM_MAP_KEYS[prop.slice(-1).toLowerCase()];\n                \n                if (this.is_empty(transforms[name3d]))\n                {\n                    transforms[name3d] = CSS_3D_TRANSFORM_DEFAULTS[name3d];\n                }\n                \n                if (prop === 'rotate')\n                {\n                    transforms.rotate3d[3] = values[0];\n                }\n                else\n                {\n                    this.each(values, function(i, value)\n                    {\n                        var compValue = parseFloat(value.replaceAll(/[^0-9]-/g, ''));\n    \n                        if (getPropValue(value) !== initialVal)\n                        {\n                            transforms[name3d][!key ? i : key] = value;\n                        }\n                    });\n                }\n            }\n            else \n            {\n                transforms[prop] = values;\n            }\n    \n        }, this);\n    \n        return transforms;\n    }\n    /**\n     * Add a css class or list of classes\n     *\n     * @access {public}\n     * @param  {DOMElement}         DOMElement Target element\n     * @param  {array|string} className  Class name(s) to add\n     */\n    _.prototype.add_class = function(DOMElement, className)\n    {    \n        if (this.is_array(DOMElement))\n        {\n            this.each(DOMElement, (i, _DOMElement) =>  this.add_class(_DOMElement, className));\n    \n            return this;\n        }\n    \n        if (this.is_array(className))\n        {\n            this.each(className, (i, _className) =>  this.add_class(DOMElement, _className));\n        \n            return this;\n        }\n    \n        if (className.includes(','))\n        {\n            this.each(this.array_filter(className.split(',')), (i, _className) => this.add_class(DOMElement, _className));\n        \n            return this;\n        }\n    \n        if (className.includes('.'))\n        {\n            this.each(this.array_filter(className.split('.')), (i, _className) => this.add_class(DOMElement, _className));\n        \n            return this;\n        }\n    \n        className = className.trim();\n    \n        if (className[0] === '.') className = className.slice(1);\n    \n        DOMElement.classList.add(className);\n    \n        return this;\n    }\n    /**\n     * Closest parent node by type/class or array of either\n     *\n     * @access {public}\n     * @param  {DOMElement}   el   Target element\n     * @param  {string} type Node type to find\n     * @return {node\\null}\n     */\n    _.prototype.closest = function(el, type)\n    {\n        // Type is class\n        if (this.is_array(type))\n        {\n            for (var i = 0; i < type.length; i++)\n            {\n                var response = this.closest(el, type[i]);\n    \n                if (response)\n                {\n                    return response;\n                }\n            }\n    \n            return null;\n        }\n    \n        // Type is class\n        if (this.is_htmlElement(type))\n        {\n            if (el === type) return true;\n            \n            let ret = false;\n    \n            this.traverse_up(el, (parent) =>\n            {\n                if (parent === type)\n                {\n                    ret = true;\n    \n                    return true;\n                }\n            });\n    \n            return ret;\n        }\n    \n        if (type[0] === '.')\n        {\n            return this.closest_class(el, type);\n        }\n    \n        type = type.toLowerCase();\n    \n        if (typeof el === 'undefined')\n        {\n            return null;\n        }\n    \n        if (el.nodeName.toLowerCase() === type)\n        {\n            return el;\n        }\n    \n        if (el.parentNode && el.parentNode.nodeName.toLowerCase() === type)\n        {\n            return el.parentNode;\n        }\n    \n        var parent = el.parentNode;\n    \n        while (parent !== document.body && typeof parent !== \"undefined\" && parent !== null)\n        {\n            parent = parent.parentNode;\n    \n            if (parent && parent.nodeName.toLowerCase() === type)\n            {\n                return parent;\n            }\n        }\n    \n    \n        return null;\n    }\n    \n    /**\n     * Closest parent node by class\n     *\n     * @access {public}\n     * @param  {DOMElement}   el   Target element\n     * @param  {string} clas Node class to find\n     * @return {node\\null}\n     */\n    _.prototype.closest_class = function(el, clas)\n    {    \n        // Type is class\n        if (this.is_array(clas))\n        {\n            for (var i = 0; i < clas.length; i++)\n            {\n                var response = this.closest_class(el, clas[i]);\n    \n                if (response)\n                {\n                    return response;\n                }\n            }\n    \n            return null;\n        }\n    \n        if (this.has_class(el, clas))\n        {\n            return el;\n        }\n    \n        if (this.has_class(el.parentNode, clas))\n        {\n            return el.parentNode;\n        }\n    \n        var parent = el.parentNode;\n    \n        if (parent === window.document)\n        {\n            return null;\n        }\n    \n        while (parent !== document.body)\n        {\n            if (this.has_class(parent, clas))\n            {\n                return parent;\n            }\n    \n            if (parent === null || typeof parent === 'undefined')\n            {\n                return null;\n            }\n    \n            parent = parent.parentNode;\n        }\n    \n        return null;\n    }\n    /**\n     * Get an element's absolute coordinates\n     *\n     * @access {public}\n     * @param  {DOMElement}   el Target element\n     * @return {object}\n     */\n    _.prototype.coordinates = function(DOMElement)\n    {\n        // If element is hiddien we need to display it quickly\n        var inlineDisplay = this.inline_style(DOMElement, 'display');\n        var hidden        = this.rendered_style(DOMElement, 'display');\n        \n        if (hidden === 'none')\n        {\n            // If the element was \"display:none\" with an inline\n            // style, remove the inline display so it defaults to\n            // whatever styles are set on in through stylesheet\n            if (inlineDisplay)\n            {\n                this.css(DOMElement, 'display', false);\n            }\n            // Otherwise set it to unset\n            else\n            {\n                this.css(DOMElement, 'display', 'unset');\n            }\n        }\n    \n        var box        = DOMElement.getBoundingClientRect();\n        var body       = document.body;\n        var docEl      = document.documentElement;\n        var scrollTop  = window.pageYOffset || docEl.scrollTop || body.scrollTop;\n        var scrollLeft = window.pageXOffset || docEl.scrollLeft || body.scrollLeft;\n        var clientTop  = docEl.clientTop || body.clientTop || 0;\n        var clientLeft = docEl.clientLeft || body.clientLeft || 0;\n        var borderL    = parseInt(this.rendered_style(DOMElement, 'border-top-width'));\n        var borderR    = parseInt(this.rendered_style(DOMElement, 'border-top-width'));\n        var borderT    = parseInt(this.rendered_style(DOMElement, 'border-top-width'));\n        var borderB    = parseInt(this.rendered_style(DOMElement, 'border-top-width'));\n        var top        = box.top + scrollTop - clientTop - borderT - borderB;\n        var left       = box.left + scrollLeft - clientLeft + borderL - borderR;\n        var width      = parseFloat(this.rendered_style(DOMElement, \"width\"));\n        var height     = parseFloat(this.rendered_style(DOMElement, \"height\"));\n    \n        if (inlineDisplay)\n        {\n            this.css(DOMElement, 'display', inlineDisplay);\n        }\n        else\n        {\n            this.css(DOMElement, 'display', false);\n        }\n        \n        return {\n            top: top,\n            left: left,\n            right: left + width,\n            bottom: top + height,\n            height: height,\n            width: width,\n        };\n    }\n    /**\n     * Get all first level children\n     *\n     * @access {public}\n     * @param  {DOMElement}   el   Target element\n     * @return {node\\null}\n     */\n    _.prototype.first_children = function(el)\n    {\n        return this.$All('> *', el);\n    }\n    /**\n     * Get all input elements from a form\n     *\n     * @access {public}\n     * @param  {DOMElement}   form Target element\n     * @return {array}\n     */\n    _.prototype.form_inputs = function(form)\n    {\n        return this.$All('input, textarea, select', form);\n    }\n    /**\n     * Get an array of name/value objects for all inputs in a form\n     *\n     * @access {public}\n     * @param  {DOMElement}   form Target element\n     * @return {array}\n     */\n    _.prototype.form_values = function(form)\n    {\n        var inputs = this.form_inputs(form);\n        var ret    = {};\n        \n        this.each(inputs, function(i, input)\n        {\n            let name = input.name;\n    \n            if (input.type === 'radio')\n            {\n                if (this.attr(input, 'checked')) ret[name] = this.input_value(input);\n            }\n            else if (input.type === 'checkbox')\n            {\n                ret[name] = this.attr(input, 'checked');\n            }\n            else\n            {\n                ret[name] = this.input_value(input);\n            }\n            if (name.includes('[]'))\n            {\n                if (!ret[name] || !this.is_array(ret[name]))\n                {\n                    ret[name] = [];\n                }\n    \n                ret[name].push(this.input_value(input));\n            }\n    \n        }, this);\n       \n        return ret;\n    }\n    /**\n     * Check if a node has a class\n     *\n     * @access {public}\n     * @param  {DOMElement}         el         Target element\n     * @param  {string|array} className  Class name(s) to check for\n     * @return {bool}\n     */\n    _.prototype.has_class = function(DOMElement, className)\n    {\n        let ret = false;\n    \n        if (this.is_array(className))\n        {\n            this.each(className, (i, _className) => { if (this.has_class(DOMElement, _className)) ret = true; return false; });\n            \n            return ret;\n        }\n    \n        if (className.includes(','))\n        {\n            this.each(this.array_filter(className.split(',')), (i, _className) => { if (this.has_class(DOMElement, _className)) ret = true; return false; });\n        \n            return ret;\n        }\n    \n        if (className.includes('.'))\n        {\n            let count = className.split('.').length;\n    \n            if (count >= 3)\n            {\n                this.each(this.array_filter(className.split('.')), (i, _className) => { ret = this.has_class(DOMElement, _className); if (!ret) return false; });\n    \n                return ret;\n            }\n        }\n    \n        className = className.trim();\n    \n        if (className[0] === '.') className = className.slice(1);\n    \n        return DOMElement.classList.contains(className);\n    }\n    /**\n     * Aria hide an element\n     *\n     * @access {public}\n     * @param  {DOMElement}   HTMLElement Target DOM node\n     */\n    _.prototype.hide_aria = function(HTMLElement)\n    {\n        if (this.is_array(HTMLElement)) return this.each(HTMLElement, (i, el) => this.hide_aria(el));\n        \n        this.attr(HTMLElement, 'aria-hidden', 'true');\n    }\n    /**\n     * Check if an element is in current viewport\n     *\n     * @access {public}\n     * @param  {DOMElement}   el Target DOM node\n     * @return {bool}\n     */\n    _.prototype.in_viewport = function(el)\n    {\n        var rect = el.getBoundingClientRect();\n    \n        return (\n            rect.top >= 0 &&\n            rect.left >= 0 &&\n            rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) && /*or $(window).height() */\n            rect.right <= (window.innerWidth || document.documentElement.clientWidth) /*or $(window).width() */\n        );\n    }\n    /**\n     * Replace or append a node's innerHTML\n     *\n     * @access {public}\n     * @param  {DOMElement}   DOMElement  Target element\n     * @param  {string} content     Target content\n     * @param  {bool}   append      Append innerHTML or replace (optional) (default false)\n     */\n    _.prototype.inner_HTML = function(DOMElement, content, append)\n    {\n        content = this.is_array(content) ? content.join(\"\\n\") : content;\n    \n        if (append)\n        {\n            DOMElement.innerHTML += content;\n        }\n        else\n        {\n            this.clear_event_listeners(DOMElement, true);\n    \n            DOMElement.innerHTML = content;\n        }\n    \n        this.trigger_event(DOMElement, `FrontBx:dom:mutate`);\n    \n        this.trigger_event(window, `FrontBx:dom:mutate`, { DOMElement: DOMElement });\n    }\n    /**\n     * Replaces element's innerText without destroying childnodes\n     *\n     * @access {public}\n     * @param  {DOMElement}   el   Target element\n     * @param  {string} text Text to replace\n     */\n    _.prototype.inner_Text = function(el, text)\n    {\n        if (el.childNodes[0])\n        {\n            el.childNodes[0].nodeValue = text;\n        }\n    }\n    /**\n     * Gets an input element's value\n     *\n     * @access {public}\n     * @param  {DOMElement}   input Target element\n     * @return {mixed}\n     */\n    _.prototype.input_value = function(input)\n    {\n        if (input.type == \"number\" || this.is_numeric(input.value))\n        {\n            return input.value.includes('.') ? parseInt(input.value) : parseFloat(input.value);\n        }\n        if (input.type == \"select\")\n        {\n            return input.options[input.selectedIndex].value;\n        }\n        if (input.type == \"file\")\n        {\n            if (input.multiple == true)\n            {\n                return input.files;\n            }\n    \n            return input.files[0];\n        }\n    \n        return input.value;\n    }\n    /**\n     * Create and insert a new node\n     *\n     * @param {object} options\n     */\n    _.prototype.dom_element = function(options, appendTo, innerHTMLOrChildren)\n    {    \n        // dom_element(null, wrappper, content);\n        if (!options && appendTo && innerHTMLOrChildren)\n        {\n            this._recursive_dom_element(innerHTMLOrChildren, appendTo);\n    \n            return appendTo;\n        }\n    \n        if (!options.tag) throw new Error('Element tag not provided.');\n    \n        let node = document.createElement(options.tag);\n    \n        delete options.tag;\n    \n        this.attr(node, options);\n    \n        if (innerHTMLOrChildren)\n        {\n            this._recursive_dom_element(innerHTMLOrChildren, node);\n        }\n    \n        if (appendTo)\n        {\n            appendTo.appendChild(node);\n        }\n    \n        return node;\n    }\n    \n    _.prototype._recursive_dom_element = function(mixedVar, parent)\n    {\n        if (this.is_htmlElement(mixedVar))\n        {\n            parent.appendChild(mixedVar);\n        }\n        else if (this.is_array(mixedVar))\n        {\n            this.each(this.array_filter(mixedVar), (i, child) =>\n            {\n                this._recursive_dom_element(child, parent);\n            }); \n        }\n        else if (this.is_object(mixedVar))\n        {\n            this.dom_element(mixedVar, node);\n        }\n        else\n        {\n            parent.innerHTML += mixedVar;\n        }\n    }\n    \n    \n    /**\n     * Traverse nextSibling untill type or class or array of either\n     *\n     * @access {public}\n     * @param  {DOMElement}   el   Target element\n     * @param  {string} type Target node type\n     * @return {node\\null}\n     */\n    _.prototype.next = function(el, type)\n    {\n        // Type is class\n        if (this.is_array(type))\n        {\n            for (var i = 0; i < type.length; i++)\n            {\n                var response = this.next(el, type[i]);\n    \n                if (response)\n                {\n                    return response;\n                }\n            }\n    \n            return null;\n        }\n    \n        if (type[0] === '.')\n        {\n            return this.next_untill_class(el, type);\n        }\n    \n        type = type.toLowerCase();\n    \n        if (el.nextSibling && el.nextSibling.nodeName.toLowerCase() === type)\n        {\n            return el.nextSibling;\n        }\n        var next = el.nextSibling;\n    \n        while (next !== document.body && typeof next !== \"undefined\" && next !== null)\n        {\n            next = next.nextSibling;\n    \n            if (next && next.nodeName.toLowerCase() === type)\n            {\n                return next;\n            }\n        }\n    \n        return null;\n    }\n    /**\n     * Traverse nextSibling untill class type or class or array of either\n     *\n     * @access {public}\n     * @param  {DOMElement}   el        Target element\n     * @param  {string} className Target node classname\n     * @return {node\\null}\n     */\n    _.prototype.next_untill_class = function(el, className)\n    {\n        if (className[0] === '.')\n        {\n            className = className.substring(1);\n        }\n    \n        if (el.nextSibling && this.has_class(el.nextSibling, className))\n        {\n            return el.nextSibling;\n        }\n    \n        var next = el.nextSibling;\n    \n        while (next !== document.body && typeof next !== \"undefined\" && next !== null)\n        {\n            if (next && this.has_class(next, className))\n            {\n                return next;\n            }\n    \n            next = next.nextSibling;\n    \n        }\n    \n        return null;\n    }\n    /**\n     * Inserts node as first child\n     *\n     * @access {public}\n     * @param  {DOMElement} node     New node to insert\n     * @param  {DOMElement} wrapper  Parent to preappend new node into\n     * @return {DOMElement}\n     */\n    _.prototype.preapend = function(node, wrapper)\n    {\n        wrapper.insertBefore(node, wrapper.firstChild);\n    \n        return node;\n    }\n    /**\n     * Traverse previousSibling untill type\n     *\n     * @access {public}\n     * @param  {DOMElement}   el   Target element\n     * @param  {string} type Target node type\n     * @return {node\\null}\n     */\n    _.prototype.previous = function(el, type)\n    {\n        // Type is class\n        if (this.is_array(type))\n        {\n            for (var i = 0; i < type.length; i++)\n            {\n                var response = this.previous(el, type[i]);\n    \n                if (response)\n                {\n                    return response;\n                }\n            }\n    \n            return null;\n        }\n    \n        if (type[0] === '.')\n        {\n            return this.previous_untill_class(el, type);\n        }\n    \n        type = type.toLowerCase();\n        if (el.previousSibling && el.previousSibling.nodeName.toLowerCase() === type) return el.previousSibling;\n        var prev = el.previousSibling;\n        while (prev !== document.body && typeof prev !== \"undefined\" && prev !== null)\n        {\n            prev = prev.previousSibling;\n            if (prev && prev.nodeName.toLowerCase() === type)\n            {\n                return prev;\n            }\n        }\n        return null;\n    }\n    /**\n     * Traverse previousSibling untill class\n     *\n     * @access {public}\n     * @param  {DOMElement}   el        Target element\n     * @param  {string} className Target node classname\n     * @return {node\\null}\n     */\n    _.prototype.previous_untill_class = function(el, className)\n    {\n        if (className[0] === '.')\n        {\n            className = className.substring(1);\n        }\n    \n        if (el.previousSibling && this.has_class(el.previousSibling, className))\n        {\n            return el.previousSibling;\n        }\n    \n        var prev = el.previousSibling;\n    \n        while (prev !== document.body && typeof prev !== \"undefined\" && prev !== null)\n        {\n            prev = prev.previousSibling;\n    \n            if (prev && this.has_class(prev, className))\n            {\n                return prev;\n            }\n        }\n    \n        return null;\n    }\n    /**\n     * Remove a css class or list of classes\n     *\n     * @access {public}\n     * @param  {DOMElement}         DOMElement Target element\n     * @param  {array|string} className  Class name(s) to remove\n     */\n    _.prototype.remove_class = function(DOMElement, className)\n    {\n        if (this.is_array(DOMElement))\n        {\n            this.each(DOMElement, (i, _DOMElement) =>  this.remove_class(_DOMElement, className));\n    \n            return this;\n        }\n    \n        if (this.is_array(className))\n        {\n            this.each(className, (i, _className) =>  this.remove_class(DOMElement, _className));\n        \n            return this;\n        }\n    \n        if (className.includes(','))\n        {\n            this.each(this.array_filter(className.split(',')), (i, _className) => this.remove_class(DOMElement, _className));\n        \n            return this;\n        }\n    \n        if (className.includes('.'))\n        {\n            this.each(this.array_filter(className.split('.')), (i, _className) => this.remove_class(DOMElement, _className));\n        \n            return this;\n        }\n    \n        className = className.trim();\n    \n        if (className[0] === '.') className = className.slice(1);\n    \n        DOMElement.classList.remove(className);\n    \n        return this;\n    }\n    /**\n     * Remove an element from the DOM\n     *\n     * This function also removes all attached event listeners\n     * \n     * @access {public}\n     * @param  {DOMElement}   el Target element\n     */\n    _.prototype.remove_from_dom = function(el)\n    {\n        if (this.is_array(el))\n        {\n            return this.each(el, (i, DOMElement) => this.remove_from_dom(DOMElement));\n        }\n    \n        if (this.in_dom(el))\n        {\n            el.parentNode.removeChild(el);\n    \n            var children = this.$All('*', el).reverse();\n    \n            for (var i = 0, len = children.length; i < len; i++)\n            {\n                this.remove_event_listener(children[i]);\n    \n                this.trigger_event(children[i], `FrontBx:dom:remove`);\n            }\n    \n            this.remove_event_listener(el);\n    \n            this.trigger_event(el, `FrontBx:dom:remove`);\n    \n            this.trigger_event(window, `FrontBx:dom:remove`, { DOMElement: el });\n        }\n    }\n    /**\n     * Get the current document scroll position\n     *\n     * @access {private}\n     * @return {obj}\n     */\n    _.prototype.scroll_pos = function(context)\n    {\n        if (context && this.is_htmlElement(context))\n        {\n            return {\n                top: context.scrollTop,\n                left: context.scrollLeft\n            };\n        }\n    \n        var doc  = document.documentElement;\n        var top  = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);\n        var left = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);\n        \n        return {\n            top: top,\n            left: left\n        };\n    }\n    /**\n     * Select single node by selector\n     *\n     * @access {public}\n     * @param  {string} selector CSS selector\n     * @param  {DOMElement}   context (optional) (default document)\n     * @return {DOMElement}\n     */\n    _.prototype.$ = function(selector, context)\n    {\n        context = (typeof context === 'undefined' ? document : context);\n    \n        let fchild = selector.trim().substring(0, 1) === '>';\n        let multi  = selector.includes(',');\n    \n        // Fast\n        if (!fchild && !multi) return context.querySelector(selector);\n    \n        if (multi) selector = selector.replaceAll(/,\\s?>/g, ', :scope >');\n        \n        if (fchild) selector = `:scope ${selector}`;\n    \n        return context.querySelector(selector);\n    }\n    \n    /**\n     * \"$\" Alias\n     *\n     */\n    _.prototype.find = function(selector, context)\n    {\n        return this.$(selector, context);\n    }\n    \n    /**\n     * Select and return all nodes by selector\n     *\n     * @access {public}\n     * @param  {string} selector CSS selector\n     * @param  {DOMElement}   context (optional) (default document)\n     * @return {DOMElement}\n     */\n    _.prototype.$All = function(selector, context, includeContextEl)\n    {\n        context = (typeof context === 'undefined' ? document : context);\n    \n        includeContextEl = (typeof includeContextEl === 'undefined' ? false : includeContextEl && context !== document);\n    \n        let fchild = selector.trim().substring(0, 1) === '>';\n        let multi  = selector.includes(',');\n        let deleteParent = false;\n    \n        if (includeContextEl)\n        {\n            if (!hasParent)\n            {\n                parent = document.createElement('div');\n                parent.appendChild(context);\n                deleteParent = true;\n            }\n    \n            context = context.parentNode;\n        }\n    \n        if (multi)  selector = selector.replaceAll(/,\\s?>/g, ', :scope >');\n        if (fchild) selector = `:scope ${selector}`;\n    \n        let ret = TO_ARR.call(context.querySelectorAll(selector));\n    \n        if (deleteParent) context.parentNode.removeChild(context);\n    \n        return ret;\n    }\n    \n    /**\n     * \"$All\" Alias\n     *\n     */\n    _.prototype.find_all = function(selector, context)\n    {\n        return this.$All(selector, context);\n    }\n    /**\n     * Aria show an element\n     *\n     * @access {public}\n     * @param  {DOMElement}   el Target DOM node\n     */\n    _.prototype.show_aria = function(HTMLElement)\n    {\n        if (this.is_array(HTMLElement)) return this.each(HTMLElement, (i, el) => this.show_aria(el));\n    \n        this.attr(HTMLElement, 'aria-hidden', 'false');\n    }\n    \n    /**\n     * Toogle a classname\n     *\n     * @access {public}\n     * @param  {DOMElement}         el         Target element\n     * @param  {string}       className  Class name to toggle\n     */\n    _.prototype.toggle_class = function(DOMElement, className)\n    {    \n        if (this.has_class(DOMElement, className))\n        {\n            this.remove_class(DOMElement, className);\n        }\n        else\n        {\n            this.add_class(DOMElement, className);\n        }\n    }\n    /**\n     * Triggers an event on an element\n     *\n     * @access {public}\n     * @param  {DOMElement}   DOMElement   Target element\n     * @param  {string}       eventName    Event name\n     * @param  {mixed}        data         Extra data to pass to custom events \n     */\n    _.prototype.trigger_event = function(DOMElement, eventName, data)\n    {\n        if (this.in_array(eventName.toLowerCase(), DOC_EVENTS))\n        {\n            if ('createEvent' in document)\n            {\n                var evt = document.createEvent('HTMLEvents');\n    \n                evt.initEvent(eventName, false, true);\n    \n                DOMElement.dispatchEvent(evt);\n            }\n            else\n            {\n                DOMElement.fireEvent(eventName);\n            }\n        }\n        else\n        {\n            // Actual object\n            if (!this.is_constructed(data) && this.is_object(data))\n            {\n                data = { ...{ DOMElement: DOMElement, name: eventName }, ...data};\n            }\n            else\n            {\n                data = { DOMElement: DOMElement, name: eventName, state: data };\n            }\n    \n            const event = new CustomEvent(eventName, { detail: data });\n    \n            DOMElement.dispatchEvent(event);\n    \n            if (eventName.includes(':'))\n            {\n                var events = eventName.split(':').slice(0, -1);\n                var base   = events.shift();\n                var count  = events.length + 1;\n    \n                this.for(count, function(i)\n                {\n                    let subevent = i === (count -1) ? base : `${base}:${events.join(':')}`;\n    \n                    data.name = eventName;\n    \n                    const evt = new CustomEvent(subevent, { detail: data });\n    \n                    DOMElement.dispatchEvent(evt);\n    \n                    events.pop();\n                });\n            }\n        }\n    }\n    /**\n     * Closest parent node by type/class or array of either\n     *\n     * @access {public}\n     * @param  {DOMElement}   el   Target element\n     * @param  {string} type Node type to find\n     * @return {node\\null}\n     */\n    _.prototype.traverse_up = function(DOMElement, callback, origional)\n    {    \n        origional = typeof origional === \"undefined\" ? DOMElement : origional;\n    \n        // Stop on document\n        if (DOMElement === document || typeof DOMElement === \"undefined\" || DOMElement === null) return;\n    \n        if (callback(DOMElement))\n        {\n            return origional;\n        }\n    \n        var parent = DOMElement.parentNode;\n    \n        return this.traverse_up(parent, callback, origional);\n    }\n    \n    _.prototype.traverse_down = function(DOMElement, callback)\n    {\n    }\n    \n    _.prototype.traverse_next = function(DOMElement, callback)\n    {\n    }\n    \n    _.prototype.traverse_prev = function(DOMElement, callback)\n    {\n    }\n    \n    /**\n     * Get an element's actual width in px\n     *\n     * @access {public}\n     * @param  {DOMElement}   DOMElement Target element\n     * @return {object}\n     */\n    _.prototype.width = function(DOMElement)\n    {\n    \tif (DOMElement === window || DOMElement === document || DOMElement === document.documentElement ) return Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\n    \n        return this.css_unit_value(this.rendered_style(DOMElement, 'width'));\n    }\n    /**\n     * Get an element's actual height in px\n     *\n     * @access {public}\n     * @param  {DOMElement}   DOMElement Target element\n     * @return {object}\n     */\n    _.prototype.height = function(DOMElement)\n    {\n        if (DOMElement === window || DOMElement === document || DOMElement === document.documentElement) return Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);\n    \n        return this.css_unit_value(this.rendered_style(DOMElement, 'height'));\n    }\n    /**\n     * Returns nth child\n     *\n     * @access {public}\n     * @param  {DOMElement}   el   Target element\n     * @return {node\\null}\n     */\n    _.prototype.nth_child = function(el, n)\n    {\n        let children = this.first_children(el);\n    \n        if (children[n]) return children[n];\n    }\n    /**\n     * Returns nth position from siblings\n     *\n     * @access {public}\n     * @param  {DOMElement}   el   Target element\n     * @return {node\\null}\n     */\n    _.prototype.nth_siblings = function(DOMElement)\n    {\n        let children = this.first_children(DOMElement.parentNode);\n    \n        for (var i = 0; i < children.length; i++)\n        {\n            if (children[i] === DOMElement) return i;\n        }\n    \n        return 0;\n    }\n    /**\n     * Add an event listener\n     *\n     * @access {public}\n     * @param  {DOMElement}    element    The target DOM node\n     * @param  {string}        eventName  Event type\n     * @param  {closure}       handler    Callback event\n     * @param  {array}         args       Args to pass to handler (first array element gets set to \"this\")\n     * @param  {boolean}       pushfirst  If boolean (true) is provided, pushes callback to first in stack (default false)\n     */\n    _.prototype.on = function()\n    {\n        return this.add_event_listener(...arguments);\n    }\n    \n    /**\n     * Add an event listener\n     *\n     * @access {public}\n     * @param  {DOMElement}    element    The target DOM node\n     * @param  {string}        eventName  Event type\n     * @param  {closure}       handler    Callback event\n     * @param  {array}         args       Args to pass to handler (first array element gets set to \"this\")\n     * @param  {boolean}       pushfirst  If boolean (true) is provided, pushes callback to first in stack (default false)\n     */\n    _.prototype.add_event_listener = function(DOMElement, eventName, handler)\n    {    \n        var args = TO_ARR.call(arguments);\n    \n        // Multiple elements\n        if (this.is_array(DOMElement))\n        {\n            var baseArgs = args.slice(1);\n    \n            this.each(DOMElement, function(i, el)\n            {            \n                this.add_event_listener.apply(this, [el, ...baseArgs]);\n    \n            }, this);\n        }\n        else\n        {\n            // If event has a comma or is an array we're doing multiple events\n            if (this.is_array(eventName) || eventName.includes(','))\n            {\n                let eventsArr = this.is_array(eventName) ? eventName : eventName.split(',').map((x) => x.trim()).filter((x) => x !== '');\n    \n                this.each(eventsArr, function(i, event)\n                {\n                    args[1] = event;\n    \n                    this.add_event_listener.apply(this, args);\n                    \n                }, this);\n    \n                return;\n            }\n    \n            // If array of arguments is provided, \"this\" will always be the first\n            // argument provided\n            // However the first and second argument passed to the callback will always the event object and the element\n            // e.g. add_event_listener(el, 'click', callback, ['baz', 'foo', 'bar']) -> callback(e, el, foo, bar) this = 'baz'\n    \n            // Remove element, eventName, handler from args\n            let argsNormal = this.__normaliseListenerArgs(DOMElement, args);\n    \n            this.__addListener(DOMElement, eventName, handler, argsNormal.thisArg, argsNormal.args, argsNormal.pushFirst);\n        }\n    }\n    \n    /**\n     * Nomralize event listener args\n     * \n     * @param  {DOMElement}    DOMElement   The target DOM node\n     * @param  {array}         args         Args passed to add_event_listener or remove_event_listener\n     */\n    _.prototype.__normaliseListenerArgs = function(DOMElement, args)\n    {\n        // Remove DOMElement, eventName, handler\n        args = args.slice(3);\n    \n        // Default \"this\" to the dom element\n        let thisArg   = DOMElement;\n        let pushFirst = false;\n    \n        // Push first\n        if (!this.is_empty(args))\n        {\n            thisArg   = args.shift();\n            pushFirst = this.bool(args.shift());\n        }\n    \n        return {args, thisArg, pushFirst};\n    }\n    \n    /**\n     * Adds a listener to the element\n     *\n     * @access {private}\n     * @param  {DOMElement}    element    The target DOM node\n     * @param  {string}  eventName  Event type\n     * @param  {closure} handler    Callback event\n     * @param  {bool}    data Use capture (optional) (defaul false)\n     */\n    _.prototype.__addListener = function(element, eventName, callback, thisArg, args, pushFirst)\n    {\n        // Apply GUID to element and callback\n        element.guid = element.guid || (element.guid = this._guidgen());\n        callback.guid    = callback.guid || (callback.guid = this._guidgen());\n    \n        let hasHandler = true;\n        let guid       = element.guid;\n    \n        // Make sure an array for event type exists\n        if (!this._events[guid])\n        {\n            hasHandler = false;\n    \n            this._events[guid] = {};\n        }\n    \n        if (!this._events[guid][eventName])\n        {\n            hasHandler = false;\n    \n            this._events[guid][eventName] = [];\n        }\n    \n        // Push the details to the events object\n        const handlerObj = {callback, thisArg, args, element};\n        \n        pushFirst ? this._events[guid][eventName].unshift(handlerObj) : this._events[guid][eventName].push(handlerObj);\n    \n        if (!hasHandler)\n        {\n            element.addEventListener(eventName, this.__event_dispatcher);\n        }\n    }\n    \n    /**\n     * Event dispatcher\n     *\n     * @access {private}\n     * @param  {eventObject}  e  \n     */\n    _.prototype.__event_dispatcher = function(e)\n    {\n        e = e || window.event;\n    \n        let DOMElement = this;\n    \n        let guid = DOMElement.guid;\n    \n        if (!guid) return;\n    \n        let callbacks =  _THIS._events[guid][e.type] || [];\n    \n        _THIS.each(callbacks, (i, handler) =>\n        {        \n            if (handler)\n            {\n                let handled = handler.callback.apply(handler.thisArg, [e, DOMElement, ...handler.args]);\n    \n                if (handled === false || handled === null)\n                {\n                    e.preventDefault();\n    \n                    e.stopPropagation();\n    \n                    if (handled === null) return false;\n                }\n            }\n        });\n    }\n    \n    /**\n     * Removes all event listeners registered by the library\n     *\n     * @access {public}\n     */\n    _.prototype.clear_event_listeners = function(DOMElement, onlyChildren)\n    {\n        DOMElement = this.is_undefined(DOMElement) ? document : DOMElement;\n    \n        onlyChildren = this.is_undefined(onlyChildren) ? false : onlyChildren;\n    \n        if (DOMElement !== document)\n        {\n            let children = this.find_all('*', DOMElement).reverse();\n    \n            this.each(children, (i, child) => this.off(child));\n    \n            if (!onlyChildren) this.off(DOMElement);\n            \n            return;\n        }\n    \n        var events = this._events;\n    \n        let _this = this;\n    \n        _this.each(this._events, (guid, types) =>\n        {\n            _this.each(types, (type, callbacks) =>\n            {\n                let DOMElement = callbacks[0].element;\n                \n                _this.__remove_listener(DOMElement, type);\n            });\n        });\n    \n        this._events = {};\n    \n    \n    \n    }\n    /**\n     * Removes all event listeners registered by the library on nodes\n     * that are no longer part of the DOM tree\n     *\n     * @access {public}\n     */\n    _.prototype.collect_garbage = function()\n    {\n        let _this = this;\n    \n        _this.each(this._events, (guid, types) =>\n        {\n            var cleared = false;\n    \n            _this.each(types, (type, callbacks) =>\n            {\n                let DOMElement = callbacks[0].element;\n    \n                if (!this.in_dom(DOMElement))\n                {\n                    cleared = true;\n    \n                    _this.__remove_listener(DOMElement, type);\n                }\n            });\n    \n            if (cleared) delete this._events[guid];\n        });\n    }\n    /**\n     * Removes event listeners on a DOM node\n     *\n     * If no element given, all attached event listeners are returned.\n     * If no event name is given, all attached event listeners are returned on provided element.\n     * If single arguement is provided and arg is a string, e.g 'click', all events of that type are returned\n     * \n     * @access {public}\n     * @param  {mixed}   element    The target DOM node\n     * @param  {string}  eventName  Event type\n     * @return {array}\n     */\n    _.prototype.event_listeners = function(DOMElement, eventName)\n    {\n        var args = TO_ARR.call(arguments);\n        var ret  = [];\n    \n        // No args, return all events\n        if (args.length === 0)\n        {\n            this.each(this._events, function(guid, types)\n            {\n                this.each(types, function(type, callbacks)\n                {\n                    let summary = callbacks.map( (details) => ({ el: details.element, callback: details.callback, type: type }) );\n    \n                    ret = [...ret, ...summary];\n                });\n    \n            }, this);\n    \n            return ret;\n        }\n        \n        // eventListeners(node) or\n        // eventListeners('click')\n        else if (args.length === 1)\n        {\n            // eventListeners('click')\n            if (this.is_string(DOMElement))\n            {   \n                this.each(this._events, function(guid, types)\n                {\n                    this.each(types, function(type, callbacks)\n                    {\n                        if (type === DOMElement)\n                        {\n                            let summary = callbacks.map( (details) => ({ el: details.element, callback: details.callback, type: type }) );\n    \n                            ret = [...ret, ...summary];\n                        }\n                    });\n    \n                }, this);\n    \n                return ret;\n            }\n            \n            // eventListeners(node)\n            let guid = DOMElement.guid;\n    \n            if (!guid || !this._events[guid]) return ret;\n    \n            this.each(this._events[guid], function(type, callbacks)\n            {\n                let summary = callbacks.map( (details) => ({ el: details.element, callback: details.callback, type: type }) );\n    \n                ret = [...ret, ...summary];\n    \n            }, this);\n    \n            return ret;\n        }\n    \n        // eventListeners(node)\n        let guid = DOMElement.guid;\n    \n        if (!guid || !this._events[guid] || !this._events[guid][eventName]) return ret;\n    \n        this.each(this._events[guid][eventName], function(i, details)\n        {\n            ret.push({ el: details.element, callback: details.callback, type: eventName });\n    \n        }, this);\n    \n        return ret;\n    }\n    /**\n     * Add an event listener\n     *\n     * @access {public}\n     * @param  {DOMElement}    element    The target DOM node\n     * @param  {string}        eventName  Event type\n     * @param  {closure}       handler    Callback event\n     * @param  {array}         args       Args to pass to handler (first array element gets set to \"this\")\n     * @param  {boolean}       pushfirst  If boolean (true) is provided, pushes callback to first in stack (default false)\n     */\n    _.prototype.off = function()\n    {\n        return this.remove_event_listener(...arguments);\n    }\n    \n    /**\n     * Remove an event listener\n     *\n     * @access {public}\n     * @param  {DOMElement}    element    The target DOM node\n     * @param  {string}        eventName  Event type\n     * @param  {closure}       handler    Callback event\n     * @param  {array}         args       Args to pass to handler (first array element gets set to \"this\")\n     * @param  {boolean}       pushfirst  If boolean (true) is provided, pushes callback to first in stack (default false)\n     */\n    _.prototype.remove_event_listener = function(DOMElement, eventName, handler)\n    {\n        var args = TO_ARR.call(arguments);\n    \n        if (this.is_array(DOMElement))\n        {\n            var baseArgs = args.slice(1);\n    \n            this.each(DOMElement, function(i, el)\n            {            \n                this.remove_event_listener.apply(this, [el, ...baseArgs]);\n            \n            }, this);\n        }\n        else\n        {\n            // If the eventName name was not provided - remove all event handlers on element\n            if (!eventName)\n            {\n                return this.__remove_element_listeners(DOMElement);\n            }\n    \n            // If event has a comma or is an array we're doing multiple events\n            if (this.is_array(eventName) || eventName.includes(','))\n            {\n                let eventsArr = this.is_array(eventName) ? eventName : eventName.split(',').map((x) => x.trim()).filter((x) => x !== '');\n    \n                this.each(eventsArr, function(i, event)\n                {\n                    args[1] = event;\n    \n                    this.remove_event_listener.apply(this, args);\n                    \n                }, this);\n    \n                return;\n            }\n    \n            // If the callback was not provided - remove all events of the type on the element\n            if (!handler)\n            {\n                return this.__remove_element_type_listeners(DOMElement, eventName);\n            }\n            \n            let guid = DOMElement.guid;\n    \n            // Nothing to remove\n            if (!guid) return;\n    \n            let handlers = this.array_get(`${guid}.${eventName}`, this._events);\n    \n            // Nothing to remove\n            if (!handlers) return;\n    \n            // Loop stored events and match node, event name, handler, use capture\n            this.each(handlers, function(i, _handler)\n            {            \n                if (_handler.callback.guid === handler.guid || this.is_equal(_handler.callback, handler))\n                {\n                    this._events[guid][eventName].splice(i, 1);\n    \n                    if (this.is_empty(this._events[guid][eventName]))\n                    {\n                        delete this._events[guid][eventName];\n    \n                        this.__remove_listener(DOMElement, eventName);\n                    }\n    \n                    if (this.is_empty(this._events[guid]))\n                    {\n                        delete this._events[guid];\n                    }\n                    \n                    // Break only remove first\n                    return false;\n                } \n            \n            }, this);\n        }\n    }\n    \n    /**\n     * Removes all registered event listeners on an element\n     *\n     * @access {private}\n     * @param  {DOMElement} DOMElement Target node element\n     */\n    _.prototype.__remove_element_listeners = function(DOMElement)\n    {\n        let guid = DOMElement.guid;\n    \n        if (!guid) return;\n    \n        if (this._events[guid])\n        {\n            this.each(this._events[guid], function(type, callbacks)\n            {\n                this.__remove_listener(DOMElement, type);\n                \n            }, this);\n        }\n    \n        delete this._events[guid];\n    }\n    \n    /**\n     * Removes all registered event listeners of a specific type on an element\n     *\n     * @access {private}\n     * @param  {DOMElement} DOMElement Target node element\n     * @param  {string}     type       Event listener type\n     */\n    _.prototype.__remove_element_type_listeners = function(DOMElement, type)\n    {\n        let guid = DOMElement.guid;\n    \n        if (!guid) return;\n    \n        // Make sure an array for event type exists\n        if (this._events[guid] && this._events[guid][type])\n        {\n            delete this._events[guid][type];\n    \n            this.__remove_listener(DOMElement, type);\n    \n            if (this.is_empty(this._events[guid]))\n            {\n                delete this._events[guid];\n            }\n        }\n    }\n    \n    /**\n     * Removes a listener from the element\n     *\n     * @access {private}\n     * @param  {DOMElement} DOMElement The target DOM node\n     * @param  {string}     eventType  Event type\n     * @param  {closure}    handler    Callback event\n     * @param  {bool}       useCapture Use capture (optional) (defaul false)\n     */\n    _.prototype.__remove_listener = function(DOMElement, eventType)\n    {    \n        DOMElement.removeEventListener(eventType, this.__event_dispatcher);\n    }\n    \n    /**\n     * Is this a mobile user agent?\n     *\n     * @return {bool}\n     */\n    _.prototype.is_retina = function()\n    {\n        var mediaQuery = \"(-webkit-min-device-pixel-ratio: 1.5),\\\n                          (min--moz-device-pixel-ratio: 1.5),\\\n                          (-o-min-device-pixel-ratio: 3/2),\\\n                          (min-resolution: 1.5dppx)\";\n    \n        if (window.devicePixelRatio > 1)\n        {\n            return true;\n        }\n    \n        if (window.matchMedia && window.matchMedia(mediaQuery).matches)\n        {\n            return true;\n        }\n    \n        return false;\n    }\n    \n    /**\n     * Parse url\n     *\n     * @param  {string}    str       The URL to parse. Invalid characters are replaced by _.\n     * @return {object}\n     */\n    _.prototype.parse_url = function(str)\n    {\n        var ret = {};\n        var url = new URL(str);\n    \n        if (url.search)\n        {\n            var queries = url.search.substring(1).split('&');\n            var qret    = {};\n            \n            this.each(queries, function(i, query)\n            {\n                if (query.includes('='))\n                {\n                    var set   = query.split('=');\n                    var key   = decodeURI(set[0].trim());\n                    var val   = true;\n    \n                    if (set.length === 2)\n                    {\n                        val = set[1].trim();\n                    }\n    \n                    if (key !== '' && val !== '')\n                    {\n                        qret[key] = val;\n                    }\n                }\n                else\n                {\n                    qret[query] = true;\n                }\n            });\n    \n            url.query = qret;\n        }\n    \n        return url;\n    }\n    /**\n     * Gets url query\n     *\n     * @access {public}\n     * @param  {string}  name String query to get (optional)\n     * @return {object|string}\n     */\n    _.prototype.url_query = function(name)\n    {\n        var results = {};\n    \n        if (window.location.search !== '')\n        {\n            var params = window.location.search.substring(1).split('&');\n    \n            for (var i = 0; i < params.length; i++)\n            {\n                if (!params[i].includes('='))\n                {\n                    continue;\n                }\n    \n                var split = params[i].split('=');\n    \n                results[decodeURIComponent(split[0])] = decodeURIComponent(split[1]);\n            }\n        }\n    \n        // No param return all url query\n        if (typeof name === 'undefined')\n        {\n            return results;\n        }\n    \n        name = decodeURIComponent(name);\n    \n        if (name in results)\n        {\n            return results[name];\n        }\n    \n        return false;\n    }\n    /**\n     * Normalises a url\n     *\n     * @access {public}\n     * @param  {string}  url The url to normalise\n     * @return {string}\n     */\n    _.prototype.normalize_url = function(url)\n    {\n        // Remove www.\n        if (url.startsWith('www.') || url.includes('//www.')) url = url.replace('www.', '');\n    \n        // Back dirs\n        if (url.startsWith('../'))\n        {\n            let paths = this.parse_url(this.trim(window.location.href, '/')).pathname.split('/');\n    \n            if (!this.is_empty(paths))\n            {\n                // Remove file\n                if (paths.slice(-1).includes('.')) paths.pop();\n    \n                let backs = url.split('../').length;\n    \n                this.for(backs, () => paths.pop());\n    \n                url = '/' + this.trim(`${paths.join('/')}/${url.replace(/\\.\\.\\//g, '')}`, '/');\n            }\n        }\n    \n        // Local\n        if (url[0] === '/') url = window.location.origin + url;\n    \n        // Add protocol\n        if (!url.startsWith('https') && !url.startsWith('http')) url = `${window.location.protocol}//${url}`;\n    \n        return url;\n    }\n    /**\n     * Clones any variables\n     * \n     * @param   {mixed}  mixed_var\n     * @param   {mixed}  context   Context to bind functions\n     * @returns {mixed}\n     */\n    _.prototype.clone_deep = function(mixed_var, context)\n    {\n        return this.__clone_var(mixed_var, this.is_undefined(context) ? mixed_var : context);\n    }\n    \n    /**\n     * Clone's variable with context.\n     * \n     * @param   {mixed}  mixed_var  Variable to clone\n     * @param   {mixed}  context    Context when cloning recursive objects and arrays.\n     * @returns {mixed}\n     */\n    _.prototype.__clone_var = function(mixed_var, context)\n    {\n        let tag = this.var_type(mixed_var);\n    \n        switch (tag)\n        {\n            case OBJECT_TAG:\n                return this.__clone_obj(mixed_var, context);\n    \n            case ARRAY_TAG:\n            case NODELST_TAG:\n            case ARGS_TAG:\n                return this.__clone_array(mixed_var, context);\n    \n            case FUNC_TAG:\n                return this.__clone_func(mixed_var, context);\n    \n            case NULL_TAG:\n                return null;\n    \n            case UNDEF_TAG:\n                return;\n    \n            case BOOL_TAG:\n                return mixed_var === true ? true : false;\n    \n            case STRING_TAG:\n                return mixed_var.slice();\n    \n            case NUMBER_TAG:\n                let n = mixed_var;\n                return n;\n    \n            case REGEXP_TAG:\n                return this.__clone_RegExp(mixed_var, context);\n    \n            case SYMBOL_TAG:\n                return this.__clone_symbol(mixed_var);\n    \n            case DATE_TAG:\n                return this.__clone_date(mixed_var);\n    \n            case SET_TAG:\n                return this.__clone_set(mixed_var, context);\n    \n            case MAP_TAG:\n                return this.__clone_map(mixed_var, context);\n    \n            case ARRAY_BUFFER_TAG:\n                return this.__clone_array_buffer(mixed_var);\n    \n            case DATAVIEW_TAG:\n                return this.__clone_data_view(mixed_var);\n    \n            case ARRAY_BUFFER_TAG:\n                return this.__clone_buffer(mixed_var);\n    \n            case FLOAT32_TAG:\n            case FLOAT64_TAG:\n            case INT8_TAG:\n            case INT16_TAG:\n            case INT32_TAG:\n            case UINT8_TAG:\n            case UINT8CLAMPED_TAG:\n            case UINT16_TAG:\n            case UINT32_TAG:\n                return this.__clone_typed_array(object);\n    \n            case ERROR_TAG:\n            case WEAKMAP_TAG:\n                return {};\n        }\n    \n        return mixed_var;\n    }\n    \n    /**\n     * Clones an object\n     * \n     * @param   {object}  obj\n     * @returns {object}\n     */\n    _.prototype.__clone_obj = function(obj, context)\n    {\n        // Shallow keys\n        let keys = this.object_props(obj);\n        let ret  = {};\n    \n        // Empty object\n        if (keys.length === 0 || this.is_empty(obj))\n        {\n            return ret;\n        }\n    \n        this.each(keys, function(i, key)\n        {\n            ret[key] = this.clone_deep(obj[key], context);\n    \n        }, this);\n    \n        // Clone prototypes\n        let protos = this.prototypes(obj);\n    \n        if (protos.length >= 1)\n        {\n            let curr = ret;\n    \n            while(protos.length > 0)\n            {\n                let proto        = protos.shift();\n                let clone        = this.clone_deep(proto, context);\n                clone.constrctor = this.clone_deep(proto.constructor, context);\n                \n                Object.setPrototypeOf(curr, clone);\n                \n                curr = clone;\n            }\n        }\n    \n        return ret;\n    }\n    \n    /**\n     * Clones a function\n     * \n     * @param   {function}  function\n     * @param   {mixed}     context   Context to bind function\n     * @returns {function}\n     */\n    _.prototype.__clone_func = function(func, context)\n    {\n        return this.bind(func, context);\n    }\n    \n    /**\n     * Clones an array\n     * \n     * @param   {array}  arr\n     * @returns {array}\n     */\n    _.prototype.__clone_array = function(arr, context)\n    {\n        let ret = [];\n    \n        this.each(arr, function(i, val)\n        {\n            ret[i] = this.clone_deep(val, context);\n        \n        }, this);\n    \n        return ret;\n    }\n    \n    _.prototype.__clone_date = function(d)\n    {\n        let r = new Date();\n    \n        r.setTime(d.getTime());\n    \n        return r;\n    }\n    \n    _.prototype.__clone_symbol = function(symbol)\n    {\n        return Object(Symbol.prototype.valueOf.call(symbol));\n    }\n    \n    _.prototype.__clone_RegExp = function(regexp)\n    {\n        let reFlags = /\\w*$/;\n    \n        let result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n    \n        result.lastIndex = regexp.lastIndex;\n    \n        return result;\n    }\n    \n    _.prototype.__clone_map = function(m, context)\n    {\n        const ret = new Map();\n    \n        m.this.each((v, k) =>\n        {\n            ret.set(k, this.clone_deep(v, context));\n        \n        }, this);\n    \n        return ret;\n    }\n    \n    _.prototype.__clone_set = function(s, context)\n    {\n        const ret = new Set();\n    \n        s.this.each((val, k) =>\n        {\n            ret.add(k, this.clone_deep(v, context));\n        \n        }, this);\n    \n        return ret;\n    }\n    \n    _.prototype.__clone_array_buffer = function(arrayBuffer)\n    {\n        const result = new arrayBuffer.constructor(arrayBuffer.byteLength)\n    \n        new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n    \n        return result;\n    }\n    \n    _.prototype.__clone_data_view = function(dataView)\n    {\n        const buffer = this.__clone_array_buffer(dataView.buffer);\n    \n        return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n    }\n    \n    /**\n     * Creates a clone of `buffer`.\n     *\n     * @param   {Buffer}   buffer   The buffer to clone.\n     * @param   {boolean} [isDeep]  Specify a deep clone.\n     * @returns {Buffer}   Returns  the cloned buffer.\n     */\n    _.prototype.__clone_buffer = function(buffer)\n    {\n        const length = buffer.length;\n    \n        const result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n    \n        buffer.copy(result);\n    \n        return result;\n    }\n    \n    /**\n     * Creates a clone of `typedArray`.\n     *\n     * @private\n     * @param {Object} typedArray The typed array to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned typed array.\n     */\n    _.prototype.__clone_typed_array = function(typedArray)\n    {\n        const buffer = this.__clone_array_buffer(typedArray.buffer);\n    \n        return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n    }\n    \n    /**\n     * Binds a function so that it can be identified.\n     * \n     * @param   {function}  func    Function to bind\n     * @param   {mixed}     context Context to bind \"this\"\n     * @returns {function}\n     */\n    _.prototype.bind = function(func, context)\n    {\n        context = typeof context === 'undefined' ? window : context;\n    \n        const bound = function()\n        {\n            return func.apply(context, arguments);\n        }\n    \n        Object.defineProperty(bound, 'name', { value: func.name });\n    \n        bound.__isBound      = true;\n        bound.__boundContext = context;\n        bound.__origional    = func;\n    \n        return bound;\n    }\n    /**\n     * Creates a new object in 'dot.notation'\n     * \n     * @param   {Object} obj Object\n     * @returns {Object} \n     */\n    _.prototype.dotify = function(obj)\n    {\n        var res = {};\n    \n        function recurse(obj, current)\n        {\n            for (var key in obj)\n            {\n                var value = obj[key];\n                var newKey = (current ? current + '.' + key : key); // joined key with dot\n    \n                if (value && typeof value === 'object' && !(value instanceof Date))\n                {\n                    recurse(value, newKey); // it's a nested object, so do it again\n                }\n                else\n                {\n                    res[newKey] = value; // it's not an object, so set the property\n                }\n            }\n        }\n    \n        recurse(obj);\n    \n        return res;\n    }\n    /**\n     * Extends a function with prototype inheritance.\n     *\n     * @param   {function}           superType    Base function to extend\n     * @param   {function}           subType  Function to get extended.\n     * @param   {undefined|boolean}  callSuper   If true \"subType\" is treated as a constructor and the superType / any nested prototypes will get instantiated. (default true)\n     * @returns {function}\n     */\n    _.prototype.extend = function(base, extension)\n    {\n        const _this = this;\n    \n        function proxySuper(superFn, fn)\n        {\n            return function()\n            {\n                var tmp = this.super;\n                \n                this.super = superFn;\n                \n                var ret = fn.apply(this, arguments);\n                \n                this.super = tmp;\n    \n                return ret;\n            }\n        }\n    \n        function Class() {}\n    \n        Class.extend = function(protoProps)\n        {\n            var parent = this, _super = parent.prototype, child;\n    \n            if (protoProps && protoProps.hasOwnProperty('constructor'))\n            {\n                child = proxySuper(parent, protoProps.constructor);\n                \n                delete protoProps.constructor; // remove constructor\n            }\n            else\n            {\n                child = function()\n                {\n                    parent.apply(this, arguments);\n                };\n            }\n    \n            var prototype = Object.create(parent.prototype,\n            {\n                constructor:\n                {\n                    value: child,\n                    enumerable: false,\n                    writable: true,\n                    configurable: true\n                }\n            });\n    \n            for (var name in protoProps)\n            {\n                prototype[name] = _this.is_function(protoProps[name]) && _this.is_function(_super[name]) && /\\bsuper\\b/.test(protoProps[name])\n                ? proxySuper(_super[name], protoProps[name]) : protoProps[name];\n            }\n    \n            child.prototype = prototype;\n            child.extend = Class.extend;\n    \n            return child;\n        };\n    \n        if (this.var_type(base) !== this.var_type(extension)) throw new Error('Extended variables need to be the same type.');\n    \n        if (this.is_object(base)) return this.extend_obj(base, extension);\n    \n        const baseProto   = base.prototype;\n        const extendProto = extension.prototype;\n    \n        if (!baseProto.hasOwnProperty('constructor')) baseProto['constructor'] = base;\n       \n        if (!extendProto.hasOwnProperty('constructor')) extendProto['constructor'] = extension;\n        \n        var b = Class.extend(baseProto);\n    \n        var e = b.extend(extendProto);\n    \n        Object.defineProperty(e, 'name', { value: extension.name, writable: false });\n    \n        return e;\n    }\n    \n    /**\n     * Extends a function with prototype inheritance.\n     *\n     * @param   {function}           superType    Base function to extend\n     * @param   {function}           subType  Function to get extended.\n     * @param   {undefined|boolean}  callSuper   If true \"subType\" is treated as a constructor and the superType / any nested prototypes will get instantiated. (default true)\n     * @returns {function}\n     */\n    _.prototype.extend_obj = function(base, extension)\n    {\n        const extProto  = this.prototypes(extension);\n        const baseProto = this.prototypes(base);\n    \n        // Plain objects\n        if (this.is_empty(extProto) && this.is_empty(baseProto)) return {...base, ...extension};\n    \n        const newProto = new (function() {});\n        \n        Object.setPrototypeOf(newProto, base);\n    \n        this.each(extProto, (i, proto) =>\n        {\n            this.each(proto, (k, v) =>\n            {\n                newProto[k] = v;\n            })\n    \n        }, this);\n    \n        Object.defineProperty(newProto, 'name', { value: 'Class', writable: false });\n    \n        Object.setPrototypeOf(extension, newProto);\n    \n        return extension;\n    }\n    \n    \n    /**\n     * Joins an object into a string\n     * \n     * @param   {Object} obj       Object\n     * @param   {string} seperator Seperator Between key & value\n     * @param   {string} glue      Glue between value and next key\n     * @returns {string} \n     */\n    _.prototype.join_obj = function(obj, seperator, glue, recursive, trimLast)\n    {\n        seperator = this.is_undefined(seperator) ? '' : seperator;\n        glue      = this.is_undefined(glue) ? '' : glue;\n        recursive = this.is_undefined(recursive) ? false : recursive;\n        trimLast  = this.is_undefined(trimLast)  ? true : trimLast;\n        \n        var ret = '';\n    \n        this.each(obj, function(key, val)\n        {\n            if (this.is_object(val))\n            {\n                val = recursive ? '{' + this.join_obj(val, seperator, glue, recursive, trimLast) + '}' : {};\n            }\n            else if (this.is_array(val))\n            {\n                val = recursive ? this.join_obj(val, seperator, glue, recursive, trimLast) : val.join(', ').replaceAll('[object Object]', '{}');\n            }\n            else\n            {            \n                val = `${val}`;\n            }\n    \n            ret += `${glue}${key}${seperator}${val}`;\n    \n        }, this);\n    \n        if (ret === `${glue}${seperator}` || ret.trim() === '') return '';\n    \n        return trimLast ? this.rtrim(this.ltrim(ret, glue), seperator) : this.ltrim(ret, glue).trim() + glue;\n    }\n    /**\n     * Deep merge two objects.\n     * \n     * @param   {object} target\n     * @param   {object} ...sources\n     * @returns {object}\n     */\n    _.prototype.merge_deep = function()\n    {\n        let args = TO_ARR.call(arguments);\n    \n        // No args\n        if (args.length === 0)\n        {\n            throw new Error('Nothing to merge.');\n        }\n        // Single arg\n        else if (args.length === 1)\n        {\n            return args[1];\n        }\n    \n        // Must be an object\n        if (!this.is_object(args[0]))\n        {\n            throw new Error('Arguments must be an object.');\n        }\n    \n        // Remove first and cache\n        let first = args.shift();\n    \n        this.each(args, function(i, arg)\n        {\n            if (!this.is_object(arg))\n            {\n                throw new Error('Arguments must be an object.');\n            }\n    \n            let cloned = this.clone_deep(arg, first);\n    \n            this.each(cloned, function(k, v)\n            {\n                first[k] = v;\n            });\n            \n        }, this);\n    \n        return first;\n    }\n    /**\n     * Returns object properties and methods as array of keys.\n     * \n     * @param   {mixed}    mixed_var    Variable to test\n     * @param   {boolean}  withMethods  Return methods and props (optional) (default \"true\")\n     * @returns {array}\n     */\n    _.prototype.object_props = function(mixed_var, deep)\n    {\n        if (!mixed_var) return [];\n    \n        deep = typeof deep === 'undefined' ? false : deep;\n    \n        let keys = Object.keys(mixed_var);\n    \n        let proto = mixed_var.prototype || Object.getPrototypeOf(mixed_var);\n    \n        if (deep)\n        {\n            keys = [...keys, ...this.object_props(proto, true)];\n        }\n        \n        return this.array_unique(keys);\n    }\n    \n    \n    /**\n     * Returns an array of prototypes\n     * \n     * @param   {mixed}    mixed_var    Variable to test\n     * @param   {boolean}  withMethods  Return methods and props (optional) (default \"true\")\n     * @returns {array}\n     */\n    _.prototype.prototypes = function(mixed_var)\n    {\n        let ret = [];\n    \n        if (!mixed_var) return ret;\n    \n        const _this = this;\n    \n        const recursive = function(obj)\n        {\n            let proto = obj.prototype || Object.getPrototypeOf(obj);\n    \n            // No prototype\n            if (!proto) return;\n    \n            // Prototype is native object\n            let protokeys = Object.getOwnPropertyNames(proto);\n    \n            if (protokeys.filter(x => !EMPTY_OBJ_KEYS.includes(x)).length === 0) return;\n    \n            ret.push(proto);\n    \n            recursive(proto);\n        }\n    \n        recursive(mixed_var);\n    \n        return ret;\n    }\n    \n    \n    /**\n     * Returns object properties and methods as array of keys.\n     * \n     * @param   {mixed}    mixed_var    Variable to test\n     * @param   {boolean}  withMethods  Return methods and props (optional) (default \"true\")\n     * @returns {array}\n     */\n    _.prototype.flatten_obj = function(obj, deep)\n    {\n        deep = typeof deep === 'undefined' ? false : deep;\n    \n        var ret = {};\n    \n        this.each(obj, (k,v) => ret[k] = v);\n       \n        if (deep)\n        {\n            let proto = mixed_var.prototype || Object.getPrototypeOf(mixed_var);\n    \n            ret = {...ret, ...this.flatten_obj(proto, true)};\n        }\n        \n        return ret;\n    }\n    _.prototype.camel_case_to_hyphen = function(str)\n    {\n        if (str === str.toLowerCase()) return str;\n        \n        return str.replace(/([a-z])([A-Z])/g, '$1-$2').replace(/\\b([A-Z]+)([A-Z])([a-z])/, '$1-$2$3').toLowerCase();\n    }\n    /**\n     * Json encode\n     * \n     * @param  {mixed} str String JSON\n     * @return {object|false}\n     */\n    _.prototype.json_decode = function(str)\n    {\n        var obj;\n        try\n        {\n            obj = JSON.parse(str);\n        }\n        catch (e)\n        {\n            return false;\n        }\n        return obj;\n    }\n    /**\n     * Json encode\n     * \n     * @param  {mixed} str String JSON\n     * @return {object|false}\n     */\n    _.prototype.json_encode = function(str)\n    {\n        var obj;\n        try\n        {\n            obj = JSON.stringify(str);\n        }\n        catch (e)\n        {\n            return false;\n        }\n        return obj;\n    }\n    /**\n     * Left trim string \n     * \n     * @param  {str}           str\n     * @return {array|string} charlist (optional)\n     */\n    _.prototype.ltrim = function(str, charlist)\n    {\n        // Special fast cases\n        if (!charlist) return str.trimStart();\n    \n        if (this.is_string(charlist))\n        {\n            return str.slice(0, charlist.length) === charlist ? str.replace(charlist, '') : str;\n        }\n    \n        var ret = str;\n    \n        this.each(charlist, function(i, char)\n        {\n            if (str.slice(0, char.length) === char)\n            {\n                ret = str.replace(char, '');\n                \n                // break            \n                return false;\n            }\n    \n        }, this);\n    \n        return ret;\n    }\n    \n    \n    /**\n     * Make a random string\n     *\n     * @param  {int}    length String length\n     * @return {string}\n     */\n    _.prototype.makeid = function(length)\n    {\n        var text = \"\";\n        var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\";\n    \n        for (var i = 0; i < length; i++)\n        {\n            text += possible.charAt(Math.floor(Math.random() * possible.length))\n        }\n    \n        return text;\n    }\n    /**\n     * Left trim string \n     * \n     * @param  {str}           str\n     * @return {array|string} charlist (optional)\n     */\n    _.prototype.rtrim = function(str, charlist)\n    {\n        if (!charlist) return str.trimEnd();\n    \n        if (this.is_string(charlist))\n        {\n            let len = charlist.length; \n    \n            return str.slice(-len) === charlist ? str.slice(0, -len) : str;\n        }\n    \n        var ret = str;\n    \n        this.each(charlist, function(i, chars)\n        {\n            var len = chars.length;\n    \n            if (str.slice(-len) === chars)\n            {\n                ret = str.slice(0, -len);\n    \n                return false;\n            }\n    \n        }, this);\n    \n        return ret;\n    }\n    _.prototype.to_camel_case = function(str)\n    {\n        \n        str = str.trim();\n    \n        // Shouldn't be changed\n        if (!str.includes(' ') && !str.includes('-') && /[A-Z]/.test(str))\n        {\n            return str;\n        }\n    \n        return str.toLowerCase().replace(/['\"]/g, '').replace(/\\W+/g, ' ').replace(/ (.)/g, function($1)\n        {\n            return $1.toUpperCase();\n        })\n        .replace(/ /g, '');\n    }\n    /**\n     * Left and right trim string.\n     * \n     * @param  {str}           str\n     * @return {array|string} charlist (optional)\n     */\n    _.prototype.trim = function(str, charlist)\n    {\n        if (!charlist) return str.trim();\n    \n        return this.rtrim(this.ltrim(str, charlist), charlist);\n    }\n    /* Capatalize first letter */\n    _.prototype.uc_first = function(string)\n    {\n        return string.charAt(0).toUpperCase() + string.slice(1);\n    }\n    /* Capatalize first letter of all words */\n    _.prototype.ucwords = function(str)\n    {\n        return (str + '').replace(/^([a-z\\u00E0-\\u00FC])|\\s+([a-z\\u00E0-\\u00FC])/g, function($1)\n        {\n            return $1.toUpperCase();\n        });\n    }\n    _.prototype.lc_first = function(string)\n    {\n        return string.charAt(0).toLowerCase() + string.slice(1);\n    }\n    /**\n     * String replace\n     * \n     * @param  {str}           str\n     * @return {array|string} charlist (optional)\n     */\n    _.prototype.replace = function(str, charlist, value)\n    {\n        if (this.is_string(charlist) || this.is_regexp(charlist))\n        {\n            return str.replaceAll(charlist, value)\n        }\n    \n        this.each(charlist, function(i, char)\n        {\n            str = str.replaceAll(char, value);\n    \n        }, this);\n    \n        return str;\n    }\n    \n    \n    /**\n     * Checks if variable should be considered \"true\" or \"false\" using \"common sense\".\n     * \n     * @param   {mixed} mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.bool = function(mixed_var)\n    {\n        mixed_var = (typeof mixed_var === 'undefined' ? false : mixed_var);\n    \n        if (this.is_bool(mixed_var))\n        {\n            return mixed_var;\n        }\n    \n        if (this.is_number(mixed_var))\n        {\n            return mixed_var > 0;\n        }\n    \n        if (this.is_array(mixed_var))\n        {\n            return mixed_var.length > 0;\n        }\n    \n        if (this.is_object(mixed_var))\n        {\n            return Object.keys(mixed_var).length > 0;\n        }\n    \n        if (this.is_string(mixed_var))\n        {\n            mixed_var = mixed_var.toLowerCase().trim();\n    \n            if (mixed_var === 'false')\n            {\n                return false;\n            }\n            if (mixed_var === 'true')\n            {\n                return true;\n            }\n            if (mixed_var === 'on')\n            {\n                return true;\n            }\n            if (mixed_var === 'off')\n            {\n                return false;\n            }\n            if (mixed_var === 'undefined')\n            {\n                return false;\n            }\n            if (this.is_numeric(mixed_var))\n            {\n                return Number(mixed_var) > 0;\n            }\n            if (mixed_var === '')\n            {\n                return false;\n            }\n        }\n    \n        return false;\n    }\n    \n    /**\n     * Returns function / class name\n     *\n     * @param   {mixed}  mixed_var Variable to evaluate\n     * @returns {string}\n     */\n    _.prototype.callable_name = function(mixed_var)\n    {\n        if (this.is_callable(mixed_var))\n        {\n            return mixed_var.name;\n        }\n        else if (this.is_object(mixed_var))\n        {\n            return mixed_var.constructor.name;\n        }\n    }\n    /**\n     * Count\n     *\n     * @access {public}\n     * @param  {mixed}  mixed_var Variable to count\n     * @return {int}\n     */\n    _.prototype.count = function(mixed_var)\n    {\n        return this.size(mixed_var);\n    }\n    /**\n     * Checks if HtmlElement is in current DOM\n     *\n     * @param   {HTMLElement}  element  Element to check\n     * @returns {boolean}\n     */\n    _.prototype.in_dom = function(element)\n    {\n        if (element === window || element === document || element === document.body || element === document.documentElement)\n        {\n            return true;\n        }\n    \n        if (!this.is_htmlElement(element))\n        {\n            return false;\n        }\n    \n        let ret = false;\n    \n        this.traverse_up(element, function(node)\n        {\n            if (node === document.body || node === document.documentElement)\n            {\n                ret = true;\n    \n                return true;\n            }\n    \n            return false;\n        });\n    \n        return ret;\n    }\n    /**\n     * Is args array.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.is_args = function(mixed_var)\n    {\n        return this.var_type(mixed_var) === ARGS_TAG;\n    }\n    /**\n     * Is array.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.is_array = function(mixed_var, strict)\n    {\n        strict = typeof strict === 'undefined' ? false : strict;\n    \n        let type = this.var_type(mixed_var);\n    \n        return !strict ? ARRAYISH_TAGS.includes(type) : type === ARRAY_TAG;\n    }\n    /**\n     * Is bool.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.is_bool = function(mixed_var)\n    {\n        return this.var_type(mixed_var) === BOOL_TAG;\n    }\n    /**\n     * Is Array buffer.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.is_buffer = function(mixed_var)\n    {\n        return this.var_type(mixed_var) === ARRAY_BUFFER_TAG;\n    }\n    /**\n     * Is variable a function / constructor.\n     *\n     * @param   {mixed}  mixed_var  Variable to check\n     * @returns {boolean}\n     */\n    _.prototype.is_callable = function(mixed_var)\n    {\n        return this.is_function(mixed_var);\n    }\n    /**\n     * Checks if variable is a class declaration or extends a class and/or constructable function.\n     *\n     * @param   {mixed}                        mixed_var  Variable to evaluate\n     * @oaram   {string} | undefined | boolean} classname  Classname or strict if boolean provided\n     * @param   {boolean}                      strict     If \"true\" only returns true on ES6 classes (default \"false\")\n     * @returns {boolean}\n     */\n    _.prototype.is_class = function(mixed_var, classname, strict)\n    {\n        // this.is_class(foo, true)\n        if (classname === true || classname === false)\n        {\n            strict = classname;\n            classname = null;\n        }\n        // this.is_class(foo, 'Bar') || this.is_class(foo, 'Bar', false)\n        else\n        {\n            strict = typeof strict === 'undefined' ? false : strict;\n        }\n    \n        if (typeof mixed_var !== 'function' || !this.is_constructable(mixed_var))\n        {\n            return false;\n        }\n    \n        let isES6 = /^\\s*class\\s+\\w+/.test(mixed_var.toString());\n    \n        if (classname)\n        {\n            if (!isES6 && strict)\n            {\n                return false;\n            }\n    \n            if (mixed_var.name === classname || mixed_var.prototype.constructor.name === classname)\n            {\n                return true;\n            }\n    \n            let protos = [];\n            let proto = mixed_var.prototype || Object.getPrototypeOf(mixed_var);\n            let ret = false;\n    \n            while (proto && proto.constructor)\n            {\n                // recursive stopper\n                if (protos.includes.proto)\n                {\n                    break;\n                }\n    \n                protos.push(proto);\n    \n                if (proto.constructor.name === classname)\n                {\n                    ret = true;\n    \n                    break;\n                }\n    \n                proto = proto.prototype || Object.getPrototypeOf(proto);\n            }\n    \n            return ret;\n        }\n    \n        // ES6 class declaration depending on strict\n    \n        return strict ? isES6 : this.is_constructable(mixed_var);\n    }\n    /**\n     * Checks if variable is construable.\n     *\n     * @param   {mixed}  mixed_var  Variable to evaluate\n     * @returns {boolean}\n     */\n    _.prototype.is_constructable = function(mixed_var)\n    {\n        // Not a function\n        if (typeof mixed_var !== 'function' || mixed_var === null)\n        {\n            return false;\n        }\n    \n        // Strict ES6 class\n        if (/^\\s*class\\s+\\w+/.test(mixed_var.toString()))\n        {\n            return true;\n        }\n    \n        // Native arrow functions\n        if (!mixed_var.prototype || !mixed_var.prototype.constructor)\n        {\n            return false;\n        }\n    \n        // If prototype is empty \n        return this.object_props(mixed_var, true).length > 0;\n    }\n    /**\n     * Checks if variable is constructed object function.\n     *\n     * @param   {mixed}  mixed_var  Variable to evaluate\n     * @returns {boolean}\n     */\n    _.prototype.is_constructed = function(mixed_var)\n    {\n        if (typeof mixed_var === 'object' && mixed_var.constructor && typeof mixed_var.constructor === 'function')\n        {\n            var constr = mixed_var.constructor.toString().trim();\n            \n            return constr.startsWith('function (') || constr.startsWith('function(') || constr.startsWith('function Object(') || constr.startsWith('class ') ;\n        }\n    \n        return false;\n    }\n    /**\n     * Is dataView obj.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.is_dataview = function(mixed_var)\n    {\n        return this.var_type(mixed_var) === DATAVIEW_TAG;\n    }\n    /**\n     * Is date object.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.is_date = function(mixed_var)\n    {\n        return this.var_type(mixed_var) === DATE_TAG;\n    }\n    /**\n     * Is empty\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.is_empty = function(mixed_var)\n    {\n        if (mixed_var === false || mixed_var === null || (typeof mixed_var === 'undefined'))\n        {\n            return true;\n        }\n        else if (this.is_array(mixed_var))\n        {\n            return mixed_var.length === null || mixed_var.length <= 0;\n        }\n        else if (this.is_object(mixed_var))\n        {\n            if (Object.keys(mixed_var).length > 0) return false;\n    \n            if (this.prototypes(mixed_var).length > 0) return false;\n    \n            return true;\n        }\n        else if (this.is_string(mixed_var))\n        {\n            return mixed_var.trim() === '';\n        }\n        else if (this.is_number(mixed_var))\n        {\n            return isNaN(mixed_var);\n        }\n        else if (this.is_function(mixed_var))\n        {\n            return false;\n        }\n    \n        return false;\n    }\n    /**\n     * Deep check for equal\n     * \n     * @param   {mixed}  a\n     * @param   {mixed}  b\n     * @param   {bool}   strict Strict comparison (optional) (default false)\n     * @returns {bool}\n     * \n     *  * Note that strict set to true would return false in the following:\n     *  is_equal ({ foo : 'bar'}, { foo : 'bar'});\n     */\n    _.prototype.is_equal = function(a, b, strict)\n    {    \n        strict = this.is_undefined(strict) ? false : strict;\n    \n        if ((typeof a) !== (typeof b))\n        {\n            return false;\n        }\n        else if (this.is_string(a) || this.is_number(a) || this.is_bool(a) || this.is_null(a) || this.is_htmlElement(a))\n        {\n            return a === b;\n        }\n        else if (this.is_function(a))\n        {        \n            return strict ? a === b : this.__is_equal_func(a, b);\n        }\n        else if (this.is_array(a) || this.is_object(b))\n        {\n            if (strict)\n            {\n                if (a !== b || this.is_array(a) && !this.is_array(b))\n                {\n                    return false;\n                }\n                \n                return true;\n            }\n            \n            return this.__is_equal_traverseable(a, b);\n        }\n    \n        return true;\n    }\n    \n    /**\n     * Checks if two functions are equal\n     * \n     * @param   {function}  a\n     * @param   {function}  b\n     * @returns {boolean}\n     */\n    _.prototype.__is_equal_func = function(a, b)\n    {\n        // Functions have the same name\n        if (a.name === b.name)\n        {\n            // If the functions were bound or cloned by the library they can technically still be equal\n            if (a.__isBound)\n            {\n                if (!b.__isBound) return false;\n    \n                if (!this.is_equal(a.__boundContext, b.__boundContext)) return false;\n                \n                if (!this.is_equal(a.__origional, b.__origional)) return false;\n            }\n    \n            // Check string\n            if (a.toString() !== b.toString()) return false;\n    \n            // Prototypes are different\n            if (!this.__is_equal_protos(a, b)) return false;\n    \n            return true;\n        }\n    \n        return false;\n    }\n    \n    /**\n     * Checks if object prototypes are equal\n     * \n     * @param   {array} | object}  a\n     * @param   {array} | object}  b\n     * @returns {boolean}\n     */\n    _.prototype.__is_equal_protos = function(a, b)\n    {\n        // Check the prototypes\n        let aProtos = this.prototypes(a);\n        let bProtos = this.prototypes(b);\n    \n        if (aProtos.length !== bProtos.length) return false;\n    \n        if (aProtos.length === 0 && bProtos.length === 0) return true;\n    \n        let ret = true;\n    \n        this.each(aProtos, (i, proto) =>\n        {                \n            if (!this.is_equal(proto, bProtos[i]))\n            {\n                ret = false;\n    \n                return false;\n            }\n    \n        }, this);\n    \n        return ret;\n    }\n    \n    \n    /**\n     * Checks if traversable's are equal\n     * \n     * @param   {array} | object}  a\n     * @param   {array} | object}  b\n     * @returns {boolean}\n     */\n    _.prototype.__is_equal_traverseable = function(a, b)\n    {\n        if (this.size(a) !== this.size(b))\n        {\n            return false;\n        }\n    \n        let ret = true;\n    \n        this.each(a, function(i, val)\n        {\n            if (!this.is_equal(val, b[i]))\n            {\n                ret = false;\n    \n                return false;\n            }\n        }, this);\n    \n        if (!ret) return false;\n    \n        if (this.is_object(a)) return this.__is_equal_protos(a, b);\n    \n        return ret;\n    }\n    \n    /**\n     * Is function.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.is_function = function(mixed_var)\n    {\n        return this.var_type(mixed_var) === FUNC_TAG;\n    }\n    /**\n     * Checks if variable is HTMLElement.\n     *\n     * @param   {mixed}  mixed_var  Variable to evaluate\n     * @returns {boolean}\n     */\n    _.prototype.is_htmlElement = function(mixed_var)\n    {\n        if (mixed_var && mixed_var.nodeType)\n        {\n            let type = this.var_type(mixed_var);\n    \n            return HTML_REGXP.test(type) || type === '[object HTMLDocument]' || type === '[object Text]';\n        }\n    \n        return false;\n    }\n    /**\n     * Is valid JSON\n     * \n     * @param  {mixed} str String JSON\n     * @return {object|false}\n     */\n    _.prototype.is_json = function(str)\n    {\n        var obj;\n        try\n        {\n            obj = JSON.parse(str);\n        }\n        catch (e)\n        {\n            return false;\n        }\n        return obj;\n    }\n    \n    \n    /**\n     * Is Map.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.is_map = function(mixed_var)\n    {\n        return this.var_type(mixed_var) === MAP_TAG;\n    }\n    /**\n     * Is node type.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @param   {string} tag        Tag to compare\n     * @returns {boolean}\n     */\n    _.prototype.is_node_type = function(mixed_var, tag)\n    {\n        return mixed_var.tagName.toUpperCase() === tag.toUpperCase();\n    }\n    \n    /**\n     * Is nodelist.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.is_nodelist = function(mixed_var)\n    {\n        return this.var_type(mixed_var) === NODELST_TAG;\n    }\n    /**\n     * Is null.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.is_null = function(mixed_var)\n    {\n        return this.var_type(mixed_var) === NULL_TAG;\n    }\n    /**\n     * Is number.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.is_number = function(mixed_var)\n    {\n        return !isNaN(mixed_var) && this.var_type(mixed_var) === NUMBER_TAG;\n    }\n    /**\n     * Is string.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.is_numeric = function(mixed_var)\n    {\n        if (this.is_number(mixed_var))\n        {\n            return true;\n        }\n        else if (this.is_string(mixed_var))\n        {\n            return /^-?(0|[1-9]\\d*)(\\.\\d+)?$/.test(mixed_var.trim());\n        }\n    \n        return false;\n    }\n    /**\n     * Checks if variable is an object.\n     *\n     * @param   {mixed}  mixed_var Variable to evaluate\n     * @returns {boolean}\n     */\n    _.prototype.is_object = function(mixed_var)\n    {\n        return mixed_var !== null && this.var_type(mixed_var) === OBJECT_TAG;\n    }\n    /**\n     * Is regexp.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.is_regexp = function(mixed_var)\n    {\n        return this.var_type(mixed_var) === REGEXP_TAG;\n    }\n    /**\n     * Is Set.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.is_set = function(mixed_var)\n    {\n        return this.var_type(mixed_var) === SET_TAG;\n    }\n    /**\n     * Is string.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.is_string = function(mixed_var)\n    {\n        return this.var_type(mixed_var) === STRING_TAG;\n    }\n    /**\n     * Is Symbol.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.is_symbol = function(mixed_var)\n    {\n        return this.var_type(mixed_var) === SYMBOL_TAG;\n    }\n    /**\n     * Is undefined.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.is_undefined = function(mixed_var)\n    {\n        return this.var_type(mixed_var) === UNDEF_TAG;\n    }\n    /**\n     * Returns array/object/string/number size.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {number}\n     */\n    _.prototype.size = function(mixed_var)\n    {\n        if (this.is_string(mixed_var) || this.is_array(mixed_var))\n        {\n            return mixed_var.length;\n        }\n        else if (this.is_number(mixed_var))\n        {\n            return mixed_var;\n        }\n        else if (this.is_bool(mixed_var))\n        {\n            return mixed_var === true ? 1 : -1;\n        }\n        else(this.is_object(mixed_var))\n        {\n            return Object.keys(mixed_var).length;\n        }\n    \n        return 1;\n    }\n    \n    /**\n     * Gets the `toStringTag` of `value`.\n     *\n     * @public\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    _.prototype.var_type = function(value)\n    {\n        if (value == null)\n        {\n            return value === undefined ? '[object Undefined]' : '[object Null]'\n        }\n    \n        return TO_STR.call(value);\n    }\n    // Destructor\n    _.prototype.destruct = function()\n    {\n        this.clear_event_listeners();\n    }\n    \n    Container.singleton('_', _);\n    \n    })();\n    \n    // frontbx core\n    (function()\n    {\n        /**\n         * Application core\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Application = function()\n        {\n            this.version_major = '0';\n    \n            this.version_minor = '1';\n    \n            this.version_patch = '0';\n    \n            this.version = `${this.version_major}.${this.version_minor}.${this.version_patch }`;\n        }\n    \n        /**\n         * Called when the application is first initialized\n         *\n         * @access {public}\n         */\n        Application.prototype.boot = function()\n        {        \n            this.dom().boot();\n    \n            this._().trigger_event(window, 'FrontBx:ready', this);\n        }\n    \n        /**\n         * Get the DOM component\n         *\n         * @access {public}\n         * @return {object}\n         */\n        Application.prototype.dom = function()\n        {\n            return this.Dom();\n        }\n    \n        Container._().trigger_event(window, 'FrontBx:loading');\n    \n        const app = Container._().extend(Container, new Application);\n    \n        window.Container = undefined;\n    \n        delete window['Container'];\n    \n        // Set global\n        window.FrontBx = app;\n    \n    })();\n    (function()\n    {\n        /**\n         * Utility functions\n         *\n         * @var {Function}\n         */\n        const [each, trigger_event, collect_garbage, is_undefined, is_string, is_htmlElement] = FrontBx.import(['each', 'trigger_event', 'collect_garbage', 'is_undefined', 'is_string', 'is_htmlElement']).from('_');\n    \n        /**\n         * Prefix for container.\n         *\n         * @var {String}\n         */\n        const KEYPREFIX = 'HB_DOM:';\n    \n        /**\n         * DOM Manager\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Dom = function()\n        {\n            this._isReady = false;\n    \n            this.components = [];\n        }\n    \n        /**\n         * Boot Dom\n         *\n         * @access {public}\n         * @param {string} name   Name of the module\n         * @param {object} module Uninvoked module object\n         */\n        Dom.prototype.boot = function()\n        {\n            each(this.components, function(i, name)\n            {\n                this._bindComponent(name, document);\n    \n            }, this);\n    \n            this._dispatchReady();\n    \n            this._isReady = true;\n        }\n    \n        /**\n         * Register a DOM component\n         *\n         * @access {public}\n         * @param {string} name   Name of the module\n         * @param {object} module Uninvoked module object\n         * @param {bool}   invoke Invoke the module immediately (optional) (default false)\n         */\n        Dom.prototype.register = function(name, component, invoke)\n        {\n            invoke = (typeof invoke === 'undefined' ? false : invoke);\n    \n            this.components.push(name);\n    \n            FrontBx.singleton(this._normaliseKey(name), component);\n    \n            if (invoke || this._isReady)\n            {\n                this._bindComponent(name, document);\n            }\n        }\n    \n        /**\n         * Returns a component.\n         *\n         * @access {public}\n         */\n        Dom.prototype.component = function(name)\n        {\n            return FrontBx.get(this._normaliseKey(name));\n        }\n    \n        /**\n         * Returns a component.\n         *\n         * @access {public}\n         */\n        Dom.prototype.create = function(name, options, appendTo)\n        {\n            return this.component(name).create(options, appendTo);\n        }\n    \n        /**\n         * Boot Dom\n         *\n         * @access {public}\n         * @param {string} name   Name of the module\n         * @param {object} module Uninvoked module object\n         */\n        Dom.prototype._dispatchReady = function()\n        {\n            trigger_event(window, 'FrontBx:dom:ready', {dom: this});\n        }\n    \n        /**\n         * Boot Dom\n         *\n         * @access {public}\n         * @param {string} name   Name of the module\n         * @param {object} module Uninvoked module object\n         */\n        Dom.prototype._dispatchComponent = function(name, event, component, context)\n        {\n            trigger_event(window, `FrontBx:dom:${event}:${name}`, { component: component, context: context});\n        }\n    \n        /**\n         * Bind a single module\n         *\n         * @param {string} key Name of module to bind\n         * @access {private}\n         */\n        Dom.prototype._bindComponent = function(name, context, isRefresh)\n        {                \n            let component = FrontBx.get(this._normaliseKey(name));\n    \n            if (this._hasMethod(component, 'construct') && isRefresh)\n            {\n                component.construct(context);\n                \n                this._dispatchComponent(name, 'refresh', component, context);\n            }\n    \n            this._dispatchComponent(name, 'bind', component, context);\n        }\n    \n        /**\n         * Unbind a single module\n         *\n         * @param  {string}  key Name of module to unbind\n         * @access {private}\n         */\n        Dom.prototype._unbindComponent = function(name, context)\n        {            \n            let component = FrontBx.get(this._normaliseKey(name));\n    \n            if (this._hasMethod(component, 'destruct'))\n            {\n                component.destruct(context);\n            }\n    \n            this._dispatchComponent(name, 'unbind', component, context);\n        }\n    \n        /**\n         * Refresh the DOM modiules or a string module\n         *\n         * @access {public}\n         * @param {string} name Name of the module (optional) (default false)\n         */\n        Dom.prototype.refresh = function(component, context)\n        {\n            let globalRefresh = false;\n    \n            // refresh()\n            if (arguments.length === 0)\n            {\n                component = false;\n    \n                context = document;\n    \n                globalRefresh = true;\n            }\n            else\n            {\n                // refresh(DOMElement)\n                if (is_htmlElement(component))\n                {\n                    context  = component;\n                    \n                    component = false;\n    \n                    globalRefresh = true;\n                }\n    \n                // refresh('module')\n                // refresh('module', DOMElement)\n                else if (is_string(component))\n                {\n                    context = is_undefined(context) ? document : context;\n                }\n            }\n    \n            each(this.components, function(i, name)\n            {\n                if (!component || component === name)\n                {\n                    this._unbindComponent(name, context);\n    \n                    collect_garbage();\n    \n                    this._bindComponent(name, context, true);\n                }\n            }, this);\n    \n            trigger_event(window, `FrontBx:dom:refresh`, { context: context});\n    \n            if (globalRefresh) this._dispatchReady();\n        }\n    \n        /**\n         * Checks if a class object has a method by name\n         *\n         * @access {private}\n         * @param  {mixed}  classObj The object instance or reference\n         * @param  {string} method   The name of the method to check for\n         * @return {bool}\n         */\n        Dom.prototype._hasMethod = function(classObj, method)\n        {\n            return typeof classObj === 'object' && typeof classObj[method] === 'function';\n        }\n    \n        /**\n         * Normalize key\n         *\n         * @access {public}\n         * @param {string} name   Name of the module\n         * @param {object} module Uninvoked module object\n         */\n        Dom.prototype._normaliseKey = function(key)\n        {\n            return `${KEYPREFIX}${key}`;\n        }\n    \n        // Load into container and invoke\n        FrontBx.singleton('Dom', Dom);\n        \n    })();\n    (function()\n    {\n        const [find_all, each, closest, is_empty] = FrontBx.import(['find_all','each','closest','is_empty']).from('_');\n    \n        /**\n         * Component base class\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Component = function(selector)\n        {\n            /**\n             * Default props.\n             *\n             * @var {object}\n             */\n            this.defaultProps = !this.defaultProps ? {} : this.defaultProps;\n    \n            /**\n             * Selector.\n             *\n             * @var {string}\n             */\n            this._selector = selector;\n    \n            /**\n             * Dom elements\n             *\n             * @var {array}\n             */\n            this._DOMElements = [];\n    \n            // Init\n            if (!is_empty(this._selector)) this.construct(document);\n    \n            return this;\n        }\n    \n        /**\n         * Module constructor\n         *\n         * @access {public}\n         */\n        Component.prototype.construct = function(context)\n        {\n            if (is_empty(this._selector)) return;\n    \n            let nodes = find_all(this._selector, context, context !== document);\n    \n            if (!is_empty(nodes))\n            {\n                this._DOMElements = [...this._DOMElements, ...nodes];\n    \n                each(nodes, (i, node) => this.bind(node), this);\n            }\n        }\n    \n        /**\n         * Module destructor\n         *\n         * @access {public}\n         */\n        Component.prototype.destruct = function(context)\n        {\n            if (!context || context === document)\n            {\n                each(this._DOMElements, (i, node) => this.unbind(node), this);\n                \n                this._DOMElements = [];\n    \n                return;\n            }\n    \n            const _this = this;\n    \n            each(this._DOMElements, function(i, DOMElement)\n            {                \n                if (closest(DOMElement, context))\n                {\n                    _this.unbind(DOMElement);\n    \n                    _this._DOMElements.splice(i, 1);\n                }\n            });\n        }\n    \n        /**\n         * Create DOM elements and bind\n         * \n         */\n        Component.prototype.create = function(props, appendTo)\n        {\n            props = !props ? {} : props;\n    \n            props = {...this.defaultProps, ...props};\n    \n            let node = this.template(props);\n    \n            if (appendTo) appendTo.appendChild(node);\n    \n            FrontBx.Dom().refresh(node);\n    \n            return node;\n        }\n    \n        /**\n         * Template abstract method\n         *\n         * @access {public}\n         */\n        Component.prototype.template = function()\n        {\n            throw new Error('[template] method must be implemented.');\n        }\n    \n    \n        /**\n         * Bind abstract method\n         *\n         * @access {public}\n         */\n        Component.prototype.bind = function(context)\n        {\n            throw new Error('[bind] method must be implemented.');\n        }\n    \n        /**\n         * Unbind abstract method\n         *\n         * @access {public}\n         */\n        Component.prototype.unbind = function(context)\n        {\n            throw new Error('[unbind] method must be implemented.');\n        }\n    \n        // Register\n        FrontBx.set('Component', [Component]);\n    \n    })();\n    \n    // lazyload\n    (function()\n    {\n        /**\n         * Lazyload fallback\n         * \n         * @var {string}\n         */\n        var LAZY_FALLBACK_IMAGE = typeof LAZY_FALLBACK_IMAGE === 'undefined' ? \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBmaWxsPSJ3aGl0ZSI+CiAgPHBhdGggZD0iTTAgNCBMMCAyOCBMMzIgMjggTDMyIDQgeiBNNCAyNCBMMTAgMTAgTDE1IDE4IEwxOCAxNCBMMjQgMjR6IE0yNSA3IEE0IDQgMCAwIDEgMjUgMTUgQTQgNCAwIDAgMSAyNSA3Ij48L3BhdGg+Cjwvc3ZnPg==\" : LAZY_FALLBACK_IMAGE;\n        \n        /**\n         * JS Async Queue\n         *\n         * @see https://medium.com/@griffinmichl/asynchronous-javascript-queue-920828f6327\n         */\n        var Queue = function(concurrency)\n        {\n            this.running     = 0;\n            this.concurrency = concurrency;\n            this.taskQueue   = [];\n            \n            return this;\n        }\n    \n        Queue.prototype.add = function(task)\n        {\n            if (this.running < this.concurrency)\n            {\n                this._runTask(task);\n            }\n            else\n            {\n                this._enqueueTask(task);\n            }\n        }\n    \n        Queue.prototype.next = function()\n        {        \n            this.running--;\n    \n            if (this.taskQueue.length > 0)\n            {\n                this._runTask(this.taskQueue.shift());\n            }\n        }\n    \n        Queue.prototype._runTask = function(task)\n        {       \n            this.running++;\n    \n            task(this);\n        }\n    \n        Queue.prototype._enqueueTask = function(task)\n        {\n            this.taskQueue.push(task);\n        }\n    \n        /**\n         * Module constructor\n         *\n         * @access public\n         * @constructor\n         * @return this\n         */\n        const LazyLoad = function()\n        {\n            this._DOMElements = [];\n    \n            this.construct(document);       \n    \n            return this;\n        }\n    \n        /**\n         * Destroy\n         *\n         * @access public\n         */\n        LazyLoad.prototype.construct = function(context)\n        {       \n            this._queue = new Queue(15);\n    \n            let nodes = Array.prototype.slice.call(document.querySelectorAll('.js-lazyload'));\n    \n            if (context !== document) nodes.unshift(context);\n    \n            if (nodes.length >= 1)\n            {\n                for (var i = 0; i < nodes.length; i++)\n                {\n                    this.bind(nodes[i]);\n                }\n    \n                this._DOMElements = [...this._DOMElements, ...nodes];\n            }\n        }\n    \n        /**\n         * Destroy\n         *\n         * @access public\n         */\n        LazyLoad.prototype.destruct = function(context)\n        {       \n            if (!context || context === document)\n            {            \n                this._DOMElements = [];\n    \n                return;\n            }\n    \n            const [each, closest] = FrontBx.import(['each', 'closest']).from('_');\n    \n            each(this._DOMElements, function(i, DOMElement)\n            {                \n                if (closest(DOMElement, context))\n                {\n                    this._DOMElements.splice(i, 1);\n                }\n    \n            }, this);\n        }\n    \n        /**\n         * Bind and load images\n         *\n         * @access private\n         */\n        LazyLoad.prototype.bind = function(node)\n        {\n            var url = this._getSrc(node);\n    \n            if (this._canLoad(node))\n            {\n                this._loadImage(node, url, this._isImage(node));\n            }\n        }\n    \n        /**\n         * Bind and load images\n         *\n         * @access private\n         * @param  node    node    DOM node\n         * @param  string  url     The image URL to load\n         * @param  bool    isImage Is the node an <img> tag\n         */\n        LazyLoad.prototype._loadImage = function(node, url, isImage)\n        {\n            // Placeholder and image are the same\n            if (isImage && node.src === url)\n            {\n                this._markLoaded(node);\n            }\n            else\n            {\n                this._queue.add(this._getLoadFunc(node, url, isImage));\n            }\n        }\n    \n        /**\n         * Return the image load function\n         *\n         * @access private\n         * @param  node    node       DOM node\n         * @param  string  url        The image URL to load\n         * @param  bool    isImage    Is the node an <img> tag?\n         * @return function\n         */\n        LazyLoad.prototype._getLoadFunc = function(node, url, isImage)\n        {\n            const _this = this;\n    \n            return function loadImage(queue)\n            {\n                var _image = new Image();\n    \n                _image.onload = function()\n                {\n                    if (isImage)\n                    {\n                        node.src = url;\n                    }\n                    else\n                    {\n                        node.style.backgroundImage = 'url('+ url +')';\n                    }\n    \n                    _this._markLoaded(node);\n    \n                    _image.onload  = {};\n                    _image.onerror = {};\n                    \n                    queue.next();\n                };\n    \n                _image.onerror = function()\n                {\n                    if (isImage)\n                    {\n                        node.src = LAZY_FALLBACK_IMAGE;\n                    }\n                    else\n                    {\n                        node.style.backgroundImage = 'url('+ LAZY_FALLBACK_IMAGE +')';\n                    }\n    \n                    _this._markFailed(node);\n    \n                    queue.next();\n    \n                    _image.onload  = {};\n                    _image.onerror = {};\n                };\n    \n                _image.classList.add('lazy-loading');\n    \n                _image.src = url;\n            };\n        }\n    \n        /**\n         * Mark node as loaded\n         *\n         * @access private\n         * @param  node    node Image node element\n         * @return string\n         */\n        LazyLoad.prototype._markFailed = function(node)\n        {\n            node.classList.add('failed');\n    \n            this._markLoaded(node);\n        }\n    \n        /**\n         * Mark node as loaded\n         *\n         * @access private\n         * @param  node    node Image node element\n         * @return string\n         */\n        LazyLoad.prototype._markLoaded = function(node)\n        {\n            node.classList.add('lazy-loaded');\n    \n            node.classList.remove('lazy-loading');\n        }\n    \n        /**\n         * Get an image's src attribute\n         *\n         * @access private\n         * @param  node    node Image node element\n         * @return string\n         */\n        LazyLoad.prototype._getSrc = function(node)\n        {\n            return node.getAttribute('data-src') || node.dataset.src;\n        }\n    \n        /**\n         * Should we load this image\n         *\n         * @access private\n         * @param  node    node Image node element\n         * @return bool\n         */\n        LazyLoad.prototype._canLoad = function(node)\n        {\n            return typeof this._getSrc(node) !== 'undefined' && (!node.classList.contains('lazy-loading') || !node.classList.contains('lazy-loaded'));\n        }\n    \n        /**\n         * Is node an image\n         *\n         * @access private\n         * @param  node    node Image node element\n         * @return bool\n         */\n        LazyLoad.prototype._isImage = function(node)\n        {\n            return node.nodeName.toLowerCase() === 'img';\n        }\n    \n        if (!window.FrontBx)\n        {\n            window.addEventListener('DOMContentLoaded', () =>\n            {\n                // Invoke and start loading images\n                const lazy = new LazyLoad();\n    \n                // Listen for FrontBx:ready and register into dom\n                // Will not be invoked unless dom().refresh() is called\n                FrontBx.dom().register('LazyLoad', lazy, false);\n            })\n        }\n        \n    })();\n    \n    // vendors\n    (function()\n    {\n        /* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress * @license MIT */\n            var NProgress = {};\n    \n            NProgress.version = '0.2.0';\n    \n            var Settings = NProgress.settings = {\n                minimum: 0.08,\n                easing: 'linear',\n                positionUsing: '',\n                speed: 200,\n                trickle: true,\n                trickleSpeed: 200,\n                showSpinner: true,\n                barSelector: '[role=\"bar\"]',\n                spinnerSelector: '[role=\"spinner\"]',\n                parent: 'body',\n                template: '<div class=\"bar\" role=\"bar\"><div class=\"peg\"></div></div><div class=\"spinner\" role=\"spinner\"><div class=\"spinner-icon\"></div></div>'\n            };\n    \n        /**\n        * Updates configuration.\n        *\n        *     NProgress.configure({\n        *       minimum: 0.1\n        *     });\n        */\n            NProgress.configure = function(options) {\n                var key, value;\n                for (key in options) {\n                    value = options[key];\n                    if (value !== undefined && options.hasOwnProperty(key)) Settings[key] = value;\n                }\n    \n                return this;\n            };\n    \n        /**\n        * Last number.\n        */\n    \n            NProgress.status = null;\n    \n        /**\n        * Sets the progress bar status, where `n` is a number from `0.0` to `1.0`.\n        *\n        *     NProgress.set(0.4);\n        *     NProgress.set(1.0);\n        */\n    \n            NProgress.set = function(n) {\n                var started = NProgress.isStarted();\n    \n                n = clamp(n, Settings.minimum, 1);\n                NProgress.status = (n === 1 ? null : n);\n    \n                var progress = NProgress.render(!started),\n                bar      = progress.querySelector(Settings.barSelector),\n                speed    = Settings.speed,\n                ease     = Settings.easing;\n    \n        progress.offsetWidth; /* Repaint */\n    \n                queue(function(next) {\n        // Set positionUsing if it hasn't already been set\n                    if (Settings.positionUsing === '') Settings.positionUsing = NProgress.getPositioningCSS();\n    \n        // Add transition\n                    css(bar, barPositionCSS(n, speed, ease));\n    \n                    if (n === 1) {\n          // Fade out\n                      css(progress, {\n                        transition: 'none',\n                        opacity: 1\n                    });\n          progress.offsetWidth; /* Repaint */\n    \n                      setTimeout(function() {\n                        css(progress, {\n                          transition: 'all ' + speed + 'ms linear',\n                          opacity: 0\n                      });\n                        setTimeout(function() {\n                          NProgress.remove();\n                          next();\n                      }, speed);\n                    }, speed);\n                  } else {\n                      setTimeout(next, speed);\n                  }\n              });\n    \n                return this;\n            };\n    \n            NProgress.isStarted = function() {\n                return typeof NProgress.status === 'number';\n            };\n    \n        /**\n        * Shows the progress bar.\n        * This is the same as setting the status to 0%, except that it doesn't go backwards.\n        *\n        *     NProgress.start();\n        *\n        */\n            NProgress.start = function() {\n                if (!NProgress.status) NProgress.set(0);\n    \n                var work = function() {\n                    setTimeout(function() {\n                      if (!NProgress.status) return;\n                      NProgress.trickle();\n                      work();\n                  }, Settings.trickleSpeed);\n                };\n    \n                if (Settings.trickle) work();\n    \n                return this;\n            };\n    \n        /**\n        * Hides the progress bar.\n        * This is the *sort of* the same as setting the status to 100%, with the\n        * difference being `done()` makes some placebo effect of some realistic motion.\n        *\n        *     NProgress.done();\n        *\n        * If `true` is passed, it will show the progress bar even if its hidden.\n        *\n        *     NProgress.done(true);\n        */\n    \n            NProgress.done = function(force) {\n                if (!force && !NProgress.status) return this;\n    \n                return NProgress.inc(0.3 + 0.5 * Math.random()).set(1);\n            };\n    \n        /**\n        * Increments by a random amount.\n        */\n    \n            NProgress.inc = function(amount) {\n                var n = NProgress.status;\n    \n                if (!n) {\n                    return NProgress.start();\n                } else if(n > 1) {\n                    return;\n                } else {\n                    if (typeof amount !== 'number') {\n                      if (n >= 0 && n < 0.2) { amount = 0.1; }\n                      else if (n >= 0.2 && n < 0.5) { amount = 0.04; }\n                      else if (n >= 0.5 && n < 0.8) { amount = 0.02; }\n                      else if (n >= 0.8 && n < 0.99) { amount = 0.005; }\n                      else { amount = 0; }\n                  }\n    \n                  n = clamp(n + amount, 0, 0.994);\n                  return NProgress.set(n);\n              }\n          };\n    \n          NProgress.trickle = function() {\n            return NProgress.inc();\n        };\n    \n        /**\n        * Waits for all supplied jQuery promises and\n        * increases the progress as the promises resolve.\n        *\n        * @param $promise jQUery Promise\n        */\n        (function() {\n            var initial = 0, current = 0;\n    \n            NProgress.promise = function($promise) {\n                if (!$promise || $promise.state() === \"resolved\") {\n                  return this;\n              }\n    \n              if (current === 0) {\n                  NProgress.start();\n              }\n    \n              initial++;\n              current++;\n    \n              $promise.always(function() {\n                  current--;\n                  if (current === 0) {\n                      initial = 0;\n                      NProgress.done();\n                  } else {\n                      NProgress.set((initial - current) / initial);\n                  }\n              });\n    \n              return this;\n          };\n    \n        })();\n    \n        /**\n        * (Internal) renders the progress bar markup based on the `template`\n        * setting.\n        */\n    \n        NProgress.render = function(fromStart) {\n            if (NProgress.isRendered()) return document.getElementById('nprogress');\n    \n            addClass(document.documentElement, 'nprogress-busy');\n    \n            var progress = document.createElement('div');\n            progress.id = 'nprogress';\n            progress.innerHTML = Settings.template;\n    \n    \n    \n            var bar = progress.querySelector(Settings.barSelector),\n            perc = fromStart ? '-100' : toBarPerc(NProgress.status || 0),\n            parent = isDOM(Settings.parent)\n            ? Settings.parent\n            : document.querySelector(Settings.parent),\n            spinner\n    \n            css(bar, {\n                transition: 'all 0 linear',\n                transform: 'translate3d(' + perc + '%,0,0)'\n            });\n    \n            if (!Settings.showSpinner) {\n                spinner = progress.querySelector(Settings.spinnerSelector);\n                spinner && removeElement(spinner);\n            }\n    \n            if (parent != document.body) {\n                addClass(parent, 'nprogress-custom-parent');\n            }\n    \n            parent.appendChild(progress);\n            return progress;\n        };\n    \n        /**\n        * Removes the element. Opposite of render().\n        */\n    \n        NProgress.remove = function() {\n            removeClass(document.documentElement, 'nprogress-busy');\n            var parent = isDOM(Settings.parent)\n            ? Settings.parent\n            : document.querySelector(Settings.parent)\n            removeClass(parent, 'nprogress-custom-parent')\n            var progress = document.getElementById('nprogress');\n            progress && removeElement(progress);\n        };\n    \n        /**\n        * Checks if the progress bar is rendered.\n        */\n    \n        NProgress.isRendered = function() {\n            return !!document.getElementById('nprogress');\n        };\n    \n        /**\n        * Determine which positioning CSS rule to use.\n        */\n    \n        NProgress.getPositioningCSS = function() {\n        // Sniff on document.body.style\n            var bodyStyle = document.body.style;\n    \n        // Sniff prefixes\n            var vendorPrefix = ('WebkitTransform' in bodyStyle) ? 'Webkit' :\n            ('MozTransform' in bodyStyle) ? 'Moz' :\n            ('msTransform' in bodyStyle) ? 'ms' :\n            ('OTransform' in bodyStyle) ? 'O' : '';\n    \n            if (vendorPrefix + 'Perspective' in bodyStyle) {\n        // Modern browsers with 3D support, e.g. Webkit, IE10\n                return 'translate3d';\n            } else if (vendorPrefix + 'Transform' in bodyStyle) {\n        // Browsers without 3D support, e.g. IE9\n                return 'translate';\n            } else {\n        // Browsers without translate() support, e.g. IE7-8\n                return 'margin';\n            }\n        };\n    \n        /**\n        * Helpers\n        */\n    \n        function isDOM (obj) {\n            if (typeof HTMLElement === 'object') {\n                return obj instanceof HTMLElement\n            }\n            return (\n                obj &&\n                typeof obj === 'object' &&\n                obj.nodeType === 1 &&\n                typeof obj.nodeName === 'string'\n                )\n        }\n    \n        function clamp(n, min, max) {\n            if (n < min) return min;\n            if (n > max) return max;\n            return n;\n        }\n    \n        /**\n        * (Internal) converts a percentage (`0..1`) to a bar translateX\n        * percentage (`-100%..0%`).\n        */\n    \n        function toBarPerc(n) {\n            return (-1 + n) * 100;\n        }\n    \n    \n        /**\n        * (Internal) returns the correct CSS for changing the bar's\n        * position given an n percentage, and speed and ease from Settings\n        */\n    \n        function barPositionCSS(n, speed, ease) {\n            var barCSS;\n    \n            if (Settings.positionUsing === 'translate3d') {\n                barCSS = { transform: 'translate3d('+toBarPerc(n)+'%,0,0)' };\n            } else if (Settings.positionUsing === 'translate') {\n                barCSS = { transform: 'translate('+toBarPerc(n)+'%,0)' };\n            } else {\n                barCSS = { 'margin-left': toBarPerc(n)+'%' };\n            }\n    \n            barCSS.transition = 'all '+speed+'ms '+ease;\n    \n            return barCSS;\n        }\n    \n        /**\n        * (Internal) Queues a function to be executed.\n        */\n    \n        var queue = (function() {\n            var pending = [];\n    \n            function next() {\n                var fn = pending.shift();\n                if (fn) {\n                  fn(next);\n              }\n          }\n    \n          return function(fn) {\n            pending.push(fn);\n            if (pending.length == 1) next();\n        };\n        })();\n    \n        /**\n        * (Internal) Applies css properties to an element, similar to the jQuery\n        * css method.\n        *\n        * While this helper does assist with vendor prefixed property names, it\n        * does not perform any manipulation of values prior to setting styles.\n        */\n    \n        var css = (function() {\n            var cssPrefixes = [ 'Webkit', 'O', 'Moz', 'ms' ],\n            cssProps    = {};\n    \n            function camelCase(string) {\n                return string.replace(/^-ms-/, 'ms-').replace(/-([\\da-z])/gi, function(match, letter) {\n                  return letter.toUpperCase();\n              });\n            }\n    \n            function getVendorProp(name) {\n                var style = document.body.style;\n                if (name in style) return name;\n    \n                var i = cssPrefixes.length,\n                capName = name.charAt(0).toUpperCase() + name.slice(1),\n                vendorName;\n                while (i--) {\n                  vendorName = cssPrefixes[i] + capName;\n                  if (vendorName in style) return vendorName;\n              }\n    \n              return name;\n          }\n    \n          function getStyleProp(name) {\n            name = camelCase(name);\n            return cssProps[name] || (cssProps[name] = getVendorProp(name));\n        }\n    \n        function applyCss(element, prop, value) {\n            prop = getStyleProp(prop);\n            element.style[prop] = value;\n        }\n    \n        return function(element, properties) {\n            var args = arguments,\n            prop,\n            value;\n    \n            if (args.length == 2) {\n              for (prop in properties) {\n                value = properties[prop];\n                if (value !== undefined && properties.hasOwnProperty(prop)) applyCss(element, prop, value);\n            }\n        } else {\n          applyCss(element, args[1], args[2]);\n        }\n        }\n        })();\n    \n        /**\n        * (Internal) Determines if an element or space separated list of class names contains a class name.\n        */\n    \n        function hasClass(element, name) {\n            var list = typeof element == 'string' ? element : classList(element);\n            return list.indexOf(' ' + name + ' ') >= 0;\n        }\n    \n        /**\n        * (Internal) Adds a class to an element.\n        */\n    \n        function addClass(element, name) {\n            var oldList = classList(element),\n            newList = oldList + name;\n    \n            if (hasClass(oldList, name)) return;\n    \n        // Trim the opening space.\n            element.className = newList.substring(1);\n        }\n    \n        /**\n        * (Internal) Removes a class from an element.\n        */\n    \n        function removeClass(element, name) {\n            var oldList = classList(element),\n            newList;\n    \n            if (!hasClass(element, name)) return;\n    \n        // Replace the class name.\n            newList = oldList.replace(' ' + name + ' ', ' ');\n    \n        // Trim the opening and closing spaces.\n            element.className = newList.substring(1, newList.length - 1);\n        }\n    \n        /**\n        * (Internal) Gets a space separated list of the class names on the element.\n        * The list is wrapped with a single space on each end to facilitate finding\n        * matches within the list.\n        */\n    \n        function classList(element) {\n            return (' ' + (element && element.className || '') + ' ').replace(/\\s+/gi, ' ');\n        }\n    \n        /**\n        * (Internal) Removes an element from the DOM.\n        */\n    \n        function removeElement(element) {\n            element && element.parentNode && element.parentNode.removeChild(element);\n        }\n    \n        // Load into container \n        FrontBx.singleton('NProgress', NProgress);\n    \n    })();\n    \n    // utility\n    // utility\n    (function()\n    {\n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [each, is_function, is_object, is_array_last, is_empty, callable_name] = FrontBx.import(['each','is_function','is_object','is_array_last','is_empty','callable_name']).from('_');\n    \n        /**\n         * Named callbacks\n         * \n         * @var {array}\n         */\n        const NAMED_CALLBACKS = ['success', 'error', 'complete', 'abort', 'progress'];\n    \n        /**\n         * JS Queue\n         *\n         * @class\n         * @see {https://medium.com/@griffinmichl/asynchronous-javascript-queue-920828f6327}\n         */\n        const Queue = function(concurrency)\n        {\n            this.running = 0;\n            this.concurrency = concurrency;\n            this.taskQueue = [];\n        };\n    \n        Queue.prototype.add = function(task, _this, _args)\n        {\n            if (this.running < this.concurrency)\n            {\n                this._runTask(task, _this, _args);\n            }\n            else\n            {\n                this._enqueueTask(task, _this, _args);\n            }\n        }\n    \n        Queue.prototype.next = function()\n        {\n            this.running--;\n    \n            if (this.taskQueue.length > 0)\n            {\n                var task = this.taskQueue.shift();\n    \n                this._runTask(task['callback'], task['_this'], task['_args']);\n            }\n        }\n    \n        Queue.prototype._runTask = function(task, _this, _args)\n        {\n            this.running++;\n    \n            task.apply(_this, _args);\n        }\n    \n        Queue.prototype._enqueueTask = function(task, _this, _args)\n        {\n            this.taskQueue.push(\n            {\n                'callback': task,\n                '_this': _this,\n                '_args': _args\n            });\n        }\n    \n        const AJAX_QUEUE = new Queue(15);\n    \n        /**\n         * Module constructor\n         *\n         * @access {public}\n         * @class\n         */\n        const Ajax = function()\n        {\n            this._reset();\n        }\n    \n        /**\n         * Reset internals.\n         *\n         * @return {this}\n         */\n        Ajax.prototype._reset = function()\n        {\n            this._settings =\n            {\n                'url': '',\n                'async': true,\n                'timeout': 10000,\n                'headers':\n                {\n                    'Content-Type': 'application/x-www-form-urlencoded',\n                    'Accepts': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9',\n                    'Cache-Control': 'no-cache',\n                    'Pragma': 'no-cache'\n                },\n            };\n    \n            this._complete = () => {};\n            this._success  = () => {};\n            this._error    = () => {};\n            this._abort    = () => {};\n            this._progress = () => {};\n            this._xhr      = null;\n        }\n    \n        /**\n         * Ajax Methods \n         *\n         * @access {public}\n         * @param  {string}        url     Destination URL\n         * @param  {string|object} data    Data (optional)\n         * @param  {function}      success Success callback (optional)\n         * @param  {function}      error   Error callback (optional)\n         * @param  {function}      abort   Abort callback (optional)\n         * @param  {object}        headers Request headers (optional)\n         * @return {this}\n         */\n        Ajax.prototype.post = function(url, data, success, error, complete, abort, headers)\n        {\n            this._setResponseHandlers('POST', url, data, success, error, complete, abort, headers);\n    \n            AJAX_QUEUE.add(this._call, this);\n    \n            return this;\n        }\n        Ajax.prototype.get = function(url, data, success, error, complete, abort, headers)\n        {\n            this._setResponseHandlers('GET', url, data, success, error, complete, abort, headers);\n    \n            AJAX_QUEUE.add(this._call, this);\n    \n            return this;\n        }\n        Ajax.prototype.head = function(url, data, success, error, complete, abort, headers)\n        {\n            this._setResponseHandlers('HEAD', url, data, success, error, complete, abort, headers);\n    \n            AJAX_QUEUE.add(this._call, this);\n    \n            return this;\n        }\n        Ajax.prototype.put = function(url, data, success, error, complete, abort, headers)\n        {\n            this._setResponseHandlers('PUT', url, data, success, error, complete, abort, headers);\n    \n            AJAX_QUEUE.add(this._call, this);\n    \n            return this;\n        }\n        Ajax.prototype.delete = function(url, data, success, error, complete, abort, headers)\n        {\n            this._setResponseHandlers('DELETE', url, data, success, error, complete, abort, headers);\n    \n            AJAX_QUEUE.add(this._call, this);\n    \n            return this;\n        }\n        Ajax.prototype.upload = function(url, data, success, error, complete, abort, progress, headers)\n        {\n            this._settings.async = true;\n    \n            this._setResponseHandlers('UPLOAD', url, data, success, error, complete, abort, headers, progress);\n    \n            AJAX_QUEUE.add(this._call, this);\n    \n            return this;\n        }\n    \n    \n        /**\n         * Set async\n         *\n         * @param  {function}  callback Callback function\n         * @return {this}\n         */\n        Ajax.prototype.async = function(bool)\n        {\n            this._settings.async = bool;\n    \n            return this;\n        }\n    \n        /**\n         * Adds headers\n         *\n         * @param  {object}  headers\n         * @return {this}\n         */\n        Ajax.prototype.headers = function(_headers)\n        {\n            this._settings.headers = {...this._settings.headers, ..._headers};\n    \n            return this;\n        }\n    \n        /**\n         * Adds progress handler\n         *\n         * @param  {object}  headers\n         * @return {this}\n         */\n        Ajax.prototype.progress = function(callback)\n        {\n            this._progress = callback;\n    \n            return this;\n        }\n    \n        /**\n         * Success function\n         *\n         * @param  {function}  callback Callback function\n         * @return {this}\n         */\n        Ajax.prototype.success = function(callback)\n        {\n            this._success = callback;\n    \n            return this;\n        }\n    \n        /**\n         * Error function\n         *\n         * @param  {function}  callback Callback function\n         * @return {this}\n         */\n        Ajax.prototype.error = function(callback)\n        {\n            this._error = callback;\n    \n            return this;\n        }\n    \n        /**\n         * Alias for complete\n         *\n         * @param  {function}  callback Callback function\n         * @return {this}\n         */\n        Ajax.prototype.then = function(callback)\n        {\n            return this.complete(callback);\n        }\n    \n        /**\n         * Complete function\n         *\n         * @param  {function}  callback Callback function\n         * @return {this}\n         */\n        Ajax.prototype.complete = function(callback)\n        {\n            this._complete = callback;\n    \n            return this;\n        }\n    \n        /**\n         * Abort an ajax call\n         *\n         * @param  {function}  callback Callback function\n         * @return {this}\n         */\n        Ajax.prototype.abort = function(callback)\n        {\n            let xhr = this._xhr;\n    \n            // Called before XHR request\n            if (!xhr)\n            {\n                this._abort = callback;\n    \n                return this;\n            }\n    \n            // Already completed\n            if (!xhr.readyState >= 4)\n            {\n                return this;\n            }\n    \n            xhr.onreadystatechange = () => {};\n            this._complete = null;\n            this._success  = null;\n            xhr.abort();\n    \n            this._makeCallback(this._abort, this, [xhr.responseText, false]);\n    \n            this._makeCallback(this._error, this, [xhr.responseText]);\n        }\n    \n        /**\n         * Call callback function\n         *\n         * @param  {function}  callback Callback function\n         * @return {this}\n         */\n        Ajax.prototype._makeCallback = function(callback, _this, args)\n        {\n            if (is_function(callback)) callback.apply(_this, args);\n        }\n    \n        /**\n         * Ajax call \n         *\n         * @access {private}\n         * @param  {string}        method   Request method\n         * @param  {string}        url      Destination URL\n         * @param  {string|object} data     Data (optional)\n         * @param  {function}      success  Success callback (optional)\n         * @param  {function}      error    Error callback (optional)\n         * @param  {function}      complete Complete callback (optional)\n         * @param  {function}      abort    Abort callback (optional)\n         * @param  {object}        headers  Request headers (optional)\n         * @return {this}\n         */\n        Ajax.prototype._call = function()\n        {\n            let [method, url] = [this.method, this.url];\n    \n            var xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP');\n    \n            this._xhr = xhr;\n    \n            xhr.requestURL = url;\n    \n            xhr.mthod = method === 'UPLOAD' ? 'POST' : method;\n    \n            if (method === 'UPLOAD' && is_function(this._progress))\n            {\n                xhr.upload.addEventListener('progress', this._progress, false);\n            }\n    \n            if (method === 'UPLOAD')\n            {\n                if (is_function(this._progress)) xhr.upload.addEventListener('progress', this._progress, false);\n    \n                if (is_function(this._complete)) xhr.upload.addEventListener('load', this._complete, false);\n            }\n    \n            xhr.open(method, url, this._settings.async);\n    \n            xhr.timeout = this._settings.timeout;\n    \n            this._sendHeaders();\n    \n            if (this._settings.async)\n            {\n                xhr.onreadystatechange = () => { this._ready() };\n    \n                xhr.send(this.data || null);\n            }\n            else\n            {\n                xhr.send(this.data || null);\n    \n                this._ready();\n            }\n    \n            return this;\n        }\n    \n        /**\n         * Send XHR headers\n         *\n         * @access {private}\n         * @param  {object}    xhr     XHR object\n         * @param  {object}    headers Request headers (optional)\n         * @return {This}\n         */\n        Ajax.prototype._sendHeaders = function()\n        {\n            if (this.method === 'POST') this._settings.headers['REQUESTED-WITH'] = 'XMLHttpRequest';\n    \n            each(this._settings.headers, (k,v) => this._xhr.setRequestHeader(k, v));\n        }\n    \n        /**\n         * Normalise arguments from original call function\n         *\n         * @param  {string}        method   Request method\n         * @param  {string}        url      Destination URL\n         * @param  {string|object} data     Data (optional)\n         * @param  {function}      success  Success callback (optional)\n         * @param  {function}      error    Error callback (optional)\n         * @param  {function}      complete Complete callback (optional)\n         * @param  {function}      error    Abort callback (optional)\n         * @param  {object}        headers  Request headers (optional)\n         * @return {This}\n         */\n        Ajax.prototype._setResponseHandlers = function(method, url, data, success, error, complete, abort, headers, progress)\n        {\n            let ret = { method, url, data, success, error, complete, abort, headers, progress };\n    \n            // Cleanup\n            let args = Array.prototype.slice.call(arguments);\n    \n            // Remove method and URL\n            args.splice(0,2);\n    \n            // post(url, complete)\n            // put(url, data)\n            if (args.length === 1 && is_function(args[0]) && !NAMED_CALLBACKS.includes(callable_name(args[0])))\n            {\n                ret.complete = data;\n                ret.data = ret.success = ret.error = ret.complete = ret.abort = ret.progress = ret.headers = null;\n            }\n            // post(url, data, complete)\n            else if (args.length === 2 && is_function(args[1]) && !NAMED_CALLBACKS.includes(callable_name(args[1])))\n            {\n                ret.complete = success;\n                ret.success = ret.error = ret.complete = ret.abort = ret.progress = ret.headers = null;\n            }\n            else\n            {\n                each(args, (i, arg) =>\n                {\n                    if (is_function(arg))\n                    {\n                        let name = callable_name(arg).toLowerCase();\n    \n                        if (NAMED_CALLBACKS.includes(callable_name(arg)))\n                        {\n                            ret[name] = arg;\n                        }\n                    }\n                    else if (is_object(arg))\n                    {\n                        // First arg is always data if it's an object\n                        if (i === 0)\n                        {\n                            ret.data = arg;\n                        }\n                        // Last arg should be headers if it's an object\n                        else if (is_array_last(arg, args))\n                        {\n                            ret.headers = arg;\n                        }\n                    }\n                });\n            }\n    \n            // Sanitize params\n            let hasData = is_object(ret.data) && !is_empty(ret.data);\n    \n            // Ajax.get('foo.com?foo=bar&baz')\n            if (hasData)\n            {\n                if (method === 'UPLOAD')\n                {\n                    let form = new FormData();\n    \n                    each(data, (k, v) =>\n                    {\n                        form.append(key, value, v.type);\n                    });\n                }\n                else if (method !== 'POST')\n                {   \n                    let suffix = ret.url.includes('?') ? '&' : '?';\n                    let params = this._params(ret.data);\n                    ret.url    = `${ret.url}${suffix}${params}`;\n                    ret.data   = undefined;\n                }\n                else\n                {\n                    ret.data = this._params(ret.data);\n                }\n            }\n    \n            let callbacks = ['success', 'error', 'complete', 'abort', 'headers', 'progress'];\n    \n            each(ret, (k,v) => callbacks.includes(k) ? this[k](v) : this[k] = v);\n        }\n    \n        /**\n         * Ready callback\n         *\n         * @param  {XMLHttpRequest} xhr     XHR Object\n         * @param  {function}      success  Success callback (optional)\n         * @param  {function}      error    Error callback (optional)\n         * @param  {function}      complete Complete callback (optional)\n         * @param  {function}      abort    Abort callback (optional)\n         */\n        Ajax.prototype._ready = function()\n        {        \n            let xhr = this._xhr;\n    \n            if (xhr.readyState == 4)\n            {\n                let successfull = xhr.status >= 200 && xhr.status < 300 || xhr.status === 304;\n    \n                let response = xhr.responseText;\n    \n                this._makeCallback(successfull ? this._success : this._error, xhr, [response]);\n    \n                this._makeCallback(this._complete, xhr, [response, successfull]);\n    \n                // Next queue\n                AJAX_QUEUE.next();\n            }\n        }\n    \n        Ajax.prototype._params = function(obj)\n        {\n            let s = [];\n    \n            each(obj, (k,v) => s.push(encodeURIComponent(k) + '=' + encodeURIComponent(v)))\n    \n            return s.join('&');\n        }\n    \n        FrontBx.set('Ajax', Ajax);\n    })();\n    (function()\n    {\n        /**\n         * Helper functions.\n         * \n         * @var {Function}\n         */\n        const [find, find_all, on, each, map, in_array, in_dom, is_empty, is_string, scroll_pos, trigger_event, normalize_url, inner_HTML, extend] = FrontBx.import(['find','find_all','on','each','map','in_array','in_dom','is_empty','is_string','scroll_pos','trigger_event','normalize_url','inner_HTML','extend']).from('_');\n    \n        /**\n         * Are we listening for state changes ?\n         * \n         * @var {bool}\n         */\n        var _listening = false;\n    \n        /**\n         * Default options\n         * \n         * @var {object}\n         */\n        const DEFAULT_OPTIONS = \n        {\n            element:   'body',\n            cacheBust:  true,\n            once:       false,\n            keepScroll: true,\n            pushstate:  false,\n            urlhash:    false,\n        };\n    \n        /**\n         * Pjax module\n         *\n         * @class\n         * @extends   {Ajax}\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Pjax = function()\n        {\n            this.super();\n    \n            if (!_listening)\n            {\n                on(window, 'popstate', this._popStateHandler, this);\n    \n                _listening = true;\n            }\n        }\n    \n        Pjax.prototype.request = function(url, options, success, error, complete, abort, headers)\n        {\n            // If we are already loading a pjax, cancel it and\n            if (this._xhr) this.abort();\n    \n            // Reset variables\n            this._reset();\n    \n            // Merge options with defaults\n            options = typeof options === 'undefined' ? { ...DEFAULT_OPTIONS } : { ...DEFAULT_OPTIONS, ...options };\n    \n            // Set PJAX header\n            this.headers({'X-PJAX': true});\n    \n            // Store URL in options for callbacks\n            options.url = normalize_url(url.trim());\n    \n            // Default data to send\n            let data = options.cacheBust ? { t: Date.now().toString() } : {};\n            \n            // Fire the start event\n            trigger_event(window, 'FrontBx:Pjax:start', { options });\n    \n            // Set response handlers\n            this._setResponseHandlers('GET', options.url, data, success, error, complete, abort, headers);\n    \n            // Cache callbacks\n            const [_success, _error, _complete, _abort ] = [this.success, this.error, this.complete, this.abort];\n    \n            // Cache current state\n            if (options.pushstate)\n            {            \n                let state = { ...options, id: normalize_url(window.location.href), scroll: {top: 0, left: 0} };\n    \n                window.history.pushState(state, '', state.id);\n            }\n    \n            FrontBx.NProgress().start();\n    \n            this.success((response) =>\n            {            \n                this._handleSuccess(response.trim(), options);\n    \n                if (_success) this._makeCallback(_success, this._xhr, [response]);\n            })\n            .error((response) =>\n            {\n                trigger_event(window, 'FrontBx:Pjax:error', { options });\n    \n                if (_error) this._makeCallback(_error, this._xhr, [response]);\n            })\n            .abort((response) =>\n            {\n                rigger_event(window, 'FrontBx:Pjax:abort', { options });\n    \n                if (_abort) this._makeCallback(_abort, this, [response, false]);\n            })\n            .complete((response, successfull) =>\n            {\n                if (_complete) this._makeCallback(_complete, this._xhr, [response, successfull]);\n    \n                this._reset();\n    \n                FrontBx.NProgress().done();\n    \n            })._call();\n        }\n    \n        /**\n         * Pjax success handler\n         *\n         * @access {private}\n         * @param  {object} locationObj Location object from the cache\n         * @param  {string} HTML        HTML string response from server\n         * @param  {bool}   stateChange Change the window history state\n         */\n        Pjax.prototype._handleSuccess = function(HTML, options)\n        {        \n            // Parse the HTML\n            let responseDoc = this._parseHTML(HTML);\n    \n            // Cache scripts\n            let descrMeta       = find('meta[name=description]');\n            let responseTitle   = this._findDomTitle(responseDoc);\n            let responseDesc    = this._findDomDesc(responseDoc);\n            let responseScripts = this._getScripts(responseDoc);\n            let currScripts     = this._getScripts(document);\n            responseDoc         = this._removeScripts(responseDoc);\n    \n            // Move scripts to head incase we're replacing body\n            //each(currScripts, (i, script) => { if (script.node.parentNode.nodeName.toLowerCase() !== 'head') find('head').appendChild(script.node); });\n    \n            // Default to document bodys\n            let targetEl        = document.body;\n            let responseEl      = responseDoc.body;\n    \n            // Selector\n            if (is_string(options.element))\n            {\n                targetEl = find(options.element);\n            }\n            // DOM Node\n            else if (in_dom(options.element))\n            {\n                // Target is options.element\n                targetEl = options.element;\n            }\n    \n            // Push new state\n            if (options.pushstate)\n            {\n                if (responseTitle) document.title = responseTitle;\n    \n                if (responseDesc && descrMeta) descrMeta.content = responseDesc;\n            \n                let state = { ...options, id: options.url, scroll: { top: 0, left: 0 } };\n    \n                window.history.pushState(state, '', options.url);\n            }\n            // Adjust hash\n            else if (options.urlhash && targetEl !== document.body)\n            {\n                let url = window.location.href.split('#').shift();\n    \n                window.history.replaceState({}, '', `${url}#${targetEl.id}`);\n            }\n    \n            // Insert content\n            inner_HTML(targetEl, responseEl.innerHTML);\n    \n            this._appendScripts(currScripts, responseScripts, () =>\n            {\n                FrontBx.dom().refresh(targetEl === document.body ? document : targetEl);\n    \n                trigger_event(window, 'FrontBx:Pjax:success', {options});\n            });\n    \n            if (!options.keepScroll || targetEl === document.body) window.scrollTo(0, 0);\n        }\n    \n        /**\n         * State change event handler (back/forward clicks)\n         *\n         * Popstate is treated as another pjax request essentially\n         * \n         * @access {private}\n         * @param  {e}       event JavaScript 'popstate' event\n         */\n        Pjax.prototype._popStateHandler = function(e)\n        {\n            // State obj exists \n            if (e.state && typeof e.state.id !== 'undefined')\n            {\n                // Prevent default\n                e.preventDefault();\n    \n                let options = e.state;\n    \n                this.request(options.id, {...options, pushstate: false });\n    \n                return false;\n            }\n        }\n    \n        /**\n         * If there are any new scripts load them\n         * \n         * Note that appending or replacing content via 'innerHTML' or even\n         * native Nodes with scripts inside their 'innerHTML'\n         * will not load scripts so we need to compare what scripts have loaded\n         * on the current page with any scripts that are in the new DOM tree \n         * and load any that don't already exist\n         *\n         * @access {private}\n         * @param  {array}   currScripts Currently loaded scripts array\n         * @param  {object}  newScripts  Newly loaded scripts\n         */\n        Pjax.prototype._appendScripts = function(currScripts, newScripts, callback)\n        {\n            let scripts = map(newScripts, (i, script) =>\n            {\n                let ret = script;\n    \n                each(currScripts, (i, cScript) =>\n                {\n                    if (cScript.content === script.content && cScript.inline === script.inline)\n                    {\n                        ret = false;\n    \n                        return;\n                    }\n                })\n    \n                return ret;\n            });\n    \n            if (scripts.length > 0) \n            {\n                return each(scripts, (i, script) =>  this._appendScript(script, i === scripts.length -1 ? callback : null));\n            }\n    \n            callback();\n        }\n    \n        Pjax.prototype._appendScript = function(scriptObj, callback)\n        {\n            let element = document.createElement(scriptObj.type);\n    \n            element.type = scriptObj.type === 'script' ? 'text/javascript' : 'text/css';\n    \n            if (scriptObj.type === 'script')\n            {\n                element.async = false;\n    \n                if (!scriptObj.inline)\n                {\n                    element.src = scriptObj.src;\n    \n                    if (callback) element.onload = () => callback();\n                }\n                else\n                {\n                    element.innerHTML = scriptObj.src;\n    \n                    if (callback) callback();\n                }\n            }\n            else\n            {\n                element.rel = 'stylesheet';\n                \n                element.href = scriptObj.src;\n    \n                if (callback) element.onload = () => callback();\n            }\n    \n            find('head').appendChild(element);\n        }\n    \n        /**\n         * Filter scripts with unique key/values into an array\n         *\n         * @access {private}\n         * @param  {string} html HTML as a string (with or without full doctype)\n         * @return {array}\n         */\n        Pjax.prototype._getScripts = function(doc)\n        {\n            var ret     = [];\n            var scripts = find_all('script, link[rel=stylesheet]', doc);\n    \n            each(scripts, function(i, script)\n            {\n                let type   = script.nodeName.toLowerCase();\n                let src    = type === 'link' ? script.getAttribute('href') : script.getAttribute('src');\n                let inline = false; \n                let node   = script;\n    \n                if (!src)\n                {\n                    inline = true;\n                    src = script.innerHTML.trim()\n                }\n    \n                ret.push({type, src, inline, node });\n            });\n    \n            return ret;\n        }\n    \n        /**\n         * Remove all scripts from a document\n         *\n         * @access {private}\n         * @param  {Document} Document Document element\n         * @return {Document}\n         */\n        Pjax.prototype._removeScripts = function(doc)\n        {\n            var scripts = find_all('script, link[rel=stylesheet]', doc);\n    \n            each(scripts, (i, script) => script.parentNode.removeChild(script));\n    \n            return doc;\n        }\n    \n        /**\n         * Try to find the page title in a DOM tree\n         *\n         * @access {private}\n         * @param  {string} html HTML as a string (with or without full doctype)\n         * @return {string|false}\n         */\n        Pjax.prototype._findDomTitle = function(DOM)\n        {\n            var title = DOM.getElementsByTagName('title');\n    \n            if (title.length)\n            {\n                return title[0].innerHTML.trim();\n            }\n    \n            return false;\n        }\n    \n        /**\n         * Try to find the page title in a DOM tree\n         *\n         * @access {private}\n         * @param  {string} html HTML as a string (with or without full doctype)\n         * @return {string|false}\n         */\n        Pjax.prototype._findDomDesc = function(DOM)\n        {\n            var desc = find('meta[name=description]', DOM);\n    \n            if (desc)\n            {\n                return desc.content.trim();\n            }\n    \n            return false;\n        }\n    \n        /**\n         * Parse HTML from string into a document\n         *\n         * @access {private}\n         * @param  {string} html HTML as a string (with or without full doctype)\n         * @return {DOM} tree\n         */\n        Pjax.prototype._parseHTML = function(html)\n        {\n            var parser = new DOMParser();\n    \n            return parser.parseFromString(html, 'text/html');\n        }\n    \n        // Pjax is singleton\n        FrontBx.singleton('Pjax', extend(FrontBx.Ajax().constructor, Pjax));\n    \n    })();\n    (function()\n    {\n        /**\n         * \n         * @var {Helper} obj\n         */\n        const [find, each, _for, is_array, is_object, in_array, is_undefined, is_callable, is_htmlElement, in_dom, is_empty, animate, add_class, remove_class, width, height, inline_style, rendered_style, css, is_array_last, dom_element] = FrontBx.import(['find','each','for','is_array', 'is_object', 'in_array','is_undefined','is_callable','is_htmlElement','in_dom','is_empty','animate', 'add_class','remove_class', 'width', 'height', 'inline_style', 'rendered_style', 'css', 'is_array_last','dom_element']).from('_');\n    \n        /**\n        * Wrappers that need \"position:relative\" to hide overflow.\n        * \n        * @var {array}\n        */\n        const STATIC_POSITIONS = ['static', 'unset', 'initial'];\n    \n        /**\n         * Default options.\n         * \n         * @var {array}\n        */\n        const DEFAULT_OPTIONS =\n        {\n            count: 1,\n            lines: 0,\n            height: null,\n            width: null,\n            variant: 'block',\n            aspectratio: '',\n    \n        };\n    \n        /**\n        * Class variants.\n        * \n        * @var {array}\n        */\n        const CLASS_VARIANTS = ['block', 'text', 'btn', 'input', 'circle', 'wave', 'rounded', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6'];\n    \n        /**\n        * Class variants.\n        * \n        * @var {array}\n        */\n        const WRAPPER_VARIANTS = ['text-block', 'block-h1', 'block-h2', 'block-h3', 'block-h4', 'block-h5', 'block-h6'];\n    \n        /**\n        * Skeleton.\n        *\n        * @param  {DOMElement}   DOMElement Target node\n        * @param  {object|array} options\n        * @return {this}\n        */\n        const Skeleton = function(DOMElement, options)\n        {\n        this._DOMElement = DOMElement;\n    \n        this._nodes = [];\n    \n        this._isMulti = is_array(options);\n    \n        if (is_empty(options)) return this;\n    \n        if (is_array(options))\n        {\n            each(options, function(i, optionSet)\n            {\n                optionSet = {...DEFAULT_OPTIONS, ...optionSet};\n    \n                this._build(optionSet);\n    \n            }, this);\n        }\n        else\n        {\n            options = {...DEFAULT_OPTIONS, ...options};\n    \n            this._build(options);\n        }\n        }\n    \n        /**\n         * Gracefully individual content\n         * \n         * @param  {DOMElement|String} content\n         * @param  {function|null}     callback\n         * @access {public}\n         */\n        Skeleton.prototype.load = function(content, callback, wrapper)\n        {\n            if (is_object(content))\n            {\n                each(content, (selector, node) => \n                {\n                    let cb = is_array_last(node, content) ? callback : null;\n    \n                    this.load(node, cb, find(selector, this._DOMElement));\n    \n                }, this);\n    \n                return;\n            }\n    \n            wrapper = !wrapper ? this._DOMElement : wrapper;\n            const isHTML  = is_htmlElement(content);\n            \n            // Cache wrapper height and width and so we can transition content without changing layout\n            const h           = height(wrapper);\n            const w           = width(wrapper);\n            const position    = rendered_style(wrapper, 'position');\n            const InlOverflow = inline_style(wrapper, 'overflow') || false;\n            const InlPosition = inline_style(wrapper, 'overflow') || false;\n            const InlHeight   = inline_style(wrapper, 'height') || false;\n            const InlWidth    = inline_style(wrapper, 'width') || false;\n            const InlStyles   = { overflow: InlOverflow, position: InlPosition, height: InlHeight, width: InlWidth };\n            const newStyles   = { overflow: 'hidden', height: `${h}px`, width: `${w}px` };\n            if (in_array(position, STATIC_POSITIONS)) newStyles.position = 'relative';\n    \n            // Prep content for inserting\n            var isFragment = false;\n            var oldContnet;\n    \n            if (isHTML)\n            {\n                add_class(content, 'swapping-content-wrapper');\n            }\n            else\n            {\n                let div    = dom_element({tag: 'div', class: 'swapping-content-wrapper'}, null, content);\n                isFragment = div.children.length > 1;\n                if (isFragment) div.className += ' fragment';\n                oldContnet = content;\n                content    = div;\n            }\n    \n            const _this = this;\n    \n            const complete = function()\n            {\n                // Make optional user callback\n                if (is_callable(callback))\n                {\n                    callback();\n                }\n    \n                // If we wrapped 'content' we need to remove the outer '.swapping-content-wrapper'\n                if (!isHTML)\n                {\n                    if (isFragment)\n                    {\n                        wrapper.innerHTML = '';\n    \n                        dom_element(null, wrapper, oldContnet);\n                    }\n                    else\n                    {\n                        wrapper.replaceChild(content.children[0], content);\n                    }\n                }\n                else\n                {\n                    remove_class(content, 'swapping-content-wrapper');\n                }\n    \n                // Remove skeletons\n                each(_this._nodes, function(i, node)\n                {\n                    if (in_dom(node)) node.parentNode.removeChild(node);                    \n                });\n    \n                // Set inline styles back to original\n                css(wrapper, InlStyles);\n    \n                // Remove wrapper classes\n                remove_class(wrapper, 'skeleton-swapping-content');\n            }\n    \n            // Fix dimensions, overflow and positioning while transition.\n            css(wrapper, newStyles);\n    \n            // Add wrapper class to position content swap while transitioning\n            add_class(wrapper, 'skeleton-swapping-content');\n    \n            // Finally append content\n            wrapper.appendChild(content);\n    \n            each(this._nodes, function(i, node)\n            {\n                animate(node, { property : 'opacity', to : 0, duration: 500 });\n            });\n    \n            animate(content, { property : 'opacity', from: '0', to : '1', duration: 750, callback: complete});\n        }\n    \n        /**\n         * Remove and destroy\n         *\n         * @params {function} callback (optional)\n         * @params {boolean}  destroy  (optional default true)\n         * @access {private}\n         */\n        Skeleton.prototype.fade_out = function(callback, destroy)\n        {\n            destroy = is_undefined(destroy) ? true : destroy;\n            \n            let _this = this;\n    \n            const complete = function()\n            {\n                if (destroy)\n                {\n                    _this.destroy();\n                }\n    \n                if (is_callable(callback))\n                {\n                    callback();\n                }\n            }\n    \n            let madeCallback = false;\n    \n            each(this._nodes, function(i, node)\n            {\n                let _callback = madeCallback ? undefined : complete;\n    \n                animate(node, { property : 'opacity', to : 0, duration: 500, callback: complete});\n    \n                madeCallback = true;\n            });\n        }\n    \n        /**\n         * Remove and destroy\n         *\n         * @params {_node} node\n         * @access {private}\n         */\n        Skeleton.prototype.destroy = function()\n        {\n            each(this._nodes, function(i, node)\n            {\n                node.parentNode.removeChild(node);\n            });\n    \n            this._nodes = [];\n        }\n    \n        /**\n         * Remove a notification\n         *\n         * @params {_node} node\n         * @access {private}\n         */\n        Skeleton.prototype._build = function(options)\n        {\n            let wrapper    = null;\n            let skeleton   = document.createElement('div');\n            let variants   = options.variant.split(' ').map((x) => x.trim().toLowerCase()).filter((x) => x !== '');\n            let DOMElement = options.selector ? find(options.selector, this._DOMElement) : this._DOMElement;\n            let width      = options.width;\n            let height     = options.height;\n            let classes    = ['skeleton'];\n    \n            each(variants, function(i, variant)\n            {\n                if (in_array(variant, CLASS_VARIANTS))\n                {\n                    classes.push(`skeleton-${variant}`);\n                }\n                else if (in_array(variant, WRAPPER_VARIANTS))\n                {\n                    classes = ['skeleton'];\n    \n                    if (!wrapper)\n                    {\n                        wrapper = document.createElement('div');\n                        wrapper.className = options.lines > 1 ? 'skeleton-text-block skeleton-lines' : 'skeleton-text-block' ;\n                    }\n    \n                    if (variant !== 'text-block')\n                    {\n                        wrapper.className += ` skeleton-text-${variant}`;\n                    }\n                }\n            });\n    \n            skeleton.className = classes.join(' ');\n    \n            let skeletons = [skeleton];\n    \n            if (options.count > 1 || options.lines > 1)\n            {\n                let count = Math.max(options.count, options.lines);\n    \n                _for(count -1, (i) => skeletons.push(skeleton.cloneNode(true)));\n            }\n    \n            each(skeletons, function(i, _skeleton)\n            {\n                this._setDimensions(_skeleton, width, height, wrapper, options.aspectratio, options.lines > 1);\n    \n                if (wrapper)\n                {\n                    wrapper.appendChild(_skeleton);\n                }\n                else\n                {\n                    DOMElement.appendChild(_skeleton);\n                }\n    \n            }, this);\n    \n            if (wrapper)\n            {                \n                DOMElement.appendChild(wrapper);\n    \n                this._nodes.push(wrapper);\n            }\n            else\n            {\n                each(skeletons, (i, skel) => this._nodes.push(skel), this);\n            }\n        }\n    \n        /**\n         * Remove and destroy\n         *\n         * @params {callback} node\n         * @access {private}\n         */\n        Skeleton.prototype._setDimensions = function(skeleton, width, height, wrapper, aspectRatio, isLines)\n        {\n            // Text blocks get random width;\n            if (wrapper)\n            {\n                let min = isLines ? 70 : 15;\n                let max = isLines ? 95 : 85;\n                let w   = Math.floor(Math.random() * (max - min + 1) + min);\n    \n                skeleton.style.width = `${w}%`;\n    \n                return;\n            }\n    \n            if (aspectRatio !== '')\n            {\n                skeleton.style.width  = '100%';\n                skeleton.style.height = 'auto';\n                skeleton.style.aspectRatio = aspectRatio;\n    \n                return;\n            }\n    \n            if (width)\n            {\n                skeleton.style.width = width;\n            }\n    \n            if (height)\n            {\n                skeleton.style.height = height;\n            }\n        }\n    \n        // Add to container\n        FrontBx.set('Skeleton', Skeleton);\n    \n    })();\n    (function()\n    {\n        /**\n         * TinyGesture.js\n         *\n         * This service uses passive listeners, so you can't call event.preventDefault()\n         * on any of the events.\n         *\n         * Adapted from https://gist.github.com/SleepWalker/da5636b1abcbaff48c4d\n         * and https://github.com/uxitten/xwiper\n         * plus a bunch more of my own code.\n         */\n        class TinyGesture {\n            constructor(element, options) {\n                this.element = element;\n                this.touch1 = null;\n                this.touch2 = null;\n                this.touchStartX = null;\n                this.touchStartY = null;\n                this.touchEndX = null;\n                this.touchEndY = null;\n                this.touchMove1 = null;\n                this.touchMove2 = null;\n                this.touchMoveX = null;\n                this.touchMoveY = null;\n                this.velocityX = null;\n                this.velocityY = null;\n                this.longPressTimer = null;\n                this.doubleTapTimer = null;\n                this.doubleTapWaiting = false;\n                this.thresholdX = 0;\n                this.thresholdY = 0;\n                this.disregardVelocityThresholdX = 0;\n                this.disregardVelocityThresholdY = 0;\n                this.swipingHorizontal = false;\n                this.swipingVertical = false;\n                this.swipingDirection = null;\n                this.swipedHorizontal = false;\n                this.swipedVertical = false;\n                this.originalDistance = null;\n                this.newDistance = null;\n                this.scale = null;\n                this.originalAngle = null;\n                this.newAngle = null;\n                this.rotation = null;\n                this.handlers = {\n                    panstart: [],\n                    panmove: [],\n                    panend: [],\n                    swipeleft: [],\n                    swiperight: [],\n                    swipeup: [],\n                    swipedown: [],\n                    tap: [],\n                    doubletap: [],\n                    longpress: [],\n                    pinch: [],\n                    pinchend: [],\n                    rotate: [],\n                    rotateend: [],\n                };\n                this._onTouchStart = this.onTouchStart.bind(this);\n                this._onTouchMove = this.onTouchMove.bind(this);\n                this._onTouchEnd = this.onTouchEnd.bind(this);\n                this.opts = Object.assign({}, TinyGesture.defaults, options);\n                this.element.addEventListener('touchstart', this._onTouchStart, passiveIfSupported);\n                this.element.addEventListener('touchmove', this._onTouchMove, passiveIfSupported);\n                this.element.addEventListener('touchend', this._onTouchEnd, passiveIfSupported);\n                if (this.opts.mouseSupport && !('ontouchstart' in window)) {\n                    this.element.addEventListener('mousedown', this._onTouchStart, passiveIfSupported);\n                    document.addEventListener('mousemove', this._onTouchMove, passiveIfSupported);\n                    document.addEventListener('mouseup', this._onTouchEnd, passiveIfSupported);\n                }\n            }\n            destroy() {\n                var _a, _b;\n                this.element.removeEventListener('touchstart', this._onTouchStart);\n                this.element.removeEventListener('touchmove', this._onTouchMove);\n                this.element.removeEventListener('touchend', this._onTouchEnd);\n                this.element.removeEventListener('mousedown', this._onTouchStart);\n                document.removeEventListener('mousemove', this._onTouchMove);\n                document.removeEventListener('mouseup', this._onTouchEnd);\n                clearTimeout((_a = this.longPressTimer) !== null && _a !== void 0 ? _a : undefined);\n                clearTimeout((_b = this.doubleTapTimer) !== null && _b !== void 0 ? _b : undefined);\n            }\n            on(type, fn) {\n                if (this.handlers[type]) {\n                    this.handlers[type].push(fn);\n                    return {\n                        type,\n                        fn,\n                        cancel: () => this.off(type, fn),\n                    };\n                }\n            }\n            off(type, fn) {\n                if (this.handlers[type]) {\n                    const idx = this.handlers[type].indexOf(fn);\n                    if (idx !== -1) {\n                        this.handlers[type].splice(idx, 1);\n                    }\n                }\n            }\n            fire(type, event) {\n                for (let i = 0; i < this.handlers[type].length; i++) {\n                    this.handlers[type][i](event);\n                }\n            }\n            onTouchStart(event) {\n                var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1;\n                let didTouch1 = false;\n                let didTouch2 = false;\n                if (event.type !== 'mousedown') {\n                    if (!this.touch1) {\n                        this.touch1 = event.changedTouches[0];\n                        didTouch1 = true;\n                    }\n                    if (((didTouch1 && event.changedTouches.length > 1) || !didTouch1) && !this.touch2) {\n                        this.touch2 =\n                            [...event.changedTouches].find((touch) => { var _a; return touch.identifier !== ((_a = this.touch1) === null || _a === void 0 ? void 0 : _a.identifier); }) ||\n                                null;\n                        this.originalDistance = Math.sqrt(Math.pow(((_b = (_a = this.touch2) === null || _a === void 0 ? void 0 : _a.screenX) !== null && _b !== void 0 ? _b : 0) - ((_f = (_d = (_c = this.touchMove1) === null || _c === void 0 ? void 0 : _c.screenX) !== null && _d !== void 0 ? _d : (_e = this.touch1) === null || _e === void 0 ? void 0 : _e.screenX) !== null && _f !== void 0 ? _f : 0), 2) +\n                            Math.pow(((_h = (_g = this.touch2) === null || _g === void 0 ? void 0 : _g.screenY) !== null && _h !== void 0 ? _h : 0) - ((_m = (_k = (_j = this.touchMove1) === null || _j === void 0 ? void 0 : _j.screenY) !== null && _k !== void 0 ? _k : (_l = this.touch1) === null || _l === void 0 ? void 0 : _l.screenY) !== null && _m !== void 0 ? _m : 0), 2));\n                        this.originalAngle =\n                            Math.atan2(((_p = (_o = this.touch2) === null || _o === void 0 ? void 0 : _o.screenY) !== null && _p !== void 0 ? _p : 0) - ((_t = (_r = (_q = this.touchMove1) === null || _q === void 0 ? void 0 : _q.screenY) !== null && _r !== void 0 ? _r : (_s = this.touch1) === null || _s === void 0 ? void 0 : _s.screenY) !== null && _t !== void 0 ? _t : 0), ((_v = (_u = this.touch2) === null || _u === void 0 ? void 0 : _u.screenX) !== null && _v !== void 0 ? _v : 0) - ((_z = (_x = (_w = this.touchMove1) === null || _w === void 0 ? void 0 : _w.screenX) !== null && _x !== void 0 ? _x : (_y = this.touch1) === null || _y === void 0 ? void 0 : _y.screenX) !== null && _z !== void 0 ? _z : 0)) /\n                                (Math.PI / 180);\n                        return;\n                    }\n                    if (!didTouch1 && !didTouch2) {\n                        return;\n                    }\n                }\n                if (didTouch1 || event.type === 'mousedown') {\n                    this.thresholdX = this.opts.threshold('x', this);\n                    this.thresholdY = this.opts.threshold('y', this);\n                    this.disregardVelocityThresholdX = this.opts.disregardVelocityThreshold('x', this);\n                    this.disregardVelocityThresholdY = this.opts.disregardVelocityThreshold('y', this);\n                    this.touchStartX = event.type === 'mousedown' ? event.screenX : ((_0 = this.touch1) === null || _0 === void 0 ? void 0 : _0.screenX) || 0;\n                    this.touchStartY = event.type === 'mousedown' ? event.screenY : ((_1 = this.touch1) === null || _1 === void 0 ? void 0 : _1.screenY) || 0;\n                    this.touchMoveX = null;\n                    this.touchMoveY = null;\n                    this.touchEndX = null;\n                    this.touchEndY = null;\n                    this.swipingDirection = null;\n                    this.longPressTimer = setTimeout(() => this.fire('longpress', event), this.opts.longPressTime);\n                    this.scale = 1;\n                    this.rotation = 0;\n                    this.fire('panstart', event);\n                }\n            }\n            onTouchMove(event) {\n                var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o;\n                if (event.type === 'mousemove' && (!this.touchStartX || this.touchEndX !== null)) {\n                    return;\n                }\n                let touch1 = undefined;\n                let touch2 = undefined;\n                if (event.type !== 'mousemove') {\n                    touch1 = [...event.changedTouches].find((touch) => { var _a; return touch.identifier === ((_a = this.touch1) === null || _a === void 0 ? void 0 : _a.identifier); });\n                    this.touchMove1 = touch1 || this.touchMove1;\n                    touch2 = [...event.changedTouches].find((touch) => { var _a; return touch.identifier === ((_a = this.touch2) === null || _a === void 0 ? void 0 : _a.identifier); });\n                    this.touchMove2 = touch2 || this.touchMove2;\n                }\n                if (event.type === 'mousemove' || touch1) {\n                    const touchMoveX = (event.type === 'mousemove' ? event.screenX : (_a = touch1 === null || touch1 === void 0 ? void 0 : touch1.screenX) !== null && _a !== void 0 ? _a : 0) - ((_b = this.touchStartX) !== null && _b !== void 0 ? _b : 0);\n                    this.velocityX = touchMoveX - ((_c = this.touchMoveX) !== null && _c !== void 0 ? _c : 0);\n                    this.touchMoveX = touchMoveX;\n                    const touchMoveY = (event.type === 'mousemove' ? event.screenY : (_d = touch1 === null || touch1 === void 0 ? void 0 : touch1.screenY) !== null && _d !== void 0 ? _d : 0) - ((_e = this.touchStartY) !== null && _e !== void 0 ? _e : 0);\n                    this.velocityY = touchMoveY - ((_f = this.touchMoveY) !== null && _f !== void 0 ? _f : 0);\n                    this.touchMoveY = touchMoveY;\n                    const absTouchMoveX = Math.abs(this.touchMoveX);\n                    const absTouchMoveY = Math.abs(this.touchMoveY);\n                    this.swipingHorizontal = absTouchMoveX > this.thresholdX;\n                    this.swipingVertical = absTouchMoveY > this.thresholdY;\n                    this.swipingDirection =\n                        absTouchMoveX > absTouchMoveY\n                            ? this.swipingHorizontal\n                                ? 'horizontal'\n                                : 'pre-horizontal'\n                            : this.swipingVertical\n                                ? 'vertical'\n                                : 'pre-vertical';\n                    if (Math.max(absTouchMoveX, absTouchMoveY) > this.opts.pressThreshold) {\n                        clearTimeout((_g = this.longPressTimer) !== null && _g !== void 0 ? _g : undefined);\n                    }\n                    this.fire('panmove', event);\n                }\n                if (event.type !== 'mousemove' && this.touchMove1 != null && this.touchMove2 != null) {\n                    this.newDistance = Math.sqrt(Math.pow(this.touchMove2.screenX - this.touchMove1.screenX, 2) +\n                        Math.pow(this.touchMove2.screenY - this.touchMove1.screenY, 2));\n                    this.scale = this.newDistance / ((_h = this.originalDistance) !== null && _h !== void 0 ? _h : 0);\n                    this.fire('pinch', event);\n                    this.newAngle =\n                        Math.atan2(((_j = this.touchMove2.screenY) !== null && _j !== void 0 ? _j : 0) - ((_k = this.touchMove1.screenY) !== null && _k !== void 0 ? _k : 0), ((_l = this.touchMove2.screenX) !== null && _l !== void 0 ? _l : 0) - ((_m = this.touchMove1.screenX) !== null && _m !== void 0 ? _m : 0)) /\n                            (Math.PI / 180);\n                    this.rotation = this.newAngle - ((_o = this.originalAngle) !== null && _o !== void 0 ? _o : 0);\n                    this.fire('rotate', event);\n                }\n            }\n            onTouchEnd(event) {\n                var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n                let touch1 = undefined;\n                if (event.type !== 'mouseup') {\n                    touch1 = [...event.changedTouches].find((touch) => { var _a; return touch.identifier === ((_a = this.touch1) === null || _a === void 0 ? void 0 : _a.identifier); });\n                    if (![...event.touches].find((touch) => { var _a; return touch.identifier === ((_a = this.touch1) === null || _a === void 0 ? void 0 : _a.identifier); })) {\n                        this.touch1 = null;\n                        this.touchMove1 = null;\n                    }\n                    if (![...event.touches].find((touch) => { var _a; return touch.identifier === ((_a = this.touch2) === null || _a === void 0 ? void 0 : _a.identifier); })) {\n                        this.touch2 = null;\n                        this.touchMove2 = null;\n                    }\n                }\n                if (event.type === 'mouseup' && (!this.touchStartX || this.touchEndX !== null)) {\n                    return;\n                }\n                if (event.type === 'mouseup' || touch1) {\n                    this.touchEndX = event.type === 'mouseup' ? event.screenX : (_a = touch1 === null || touch1 === void 0 ? void 0 : touch1.screenX) !== null && _a !== void 0 ? _a : 0;\n                    this.touchEndY = event.type === 'mouseup' ? event.screenY : (_b = touch1 === null || touch1 === void 0 ? void 0 : touch1.screenY) !== null && _b !== void 0 ? _b : 0;\n                    this.fire('panend', event);\n                    clearTimeout((_c = this.longPressTimer) !== null && _c !== void 0 ? _c : undefined);\n                    const x = this.touchEndX - ((_d = this.touchStartX) !== null && _d !== void 0 ? _d : 0);\n                    const absX = Math.abs(x);\n                    const y = this.touchEndY - ((_e = this.touchStartY) !== null && _e !== void 0 ? _e : 0);\n                    const absY = Math.abs(y);\n                    const distance = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\n                    const absDistance = Math.abs(distance);\n                    const diagonal = absY / absX;\n                    if (absX > this.thresholdX ||\n                        absY > this.thresholdY ||\n                        (this.opts.diagonalSwipes && (absDistance > this.thresholdX || absDistance > this.thresholdY))) {\n                        this.swipedHorizontal = absX > this.thresholdX || (this.opts.diagonalSwipes && absDistance > this.thresholdX);\n                        this.swipedVertical = absY > this.thresholdY || (this.opts.diagonalSwipes && absDistance > this.thresholdY);\n                        if (!this.opts.diagonalSwipes ||\n                            diagonal < Math.tan(((45 - this.opts.diagonalLimit) * Math.PI) / 180) ||\n                            diagonal > Math.tan(((45 + this.opts.diagonalLimit) * Math.PI) / 180)) {\n                            if (absX >= absY) {\n                                this.swipedVertical = false;\n                            }\n                            if (absY > absX) {\n                                this.swipedHorizontal = false;\n                            }\n                        }\n                        if (this.swipedHorizontal) {\n                            if (x < 0) {\n                                if (((_f = this.velocityX) !== null && _f !== void 0 ? _f : 0) < -this.opts.velocityThreshold || distance < -this.disregardVelocityThresholdX) {\n                                    this.fire('swipeleft', event);\n                                }\n                            }\n                            else {\n                                if (((_g = this.velocityX) !== null && _g !== void 0 ? _g : 0) > this.opts.velocityThreshold || distance > this.disregardVelocityThresholdX) {\n                                    this.fire('swiperight', event);\n                                }\n                            }\n                        }\n                        if (this.swipedVertical) {\n                            if (y < 0) {\n                                if (((_h = this.velocityY) !== null && _h !== void 0 ? _h : 0) < -this.opts.velocityThreshold || distance < -this.disregardVelocityThresholdY) {\n                                    this.fire('swipeup', event);\n                                }\n                            }\n                            else {\n                                if (((_j = this.velocityY) !== null && _j !== void 0 ? _j : 0) > this.opts.velocityThreshold || distance > this.disregardVelocityThresholdY) {\n                                    this.fire('swipedown', event);\n                                }\n                            }\n                        }\n                    }\n                    else if (absX < this.opts.pressThreshold && absY < this.opts.pressThreshold) {\n                        if (this.doubleTapWaiting) {\n                            this.doubleTapWaiting = false;\n                            clearTimeout((_k = this.doubleTapTimer) !== null && _k !== void 0 ? _k : undefined);\n                            this.fire('doubletap', event);\n                        }\n                        else {\n                            this.doubleTapWaiting = true;\n                            this.doubleTapTimer = setTimeout(() => (this.doubleTapWaiting = false), this.opts.doubleTapTime);\n                            this.fire('tap', event);\n                        }\n                    }\n                }\n                if (!this.touch1 && !this.touch2) {\n                    this.fire('pinchend', event);\n                    this.fire('rotateend', event);\n                    this.originalDistance = null;\n                    this.newDistance = null;\n                    this.scale = null;\n                    this.originalAngle = null;\n                    this.newAngle = null;\n                    this.rotation = null;\n                }\n            }\n        }\n        TinyGesture.defaults = {\n            threshold: (type, _self) => Math.max(25, Math.floor(0.15 *\n                (type === 'x'\n                    ? window.innerWidth || document.body.clientWidth\n                    : window.innerHeight || document.body.clientHeight))),\n            velocityThreshold: 10,\n            disregardVelocityThreshold: (type, self) => Math.floor(0.5 * (type === 'x' ? self.element.clientWidth : self.element.clientHeight)),\n            pressThreshold: 8,\n            diagonalSwipes: false,\n            diagonalLimit: 15,\n            longPressTime: 500,\n            doubleTapTime: 300,\n            mouseSupport: true,\n        };\n        let passiveIfSupported = false;\n        try {\n            window.addEventListener('test', null, Object.defineProperty({}, 'passive', {\n                get: function () {\n                    passiveIfSupported = { passive: true };\n                },\n            }));\n        }\n        catch (err) { }\n    \n        FrontBx.set('TinyGesture', TinyGesture);\n    \n    })();\n    (function()\n    {\n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [find, find_all, each, dom_element, add_class, toggle_class, on, off, has_class, remove_class, remove_from_dom, css, height, width, preapend, scroll_pos, animate_css, rendered_style] = FrontBx.import(['find','find_all','each','dom_element','add_class','toggle_class','on','off','has_class','remove_class','remove_from_dom', 'css', 'height', 'width', 'preapend', 'scroll_pos', 'animate_css', 'rendered_style']).from('_');\n    \n        /**\n         * Default options\n         * \n         * @var {obj}\n         */\n        var DEFAULT_OPTIONS =\n        {\n            // Content - can be a node, nodelist, or string of HTML\n            content: '',\n            \n            // Overlay color - dark, light, none,\n            overlay: 'dark',\n    \n            // Force overlay on persistent drawer\n            persistentOverlay: false,\n    \n            // When true allows swiping on screen to hide/show\n            swipeable: false,\n    \n            // When keepEdge is true, the default state to set \"expanded\"|\"collapsed\"\n            state: 'expanded',\n    \n            // Where the drawer comes from - left,right,top,bottom\n            direction: 'left',\n    \n            // Collapses to icon size\n            peekable: false,\n    \n            // Adapt body body\n            persistent: false,\n    \n            // Responsive\n            responsive: false,\n    \n            // Push body instead of changing width\n            pushbody: false,\n    \n            // Animiation time\n            animationTime: 250,\n    \n            // Animation easing\n            easing: 'easeOut',\n    \n            // HTML initialized\n            fromHTML: false,\n            \n            // Additional classes to apply to wrapper\n            classes: '',\n    \n            // State callbacks\n            callbackBuilt:    () => { },\n            callbackRender:   () => { },\n            callbackClose:    () => { },\n            callbackOpen:     () => { },\n            callbackValidate: () => true,\n        };\n    \n        /**\n         * Closing arrow icons.\n         * \n         * @var {obj}\n         */\n        const PUSH_ARROWS =\n        {\n            left: 'left',\n            right: 'right',\n            top: 'up',\n            bottom: 'down'\n        };\n    \n        /**\n         * Swipe open/close directions.\n         * \n         * @var {obj}\n         */\n        const SWIPE_DIRECTIONS =\n        {\n            left: ['swiperight', 'swipeleft'],\n            right: ['swipeleft', 'swiperight'],\n            top:  ['swipedown', 'swipeup'],\n            bottom: ['swipeup', 'swipedown'],\n        };\n    \n        /**\n         * Don't double wrap body.\n         * \n         * @var {boolean}\n         */\n        var WRAPPED_BODY = false;\n    \n        /**\n         * Don't double wrap body.\n         * \n         * @var {boolean}\n         */\n        var WRAPPED_DRAWERS = 0;\n    \n        /**\n         * Module constructor\n         *\n         * @class\n         * @params {options} obj\n         * @access {public}\n         */\n        const Drawer = function(options)\n        { \n            // Merge options\n            this._options = {...DEFAULT_OPTIONS, ...options};\n    \n            if (!SWIPE_DIRECTIONS[this._options.direction]) throw new Error('Unsupported direction.');\n    \n            if (this._options.peekable) this._options.persistent = true;\n    \n            if (this._options.pushbody)\n            {\n                this._options.persistent = true;\n    \n                this._options.peekable = false;\n            }\n    \n            // Save state\n            this._state = this._options.state;\n    \n            // Animating\n            this._animating = false;\n    \n            // Already mounted?\n            this._mounted = false;\n    \n            // Initial mount\n            this._animateOnMount = typeof this._options.animateOnMount === 'undefined' ? this._state === 'expanded' && !this._options.fromHTML : this._options.animateOnMount;\n    \n            // Do we have an overlay\n            this._hasOverlay = !this._options.persistent || (this._options.persistent && this._options.persistentOverlay);\n    \n            // Cache resize throttle\n            this._resizeThrottle = throttle(() => this.resize(), 100);\n    \n            // Build the drawer\n            this._build();\n    \n            // Render the drawer        \n            this._mount();\n    \n            // Add listeners\n            this._bindListeners();\n    \n            return this;\n        }\n    \n        /**\n         * Is drawer open?\n         *\n         * @access {public}\n         * @return {Boolean}\n         */\n        Drawer.prototype.opened = function()\n        {\n            return this._state === 'expanded';\n        }\n    \n        /**\n         * Is drawer closed?\n         *\n         * @access {public}\n         * @return {Boolean}\n         */\n        Drawer.prototype.closed = function()\n        {\n            return this._state === 'collapsed';\n        }\n    \n        /**\n         * Is drawer open or closed?\n         *\n         * @access {public}\n         * @return {String}\n         */\n        Drawer.prototype.state = function()\n        {\n            return this._state;\n        }\n    \n        /**\n         * Returns drawer direction.\n         *\n         * @access {public}\n         * @return {String}\n         */\n        Drawer.prototype.direction = function()\n        {\n            return this._options.direction;\n        }\n    \n        /**\n         * Window resize handler\n         *\n         * @access {public}\n         */\n        Drawer.prototype.resize = function()\n        {\n            if (this._animating) return;\n    \n            let x = width(window);\n    \n            if (x < 768 && this.opened())\n            {\n                this.close();\n            }\n            else if (x > 768 && this.closed())\n            {\n                this.open();\n            }\n        }\n    \n        /**\n         * Destroy drawer.\n         *\n         * @access {public}\n         */\n        Drawer.prototype.destroy = function()\n        {\n            // Close\n            this.close();\n    \n            // Remove gestures\n            this._gestures.destroy();\n    \n            // Unwrap body\n            if (this._options.persistent) this._unwrapBody();\n    \n            if (this._options.responsive && this._options.persistent) \n            {\n                off(window, 'resize', this._resizeThrottle, this);\n            }\n    \n            if (WRAPPED_DRAWERS <= 0)\n            {\n                remove_from_dom(this._containerWrap);\n            }\n            else\n            {\n                if (this._hasOverlay) remove_from_dom(this._overlay);\n    \n                remove_from_dom(this._drawer);\n            }\n        }\n    \n        /**\n         * Close drawer.\n         *\n         * @access {public}\n         */\n        Drawer.prototype.open = function()\n        {\n            // Don't open when animating or not already closed\n            if (this._state !== 'collapsed' || this._animating) return;\n    \n            this._animating = true;\n    \n            remove_class(this._containerWrap, 'closed, closing');\n    \n            add_class(this._containerWrap, 'opening');\n    \n            remove_class(this._drawer, 'disabled');\n    \n            this._animteDrawer();\n    \n            if (this._hasOverlay)\n            {\n                add_class(document.body, 'no-scroll');\n    \n                this._animateOverlay();\n            }\n    \n            if (this._options.pushbody) add_class(document.body, 'no-scroll');\n    \n            if (this._options.persistent) this._animateBody();\n    \n            if (!this._mounted) this._toggleEnd();\n        }\n    \n        /**\n         * Open drawer.\n         *\n         * @access {public}\n         */\n        Drawer.prototype.close = function()\n        {\n            if (this._state !== 'expanded' || this._animating) return;\n    \n            this._animating = true;\n    \n            add_class(this._containerWrap, 'closing');\n    \n            remove_class(this._containerWrap, 'expanded, opening');\n    \n            remove_class(document.body, 'no-scroll');\n    \n            this._animteDrawer();\n    \n            if (this._hasOverlay) this._animateOverlay();\n    \n            if (this._options.persistent) this._animateBody();\n    \n            if (!this._mounted) this._toggleEnd();\n        }\n    \n        /**\n         * Wrap body when 'persistent' true.\n         *\n         * @access {private}\n         */\n        Drawer.prototype._animteDrawer = function()\n        {\n            let peekable  = this._options.peekable;\n            let state     = this._state;\n            let direction = this._options.direction;\n            let duration  = this._options.animationTime;\n            let easing    = this._options.easing;\n            let property  = peekable ? (direction === 'left' || direction === 'right' ? 'width' : 'height') : 'transform';\n            let to        = peekable ? (state === 'collapsed' ? this._drawerSize : this._peekableSize) : 'translate3d(0px, 0px, 0px)';\n            let from      = peekable ? (state === 'collapsed' ? this._peekableSize : 'auto') : null;\n    \n            if (peekable && state === 'collapsed' && (direction === 'top' || direction === 'bottom'))\n            {\n                to = this._drawerSize;\n            }\n    \n            if (!peekable)\n            {\n                let x = (direction === 'left' || direction === 'right') ? (direction === 'left' ? '-100%' : '100%') : '0px';\n                let y = (direction === 'top' || direction === 'bottom') ? (direction === 'top' ? '-100%' : '100%') : '0px';\n                let tofrom = `translate3d(${x}, ${y}, 0px)`;\n    \n                state === 'expanded' ? to = tofrom : from = tofrom;\n            }\n    \n            (this._mounted || (!this._mounted && this._animateOnMount)) ? animate_css(this._drawer, {property, from, to, duration, easing, callback: () => this._toggleEnd() }) : css(this._drawer, property, to);\n        }\n    \n        /**\n         * Wrap body when 'persistent' true.\n         *\n         * @access {private}\n         */\n        Drawer.prototype._animateOverlay = function()\n        {\n            let duration  = this._options.animationTime;\n            let easing    = this._options.easing;\n            let property  = 'opacity';\n            let to        = this._state === 'collapsed' ? '1' : '0';\n            let from      = this._state === 'collapsed' ? '0' : '1';\n    \n            (this._mounted || (!this._mounted && this._animateOnMount)) ? animate_css(this._overlay, {property, from, to, duration, easing }) : css(this._overlay, property, to);\n        }\n    \n        /**\n         * Wrap body when 'persistent' true.\n         *\n         * @access {private}\n         */\n        Drawer.prototype._animateBody = function()\n        {\n            if (!this._options.persistent) return;\n    \n            let peekable  = this._options.peekable;\n            let state     = this._state;\n            let direction = this._options.direction;\n            let duration  = this._options.animationTime;\n            let easing    = this._options.easing;\n            let property  = 'margin';\n            let n, e, s, w;\n            n = e = s = w = '0px';\n    \n            if (direction === 'left')   w = state === 'collapsed' ? this._drawerSize  : (peekable ? this._peekableSize : '0px');\n            if (direction === 'right')  e = state === 'collapsed' ? this._drawerSize  : (peekable ? this._peekableSize : '0px');\n            if (direction === 'top')    n = state === 'collapsed' ? `${height(this._drawer)}px` : (peekable ? this._peekableSize : '0px');\n    \n            let to = `${n} ${e} ${s} ${w}`;\n    \n            if (this._options.pushbody)\n            {\n                property = 'transform';\n                to = 'translate3d(0px, 0px, 0px)';\n    \n                if (state === 'collapsed')\n                {\n                    let x, y;\n                    x = y = '0px';\n                    if (e !== '0px') x = `-${e}`;\n                    if (w !== '0px') x = w;\n                    if (n !== '0px') y = n;\n                    to = `translate3d(${x}, ${y}, 0px)`;\n                }\n            }\n    \n            (this._mounted || (!this._mounted && this._animateOnMount)) ? animate_css(this._bodyWrap, {property, to, duration, easing }) : css(this._bodyWrap, property, to);\n        }\n    \n        /**\n         * Completed opening / closing.\n         *\n         * @access {private}\n         */\n        Drawer.prototype._toggleEnd = function()\n        {        \n            // Multiple transitions\n            if (!this._animating) return;\n    \n            this._state = this._state === 'collapsed' ? 'expanded' : 'collapsed';\n    \n            add_class(this._containerWrap, this._state === 'expanded' ? 'expanded' : 'closed');\n    \n            remove_class(this._containerWrap, this._state === 'expanded' ? 'opening' : 'closing');\n    \n            this._makeCallback(this._state === 'expanded' ? this._options.callbackOpen : this._options.callbackClose);\n    \n            this._animating = false;\n        }\n    \n        /**\n         * Build DOM Elements for drawer.\n         *\n         * @access {private}\n         */\n        Drawer.prototype._build = function()\n        {\n            let container = dom_element({tag: 'div', class: `js-drawer-container drawer-container drawer-${this._options.direction} ${this._options.persistent ? 'persistent' : ''} ${this._options.peekable ? 'peekable' : null } overlay-${this._options.overlay} ${this._options.classes}`});\n            let overlay   = dom_element({tag: 'div', class: 'js-drawer-overlay drawer-overlay'}, !this._hasOverlay ? null : container);\n            let drawer    = dom_element({tag: 'aside', class: 'js-drawer-wrap drawer-wrap'}, container, \n                dom_element({tag: 'div', class: 'drawer-dialog js-drawer-dialog' }, null, this._options.content )\n            );\n    \n            this._containerWrap = container;\n            this._drawer        = drawer;\n            this._overlay       = overlay;\n            this._dialog        = find('.js-drawer-dialog', this._drawer);\n    \n            if (this._options.persistent)\n            {\n                let header = dom_element({tag: 'div', class: `flex-row-fluid align-cols-center-y drawer-header ${this._options.direction !== 'right' ? 'align-cols-right' : ''}`});\n                let closer = dom_element({tag: 'button', type: 'button', class: 'btn btn-pure btn-circle btn-xs close-btn'}, header, dom_element({tag: 'span', class: `fa fa-chevron-${PUSH_ARROWS[this._options.direction]}`}));\n                \n                this._options.direction === 'top' ? this._dialog.appendChild(header) : preapend(header, this._dialog);\n    \n                on(closer, 'click', this._closeValidate, this);\n            }\n    \n            this._makeCallback(this._options.callbackBuilt);\n        }\n    \n        /**\n         * Mount and render the drawer.\n         *\n         * @access {private}\n         */\n        Drawer.prototype._mount = function()\n        {\n            document.body.appendChild(this._containerWrap);\n    \n            this._containerWrap.offsetHeight;\n    \n            this._peekableSize = this._options.peekableSize || rendered_style(this._containerWrap, '--fbx-drawer-size-peekable');\n            this._drawerSize   = this._options.drawerSize || rendered_style(this._containerWrap, '--fbx-drawer-width');\n    \n            if (this._options.persistent) this._wrapBody();\n    \n            this._state = this._state === 'expanded' ? 'collapsed' : 'expanded';\n    \n            this._state === 'collapsed' ? this.open() : this.close();\n    \n            this._mounted = true;\n    \n            this._makeCallback(this._options.callbackRender);\n        }\n    \n        /**\n         * Wrap body when 'persistent' true.\n         *\n         * @access {private}\n         */\n        Drawer.prototype._wrapBody = function()\n        {\n            WRAPPED_DRAWERS++;\n    \n            // Don't double-wrap body\n            if (WRAPPED_BODY)\n            {\n                // Disable other drawers\n                each(find_all('.js-drawer-wrap'), (i, drawer) => add_class(drawer, 'disabled'));\n    \n                let classN = this._containerWrap.className;\n    \n                if (this._containerWrap.parentNode) this._containerWrap.parentNode.removeChild(this._containerWrap);\n    \n                this._containerWrap = find('.js-drawer-container');\n    \n                this._bodyWrap = find('.js-drawer-body-wrap');\n    \n                this._containerWrap.className = classN;\n    \n                this._containerWrap.appendChild(this._drawer);\n    \n                return;\n            }\n    \n            WRAPPED_BODY = true;\n    \n            let pos = scroll_pos();\n    \n            let content = find_all('body > *');\n    \n            this._bodyWrap = dom_element({tag: 'div', class: 'js-drawer-body-wrap drawer-body-wrap'});\n    \n            preapend(this._bodyWrap, this._containerWrap);\n            \n            each(content, (i, node) => node !== this._containerWrap ? this._bodyWrap.appendChild(node) : null);\n    \n            this._containerWrap.scrollTo(pos.left, pos.top);\n        }\n    \n        /**\n         * Unwrap body when 'persistent' true.\n         *\n         * @access {private}\n         */\n        Drawer.prototype._unwrapBody = function()\n        {\n            if (!WRAPPED_BODY) return;\n    \n            WRAPPED_DRAWERS--;\n    \n            // Only unwrap if we're the last drawer using the container.\n            if (WRAPPED_DRAWERS <= 0)\n            {\n                let pos = scroll_pos(this._containerWrap);\n    \n                let content = find_all('> *', this._bodyWrap);\n    \n                each(content, (i, node) => document.body.appendChild(node));\n               \n                window.scrollTo(pos.left, pos.top);\n    \n                WRAPPED_BODY = false;\n            }\n        }\n    \n        /**\n         * Validate closing.\n         *\n         * @access {private}\n         */\n        Drawer.prototype._closeValidate = function()\n        {\n            if (this._makeCallback(this._options.callbackValidate)) this.close();\n        }\n    \n        /**\n         * Bind event listeners for drawer.\n         *\n         * @access {private}\n         */\n        Drawer.prototype._bindListeners = function()\n        {\n            if (!this._options.fromHTML) \n            {\n                let context = this._options.persistent ? this._drawer : this._containerWrap;\n                \n                FrontBx.dom().refresh(context);\n            }\n    \n            if (this._options.responsive && this._options.persistent) \n            {\n                on(window, 'resize', this._resizeThrottle, this);\n            }\n    \n            on(this._overlay, 'click', this._closeValidate, this);\n    \n            let directions = SWIPE_DIRECTIONS[this._options.direction];\n    \n            this._gestures = FrontBx.TinyGesture(this._options.swipeable ? window : this._drawer, { mouseSupport: true, velocityThreshold: 3, threshold: (type, self) => this._options.swipeable ? 20 : 3 });\n    \n            this._gestures.on(directions[0], () => this.open() );\n    \n            this._gestures.on(directions[1], () => this._closeValidate() );\n        }\n    \n        /**\n         * Fire callbacks.\n         *\n         * @access {private}\n         */\n        Drawer.prototype._makeCallback = function(callback)\n        {\n            if (callback) return callback(this._containerWrap, this._drawer, this._overlay, this._bodyWrap);\n        }\n    \n        // Load into container \n        FrontBx.set('Drawer', Drawer);\n    \n    })();\n    (function()\n    {\n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [on, find, dom_element, extend] = FrontBx.import(['on','find','dom_element','extend']).from('_');\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const Drawer = FrontBx.Drawer(FrontBx.IMPORT_AS_REF);\n    \n        /**\n         * @var {obj}\n         */\n        var DEFAULT_OPTIONS =\n        {\n            // Content - can be a node, nodelist, or string of HTML\n            content: '',\n    \n            // Confirm button text or null + confirm button class\n            confirmBtn: null,\n            confirmClass: '',\n            \n            // Overlay color - \"dark\"| \"light\"\n            overlay: 'dark',\n    \n            // Allows collapsing,expanding\n            peekable: false,\n    \n            // When true allows swiping on screen to hide/show\n            swipeable: false,\n    \n            // When keepEdge is true, the default state to set \"expanded\"|\"collapsed\"\n            state: 'expanded',\n    \n            // Private\n            animationTime: 225,\n            persistentOverlay: true,\n            direction: 'bottom',\n            classes: '',\n            persistent: false,\n    \n            // State callbacks\n            callbackBuilt:    () => { },\n            callbackRender:   () => { },\n            callbackConfirm:  () => { },\n            callbackClose:    () => { },\n            callbackOpen:     () => { },\n            callbackValidate: () => true,\n        };\n    \n        /**\n         * Module constructor\n         *\n         * @class\n         * @params {options} obj\n         * @access {public}\n         * @return {this}\n         */\n        const Frontdrop = function(options)\n        {\n            let classes = options.confirmBtn ? `frontdrop with-confirmation ${options.classes}` : `frontdrop ${options.classes}`;\n    \n            options = {...DEFAULT_OPTIONS, ...options, classes};\n    \n            let content = this._buildFD(options);\n    \n            options = {...options, content};\n    \n            this.super(options);\n    \n            if (options.confirmBtn) on(find('.js-frontdrop-confirm', content), 'click', this._closeValidate, this);\n        }\n    \n        /**\n         * Build the frontdrop and overlay.\n         *\n         * @access {private}\n         */\n        Frontdrop.prototype._buildFD = function(options)\n        {\n            let footer = options.confirmBtn ? dom_element({tag: 'div', class: 'card-footer'}, null, \n                dom_element({tag: 'div', class: 'card-footer'}, null,\n                    dom_element({tag: 'div', class: 'card-footer-content'}, null,\n                        dom_element({tag: 'div', class: 'container-fluid'}, null,\n                            dom_element({tag: 'button', type: 'button', class: `btn btn-block js-frontdrop-confirm ${options.confirmClass}`}, null, options.confirmBtn)\n                        )\n                    )\n                )\n            ) : null;\n    \n            return dom_element({tag: 'div', class: 'card js-frontdrop-inner'}, null,\n            [ \n                dom_element({tag: 'div', class: 'card-header'}, null,\n                    dom_element({tag: 'div', class: 'container-fluid'}, null, \n                        dom_element({tag: 'div', class: 'card-header-content'}, null,\n                            dom_element({tag: 'div', class: 'card-title'}, null, options.title)\n                        )\n                    )\n                ),\n                dom_element({tag: 'div', class: 'card-block'}, null, \n                    dom_element({tag: 'div', class: 'container-fluid'}, null, options.content)\n                ),\n                footer\n            ])\n        }\n    \n        // Load into container \n        FrontBx.set('Frontdrop', extend(Drawer, Frontdrop));\n    \n    })();\n    (function()\n    {\n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [on, find, dom_element, extend] = FrontBx.import(['on','find','dom_element','extend']).from('_');\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const Drawer = FrontBx.Drawer(FrontBx.IMPORT_AS_REF);\n    \n        /**\n         * Module constructor\n         *\n         * @class\n         * @params {options} obj\n         * @access {public}\n         * @return {this}\n         */\n        const Backdrop = function(options)\n        {\n            let classes = !options.classes ? 'backdrop' : `backdrop ${options.classes}`;\n    \n            let persistent = true;\n    \n            options = {...options, classes, persistent };\n    \n            this.super(options);\n        }\n    \n        // Load into container \n        FrontBx.set('Backdrop', extend(Drawer, Backdrop));\n    })();\n    (function()\n    {\n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [find, dom_element, add_class, on, off, remove_class, remove_from_dom, hide_aria, show_aria] = FrontBx.import(['find','dom_element','add_class','on','off','remove_class','remove_from_dom','hide_aria','show_aria']).from('_');\n    \n        /**\n         * Default options\n         * \n         * @var {obj}\n         */\n        var DEFAULT_OPTIONS =\n        {\n            // Title\n            title: '',\n    \n            // Content - can be a node, nodelist, or string of HTML\n            content: '',\n    \n            // Additional classes to pass to modal\n            classes: '',\n    \n            // Does not create card\n            custom: false,\n    \n            // Click anywhere to close\n            closeAnywhere: true,\n    \n            // Scroll 'content' or 'modal'\n            scroll: 'modal',\n    \n            // Cancel btn\n            cancelBtn: null,\n            cancelClass: 'btn-danger btn-pure',\n    \n            // Confirm btn\n            confirmBtn: null,\n            confirmClass: 'btn-pure',\n            \n            // Overlay color - dark, light, none,\n            overlay: 'dark',\n    \n            // Default state when created/mounted set \"open\"|\"closed\"\n            state: 'open',\n    \n            // Loaded from HTML DOM\n            fromHTML: false,\n    \n            // State callbacks\n            callbackBuilt:    () => { },\n            callbackRender:   () => { },\n            callbackClose:    () => { },\n            callbackOpen:     () => { },\n            callbackValidate: () => true,\n        };\n    \n        /**\n         * Module constructor\n         *\n         * @class\n         * @params {options} obj\n         * @access {public}\n         */\n        const Modal = function(options)\n        { \n            // Merge options\n            this._options = {...DEFAULT_OPTIONS, ...options};\n    \n            // Save state\n            this._state = this._options.state;\n    \n            // Animating\n            this._animating = false;\n    \n            // Build the Modal\n            this._build();\n    \n            // Add listeners\n            this._bindListeners();\n    \n            // Render the Modal        \n            this._mount();\n    \n            return this;\n        }\n    \n        /**\n         * Is Modal open?\n         *\n         * @access {public}\n         * @return {Boolean}\n         */\n        Modal.prototype.opened = function()\n        {\n            return this._state === 'open';\n        }\n    \n        /**\n         * Is Modal closed?\n         *\n         * @access {public}\n         * @return {Boolean}\n         */\n        Modal.prototype.closed = function()\n        {\n            return this._state === 'closed';\n        }\n    \n        /**\n         * Is Modal open or closed?\n         *\n         * @access {public}\n         * @return {String}\n         */\n        Modal.prototype.state = function()\n        {\n            return this._state;\n        }\n    \n        /**\n         * Destroy Modal.\n         *\n         * @access {public}\n         */\n        Modal.prototype.destroy = function()\n        {\n            this.close();\n    \n            remove_from_dom(this._modal);\n    \n            remove_from_dom(this._overlay);\n        }\n    \n        /**\n         * Close Modal.\n         *\n         * @access {public}\n         */\n        Modal.prototype.open = function()\n        {\n            // Don't open when animating or not already closed\n            if (this._state !== 'closed' || this._animating) return;\n    \n            this._animating = true;\n    \n            on(this._dialog, 'transitionend', this._toggleEnd, this);\n    \n            remove_class([this._modal, this._overlay], 'closed, closing');\n    \n            add_class([this._modal, this._overlay], 'opening');\n    \n            if (this._options.overlay !== false) add_class(document.body, 'no-scroll');\n    \n            show_aria([this._modal, this._overlay]);\n        }\n    \n        /**\n         * Open Modal.\n         *\n         * @access {public}\n         */\n        Modal.prototype.close = function()\n        {\n            if (this._state !== 'open' || this._animating) return;\n    \n            this._animating = true;\n    \n            on(this._dialog, 'transitionend', this._toggleEnd, this);\n    \n            remove_class([this._modal, this._overlay], 'opening, opened');\n    \n            add_class([this._modal, this._overlay], 'closing');\n    \n            remove_class(document.body, 'no-scroll');\n    \n            hide_aria([this._modal, this._overlay]);\n    \n            this._dialog.blur();\n        }\n    \n        /**\n         * Completed opening / closing.\n         *\n         * @access {private}\n         */\n        Modal.prototype._toggleEnd = function()\n        {                \n            // Multiple transitions\n            if (!this._animating) return;\n    \n            if (this._state === 'closed') this._dialog.focus();\n    \n            this._state = this._state === 'closed' ? 'open' : 'closed';\n    \n            remove_class([this._modal, this._overlay], this._state === 'open' ? 'opening' : 'closing');\n    \n            add_class([this._modal, this._overlay], this._state === 'open' ? 'opened' : 'closed');\n    \n            this._makeCallback(this._state === 'open' ? this._options.callbackOpen : this._options.callbackClose);\n    \n            off(this._dialog, 'transitionend', this._toggleEnd, this);\n    \n            this._animating = false;\n        }\n    \n        /**\n         * Build DOM Elements for Modal.\n         *\n         * @access {private}\n         */\n        Modal.prototype._build = function()\n        {\n            this._cancelBtn  = this._options.cancelBtn  ? dom_element({tag: 'button', type: 'button', class: `btn ${this._options.cancelClass}`}, null, this._options.cancelBtn) : null; \n            \n            this._confirmBtn = this._options.confirmBtn ? dom_element({tag: 'button', type: 'button', class: `btn ${this._options.confirmClass}`}, null, this._options.confirmBtn) : null;\n            \n            this._overlay = dom_element({tag: 'div', role: 'presentation', class: `modal-overlay closed overlay-${this._options.overlay} ${this._options.overlay === false ? 'disabled' : ''}`});\n            \n            this._modal    = dom_element({tag: 'div', role: 'presentation', tabindex: '-1', class: `modal-wrap closed scroll-${this._options.scroll} ${this._options.classes}`}, null, \n            dom_element({tag: 'div', class: 'modal-dialog js-modal-dialog'}, null,\n                this._options.custom ? this._options.content : dom_element({tag: 'div', class: `card ${this._options.scroll === 'content' ? 'card-scrollable-content' : 'card-scrollable'} `}, null, \n                    [\n                        dom_element({tag: 'div', class: 'card-header'}, null, \n                            dom_element({tag: 'div', class: 'card-header-content'}, null, \n                                dom_element({tag: 'div', class: 'card-title'}, null, this._options.title)\n                            )\n                        ),\n                        dom_element({tag: 'div', class: 'card-block'}, null, this._options.content),\n                        (this._cancelBtn || this._confirmBtn ? \n                            dom_element({tag: 'div', class: 'card-footer'}, null, [ dom_element({tag: 'div', class: 'card-footer-content'}, null, '&nbsp;'),\n                                dom_element({tag: 'div', class: 'card-footer-right'}, null, [ this._cancelBtn, this._confirmBtn ])]\n                            ) : null)\n                    ])\n                )\n            );\n    \n            this._dialog = find('.js-modal-dialog', this._modal);\n    \n            this._makeCallback(this._options.callbackBuilt);\n        }\n    \n        /**\n         * Mount and render the Modal.\n         *\n         * @access {private}\n         */\n        Modal.prototype._mount = function()\n        {\n            document.body.appendChild(this._overlay);\n    \n            document.body.appendChild(this._modal);\n    \n            this._modal.offsetHeight;\n    \n            this._overlay.offsetHeight;\n    \n            if (!this._options.fromHTML) FrontBx.dom().refresh(this._modal);\n    \n            if (this._state === 'open')\n            {\n                this._state = 'closed';\n    \n                this.open();\n            }\n        }\n    \n        /**\n         * Bind event listeners for Modal.\n         *\n         * @access {private}\n         */\n        Modal.prototype._bindListeners = function()\n        {\n            if (this._options.closeAnywhere) on(this._modal, 'click', this._closeClick, this);\n    \n            if (this._cancelBtn) on(this._cancelBtn, 'click', this._closeValidate, this);\n    \n            if (this._confirmBtn) on(this._confirmBtn, 'click', this._closeValidate, this);\n        }\n    \n        /**\n         * Validate closing.\n         *\n         * @access {private}\n         */\n        Modal.prototype._closeClick = function(e, clicked)\n        {\n            if (e.target === this._modal) this._closeValidate();\n        }\n    \n        /**\n         * Validate closing.\n         *\n         * @access {private}\n         */\n        Modal.prototype._closeValidate = function()\n        {\n            if (this._makeCallback(this._options.callbackValidate)) this.close();\n        }\n    \n        /**\n         * Fire callbacks.\n         *\n         * @access {private}\n         */\n        Modal.prototype._makeCallback = function(callback)\n        {\n            if (callback) return callback(this._modal, this._Modal, this._overlay, this._bodyWrap);\n        }\n    \n        // Load into container \n        FrontBx.set('Modal', Modal);\n    \n    })();\n    (function()\n    {\n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [find, add_class, on, in_dom, remove_class, remove_from_dom, dom_element] = FrontBx.import(['find','add_class','on','in_dom','remove_class','remove_from_dom','dom_element']).from('_');\n    \n        /**\n         * Default options\n         * \n         * @var {array}\n         */\n        const DEFAULT_OPTIONS =\n        {\n            text:             '',\n            variant:          '',\n            icon:             '',\n            position:         'bottom',\n            timeout:          6000,\n            btn:              false,\n            btnVariant:       'primary',\n            callbackBuilt:    () => {},\n            callbackRender:   () => {},\n            callbackDismiss:  () => {},        \n            callbackValidate: () => { return true; }\n        };\n    \n        /**\n         * Notification\n         *\n         * The Notification class is a utility class used to\n         * display a notification.\n         *\n         */\n        const Notification = function(options)\n        {\n            this._options = {...DEFAULT_OPTIONS, ...options };\n    \n            this._buildNotificationContainer();\n    \n            this._build();\n    \n            this._render();\n    \n            this._bindListeners();\n        }\n    \n        /**\n         * Returns the notification element.\n         *\n         * @access {public}\n         */\n        Notification.prototype.domElement = function()\n        {\n            return this._notification;\n        }\n    \n        /**\n         * Remove the notification.\n         *\n         * @access {public}\n         */\n        Notification.prototype.remove = function()\n        {\n            clearTimeout(this._timeout);\n    \n            const wrappper = this._DOMElementWrapper;\n    \n            add_class(this._notification, this._animateOutClass);\n            \n            remove_class(this._notification, this._animateInClass);\n    \n            this._makeCallback(this._options.callbackDismiss);\n    \n            setTimeout(() =>\n            {\n                if (wrappper.children.length === 0) remove_class(wrappper, 'active');\n    \n                remove_from_dom(this._notification);\n    \n            }, 300);\n        }\n    \n        /**\n         * Build the notification container\n         *\n         * @access {private}\n         */\n        Notification.prototype._buildNotificationContainer = function()\n        {\n            this._wrapperClass = `.js-nofification-wrap.position-${this._options.position}`;\n    \n            let wrapper = find(this._wrapperClass);\n    \n            if (!wrapper)\n            {\n                wrapper = dom_element({tag: 'div', class: `notification-wrap position-${this._options.position} js-nofification-wrap`}, document.body);\n            }\n    \n            this._DOMElementWrapper = wrapper;\n        }\n    \n        /**\n         * Build the notification\n         *\n         * @access {private}\n         */\n        Notification.prototype._build = function()\n        {        \n            let options = this._options;\n    \n            this._animateInClass = this._animateIn();\n    \n            this._animateOutClass = this._animateOut();\n    \n            let notif = dom_element({tag: 'div', class: options.variant ? `msg msg-dense msg-${options.variant} ${this._animateInClass}` : `msg msg-dense ${this._animateInClass}` });\n            \n            if (options.icon)\n            {\n                dom_element({tag: 'div', class: 'msg-icon' }, notif, dom_element({tag: 'span', class: `fa fa-${options.icon}` }));\n            }\n    \n            dom_element({tag: 'div', class: 'msg-body'}, notif, dom_element({tag: 'p', innerHTML: options.text }))\n    \n            if (options.btn)\n            {\n                this._btn = dom_element({tag: 'div', class: 'msg-btn' }, notif, dom_element({tag: 'button', class: `btn btn-pure btn-${options.btnVariant} btn-sm js-notif-btn`, innerText: options.btn }));\n            }\n    \n            this._notification = notif;\n    \n            this._makeCallback(this._options.callbackBuilt);\n        }\n    \n        /**\n         * Build the notification\n         *\n         * @access {private}\n         */\n        Notification.prototype._animateIn = function()\n        {\n            if (this._options.position.includes('top')) return 'animate-in-down';\n    \n            return 'animate-in-up';\n        }\n    \n         /**\n         * Build the notification\n         *\n         * @access {private}\n         */\n        Notification.prototype._animateOut = function()\n        {\n            if (this._options.position.includes('top')) return 'animate-out-up';\n    \n            return 'animate-out-down';\n        }\n    \n        /**\n         * Render the notification.\n         *\n         * @access {private}\n         */\n        Notification.prototype._render = function()\n        {\n            add_class(this._DOMElementWrapper, 'active');\n    \n            this._DOMElementWrapper.appendChild(this._notification);\n    \n            this._notification.offsetHeight;\n    \n            this._makeCallback(this._options.callbackRender);\n    \n        }\n    \n        /**\n         * Render the notification.\n         *\n         * @access {private}\n         */\n        Notification.prototype._removeValidate = function()\n        {\n            if (this._makeCallback(this._options.callbackValidate)) this.remove();\n        }\n    \n        /**\n         * Render the notification.\n         *\n         * @access {private}\n         */\n        Notification.prototype._bindListeners = function()\n        {\n            if (this._options.timeout !== false)\n            {\n                this._timeout = setTimeout(() => this._removeValidate(), this._options.timeout);\n            }\n    \n            on(this._notification, 'click', this._removeValidate, this);\n        }\n    \n        /**\n         * Fire callbacks.\n         *\n         * @access {private}\n         */\n        Notification.prototype._makeCallback = function(callback,)\n        {\n            if (callback) return callback(this._notification);\n        }\n    \n        // Add to container\n        FrontBx.set('Notification', Notification);\n    \n    })();\n    (function()\n    {\n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [find, in_dom, normalize_url, is_string, coordinates, animate] = FrontBx.import(['find','in_dom','normalize_url','is_string','coordinates','animate']).from('_');\n    \n        /**\n         * Default options\n         * \n         * @var {object}\n         */\n        const DEFAULT_OPTIONS =\n        {\n            'speed'     : 500,\n            'easing'    : 'easeInOutCubic',\n            'updateURL' : true,\n        };\n    \n        /**\n         * Smooth scroll to an element or id\n         *\n         * @access {private}\n         */\n        function SmoothScroll(nodeOrId, options)\n        {\n            options = {...DEFAULT_OPTIONS, ...options};\n    \n            let DOMElement = is_string(nodeOrId) ? find(nodeOrId) : nodeOrId;\n    \n            if (!in_dom(DOMElement)) return;\n    \n            let pos = coordinates(DOMElement).top;\n    \n            let url = normalize_url(window.location.href);\n    \n            let isHashable = is_string(nodeOrId);\n    \n            const complete = function()\n            {\n                window.location.hash = nodeOrId;\n            }\n    \n            animate(window, { property : 'scrollTo', to: `0, ${pos}`,  easing: options.easing, duration: options.speed, callback: isHashable && options.updateURL ? complete : null});\n        }\n    \n    \n        // Load into FrontBx DOM core\n        FrontBx.set('SmoothScroll', SmoothScroll);\n    \n    })();\n    (function()\n    {\n        /**\n         * Cached helper functions.\n         * \n         * @var {functions}\n         */\n        const [on, off, _map, is_regexp] = FrontBx.import(['on', 'off', 'map', 'is_regexp']).from('_');\n    \n        /**\n         * Regex masks\n         * \n         * @var {object}\n         */\n        const MASK_MAP = \n        {\n            creditcard: /[0-9]/,\n            money: /[0-9.]/,\n            numeric: /[0-9]/,\n            numericdecimal: /[0-9.]/,\n            alphanumeric: /[A-z0-9-]/,\n            alphaspace: /[A-z ]/,\n            alphadash: /[A-z-]/,\n            alphanumericdash: /[A-z0-9-]/,\n        };\n    \n        /**\n         * Credit card formatters.\n         * \n         * @var {function}\n         */\n        const _format_464 = function(cc)\n        {\n            return [cc.substring(0,4),cc.substring(4,10),cc.substring(10,14)].join(' ').trim()\n        };\n        const _format_465 = function(cc)\n        {\n            return [cc.substring(0,4),cc.substring(4,10),cc.substring(10,15)].join(' ').trim()\n        };\n        const _format_4444 = function(cc)\n        {\n            return cc?cc.match(/[0-9]{1,4}/g).join(' '):''\n        };\n    \n        /**\n         * Credit card formatting.\n         * \n         * @var {object}\n         */\n        const _CARD_TYPES =\n        [\n            {'type':'visa','pattern':/^4/, 'format': _format_4444, 'maxlength': 19},\n            {'type':'master','pattern':/^((5[12345])|(2[2-7]))/, 'format': _format_4444, 'maxlength': 16},\n            {'type':'amex','pattern':/^3[47]/, 'format': _format_465, 'maxlength':15},\n            {'type':'jcb','pattern':/^35[2-8]/, 'format': _format_465, 'maxlength':19},\n            {'type':'maestro','pattern':/^(5018|5020|5038|5893|6304|6759|676[123])/, 'format': _format_4444, 'maxlength':19},\n            {'type':'discover','pattern':/^6[024]/, 'format': _format_4444, 'maxlength':19},\n            {'type':'instapayment','pattern':/^63[789]/, 'format': _format_4444, 'maxlength':16},\n            {'type':'diners_club','pattern':/^54/, 'format': _format_4444, 'maxlength':16},\n            {'type':'diners_club_international','pattern':/^36/, 'format': _format_464, 'maxlength':14},\n            {'type':'diners_club_carte_blanche','pattern':/^30[0-5]/, 'format': _format_464, 'maxlength':14}\n        ];\n    \n        /**\n         * Component constructor.\n         *\n         * @constructor\n         * @param       {DOMElement}  element  Input element\n         * @param       {string}      mask     Supported mask name or regex filter as string\n         * @param       {string}      format   Optional format e.g (xxxx-xxxx-xxxx-xxxx);\n         */\n        const InputMasker = function(element, mask, format)\n        {\n            this.DOMElement = element;\n    \n            this.maskRegexp = this._getMaskRegexp(mask);\n    \n            this.format = !format ? null : this._buildFormatRegexp(format);\n    \n            this.maskName = mask;\n    \n            this.handler = function(){};\n    \n            this._bind();\n    \n        }\n    \n        /**\n         * Disable the mask\n         *\n         * @access {public}\n         */\n        InputMasker.prototype.destroy = function()\n        {\n            off(this.DOMElement, 'input', this.handler);\n            off(this.DOMElement, 'paste', this.handler);\n        }\n    \n        /**\n         * Binds input events.\n         *\n         * @access {private}\n         */\n        InputMasker.prototype._bind = function()\n        {\n            var _this      = this;\n            var DOMElement = this.DOMElement;\n            var maskRegexp = this.maskRegexp;\n            var format     = this.format;\n            var isCC       = _this.maskName === 'creditcard';\n    \n            const _handler = function(e)\n            {\n                e = e || window.event;\n    \n                _this._handle(DOMElement, DOMElement.value, maskRegexp, isCC);\n            }\n    \n            this.handler = _handler;\n    \n            on(this.DOMElement, 'input', _handler);\n            on(this.DOMElement, 'paste', _handler);\n        }\n    \n        /**\n         * Get or builds mask regexp.\n         *\n         * @access {private}\n         * @param  {string}  mask\n         * @return {RegExp}\n         */\n        InputMasker.prototype._getMaskRegexp = function(mask)\n        {\n            if (is_regexp(mask)) return mask;\n            \n            let regexp = MASK_MAP[mask.replaceAll('-', '').toLowerCase()];\n    \n            if (!regexp)\n            {\n                return new RegExp(mask);\n            }\n    \n            return regexp;\n        }\n    \n        /**\n         * Builds custom format values.\n         *\n         * @access {private}\n         * @param  {string}  format Formatting string\n         * @return {object}\n         */\n        InputMasker.prototype._buildFormatRegexp = function(format)\n        {\n            let raw        = format;\n            let seperators = format.split('x').filter((x) => x !== '');\n            let regexp     = new RegExp(_map(format.split(/[^x]/), (i, x) => x.includes('x') ? `(.{0,${x.length}})` : false ).join(''));\n            let prefix     = format.startsWith('x') ? '' : seperators.shift();\n            let suffix     = format.endsWith('x') ? '' : seperators.pop();\n            let len        = (raw.length -suffix.length);\n    \n            return { seperators, regexp, prefix, suffix, raw, len };\n        }\n    \n        /**\n         * Custom format function.\n         *\n         * @access {private}\n         * @param  {string}  str\n         * @return {str}\n         */\n        InputMasker.prototype._formatFilter = function(str)\n        {\n            // Regex filter\n            str = _map(str.split(''), (x, char) => !this.maskRegexp.test(char) ? null : char ).join('');\n    \n            // Ignore or no formatting\n            if (str === '' || !this.format) return str;\n    \n            // Cache seperators\n            let { seperators, regexp, prefix, suffix, raw, len } = this.format;\n    \n            let splits = _map(str.match(regexp).slice(1), (i, str) => str === '' ? false : str);\n            let mapped = _map(splits, function(i, match)\n            {\n                return i === 0 ? prefix + match : seperators[i-1] + match;\n                \n            }).join('');\n    \n            if (mapped.length === len)\n            {\n                mapped += suffix;\n            }\n    \n            return mapped;\n        }\n    \n        /**\n         * Sepcial handler for creditcard\n         *\n         * @access {private}\n         */\n        InputMasker.prototype._formatCC = function(cc)\n        {           \n            cc = cc.replaceAll(/[^0-9]/g, '');\n    \n            for(var i in _CARD_TYPES)\n            {\n                const ct = _CARD_TYPES[i];\n    \n                if (cc.match(ct.pattern))\n                {\n                    cc = cc.substring(0, ct.maxlength)\n                    \n                    return ct.format(cc);\n                }\n            }\n    \n            cc = cc.substring(0,19);\n    \n            return _format_4444(cc);\n        }\n    \n        /**\n         * Handles input event\n         *\n         * @access {private}\n         * @param  {DOMElement} DOMElement\n         * @param  {string}     oldval     \n         * @param  {RegExp}     maskRegexp \n         * @param  {bool}       isCC \n         */\n        InputMasker.prototype._handle = function(DOMElement, oldval, maskRegexp, isCC)\n        {\n            // Filter\n            let newVal = isCC ? this._formatCC(oldval) : this._formatFilter(oldval);\n    \n            // Ignore no change\n            if (newVal == oldval) return;\n    \n            // Set position and format\n            var pos          = DOMElement.selectionStart;\n            var before_caret = oldval.substring(0, pos);\n            before_caret     = isCC ? this._formatCC(oldval) : this._formatFilter(before_caret);\n            pos              = before_caret.length;\n            \n            DOMElement.value = newVal;\n            DOMElement.focus();\n            DOMElement.setSelectionRange(pos,pos);\n        }\n    \n        // SET IN IOC\n        FrontBx.set('InputMasker', InputMasker);\n    \n    })();\n    (function()\n    {\n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [find_all, add_class, attr, bool, closest, each, form_inputs, form_values, in_dom, input_value, is_callable, is_empty, remove_class] = FrontBx.import(['find_all','add_class','attr','bool','closest','each','form_inputs','form_values','in_dom','input_value','is_callable','is_empty','remove_class']).from('_');\n    \n        /**\n         * Validator functions\n         *\n         * @access {private}\n         * @return {boolean}\n         */\n        const VALIDATORS = \n        {\n            email: function(value)\n            {\n                var re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n                return re.test(value);\n            },\n            name: function(value)\n            {\n                var re = /^[A-z _-]+$/;\n                return re.test(value);\n            },\n            numeric: function(value)\n            {\n                var re = /^[\\d]+$/;\n                return re.test(value);\n            },\n            password: function(value)\n            {\n                var re = /^(?=.*[^a-zA-Z]).{6,40}$/;\n                return re.test(value);\n            },\n            url: function(value)\n            {\n                re = /^(www\\.|[A-z]|https:\\/\\/www\\.|http:\\/\\/|https:\\/\\/)[a-z0-9]+([\\-\\.]{1}[a-z0-9]+)*\\.[a-z]{2,5}(:[0-9]{1,5})?(\\/.*)?$/;\n                return re.test(value);\n            },\n            alpha: function(value)\n            {\n                var re = /^[A-z _-]+$/;\n                return re.test(value);\n            },\n            alphanumeric: function(value)\n            {\n                var re = /^[A-z0-9]+$/;\n                return re.test(value);\n            },\n            list: function(value)\n            {\n                var re = /^[-\\w\\s]+(?:,[-\\w\\s]*)*$/;\n    \n                return re.test(value);\n            },\n            creditcard: function(value)\n            {\n                /*Amex Card: ^3[47][0-9]{13}$\n                BCGlobal: ^(6541|6556)[0-9]{12}$\n                Carte Blanche Card: ^389[0-9]{11}$\n                Diners Club Card: ^3(?:0[0-5]|[68][0-9])[0-9]{11}$\n                Discover Card: ^65[4-9][0-9]{13}|64[4-9][0-9]{13}|6011[0-9]{12}|(622(?:12[6-9]|1[3-9][0-9]|[2-8][0-9][0-9]|9[01][0-9]|92[0-5])[0-9]{10})$\n                Insta Payment Card: ^63[7-9][0-9]{13}$\n                JCB Card: ^(?:2131|1800|35\\d{3})\\d{11}$\n                KoreanLocalCard: ^9[0-9]{15}$\n                Laser Card: ^(6304|6706|6709|6771)[0-9]{12,15}$\n                Maestro Card: ^(5018|5020|5038|6304|6759|6761|6763)[0-9]{8,15}$\n                Mastercard: ^(5[1-5][0-9]{14}|2(22[1-9][0-9]{12}|2[3-9][0-9]{13}|[3-6][0-9]{14}|7[0-1][0-9]{13}|720[0-9]{12}))$\n                Solo Card: ^(6334|6767)[0-9]{12}|(6334|6767)[0-9]{14}|(6334|6767)[0-9]{15}$\n                Switch Card: ^(4903|4905|4911|4936|6333|6759)[0-9]{12}|(4903|4905|4911|4936|6333|6759)[0-9]{14}|(4903|4905|4911|4936|6333|6759)[0-9]{15}|564182[0-9]{10}|564182[0-9]{12}|564182[0-9]{13}|633110[0-9]{10}|633110[0-9]{12}|633110[0-9]{13}$\n                Union Pay Card: ^(62[0-9]{14,17})$\n                Visa Card: ^4[0-9]{12}(?:[0-9]{3})?$\n                Visa Master Card: ^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14})$*/\n    \n                var arr = [0, 2, 4, 6, 8, 1, 3, 5, 7, 9];\n                var ccNum = String(value).replace(/[- ]/g, '');\n    \n                var\n                    len = ccNum.length,\n                    bit = 1,\n                    sum = 0,\n                    val;\n    \n                while (len)\n                {\n                    val = parseInt(ccNum.charAt(--len), 10);\n                    sum += (bit ^= 1) ? arr[val] : val;\n                }\n    \n                return sum && sum % 10 === 0;\n            },\n            minlength: function(value, min)\n            {\n                return value.length >= min;\n            },\n            maxlength: function(value, max)\n            {\n                return value.length <= max;\n            }\n        };\n    \n        /**\n         * FormValidator\n         *\n         * This class is used to validate a form and \n         * also apply and classes to display form results and input errors.\n         *\n         */\n        const FormValidator = function(form)\n        {\n            // Save inputs\n            this._DOMElementForm = form;\n            this._DOMElementsFormFields = find_all('.form-field', form);\n            this._inputs = form_inputs(form);\n    \n            // Defaults\n            this._rulesIndex = [];\n            this._invalids   = [];\n            this._formObj    = {};\n    \n            // Initialize\n            this._indexValidations();\n        }\n    \n        /**\n         *  Is the form valid?\n         *\n         * @access {public}\n         * @return {boolean}\n         */\n        FormValidator.prototype.isValid = function()\n        {\n            return this._validateForm();\n        }\n    \n        /**\n         * Show invalid inputs\n         *\n         * @access {public}\n         */\n        FormValidator.prototype.showInvalid = function()\n        {\n            this._clearForm();\n    \n            each(this._invalids, function(i, input)\n            {\n                var fieldWrap = closest(input, '.form-field');\n    \n                if (in_dom(fieldWrap)) add_class(fieldWrap, 'danger');\n            });\n        }\n    \n        /**\n         * Remove errored inputs\n         *\n         * @access {public}\n         */\n        FormValidator.prototype.clearInvalid = function()\n        {\n            this._clearForm();\n        }\n    \n        /**\n         * Show form result\n         *\n         * @access {public}\n         */\n        FormValidator.prototype.showResult = function(result)\n        {\n            this._clearForm();\n    \n            add_class(this._DOMElementForm, result);\n        }\n    \n        /**\n         * Append a key/pair and return form obj\n         *\n         * @access {public}\n         * @return {obj}\n         */\n        FormValidator.prototype.append = function(key, value)\n        {\n            this._formObj[key] = value;\n    \n            let form = this.form();\n    \n            return {...form, ...this._formObj};\n        };\n    \n        /**\n         * Get the form object\n         *\n         * @access {public}\n         * @return {obj}\n         */\n        FormValidator.prototype.form = function()\n        {\n            return form_values(this._DOMElementForm);\n        }\n    \n        /**\n         * Index form inputs by name and rules\n         *\n         * @access {public}\n         */\n        FormValidator.prototype._indexValidations = function()\n        {\n            each(this._inputs, function(i, input)\n            {\n                // No name\n                if (!input.name) return;\n    \n                this._rulesIndex.push(\n                {\n                    node:       input,\n                    required:   bool(attr(input, 'data-js-required')),\n                    minlength:  attr(input, 'data-js-min-length'),\n                    maxlength:  attr(input, 'data-js-max-length'),\n                    validation: this._validationFunc(attr(input, 'data-js-validation')),\n                    valid:      true,\n                });\n    \n            }, this);\n        }\n    \n        /**\n         * Index form inputs by name and rules\n         *\n         * @access {public}\n         */\n        FormValidator.prototype._validationFunc = function(name)\n        {\n            if (!name) return;\n    \n            let key = name.replaceAll('-', '').toLowerCase();\n    \n            if (!VALIDATORS[key]) throw new error(`Unsupported input validation [${name}].`)\n    \n            return VALIDATORS[key];\n        }\n    \n        /**\n         * Validate the form inputs\n         *\n         * @access {private}\n         * @return {boolean}\n         */\n        FormValidator.prototype._validateForm = function()\n        {\n            this._invalids = [];\n            this._isValid  = true;\n    \n            each(this._rulesIndex, function(i, ruleset)\n            {\n                let input = ruleset.node;\n                let value = input_value(ruleset.node);\n    \n                // Skip radios, they don't have any validation\n                if (input.type === 'radio') return;\n                \n                if (ruleset.required && is_empty(value))\n                {\n                    this._devalidate(input);\n                }\n                else if (ruleset.minlength && !VALIDATORS.minlength.call(null, value, ruleset.minlength))\n                {\n                    this._devalidate(input);\n                }\n                else if (ruleset.maxlength && !VALIDATORS.maxlength.call(null, value, ruleset.maxlength))\n                {\n                    this._devalidate(input);\n                }\n                else if (is_callable(ruleset.validation) && !ruleset.validation.call(null, value))\n                {\n                    this._devalidate(input);\n                }\n    \n            }, this);\n    \n            return this._isValid;\n        }\n    \n        /**\n         * Mark an input as not valid (internally)\n         *\n         * @access {private}\n         * @return {obj}\n         */\n        FormValidator.prototype._devalidate = function(node)\n        {\n            this._isValid = false;\n    \n            this._invalids.push(node);\n        }\n    \n        /**\n         * Clear form result and input errors\n         *\n         * @access {private}\n         * @return {obj}\n         */\n        FormValidator.prototype._clearForm = function()\n        {\n            // Remove the form result\n            remove_class(this._DOMElementForm, ['info', 'success', 'warning', 'danger']);\n    \n            // Make all input elements 'valid' - i.e hide the error msg and styles.\n            remove_class(this._DOMElementsFormFields, ['info', 'success', 'warning', 'danger']);\n        }\n    \n        // Load into container\n        FrontBx.set('FormValidator', FormValidator);\n    \n    })();\n    \n    // dom components\n    (function()\n    {\n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [add_class, animate, attr, css, dom_element, each, find, find_all, _for, is_object, map, nth_siblings, off, on, preapend, remove_class, rendered_style, width, remove_from_dom, inline_style] = FrontBx.import(['add_class','animate','attr','css','dom_element','each','find','find_all','for','is_object','map','nth_siblings','off','on','preapend','remove_class','rendered_style','width','remove_from_dom','inline_style']).from('_');\n    \n        /**\n         * Default options\n         * \n         * @var {Object}\n         */\n        const DEFAULT_OPTIONS =\n        {\n            // enable keyboard navigation, pressing left & right keys\n            accessibility: true,\n            \n            // advances to the next cell\n            // if true, default is 3 seconds\n            // or set time between advances in milliseconds\n            // i.e. `autoPlay: 1000` will advance every 1 second\n            autoPlay: true,\n    \n            // zero-based index of the initial selected cell\n            initialIndex: 0,\n            \n            controls: true,\n            // creates and enables buttons to click to previous & next cells\n    \n            dots: true,\n            // create and enable page dots\n    \n            resize: true,\n            // listens to window resize events to adjust size & positions\n    \n            wrap: true,\n            // at end of cells, wraps-around to first for infinite scrolling\n    \n            // Group slides\n            groupSlides: false,\n    \n            pauseOnHover: true,\n            // Pauses autoplay on hover\n    \n            easing: 'easeOutExpo',\n            // Easing pattern\n    \n            draggable: true,\n            // Draggable\n    \n            friction: 0.85,\n            // Dragging friction\n    \n            mouseSupport: true,\n            // Enables dragging with mouse,\n    \n            // Minimum swipe distance to be a \"swipe\"\n            threshold: (type, self) => 3,\n    \n            // Minimum travel swipe velocity to be considered a \"swipe\"\n            velocityThreshold: 3,\n            \n        };\n    \n        /**\n         * Slider.\n         *\n         * @param {HTMLElement} wrapper Wrapper element\n         * @param {Object}      options Options\n         */\n        const _Slider = function(wrapper, options)\n        {\n            this.options = is_object(options) ? {...DEFAULT_OPTIONS, ...options } :  {...DEFAULT_OPTIONS };\n    \n            this.DOMElementWrapper = wrapper;\n    \n            this._animating = false;\n    \n            this._playing = 'stopped';\n    \n            this._translated = 0;\n    \n            this._resizeThrottle = throttle(() => this.resize(), 100);\n    \n            this._build();\n    \n            this._moveIndexToMiddle();\n    \n            this.resize();\n    \n            if (this.options.autoPlay) this.play();\n        }\n    \n        /**\n         * Destroy the slider.\n         *\n         * @access {public}\n         */\n        _Slider.prototype.destroy = function()\n        {\n            this.stop();\n    \n            if (this._gestures) this._gestures.destroy();\n    \n            off(window, 'resize', this._resizeThrottle, this);\n    \n            off(this.DOMElementWrapper, 'mouseover', this.pause, this);\n    \n            off(this.DOMElementWrapper, 'mouseout', this.unpause, this);\n    \n            if (this.options.dots) remove_from_dom(this._dotWrap);\n    \n            if (this.options.controls) remove_from_dom([this._righBtn, this._leftBtn]);\n    \n            let slides = !this.options.groupSlides ? this._slides : find_all('.slide-group > *', this.DOMElementWrapper);\n    \n            each(slides, (i, slide) => this.DOMElementWrapper.appendChild(slide));\n        }\n    \n        /**\n         * Next slide\n         *\n         * @access {public}\n         */\n        _Slider.prototype.next = function(animationOrClickEvent)\n        {\n            // Stop on animating\n            if (this._animating || this._dragging) return;\n    \n            // Do nothing on non-wrap and at end\n            if (!this.options.wrap && this._index === this._slidesIndexs) return;\n    \n            // Don't animate\n            if (animationOrClickEvent === false) return this._toSlideDirect(this._index +1);\n    \n            // Pause autoplay\n            this.pause();\n    \n            // We're now animating\n            this._animating = true;\n    \n            // Run animation\n            let distance = this._slideWidthWGap;\n    \n            if (!this.options.wrap)\n            {\n                distance += this._translated;\n                \n                this._translated = distance;\n            }\n    \n            // Update the index and dots.        \n            this._updateIndex(1);\n            this._updateDots();\n    \n            // Shuffle before animation\n            if (this.options.wrap)\n            {\n                // Adjust pre distance before animation\n                let preDistance = this._offset - this._slideWidthWGap;\n    \n                this._moved(1);\n    \n                css(this._DOMElementViewport, 'left', `-${preDistance}px`);\n            }\n    \n            animate(this._DOMElementViewport, { transform: `translateX(-${distance}px)`, easing: this.options.easing, duration: 550, complete: () =>\n            { \n                if (this.options.wrap)\n                {\n                    css(this._DOMElementViewport, 'left', `-${this._offset}px`);\n    \n                    css(this._DOMElementViewport, 'transform', `translateX(0px)`);\n                }\n    \n                if (!this.options.wrap) this._moved(1);\n    \n                this._animating = false;\n    \n                if (!animationOrClickEvent) this.unpause();\n            }});\n        }\n    \n        /**\n         * Previous slide\n         *\n         * @access {public}\n         */\n        _Slider.prototype.previous = function(animationOrClickEvent)\n        {\n            // Stop on animating\n            if (this._animating || this._dragging) return;\n    \n            // Do nothing on non-wrap and at start\n            if (!this.options.wrap && this._index === 0) return;\n    \n            // Don't animate\n            if (animationOrClickEvent === false) return this._toSlideDirect(this._index +1);\n    \n            // Clear timeout\n            this.pause();\n    \n            // We're now animating\n            this._animating = true;\n    \n            // Cache distance\n            let distance = !this.options.wrap ? (this._translated - this._slideWidthWGap) : this._slideWidthWGap;\n    \n            this._translated = distance < 2 ? 0 : distance;\n    \n            // Failsafe \n            if (!this.options.wrap) distance = distance < 2 ? 0 : -distance;\n    \n            // Update dots and indexes\n            this._updateIndex(-1);\n            this._updateDots();\n    \n            // Shuffle before animation\n            if (this.options.wrap)\n            {\n                // Adjust pre distance before animation\n                let preDistance = this._offset + this._slideWidthWGap;\n    \n                this._moved(-1);\n    \n                css(this._DOMElementViewport, 'left', `-${preDistance}px`);\n            }\n    \n            // Run animation\n            animate(this._DOMElementViewport, { transform: `translateX(${distance}px)`, easing: this.options.easing, duration: 550, complete: () => \n            { \n                if (this.options.wrap)\n                {\n                    css(this._DOMElementViewport, 'left', `-${this._offset}px`);\n    \n                    css(this._DOMElementViewport, 'transform', `translateX(0px)`);\n                }\n    \n                this._animating = false;\n    \n                if (!animationOrClickEvent) this.unpause();\n            } });\n        }\n    \n        /**\n         * Go to slide.\n         *\n         * @access {public}\n         * @param  {integer} slideNum Slide number\n         */\n        _Slider.prototype.toSlide = function(slideNum, animation, fromClick)\n        {\n            // Animating\n            if (this._animating) return false;\n    \n            animation = typeof animation === 'undefined' ? true : animation;\n    \n            fromClick = typeof fromClick === 'undefined' ? false : fromClick;\n    \n            if (!animation) return this._toSlideDirect(slideNum);\n    \n            // convert slide number to index\n            let index = slideNum === 1 ? 0 : slideNum-1;\n    \n            // Invalid or does nothing\n            if (index === this._index || index > this._slidesIndexs || index < 0) return;\n    \n            // Go to previous\n            if ( (index === (this._index -1) && this._index > 0) || (index === this._slidesIndexs && this._index === 0 && this.options.wrap))\n            {\n                return this.previous();\n            }\n    \n            // Go to next\n            else if ((index === (this._index + 1) && this._index < this._slidesIndexs) || (index === 0 && this._index === this._slidesIndexs && this.options.wrap))\n            {            \n                return this.next();\n            }\n    \n            // We're now animating\n            this._animating = true;\n    \n            // Clear timeout\n            this.pause();\n    \n            // Default delta and direction\n            let { delta, direction } = this._moveDelta(index);\n    \n            // If we're not wrapping we can skip all of this\n            if (!this.options.wrap)\n            {\n                let distance = this._slideWidthWGap * delta;\n    \n                distance = direction === -1 ? this._translated - distance : this._translated + distance;\n                \n                this._translated = distance < 2 ? 0 : distance;\n    \n                _for(delta, () => { this._updateIndex(direction) });\n    \n                this._updateDots();\n                \n                animate(this._DOMElementViewport, { transform: `translateX(${distance < 2 ? 0 : -distance}px)`, easing: this.options.easing, duration: 550, complete: () => \n                { \n                    this._animating = false;\n    \n                    if (!fromClick) this.unpause();\n    \n                } });\n    \n                return;\n            }\n    \n            // Moving back shifts index forward\n            // Moving forwards shifts index back\n            let postIndex = direction === -1 ? this._middleIndex + delta : (this._middleIndex - delta) + this._bufferSize;\n    \n            // Since we know the new index, we can just calculate how far offset center it is.\n            let tmpOffset = (postIndex * this._slideWidthWGap) - (this._viewportWidth / 2) + (this._slideWidth / 2);\n    \n            // Run animation\n            let distance = this._slideWidthWGap * delta;\n            distance  = direction === 1 ? -distance : distance;\n    \n            // Shuffle slides\n            _for(delta, () => { this._moved(direction); this._updateIndex(direction) }, this);\n    \n            // Insert buffer clones\n            let clones = this._bufferNodes(direction);\n    \n            css(this._DOMElementViewport, 'left', `-${tmpOffset}px`);\n    \n            // Run animation\n            animate(this._DOMElementViewport, { transform: `translateX(${distance}px)`, easing: this.options.easing, duration: 650, complete: () => \n            { \n                each(clones, (i, clone) =>\n                {\n                    clone.parentNode.removeChild(clone);\n                });\n    \n                css(this._DOMElementViewport, 'left', `-${this._offset}px`);\n    \n                css(this._DOMElementViewport, 'transform', `translateX(0px)`);\n    \n                this._animating = false;\n    \n                if (!fromClick) this.unpause();\n    \n            } });\n    \n            this._updateDots();\n        }\n    \n         /**\n         * Go to slide.\n         *\n         * @access {public}\n         * @param  {integer} slideNum Slide number\n         */\n        _Slider.prototype._toSlideDirect = function(slideNum)\n        {\n            // convert slide number to index\n            let index = slideNum === 1 ? 0 : slideNum-1;\n    \n            // Clear timeout\n            this.pause();\n    \n            // Default delta and direction\n            let delta       = index < this._index ? this._index - index : index - this._index;\n            let direction   = index < this._index ? -1 : 1;\n    \n            // If we're not wrapping we can skip all of this\n            if (!this.options.wrap)\n            {\n                let distance = this._slideWidthWGap * delta;\n    \n                distance = direction === -1 ? this._translated - distance : this._translated + distance;\n                \n                this._translated = distance < 2 ? 0 : distance;\n    \n                _for(delta, () => { this._updateIndex(direction) });\n    \n                this._updateDots();\n    \n                css(this._DOMElementViewport, 'transform',  `translateX(${distance < 2 ? 0 : -distance}px)`);\n                \n                this.unpause();\n    \n                return;\n            }\n    \n            // Shuffle slides\n            _for(delta, () => { this._moved(direction); this._updateIndex(direction) }, this);\n    \n            css(this._DOMElementViewport, 'transform', `translateX(0px)`);\n    \n            this._updateDots();\n    \n            this.unpause();\n        }\n    \n        /**\n         * Window resize handler.\n         *\n         * @access {private}\n         */\n        _Slider.prototype.resize = function()\n        {\n            if (this._slidesCount === 0) return;\n    \n            // Is full width, may change with responsive CSS\n            this._isFullWidth = parseInt(rendered_style(this._slides[0], 'max-width')) === 100;\n    \n            // Viewport width\n            this._viewportWidth = Math.round(width(this.DOMElementWrapper));\n    \n            // Gap size\n            this._gapSize = parseInt(rendered_style(this._DOMElementViewport, 'column-gap'));\n    \n            // Slide width\n            this._slideWidth = Math.round(width(this._slides[0], this.DOMElementWrapper));\n    \n            // Slide width with gap\n            this._slideWidthWGap = this._slideWidth + this._gapSize;\n    \n            // Offset\n            this._offset = Math.round(this.options.wrap ? (this._middleIndex * this._slideWidthWGap) - (this._viewportWidth / 2) + (this._slideWidth / 2) : this._slideWidthWGap - ((this._viewportWidth + this._slideWidth) / 2));\n    \n            // Buffer\n            if (!this._isFullWidth)\n            {\n                let percentagWidth  = (100 * this._slideWidth) / this._viewportWidth;\n                this._bufferSize    = percentagWidth > 50 ? 3 : Math.round(100 / percentagWidth);            \n            }\n    \n            // Make offset\n            css(this._DOMElementViewport, 'left', `${this._offset === 0 ? 0 : -this._offset}px`);\n    \n            // Visible slides\n            this._visibleSlides = this._isFullWidth ? 1 : this._viewportWidth / this._slideWidthWGap;\n    \n            this._dragBoundryL = this._offset - this._slideWidthWGap;\n    \n            this._dragBoundryR = -(this._dragBoundryL);\n        }\n    \n        /**\n         * Start autoplay.\n         *\n         * @access {public}\n         */\n        _Slider.prototype.play = function()\n        {      \n            if (this._playing === 'playing') return;\n    \n            // do not play if page is hidden, start playing when page is visible\n            let isPageHidden = document.hidden;\n            \n            if (isPageHidden)\n            {\n                on(document, 'visibilitychange', this._onVisibilityPlay, this);\n    \n                return;\n            }\n    \n            this._playing = 'playing';\n    \n            // listen to visibility change\n            on(document, 'visibilitychange', this._onVisibilityChange, this);\n    \n            // start ticking\n            this._tick();\n        }\n    \n        /**\n         * Stop autoplay.\n         *\n         * @access {public}\n         */\n        _Slider.prototype.stop = function()\n        {\n            this._playing = 'stopped';\n    \n            clearTimeout(this._playTimer);\n            \n            // remove visibility change event\n            off(document, 'visibilitychange', this._onVisibilityChange, this);\n        }\n    \n        /**\n         * Pause autoplay.\n         *\n         * @access {public}\n         */\n        _Slider.prototype.pause = function()\n        {\n            if (this._playing === 'playing')\n            {\n                this._playing = 'paused';\n                \n                clearTimeout(this._playTimer);\n            }\n        }\n    \n        /**\n         * Unpause autoplay.\n         *\n         * @access {public}\n         */\n        _Slider.prototype.unpause = function()\n        {\n            // re-start play if paused\n            if (this._playing === 'paused') this.play();\n        }\n    \n        /**\n         * Build the slider.\n         *\n         * @access {private}\n         */\n        _Slider.prototype._build = function()\n        {\n            // Find slides\n            this._slides = !this.options.groupSlides ? find_all('> *', this.DOMElementWrapper) : map([...Array(Math.ceil(find_all('> *', this.DOMElementWrapper).length / this.options.groupSlides)).keys()], (i) =>\n            {\n                // Since we're appending children as we go we're always taking the first n children\n                return dom_element({tag: 'div', class: 'slide-group'}, null, find_all('> *', this.DOMElementWrapper).slice(0, this.options.groupSlides));\n            });\n    \n            // Slides count\n            this._slidesCount = this._slides.length;\n    \n            // Slide indexes\n            this._slidesIndexs = this._slides.length -1;\n    \n            // Starting index\n            this._index = this.options.initialIndex;\n    \n            // Middle index\n            this._middleIndex = Math.floor(this._slidesCount / 2);\n    \n            // Visible slides\n            this._visibleSlides = 1;\n    \n            // Buffer size\n            this._bufferSize = 0;\n    \n            // Create viewport\n            this._DOMElementViewport = dom_element({tag: 'div', class: 'slider-viewport js-slider-viewport'}, this.DOMElementWrapper, this._slides);\n    \n            // Controls\n            if (this.options.controls) this._buildControls();\n    \n            // Dots\n            this._dots = [];\n            if (this.options.dots) this._buildDots();\n    \n            // Pause on hover\n            if (this.options.autoPlay && this.options.pauseOnHover)\n            {\n                on(this.DOMElementWrapper, 'mouseover', this.pause, this);\n    \n                on(this.DOMElementWrapper, 'mouseout', this.unpause, this);\n            }\n    \n            // Window resize\n            if (this.options.resize)\n            {\n                on(window, 'resize', this._resizeThrottle, this);\n            }\n    \n            if (this.options.draggable && this._slidesCount > 1)\n            {\n                add_class(this.DOMElementWrapper, 'draggable');\n    \n                this._bindGestures();\n            }\n    \n            add_class(this.DOMElementWrapper, 'js-slider');\n        }\n    \n        /**\n         * Start dragging slide.\n         *\n         * @access {public}\n         * @param  {integer} slideNum Slide number\n         */\n        _Slider.prototype._dragSlide = function(moved)\n        {\n            let x = this._dragX;\n    \n            if (this.options.wrap)\n            {\n                let nearEnd = (x < 0 && x <= this._dragBoundryR) || (x > 0 && x >= this._dragBoundryL);\n    \n                if (nearEnd)\n                {\n                    this._dragCloneSlides();\n    \n                    return;\n                }\n            }\n    \n            css(this._DOMElementViewport, 'transform', `translateX(${x}px)`);\n        }\n    \n        /**\n         * Go to slide.\n         *\n         * @access {public}\n         * @param  {integer} slideNum Slide number\n         */\n        _Slider.prototype._dragCloneSlides = function()\n        {   \n            // No need to clone on non wrapping sliders     \n            if (!this.options.wrap) return;\n    \n            let distance = this._slideWidthWGap * this._bufferSize;\n    \n            // Push out the drag boundaries\n            // Drag bondry L remains the same as it is a fixed position from start\n            this._dragBoundryR = -((this._slideWidthWGap * (this._bufferSize + this._slidesCount -1)) + (this._slideWidth /2));\n    \n            // Adjust the dragging buffer\n            this._draggingbuffer = !this._draggingbuffer ? distance : this._draggingbuffer + distance;\n    \n            // Resting distance\n            distance = this._dragX - distance;\n    \n            // Pad sides and clone\n            this._bufferDragClones();\n    \n            // Adjust drag position\n            css(this._DOMElementViewport, 'transform', `translateX(${distance}px)`);\n        }\n    \n        /**\n         * Fake shuffle cloned slides to start or end\n         *\n         * @access {private}\n         */\n        _Slider.prototype._bufferDragClones = function()\n        {    \n            if (!this.options.wrap) return;\n    \n            let viewport = this._DOMElementViewport;\n    \n            let clones = [];\n    \n            _for(this._bufferSize, (i) =>\n            {\n                let cloneR = find(`> *:nth-child(${this._dragRIndex})`, this._DOMElementViewport).cloneNode(true);\n                let cloneL = find(`> *:nth-last-child(${this._dragLIndex})`, this._DOMElementViewport).cloneNode(true);\n                add_class([cloneR, cloneL], 'slide-clone');\n    \n                this._dragClones.push(cloneR);\n                this._dragClones.push(cloneL);\n    \n                preapend(cloneL, viewport);\n    \n                viewport.appendChild(cloneR);\n    \n                this._dragRIndex += 2;\n    \n                this._dragLIndex += 2;\n            });\n        }\n    \n        /**\n         * Clear drag clones.\n         *\n         * @access {private}\n         */\n        _Slider.prototype._clearDragClones = function()\n        {\n            each(this._dragClones, (i, clone) =>\n            {\n                this._DOMElementViewport.removeChild(clone);\n            });\n        }\n    \n        _Slider.prototype._restingDragPos = function()\n        {\n            let ret = { rest: 0, slideIndex: 1 };\n    \n            // There would be a smarter way to figure all this out, however have not been able to figure out an easy solution\n            let wrapping = this.options.wrap;\n    \n            // What distance have we actually moved in total?\n            let moved = !wrapping ? Math.abs(this._dragX) - Math.abs(this._offset) : (this._slideWidthWGap * this._middleIndex) + (this._slideWidth / 2)\n    \n            if (wrapping) moved = this._dragX < 0 ? moved + Math.abs(this._dragX) : moved - this._dragX;\n    \n            // Always first slide\n            if (!wrapping && (this._dragX > 0 || moved < 0)) return ret;\n    \n            // Get the DOM index of the slide that should be resting\n            let index = !wrapping ? Math.ceil(moved / this._slideWidthWGap) : Math.ceil(moved / this._slideWidthWGap) -1;\n    \n            // Dragged over the edge on non-wrapping sliders\n            if (!wrapping && index > this._slidesIndexs) index = this._slidesIndexs;\n    \n            // Get X pos of where target slide starts\n            let slideStarts = (index * this._slideWidthWGap) - (this._viewportWidth / 2) + (this._slideWidth / 2);\n    \n            // Figure out the resting point\n            let rest = this._offset - slideStarts;\n    \n            let slideIndex = parseInt(attr(find(`>:nth-child(${index +1})`, this._DOMElementViewport), 'data-index')) +1;\n    \n            this._dragMoved = (slideIndex -1) !== this._index;\n    \n            if (!wrapping) this._translated = Math.abs(rest);\n    \n            return { rest, slideIndex };\n        }\n    \n        /**\n         * Find closest slide on end\n         *\n         * @access {private}\n         */\n        _Slider.prototype._onDragEnd = function()\n        {\n            let { rest, slideIndex } = this._restingDragPos();\n    \n            this._dragEndAnim = animate(this._DOMElementViewport, { property: 'transform', from: `translateX(${this._dragX}px)`, to: `translateX(${rest}px)`, duration: 650, easing: this.options.easing, complete: () => \n            {\n                if (this._dragClones.length >= 1) this._clearDragClones();\n    \n                if (this._dragMoved && this.options.wrap) this.toSlide(slideIndex, false, false);\n    \n                if (!this._dragMoved && this.options.wrap) css(this._DOMElementViewport, 'transform', `translateX(0px)`);\n    \n                this._index = slideIndex -1;\n    \n                this._translated = Math.abs(rest);\n    \n                this._updateDots();\n    \n                this.unpause();\n    \n                this._resetDragVars();\n            }} );\n        }\n    \n        /**\n         * Build controls.\n         *\n         * @access {private}\n         */\n        _Slider.prototype._resetDragVars = function()\n        {\n            this._dragClones      = [];\n            this._dragRIndex      = 1;\n            this._dragLIndex      = 1;\n            this._dragging        = false;\n            this._dragMoved       = false;\n            this._dragStartPointX = { x: 0, y: 0};\n            this._dragBoundryL    = this._offset - this._slideWidthWGap;\n            this._dragBoundryR    = -(this._dragBoundryL);\n            \n            delete this._dragX;\n    \n            delete this._prevDrag;\n    \n            delete this._dragEndAnim;\n    \n            delete this._draggingbuffer;\n        }\n    \n        /**\n         * Build controls.\n         *\n         * @access {private}\n         */\n        _Slider.prototype._bindGestures = function()\n        {\n            let wrapper = this.DOMElementWrapper;\n    \n            const gestures = FrontBx.TinyGesture(this.DOMElementWrapper, { mouseSupport: this.options.mouseSupport, velocityThreshold: this.options.velocityThreshold, threshold: this.options.threshold });\n    \n            this._resetDragVars();\n    \n            gestures.on('panstart', (event) =>\n            {\n                // No drag on transitioning\n                if (this._animating) return;\n    \n                // Clear timeout\n                this.pause();\n    \n                // Register start point\n                this._dragStartPointX = event.pageX;\n    \n                // We have a previous unfinished drag\n                if (this._dragEndAnim)\n                {\n                    this._dragEndAnim.stop();\n    \n                    this._prevDrag = parseFloat(inline_style(this._DOMElementViewport, 'transform').replaceAll(/[^0-9-.]/g, ''));\n    \n                    delete this._dragEndAnim;\n                }\n    \n                // Add helper class for optional UI\n                add_class(wrapper, 'dragging');\n            });\n    \n            gestures.on('panmove', (event) =>\n            {\n                // No drag on transitioning\n                if (this._animating) return;\n    \n                // Base movement\n                let moveVectorX = (event.pageX - this._dragStartPointX);\n    \n                // No drag\n                if ( Math.abs(moveVectorX) < 3 ) return;\n    \n                this._dragging = true;\n    \n                // Much slower on non-wrapping sliders when at end or start and going in opposite direction\n                if (!this.options.wrap && ( (this._index === 0 && moveVectorX > 0) || (this._index === this._slidesIndexs && moveVectorX < 0) ))\n                {\n                    moveVectorX = moveVectorX * (this.options.friction / 3);\n                }\n                else\n                {\n                    // Slow down further we drag\n                    moveVectorX = moveVectorX * this.options.friction;\n                }\n    \n                // Previous drag\n                if (this._prevDrag)\n                {\n                    moveVectorX = this._prevDrag + moveVectorX\n                }\n    \n                // Non wrap + translated\n                else if (!this.options.wrap)\n                {\n                    moveVectorX = moveVectorX - this._translated;\n                }\n    \n                // Calculate travel distance\n                this._dragX = !this._draggingbuffer ? moveVectorX : moveVectorX - this._draggingbuffer;\n    \n                // Drag the slide\n                this._dragSlide();\n            });\n    \n            gestures.on('panend', (event) =>\n            {\n                remove_class(wrapper, 'dragging');\n    \n                if (!this._dragX) return this.unpause();\n    \n                this._onDragEnd();\n            });\n    \n            gestures.on('swiperight', (event) =>\n            {\n                // Don't swipe on animating\n                if (this._animating) return;\n    \n                // Don't swipe on drags\n                if (this._dragEndAnim && this._dragMoved) return;\n    \n                // Can't go back\n                if (!this.options.wrap && this._index === 0) return;\n    \n                // Stop dragend if running\n                if (this._dragEndAnim) this._dragEndAnim.stop();\n    \n                this._resetDragVars();\n    \n                this.previous();\n            });\n            gestures.on('swipeleft', (event) =>\n            {\n                // Don't swipe on animating\n                if (this._animating) return;\n    \n                // Don't swipe on drags\n                if (this._dragEndAnim && this._dragMoved) return;\n                \n                // Can't go forward\n                if (!this.options.wrap && this._index === this._slidesIndexs) return;\n    \n                // Stop dragend if running\n                if (this._dragEndAnim) this._dragEndAnim.stop();\n    \n                this._resetDragVars();\n    \n                this.next();\n            });\n    \n            this._gestures = gestures;\n        }\n    \n        /**\n         * Build controls.\n         *\n         * @access {private}\n         */\n        _Slider.prototype._buildControls = function()\n        {\n            // Right button\n            this._righBtn = dom_element({tag: 'button', type: 'button', class: 'slider-control control-right btn btn-pure'}, this.DOMElementWrapper, \n                dom_element({tag: 'span',class: 'fa fa-caret-right'})\n            );\n    \n            // Left button\n            this._leftBtn = dom_element({tag: 'button', type: 'button', class: 'slider-control control-left btn btn-pure'}, this.DOMElementWrapper, \n                dom_element({tag: 'span',class: 'fa fa-caret-left'})\n            );\n    \n            // Handlers\n            on(this._righBtn, 'click', this.next, this);\n            on(this._leftBtn, 'click', this.previous, this);\n        }\n    \n        /**\n         * Build dots.\n         *\n         * @access {private}\n         */\n        _Slider.prototype._buildDots = function()\n        {\n            let index = this._index;\n    \n            this._dotWrap = dom_element({tag: 'div', class: 'slider-dots js-slider-dots'}, this.DOMElementWrapper, map(this._slides, (i, slide) =>\n            {\n                let active = i === index ? 'active' : '';\n    \n                let dot = dom_element({tag: 'button', type: 'button', dataIndex: i, class: `slider-dot js-slider-dot btn btn-circle ${active}`});\n    \n                on(dot, 'click', this._dotClick, this);\n    \n                this._dots.push(dot);\n    \n                return dot;\n            }));\n        }\n    \n         /**\n         * Moves indexed slide to middle.\n         *\n         * @access {private}\n         */\n        _Slider.prototype._moveIndexToMiddle = function()\n        {\n            each(this._slides, (i) =>\n            {\n                attr(this._slides[i], 'data-index', i);\n            \n            }, this);\n    \n            if (!this.options.wrap) return;\n    \n            let slide = this._slides[this._index];\n    \n            _for(this._slidesCount, (i) =>\n            {\n                if (nth_siblings(slide) === this._middleIndex) return false;\n    \n                preapend(find('> *:last-child', this._DOMElementViewport), this._DOMElementViewport);\n            \n            }, this);  \n        }\n    \n        /**\n         * On dot click.\n         *\n         * @access {private}\n         */\n        _Slider.prototype._dotClick = function(e, dot)\n        {\n            if (this._animating || this._dragging) return;\n    \n            let index = parseInt(attr(dot, 'data-index')) +1;\n    \n            this.toSlide(index, true, true);\n        }\n    \n        /**\n         * Update index from previous / next.\n         *\n         * @access {private}\n         * @param  {Integer} direction -1|1\n         */\n        _Slider.prototype._updateIndex = function(direction)\n        {\n            if (direction === 1)\n            {\n                this._index = this._index === this._slidesIndexs ? 0 : this._index + 1;\n            }\n            else\n            {\n                this._index = this._index === 0 ? this._slidesIndexs : this._index - 1;\n            }\n        }\n    \n        /**\n         * Returns the move delta\n         *\n         * @access {private}\n         * @param  {Integer} direction -1|1\n         */\n        _Slider.prototype._moveDelta = function(index)\n        {\n            // Default delta and direction\n            let delta       = index < this._index ? this._index - index : index - this._index;\n            let direction   = index < this._index ? -1 : 1;\n            \n            // We only go shortest path if we're wrapping and there's more than 5 slides\n            if (this.options.wrap && this._slidesCount > 4)\n            {\n                if (index > this._index)\n                {\n                    let backN = (this._slidesCount - index) + this._index;\n    \n                    if (backN < delta)\n                    {\n                        delta = backN;\n                        direction = -1;\n                    }\n                }\n                else if (index < this._index)\n                {\n                    let forwdN = (this._slidesCount - this._index) + index;\n    \n                    if (forwdN < delta)\n                    {\n                        delta = forwdN;\n                        direction = 1;\n                    }\n                }\n            }\n    \n            return { delta, direction };\n        }\n    \n        /**\n         * Create buffers cloned nodes.\n         *\n         * @access {private}\n         * @param  {Integer} direction -1|1\n         */\n        _Slider.prototype._bufferNodes = function(direction)\n        {\n            let viewport = this._DOMElementViewport;\n    \n            return map([...Array(this._bufferSize).keys()], (i) =>\n            {\n                let clone = find(`> *:nth${direction === -1 ? '-' : '-last-'}child(${i+1})`, viewport).cloneNode(true);\n    \n                direction === -1 ? viewport.appendChild(clone) : preapend(clone, viewport);\n    \n                return clone;\n            });\n        }\n    \n        /**\n         * pause if page visibility is hidden, unpause if visible\n         *\n         * @access {private}\n         */\n        _Slider.prototype._onVisibilityChange = function()\n        {\n            let isPageHidden = document.hidden;\n            \n            this[ isPageHidden ? 'pause' : 'unpause' ]();\n        }\n    \n        /**\n         * Start playing on page return.\n         *\n         * @access {private}\n         */\n        _Slider.prototype._onVisibilityPlay = function()\n        {\n            this.play();\n            \n            off(document, 'visibilitychange', this._onVisibilityPlay, this);\n        }\n    \n        /**\n         * Timeout ticker.\n         *\n         * @access {private}\n         */\n        _Slider.prototype._tick = function()\n        {\n            // do not tick if not playing\n            if ( this._playing !== 'playing' ) return;\n    \n            // default to 3 seconds\n            let time = typeof this.options.autoPlay == 'number' ? this.options.autoPlay : 3000;\n    \n            // HACK: reset ticks if stopped and started within interval\n            clearTimeout(this._playTimer);\n    \n            this._playTimer = setTimeout( () =>\n            {\n                this.next();\n                \n                this._tick();\n    \n            }, time );\n        }\n    \n        /**\n         * Shuffle slides after moved.\n         *\n         * @access {private}\n         * @param  {Integer} direction -1|1\n         */\n        _Slider.prototype._moved = function(direction)\n        {    \n            if (!this.options.wrap) return;\n    \n            if (direction === 1)\n            {\n                this._DOMElementViewport.appendChild(find('> *:first-child', this._DOMElementViewport));\n            }\n            else\n            {\n               preapend(find('> *:last-child', this._DOMElementViewport), this._DOMElementViewport);\n            }\n        }\n    \n        /**\n         * Update active dot after move.\n         *\n         * @access {private}\n         */\n        _Slider.prototype._updateDots = function()\n        {\n            if (!this.options.dots) return;\n    \n            remove_class(find('.js-slider-dots .js-slider-dot.active', this.DOMElementWrapper), 'active');\n    \n            add_class(this._dots[this._index], 'active');\n        }\n    \n        // Load into container\n        FrontBx.set('_Slider', _Slider);\n    \n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {Class}\n         */\n        const [Component] = FrontBx.get('Component');\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [attr, each, map, extend, dom_element, json_decode] = FrontBx.import(['attr', 'each', 'map', 'extend', 'dom_element', 'json_decode']).from('_');\n    \n        /**\n         * Slider instances.\n         * \n         * @var {Array}\n         */\n        const SLIDERS = [];\n    \n        /**\n         * Dom Slider component.\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Slider = function()\n        {\n            this.super('.js-slider');\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Slider.prototype.bind = function(node)\n        {\n            let options = attr(node, 'data-slider-options');\n    \n            options = !options ? {} : json_decode(options);\n    \n            SLIDERS.push(FrontBx._Slider(node, options));\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Slider.prototype.unbind  = function(node)\n        {\n            each(SLIDERS, (i, slider) =>\n            {\n                if (slider.DOMElementWrapper === node)\n                {\n                    slider.destroy();\n    \n                    SLIDERS.splice(i, 1);\n    \n                    return false;\n                }\n            });\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Slider.prototype.template = function(props)\n        {\n            return dom_element({tag: 'div', class: 'slider js-slider'}, null, props.slides);\n        }\n    \n        // Load into FrontBx DOM core\n        FrontBx.dom().register('Slider', extend(Component, Slider));\n    })();\n    (function()\n    {\n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [in_dom, coordinates] = FrontBx.import(['in_dom','coordinates']).from('_');\n    \n        /**\n         * Popover Handler\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const PopHandler = function(options)\n        {\n            this.trigger = options.target;\n            this.options = options;\n            this.el = this.buildPopEl();\n            this.el.className = options.classes;\n            this.animation = false;\n            this.state = 'inactive';\n    \n            if (options.animation === 'pop')\n            {\n                this.animation = 'popover-pop';\n            }\n            else if (options.animation === 'fade')\n            {\n                this.animation = 'popover-fade';\n            }\n    \n            this.render = function()\n            {\n                document.body.appendChild(this.el);\n    \n                this.stylePop();\n    \n                this.el.classList.add(this.animation);\n    \n                this.state = 'active';\n    \n                return this.el;\n            }\n        }\n    \n        /**\n         * Build the popover\n         *\n         * @access {private}\n         */\n        PopHandler.prototype.buildPopEl = function()\n        {\n            var pop = document.createElement('div');\n            \n            pop.className = this.options.classes;\n    \n            if (typeof this.options.template === 'string')\n            {\n                pop.innerHTML = this.options.template;\n            }\n            else\n            {\n                pop.appendChild(this.options.template);\n            }\n    \n            return pop;\n        }\n    \n        /**\n         * Remove the popover\n         *\n         * @access {public}\n         */\n        PopHandler.prototype.remove = function()\n        {\n            if (in_dom(this.el)) this.el.parentNode.removeChild(this.el);\n    \n            this.state = 'inactive';\n        }\n    \n        /**\n         * Position the popover\n         *\n         * @access {public}\n         */\n        PopHandler.prototype.stylePop = function()\n        {\n            var tarcoordinates = coordinates(this.options.target);\n    \n            if (this.options.direction === 'top')\n            {\n                this.el.style.top = tarcoordinates.top - this.el.scrollHeight + 'px';\n                this.el.style.left = tarcoordinates.left - (this.el.offsetWidth / 2) + (this.options.target.offsetWidth / 2) + 'px';\n                return;\n            }\n            else if (this.options.direction === 'bottom')\n            {\n                this.el.style.top = tarcoordinates.top + this.options.target.offsetHeight + 10 + 'px';\n                this.el.style.left = tarcoordinates.left - (this.el.offsetWidth / 2) + (this.options.target.offsetWidth / 2) + 'px';\n                return;\n            }\n            else if (this.options.direction === 'left')\n            {\n                this.el.style.top = tarcoordinates.top - (this.el.offsetHeight / 2) + (this.options.target.offsetHeight / 2) + 'px';\n                this.el.style.left = tarcoordinates.left - this.el.offsetWidth - 10 + 'px';\n                return;\n            }\n            else if (this.options.direction === 'right')\n            {\n                this.el.style.top = tarcoordinates.top - (this.el.offsetHeight / 2) + (this.options.target.offsetHeight / 2) + 'px';\n                this.el.style.left = tarcoordinates.left + this.options.target.offsetWidth + 10 + 'px';\n                return;\n            }\n        }\n    \n        // Set into container for private use\n        FrontBx.set('PopHandler', PopHandler);\n    \n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const [Component] = FrontBx.get('Component');\n    \n        /**\n         * JS Helper reference\n         * \n         * @var {object}\n         */\n        const [find, find_all, add_class, on, closest, has_class, is_empty, remove_class, off, each, extend] = FrontBx.import(['find', 'find_all', 'add_class', 'on', 'closest', 'has_class', 'is_empty', 'remove_class', 'off', 'each', 'extend']).from('_');\n    \n        var HOVER_TIMER;\n    \n        var POP_HANDLERS = new Map;\n    \n        /**\n         * Popover\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Popover = function()\n        {\n            this.super('.js-popover');\n    \n            this._windowClick = false;\n    \n            this.defaultProps = \n            {\n                direction: 'top',\n                animation: 'pop',\n                theme:     'light',\n                title:     '',\n                content:   '',\n                event:     'click',\n            };\n        }\n    \n        /**\n         * Initialize the handlers on a trigger\n         *\n         * @access {private}\n         * @param  {DOMElement} trigger Click/hover trigger\n         */\n        Popover.prototype.template = function(props)\n        {\n    \n        }\n    \n        /**\n         * Initialize the handlers on a trigger\n         *\n         * @access {private}\n         * @param  {DOMElement} trigger Click/hover trigger\n         */\n        Popover.prototype._build = function(options)\n        {\n    \n        }\n    \n        /**\n         * Initialize the handlers on a trigger\n         *\n         * @access {private}\n         * @param  {DOMElement} trigger Click/hover trigger\n         */\n        Popover.prototype.bind = function(trigger)\n        {\n            if (!this._windowClick)\n            {\n                on(window, 'click', this._windowClickHandler, this);\n    \n                this._windowClick = true;\n            }\n    \n            let direction = trigger.dataset.popoverDirection;\n            let title     = trigger.dataset.popoverTitle;\n            let theme     = trigger.dataset.popoverTheme || 'dark';\n            let content   = trigger.dataset.popoverContent;\n            let evnt      = trigger.dataset.popoverEvent;\n            let animation = trigger.dataset.popoverAnimate || 'pop';\n            let target    = trigger.dataset.popoverTarget;\n            let closeBtn  = evnt === 'click' ? '<button type=\"button\" class=\"btn btn-sm btn-pure btn-circle js-remove-pop close-btn\"><span class=\"fa fa-xmark\"></span></button>' : '';\n            let pop       = '<div class=\"popover-content\"><p>' + content + '</p></div>';\n    \n            if (title)\n            {\n                pop = closeBtn + '<h5 class=\"popover-title\">' + title + '</h5>' + pop;\n            }\n    \n            if (target)\n            {\n                pop = find('#' + target).cloneNode(true);\n                pop.classList.remove('hidden');\n            }\n    \n            let popHandler = FrontBx.get('PopHandler',\n            {\n                target: trigger,\n                direction: direction,\n                template: pop,\n                animation: animation,\n                classes: 'popover ' + direction + ' ' + theme,\n            });\n    \n            if (evnt === 'click')\n            {\n                on(trigger, 'click', this._clickHandler, this);\n                on(window, 'resize', this._windowResize, this);\n            }\n            else\n            {                \n                on(trigger, 'mouseenter', this._hoverEnter, this);\n            }\n    \n            POP_HANDLERS.set(trigger, popHandler);\n        }\n    \n        /**\n         * Unbind event listeners on a trigger\n         *\n         * @param {trigger} node\n         * @access {private}\n         */\n        Popover.prototype.unbind = function(trigger)\n        {\n            if (this._windowClick)\n            {\n                off(window, 'click', this._windowClickHandler, this);\n    \n                this._windowClick = false;\n            }\n    \n            var evnt = trigger.dataset.popoverEvent;\n    \n            if (evnt === 'click')\n            {\n                off(trigger, 'click', this._clickHandler, this);\n                off(window, 'resize', this._windowResize, this);\n            }\n            else\n            {\n                off(trigger, 'mouseenter', this._hoverEnter, this);\n                off(trigger, 'mouseleave', this._hoverLeave, this);\n    \n                this._killPop(trigger);\n    \n                POP_HANDLERS.delete(trigger);\n            }\n        }\n    \n        /**\n         * Hover over event handler\n         *\n         * @access {private}\n         */\n        Popover.prototype._hoverEnter = function(e, trigger)\n        {\n            if (has_class(trigger, 'popped')) return;\n    \n            let handler = POP_HANDLERS.get(trigger);\n            \n            let pop = handler.render();\n    \n            on(pop, 'mouseenter', this._hoverPop, this);\n    \n            on(trigger, 'mouseleave', this._hoverLeave, this);\n            \n            add_class(trigger, 'popped');\n        }\n    \n        /**\n         * Hover leave event handler\n         *\n         * @access {private}\n         */\n        Popover.prototype._hoverLeave = function(e, trigger)\n        {\n            clearTimeout(HOVER_TIMER);\n    \n            // Mouse leaving pop not trigger\n            if (!has_class(trigger, '.js-popover'))\n            {\n                for (let [_trigger, handler] of POP_HANDLERS)\n                {\n                    if (handler.el === trigger) trigger = handler.trigger;\n                }\n            }\n    \n            HOVER_TIMER = setTimeout(() => \n            {\n                this._killPop(trigger);\n    \n                off(trigger, 'mouseleave', this._hoverLeave, this);\n    \n            }, 300);\n        }\n    \n        /**\n         * Hover leave event handler\n         *\n         * @access {private}\n         */\n        Popover.prototype._hoverPop = function(e, pop)\n        {\n            clearTimeout(HOVER_TIMER);\n    \n            on(pop, 'mouseleave', this._hoverLeave, this);\n        }\n    \n        /**\n         * Window resize event handler\n         *\n         * @access {private}\n         */\n        Popover.prototype._windowResize = function()\n        {\n            for (let [trigger, handler] of POP_HANDLERS)\n            {\n                if (handler.state === 'active') handler.stylePop();\n    \n            }\n        }\n    \n        /**\n         * Click event handler\n         *\n         * @param {event|null} e JavaScript click event\n         * @access {private}\n         */\n        Popover.prototype._killPop = function(trigger)\n        {            \n            let handler = POP_HANDLERS.get(trigger);\n    \n            handler.remove();\n            \n            remove_class(trigger, 'popped');\n        }\n    \n        /**\n         * Click event handler\n         *\n         * @param {event|null} e JavaScript click event\n         * @access {private}\n         */\n        Popover.prototype._clickHandler = function(e, trigger)\n        {\n            e = e || window.event;\n    \n            e.preventDefault();\n            \n            var popHandler = POP_HANDLERS.get(trigger);\n    \n            if (has_class(trigger, 'popped'))\n            {\n                this._removeAll(trigger);\n                \n                popHandler.remove();\n                \n                remove_class(trigger, 'popped');\n            }\n            else\n            {\n                this._removeAll(trigger);\n                \n                popHandler.render();\n                \n                add_class(trigger, 'popped');\n            }\n        }\n    \n        /**\n         * Remove all popovers when anything is clicked\n         *\n         * @access {private}\n         */\n        Popover.prototype._windowClickHandler = function(e)\n        {        \n            let clicked = e.target;\n    \n            // Clicked the close button\n            if (has_class(clicked, 'js-remove-pop') || closest(clicked, '.js-remove-pop'))\n            {\n                this._removeAll();\n    \n                return;\n            }\n    \n            // Clicked inside the popover\n            if (has_class(clicked, 'popover') || closest(clicked, '.popover'))\n            {\n                return;\n            }\n    \n            // Clicked a popover trigger\n            if (has_class(clicked, 'js-popover') || closest(clicked, '.js-popover'))\n            {\n                return;\n            }\n    \n            this._removeAll();\n        }\n    \n        /**\n         * Remove all the popovers currently being displayed\n         *\n         * @access {private}\n         */\n        Popover.prototype._removeAll = function(exception)\n        {        \n            for (let [trigger, handler] of POP_HANDLERS)\n            {\n                if (!exception || (exception && trigger !== exception))\n                {\n                    handler.remove();\n    \n                    remove_class(trigger, 'popped');\n                }\n            }\n        }\n    \n        // Load into FrontBx DOM core\n        FrontBx.dom().register('Popover', extend(Component, Popover));\n    \n    }());\n    \n    (function()\n    {\n        /**\n         * Creates a chip\n         *\n         */\n        function createChip(options)\n        {\n            let chip = document.createElement(options.removeable || options.input ? 'SPAN' : 'BUTTON');\n    \n            if (options.removeable || options.input) chip.type = 'button';\n    \n            chip.className = options.variant ? `btn btn-chip ${options.variant}` : 'btn btn-chip';\n            chip.innerText = options.posticon || options.removeable ? `${options.text} ` : options.text;\n    \n            if (options.preicon)\n            {\n                let icon1 = document.createElement('SPAN');\n                icon1.className = `fa fa-${options.preicon}`;\n                chip.appendChild(icon1);\n            }\n    \n            if (options.removeable)\n            {\n                let removeBtn = document.createElement('BUTTON');\n                removeBtn.className = 'remove-btn btn-unstyled js-remove-btn';\n                removeBtn.ariaLabel = 'remove';\n                removeBtn.type = 'button';\n    \n                let x = document.createElement('SPAN');\n                x.className = 'fa fa-xmark';\n                removeBtn.appendChild(x);\n    \n                chip.appendChild(removeBtn);\n            }\n            else if (options.posticon)\n            {\n                let icon2 = document.createElement('SPAN');\n                icon2.className = `fa fa-${options.posticon}`;\n                chip.appendChild(icon2);\n            }\n            \n            if (options.input)\n            {\n                let input = document.createElement('INPUT');\n                input.hidden = true;\n                input.name   = options.input;\n                input.value  = options.text;\n                input.setAttribute('value', options.text);\n    \n                chip.appendChild(input);\n            }\n    \n            return chip;\n        }\n    \n        // Load into FrontBx DOM core\n        FrontBx.set('Chip', createChip);\n    \n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const [Component] = FrontBx.get('Component');\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [$, $All, add_event_listener, closest, first_children, in_array, input_value, is_empty, remove_event_listener, remove_from_dom, extend] = FrontBx.import(['$','$All','add_event_listener','closest','first_children','in_array','input_value','is_empty','remove_event_listener','remove_from_dom','extend']).from('_');\n    \n        /**\n         * Chip inputs\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const ChipInputs = function()\n        {\n            this.super('.js-chips-input');\n        }\n    \n        /**\n         * Init a chips input\n         *\n         * @access {private}\n         * @param  {DOMElement}    _wrapper\n         */\n        ChipInputs.prototype.bind = function(_wrapper)\n        {\n            let _input = $('.js-chip-input', _wrapper);\n    \n            add_event_listener($All('.js-remove-btn', _wrapper), 'click', this._removeChip);\n    \n            add_event_listener(_input, 'keyup', this._onKeyUp, this);\n    \n            if (closest(_input, 'form'))\n            {\n                add_event_listener(_input, 'keydown', this._preventSubmit, this);\n            }\n        }\n    \n        /**\n         * Destroy chip listeners\n         *\n         * @access {private}\n         * @param  {DOMElement}    _wrapper\n         */\n        ChipInputs.prototype.unbind = function(_wrapper)\n        {\n            var _removeBtns = $All('.btn-chip .js-remove-btn', _wrapper);\n            var _input = $('.js-chip-input', _wrapper);\n    \n            remove_event_listener(_removeBtns, 'click', this._removeChip);\n    \n            remove_event_listener(_input, 'keyup', this._onKeyUp, this);\n    \n            if (closest(_input, 'form'))\n            {\n                remove_event_listener(_input, 'keydown', this._preventSubmit, this);\n            }\n        }\n    \n        /**\n         * Prevent the form from submitting if it's part of a form\n         *\n         * @access {private}\n         * @param  {event|null} e\n         */\n        ChipInputs.prototype._preventSubmit = function(e, input)\n        {\n            e = e || window.event;\n    \n            var _key = e.code || e.key || e.keyCode || e.charCode;\n    \n            if (_key == 'Enter' || _key === 13)\n            {\n                e.preventDefault();\n    \n                return false;\n            }\n            // Backspace\n            else if (_key == 'Delete' || _key == 'Backspace' || _key == 8 || _key == 46)\n            {\n                if (input.value === '')\n                {\n                    var _wrapper = closest(input, '.js-chips-input');\n    \n                    this._removeLastChip(_wrapper);\n                }\n            }\n        }\n    \n        /**\n         * Handle pressing enter to insert the chip\n         *\n         * @access {private}\n         * @param  {event|null} e\n         */\n        ChipInputs.prototype._onKeyUp = function(e, input)\n        {\n            e = e || window.event;\n    \n            var _key = e.code || e.key || e.keyCode || e.charCode;\n    \n            // Enter\n            if (_key == 'Enter' || _key === 13)\n            {\n                var _wrapper = closest(input, '.js-chips-input');\n    \n                var _value = input_value(input).trim();\n    \n                if (!in_array(_value, this._getChipsValues(_wrapper)) && _value !== '')\n                {\n                    this.addChip(_value, _wrapper);\n    \n                    input.value = '';\n                }\n            }\n        }\n    \n        /**\n         * Remove last chip\n         *\n         * @access {private}\n         * @param  {DOMElement}    _wrapper\n         */\n        ChipInputs.prototype._removeLastChip = function(_wrapper)\n        {\n            var _chips = $All('.btn-chip', _wrapper);\n    \n            if (!is_empty(_chips))\n            {\n                remove_from_dom(_chips.pop());\n            }\n        }\n    \n        /**\n         * Insert new chip\n         *\n         * @access {public}\n         * @param  {string}      _value\n         * @param  {DOMElement}        _wrapper\n         * @param  {string|bool} _icon\n         */\n        ChipInputs.prototype.addChip = function(_value, _wrapper, _icon)\n        {\n            let chip = FrontBx.Chip({\n                text       : _value.trim(),\n                removeable : true,\n                input      : _wrapper.dataset.inputName,\n                variant    : _wrapper.dataset.chipClass,\n            });\n    \n            _wrapper.insertBefore(chip, first_children(_wrapper).pop());\n    \n            add_event_listener($('.js-remove-btn', chip), 'click', this._removeChip);\n    \n            FrontBx.dom().refresh('Ripple', _wrapper);\n        }\n    \n        /**\n         * Remove an existing chip\n         *\n         * @access {private}\n         * @param  {event|null} e\n         */\n        ChipInputs.prototype._removeChip = function(e)\n        {\n            e = e || window.event;\n    \n            e.preventDefault();\n    \n            remove_from_dom(closest(this, '.btn-chip'));\n        }\n    \n        /**\n         * Get all values from chip input\n         *\n         * @access {private}\n         * @param  {DOMElement}    _wrapper\n         * @return {array}\n         */\n        ChipInputs.prototype._getChipsValues = function(_wrapper)\n        {\n            var _result = [];\n    \n            var _chips = $All('.btn-chip input', _wrapper);\n    \n            for (var i = 0; i < _chips.length; i++)\n            {\n                _result.push(input_value(_chips[i]));\n            }\n    \n            return _result;\n        }\n    \n        // Load into FrontBx DOM core\n        FrontBx.dom().register('ChipInputs', extend(Component, ChipInputs));\n    \n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const [Component] = FrontBx.get('Component');\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [find, add_class, on, closest, has_class, remove_class, off, attr, css, dom_element, extend] = FrontBx.import(['find','add_class','on','closest','has_class','remove_class','off','attr','css','dom_element','extend']).from('_');\n    \n        /**\n         * Dropdown Buttons\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Menu = function()\n        {\n            this.super('.js-select-menu > *:not(.menu-divider):not(.menu-header), .js-check-menu > *:not(.menu-divider):not(.menu-header), .js-active-menu > *:not(.menu-divider):not(.menu-header)');\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Menu.prototype.bind = function(node)\n        {\n            on(node, 'click', this._clickHandler, this);\n        }\n    \n         /**\n         * @inheritdoc\n         * \n         */\n        Menu.prototype.unbind = function(node)\n        {\n            off(node, 'click', this._clickHandler, this);\n        }\n    \n        /**\n         * Click event handler\n         *\n         * @param  {event|null} e JavaScript Click event\n         * @access {private}\n         */\n        Menu.prototype._clickHandler = function(e, item)\n        {\n            // Nothing to do\n            if (has_class(item, 'selected') || has_class(item, 'active') || has_class(item, 'checked')) return;\n    \n            // Menu and class\n            let menu        = closest(item, '.js-select-menu') || closest(item, '.js-check-menu') || closest(item, '.js-active-menu');\n            let activeClass = has_class(menu, 'js-select-menu') ? 'selected' : (has_class(menu, 'js-check-menu') ? 'checked' : 'active');\n            let selected    = find(`> .${activeClass}`, menu);\n            let isCheck     = activeClass === 'checked';\n            let content     = item.innerText.trim();\n                \n            if (selected) remove_class(selected, activeClass);\n            \n            add_class(item, activeClass);\n    \n            if (isCheck)\n            {\n                if (selected)\n                {\n                    let selectedCheck = find('.item-right .fa.fa-check', selected);\n    \n                    if (selectedCheck) css(selectedCheck.parentNode, 'display', 'none');\n                }\n                \n                let check = find('.item-right .fa', item);\n    \n                if (!check)\n                {\n                    let itemContent = find('.item-body', item);\n    \n                    if (!itemContent)\n                    {\n                        item.innerText = '';\n    \n                        dom_element({tag: 'span', class: 'item-body'}, item, content);\n                    }\n    \n                    dom_element({tag: 'span', class: 'item-right'}, item, dom_element({tag: 'span', class: 'fa fa-check'}));\n                }\n                else\n                {\n                    attr(check.parentNode, 'style', false);\n                }\n            }\n        }\n    \n        // Load into FrontBx DOM core\n        FrontBx.dom().register('Menu', extend(Component, Menu));\n    \n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const [Component] = FrontBx.get('Component');\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [$, add_event_listener, attr, closest, has_class, in_dom, remove_event_listener, remove_from_dom, trigger_event, extend] = FrontBx.import(['$','add_event_listener','attr','closest','has_class','in_dom','remove_event_listener','remove_from_dom','trigger_event','extend']).from('_');\n    \n        /**\n         * Chip suggestions.\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const ChipSuggestions = function()\n        {\n            this.super('.js-chip-suggestions .btn-chip');\n        }\n    \n        /**\n         * Bind DOM listeners\n         *\n         * @access {private}\n         */\n        ChipSuggestions.prototype.bind = function(node)\n        {\n            add_event_listener(node, 'click', this._clickHandler);\n        }\n    \n        /**\n         * Unbind DOM listeners\n         *\n         * @access {private}\n         */\n        ChipSuggestions.prototype.unbind = function()\n        {\n            remove_event_listener(node, 'click', this._clickHandler);\n        }\n    \n        /**\n         * Chip click handler\n         *\n         * @access {private}\n         * @param  {event|null} e\n         */\n        ChipSuggestions.prototype._clickHandler = function(e)\n        {\n            e = e || window.event;\n    \n            e.preventDefault();\n    \n            var _wrapper = closest(this, '.js-chip-suggestions');\n            var _input   = $('#' + _wrapper.dataset.inputTarget);\n            var _text    = this.innerText.trim();\n    \n            if (!_input || !in_dom(_input))\n            {\n                throw new Error('Target node does not exist.');\n    \n                return false;\n            }\n    \n            // Chips input\n            if (has_class(_input, '.js-chips-input'))\n            {\n                FrontBx.dom().component('ChipInputs').addChip(_text, _input);\n    \n                remove_from_dom(this);\n    \n                return;\n            }\n    \n            let val = attr(_input, 'value');\n    \n            attr(_input, 'value',  val === '' ? _text : `${val} ${_text}`);\n    \n            trigger_event(_input, 'change');\n    \n            remove_from_dom(this);\n        }\n    \n        // Load into FrontBx DOM core\n        FrontBx.dom().register('ChipSuggestions', extend(Component, ChipSuggestions));\n    \n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const [Component] = FrontBx.get('Component');\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [$, add_class, add_event_listener, closest, has_class, remove_class, remove_event_listener, trigger_event, extend] = FrontBx.import(['$','add_class','add_event_listener','closest','has_class','remove_class','remove_event_listener','trigger_event','extend']).from('_');\n    \n        /**\n         * Choice chips\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const ChoiceChips = function()\n        {\n            this.super('.js-choice-chips .btn-chip');\n        }\n    \n        /**\n         * Bind DOM listeners\n         *\n         * @access {private}\n         */\n        ChoiceChips.prototype.bind = function(node)\n        {\n            add_event_listener(node, 'click', this._clickHandler);\n        }\n    \n        /**\n         * Unbind DOM listeners\n         *\n         * @access {private}\n         */\n        ChoiceChips.prototype.unbind = function(node)\n        {\n            remove_event_listener(node, 'click', this._clickHandler);\n        }\n    \n        /**\n         * Handle click event on chip\n         *\n         * @access {private}\n         * @param  {event|null} e\n         */\n        ChoiceChips.prototype._clickHandler = function(e)\n        {\n            e = e || window.event;\n    \n            var _wrapper = closest(this, '.js-choice-chips');\n    \n            var _input = $('.js-choice-input', _wrapper);\n    \n            if (!has_class(this, 'selected'))\n            {                \n                remove_class($('.btn-chip.selected', _wrapper), 'selected');\n    \n                add_class(this, 'selected');\n    \n                if (_input)\n                {\n                    _input.value = this.dataset.value || this.innerText.trim();\n    \n                    trigger_event(_input, 'input');\n                    trigger_event(_input, 'change');\n                }\n            }\n        }\n    \n        // Load into FrontBx DOM core\n        FrontBx.dom().register('ChoiceChips', extend(Component, ChoiceChips));\n    \n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const [Component] = FrontBx.get('Component');\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [add_event_listener, remove_event_listener, toggle_class, extend] = FrontBx.import(['add_event_listener','remove_event_listener','toggle_class', 'extend']).from('_');\n    \n        /**\n         * Filter chips\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const FilterChips = function()\n        {\n            this.super('.js-filter-chips .btn-chip');\n        }\n    \n        /**\n         * Bind DOM listeners\n         *\n         * @access {private}\n         */\n        FilterChips.prototype.bind = function(node)\n        {\n            add_event_listener(node, 'click', this._clickHandler);\n        }\n    \n        /**\n         * Unbind DOM listeners\n         *\n         * @access {private}\n         */\n        FilterChips.prototype.unbind = function(node)\n        {\n            remove_event_listener(node, 'click', this._clickHandler);\n        }\n    \n        /**\n         * Handle click event on chip\n         *\n         * @access {private}\n         * @param  {event|null} e\n         */\n        FilterChips.prototype._clickHandler = function(e)\n        {\n            e = e || window.event;\n    \n            e.preventDefault();\n    \n            toggle_class(this, 'checked');\n        }\n    \n        // Load into FrontBx DOM core\n        FrontBx.dom().register('FilterChips', extend(Component, FilterChips));\n    \n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const [Component] = FrontBx.get('Component');\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [find, each, is_undefined, attr, on, off, to_camel_case, extend] = FrontBx.import(['find','each','is_undefined','attr','on','off','to_camel_case','extend']).from('_');\n    \n        /**\n         * Available data attributes.\n         * \n         * @var {Array}\n         */\n        const DATA_ATTRIBUTES = ['title','content','classes','custom','close-anywhere','scroll','cancel-btn','cancel-class','confirm-btn','confirm-class','overlay','state'];\n    \n        /**\n         * Toggle active on lists\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Modal = function()\n        { \n            this.modals = new Map;\n    \n            this.super('.js-modal-trigger');\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Modal.prototype.bind = function(node)\n        {            \n            let options = { fromHTML: true, state: 'closed' };\n    \n            let elem;\n    \n            each(DATA_ATTRIBUTES, (i, attribute) =>\n            {\n                let value = attr(node, `data-${attribute}`);\n    \n                if (!is_undefined(value))\n                {\n                    if (value === 'true' || value === 'false')value = value === 'true' ? true : false;\n    \n                    if (attribute === 'content' && value[0] === '#')\n                    {\n                        elem = find(value);\n    \n                        value = elem;\n                    }\n    \n                    options[to_camel_case(attribute)] = value;\n                }\n            });\n    \n            let modal = FrontBx.Modal(options);\n    \n            this.modals.set(node, modal);\n    \n            on(node, 'click', this._toggle, this);\n    \n            if (elem) elem.style = '';\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Modal.prototype.unbind = function(node)\n        {\n            let modal   = this.modals.get(node);\n            let content = attr(node, 'data-content');\n    \n            if (content[0] === '#')\n            {\n                content = find(content);\n    \n                content.style.display = 'none';\n    \n                document.body.appendChild(content);\n            }\n    \n            modal.destroy();\n    \n            this.modals.delete(node);\n    \n            off(node, 'click', this._toggle, this);\n        }\n    \n        /**\n         * Toggle modal.\n         * \n         * @access {private}\n         */\n        Modal.prototype._toggle = function(e, trigger)\n        { \n            let modal = this.modals.get(trigger);\n    \n            modal.closed() ? modal.open() : modal.close();\n        }\n    \n        // Load into FrontBx DOM core\n        FrontBx.dom().register('Modal', extend(Component, Modal));\n    })();\n    (function()\n    {\n        const [Component] = FrontBx.get('Component');\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [find, each, is_undefined, attr, on, off, to_camel_case, add_class, remove_class, extend] = FrontBx.import(['find','each','is_undefined','attr','on','off','to_camel_case','add_class','remove_class','extend']).from('_');\n    \n        /**\n         * Available data attributes.\n         * \n         * @var {Array}\n         */\n        const DATA_ATTRIBUTES = ['content','direction','overlay','persistent','peekable','swipeable','classes','state','easing','animation-time','responsive'];\n    \n        /**\n         * Drawer\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Drawer = function()\n        { \n            this.drawers = new Map;\n    \n            this.super('.js-drawer-trigger');\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Drawer.prototype.bind = function(node)\n        {            \n            let options = \n            { \n                fromHTML: true,\n                state: 'collapsed',\n                callbackClose: () => remove_class(node, 'active'),\n                callbackOpen: () => add_class(node, 'active'),\n            };\n    \n            let elem;\n    \n            each(DATA_ATTRIBUTES, (i, attribute) =>\n            {\n                let value = attr(node, `data-${attribute}`);\n    \n                if (!is_undefined(value))\n                {\n                    if (value === 'true' || value === 'false') value = value === 'true' ? true : false;\n    \n                    if (attribute === 'content' && value[0] === '#')\n                    {\n                        elem = find(value);\n    \n                        value = elem;\n                    }\n    \n                    options[to_camel_case(attribute)] = value;\n                }\n            });\n    \n            let drawer = FrontBx.Drawer(options);\n    \n            this.drawers.set(node, drawer);\n    \n            on(node, 'click', this._toggle, this);\n    \n            if (elem) elem.style = '';\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Drawer.prototype.unbind = function(node)\n        {\n            let drawer = this.drawers.get(node);\n    \n            let content = attr(node, 'data-content');\n    \n            if (content[0] === '#')\n            {\n                content = find(content);\n    \n                content.style.display = 'none';\n    \n                document.body.appendChild(content);\n            }\n    \n            drawer.destroy();\n    \n            this.drawers.delete(node);\n    \n            off(node, 'click', this._toggle, this);\n        }\n    \n        /**\n         * Toggle drawer.\n         * \n         * @access {private}\n         */\n        Drawer.prototype._toggle = function(e, trigger)\n        { \n            let drawer = this.drawers.get(trigger);\n    \n            drawer.closed() ? drawer.open() : drawer.close();\n        }\n    \n        // Load into FrontBx DOM core\n        FrontBx.dom().register('Drawer', extend(Component, Drawer));\n        \n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const [Component] = FrontBx.get('Component');\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [find, each, is_undefined, attr, on, off, to_camel_case, add_class, remove_class, extend] = FrontBx.import(['find','each','is_undefined','attr','on','off','to_camel_case','add_class','remove_class','extend']).from('_');\n    \n        /**\n         * Available data attributes.\n         * \n         * @var {Array}\n         */\n        const DATA_ATTRIBUTES = ['content','overlay','persistent','peekable','swipeable','classes','state','easing','animation-time'];\n    \n        /**\n         * Toggle active on lists\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Frontdrop = function()\n        { \n            this.drawers = new Map;\n    \n            this.super('.js-frontdrop-trigger');\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Frontdrop.prototype.bind = function(node)\n        {            \n            let options = \n            { \n                fromHTML: true,\n                state: 'collapsed',\n                callbackClose: () => remove_class(node, 'active'),\n                callbackOpen: () => add_class(node, 'active'),\n            };\n    \n            let elem;\n    \n            each(DATA_ATTRIBUTES, (i, attribute) =>\n            {\n                let value = attr(node, `data-${attribute}`);\n    \n                if (!is_undefined(value))\n                {\n                    if (value === 'true' || value === 'false') value = value === 'true' ? true : false;\n    \n                    if (attribute === 'content' && value[0] === '#')\n                    {\n                        elem = find(value);\n    \n                        value = elem;\n                    }\n    \n                    options[to_camel_case(attribute)] = value;\n                }\n            });\n    \n            let frontdrop = FrontBx.Frontdrop(options);\n    \n            this.drawers.set(node, frontdrop);\n    \n            on(node, 'click', this._toggle, this);\n    \n            if (elem) elem.style = '';\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Frontdrop.prototype.unbind = function(node)\n        {\n            let frontdrop = this.drawers.get(node);\n    \n            let content = attr(node, 'data-content');\n    \n            if (content[0] === '#')\n            {\n                content = find(content);\n    \n                content.style.display = 'none';\n    \n                document.body.appendChild(content);\n            }\n    \n            frontdrop.destroy();\n    \n            this.drawers.delete(node);\n    \n            off(node, 'click', this._toggle, this);\n        }\n    \n        /**\n         * Toggle Frontdrop.\n         * \n         * @access {private}\n         */\n        Frontdrop.prototype._toggle = function(e, trigger)\n        { \n            let frontdrop = this.drawers.get(trigger);\n    \n            frontdrop.closed() ? frontdrop.open() : frontdrop.close();\n        }\n    \n        // Load into FrontBx DOM core\n        FrontBx.dom().register('Frontdrop', extend(Component, Frontdrop));\n        \n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const [Component] = FrontBx.get('Component');\n    \n         /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [find, each, is_undefined, attr, on, off, to_camel_case, add_class, remove_class, extend] = FrontBx.import(['find','each','is_undefined','attr','on','off','to_camel_case','add_class','remove_class','extend']).from('_');\n    \n        /**\n         * Available data attributes.\n         * \n         * @var {Array}\n         */\n        const DATA_ATTRIBUTES = ['title','content','direction','classes','pushbody','swipeable','state','easing','animation-time','responsive'];\n    \n        /**\n         * Toggle active on lists\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Backdrop = function()\n        { \n            this.drawers = new Map;\n    \n            this.super('.js-backdrop-trigger');\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Backdrop.prototype.bind = function(node)\n        {            \n            let options = \n            { \n                fromHTML: true,\n                state: 'collapsed',\n                callbackClose: () => remove_class(node, 'active'),\n                callbackOpen: () => add_class(node, 'active'),\n            };\n    \n            let elem;\n    \n            each(DATA_ATTRIBUTES, (i, attribute) =>\n            {\n                let value = attr(node, `data-${attribute}`);\n    \n                if (!is_undefined(value))\n                {\n                    if (value === 'true' || value === 'false') value = value === 'true' ? true : false;\n    \n                    if (attribute === 'content' && value[0] === '#')\n                    {\n                        elem = find(value);\n    \n                        value = elem;\n                    }\n    \n                    options[to_camel_case(attribute)] = value;\n                }\n            });\n    \n            let backdrop = FrontBx.Backdrop(options);\n    \n            this.drawers.set(node, backdrop);\n    \n            on(node, 'click', this._toggle, this);\n    \n            if (elem) elem.style = '';\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Backdrop.prototype.unbind = function(node)\n        {\n            let backdrop = this.drawers.get(node);\n            let content = attr(node, 'data-content');\n    \n            if (content[0] === '#')\n            {\n                content = find(content);\n    \n                content.style.display = 'none';\n    \n                document.body.appendChild(content);\n            }\n    \n            backdrop.destroy();\n    \n            this.drawers.delete(node);\n    \n            off(node, 'click', this._toggle, this);\n        }\n    \n        /**\n         * Toggle Backdrop.\n         * \n         * @access {private}\n         */\n        Backdrop.prototype._toggle = function(e, trigger)\n        { \n            let backdrop = this.drawers.get(trigger);\n            \n            backdrop.closed() ? backdrop.open() : backdrop.close();\n        }\n    \n        // Load into FrontBx DOM core\n        FrontBx.dom().register('Backdrop', extend(Component, Backdrop));\n    \n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const [Component] = FrontBx.get('Component');\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [find, each, is_undefined, attr, on, off, to_camel_case, extend] = FrontBx.import(['find','each','is_undefined','attr','on','off','to_camel_case','extend']).from('_');\n    \n        /**\n         * Available data attributes.\n         * \n         * @var {Array}\n         */\n        const DATA_ATTRIBUTES = ['text','timeout','icon','btn','variant','btnVariant'];\n    \n        /**\n         * Toggle active on lists\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Notification = function()\n        {\n            this.super('.js-notification-trigger');\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Notification.prototype.bind = function(node)\n        {            \n            on(node, 'click', this._show, this);\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Notification.prototype.unbind = function(node)\n        {\n    \n            off(node, 'click', this._show, this);\n        }\n    \n        /**\n         * Toggle notification.\n         * \n         * @access {private}\n         */\n        Notification.prototype._show = function(e, trigger)\n        { \n            let options = { fromHTML: true };\n    \n            each(DATA_ATTRIBUTES, (i, attribute) =>\n            {\n                let value = attr(trigger, `data-${attribute}`);\n    \n                if (!is_undefined(value))\n                {\n                    if (value === 'true' || value === 'false') value = value === 'true' ? true : false;\n    \n                    if (attribute === 'timeout') value = parseInt(value);\n    \n                    options[to_camel_case(attribute)] = value;\n                }\n            });\n    \n            FrontBx.Notification(options);\n        }\n    \n        // Load into FrontBx DOM core\n        FrontBx.dom().register('Notification', extend(Component, Notification));\n    \n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const [Component] = FrontBx.get('Component');\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [on, off, attr, bool, extend]  = FrontBx.import(['on','off','attr','bool','extend']).from('_');\n    \n        /**\n         * URLS Requested\n         * \n         * @var {object}\n         */\n        const REQUESTED = [];\n    \n        /**\n         * Pjax Links Module\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const PjaxLinks = function()\n        {\n            this.super('.js-pjax-link');\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        PjaxLinks.prototype.bind = function(node)\n        {\n            on(node, 'click', this._eventHandler, this);\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        PjaxLinks.prototype.unbind = function(node)\n        {\n            off(node, 'click', this._eventHandler, this);\n        }\n    \n        /**\n         * Event handler\n         *\n         * @param {event|null} e JavaScript click event\n         * @access {private}\n         */\n        PjaxLinks.prototype._eventHandler = function(e, clicked)\n        {\n            let url       = clicked.href || attr(clicked, 'data-pjax-target');\n            let once      = attr(clicked, 'data-pjax-once') || false;\n            let element   = attr(clicked, 'data-pjax-target');\n            let cacheBust = bool(attr(clicked, 'data-pjax-nocache'));\n            let pushstate = !element ? true : false;\n            let urlhash   = !element ? false : bool(attr(clicked, 'data-pjax-urlhash'));\n    \n            // Only request once\n            if (REQUESTED.includes(url) && once) return;\n    \n            REQUESTED.push(url);\n    \n            if (element) element = element[0] !== '#' ? `#${element}` : element;\n    \n            FrontBx.Pjax().request(url, {once, element, cacheBust, pushstate, urlhash});\n    \n            return false;\n        }\n    \n        // Load into FrontBx DOM core\n        FrontBx.dom().register('PjaxLinks', extend(Component, PjaxLinks));\n    \n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const [Component] = FrontBx.get('Component');\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [$, add_event_listener, animate, bool, has_class, is_node_type, remove_event_listener, toggle_class, trigger_event, extend] = FrontBx.import(['$','add_event_listener','animate','bool','has_class','is_node_type','remove_event_listener','toggle_class','trigger_event','extend']).from('_');\n    \n        /**\n         * Toggle height on click\n         *\n         * @class\n         * @extends {Component}\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Collapse = function()\n        {        \n            this.super('.js-collapse');\n        }\n    \n        /**\n         * Event binder - Binds all events on button click\n         *\n         * @access {private}\n         */\n        Collapse.prototype.bind = function(node)\n        {\n            add_event_listener(node, 'click', this._eventHandler);\n        }\n    \n        /**\n         * Event unbinder - Removes all events on button click\n         *\n         * @access {private}\n         */\n        Collapse.prototype.unbind = function(node)\n        {\n            remove_event_listener(node, 'click', this._eventHandler);\n        }\n    \n        /**\n         * Handle the click event\n         *\n         * @param {event|null} e JavaScript click event\n         * @access {private}\n         */\n        Collapse.prototype._eventHandler = function(e)\n        {\n            e = e || window.event;\n    \n            if (is_node_type(this, 'a'))\n            {\n                e.preventDefault();\n            }\n    \n            var clicked  = this;\n            var targetEl = $('#' + clicked.dataset.collapseTarget);\n            var duration = parseInt(clicked.dataset.collapseSpeed) || 350;\n            var easing   = clicked.dataset.collapseEasing || 'easeOutExpo';\n            var opacity  = bool(clicked.dataset.withOpacity);\n            var closing  = has_class(clicked, 'active');\n    \n            trigger_event(targetEl, 'collapse:toggle', closing ? 'close' : 'open');\n    \n            var options  = \n            {\n                property: 'height',\n                to: closing ? '0px' : 'auto',\n                from: closing ? 'auto' : '0px',\n                duration: duration, \n                easing: easing,\n                callback: () => { trigger_event(targetEl, 'collapse:toggled', closing ? 'close' : 'open'); }\n            };\n    \n            animate(targetEl, options);\n            toggle_class(clicked, 'active');\n        }\n    \n        // Load into FrontBx DOM core\n        FrontBx.dom().register('Collapse', extend(Component, Collapse));\n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const [Component] = FrontBx.get('Component');\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [find, add_event_listener, remove_event_listener, has_class, add_class, remove_class, closest, trigger_event, dom_element, map, extend] = FrontBx.import(['find','add_event_listener','remove_event_listener','has_class','add_class','remove_class','closest','trigger_event','dom_element', 'map','extend']).from('_');\n    \n        /**\n         * Toggle active on lists\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const List = function()\n        { \n            this.super('.js-select-list > li');\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        List.prototype.bind = function(node)\n        {            \n            add_event_listener(node, 'click', this._eventHandler);\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        List.prototype.unbind = function(node)\n        {\n            remove_event_listener(node, 'click', this._eventHandler);\n        }\n    \n        /**\n         * Handle the click event\n         *\n         * @param {event|null} e JavaScript click event\n         * @access {private}\n         */\n        List.prototype._eventHandler = function(e)\n        {\n            e = e || window.event;\n            \n            if (has_class(this, 'selected')) return;\n    \n            var list = closest(this, '.js-select-list');\n    \n            remove_class(find('li.selected', list), 'selected');\n            \n            add_class(this, 'selected');\n    \n            trigger_event(list, 'list:selected', {item: this});\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        List.prototype.template = function(props)\n        {\n            return dom_element({tag: 'ul', class: `list ${props.classes ? props.classes : ''} ${props.dense ? 'list-dense' : ''} ${props.ellipsis ? 'list-ellipsis' : ''} ${ props.selectable ? `js-select-list` : '' }`}, null, map(props.items, (i, item) =>\n                {\n                    return dom_element({tag: 'li', class: `${item.state} ${props.selected && (props.selected === item.value || props.selected === item.text) ? 'selected' : null}`}, null,\n                    [\n                        item.left ? dom_element({tag: 'span', class: 'item-left', innerHTML: item.left}) : null,\n                        dom_element({tag: 'span', class: 'item-body', innerText: item.body || item.text || item }),\n                        item.right ? dom_element({tag: 'span', class: 'item-right', innerHTML: item.right}) : null,\n                    ])\n                })\n            );\n        }\n    \n        // Load into FrontBx DOM core\n        FrontBx.dom().register('List', extend(Component, List));\n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const [Component] = FrontBx.get('Component');\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [find, find_all, map, add_class, on, closest, has_class, is_string, hide_aria, remove_class, off, show_aria, attr, css, dom_element, extend] = FrontBx.import(['find','find_all','map','add_class','on','closest','has_class','is_string','hide_aria','remove_class','off','show_aria','attr','css','dom_element','extend']).from('_');\n    \n        /**\n         * Dropdown Buttons\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Dropdown = function()\n        {\n            this.super('.js-drop-trigger, .drop-container .js-select-menu > *:not(.menu-divider):not(.menu-header), .drop-container .js-check-menu > *:not(.menu-divider):not(.menu-header), .drop-container .js-active-menu > *:not(.menu-divider):not(.menu-header)');\n    \n            this.defaultProps =\n            {\n                checkable:    false,\n                selectable:   false,\n                caret:        false,\n                ellipsis:     false,\n                dense:        false,\n                position:     'sw',\n                anchorText:   '',\n                anchorTag:    'button', \n                items:        [],\n            };\n    \n            this.boundWindow  = false;\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Dropdown.prototype.bind = function(node)\n        {\n            if (has_class(node, 'js-drop-trigger'))\n            {\n                on(node, 'click', this._clickHandler, this);\n            }\n            else\n            {\n                on(node, 'click', this._selectHandler, this);\n            }\n    \n            if (!this.boundWindow)\n            {\n                on(window, 'click', this._windowClick, this);\n    \n                this.boundWindow = true;\n            }\n        }\n    \n         /**\n         * @inheritdoc\n         * \n         */\n        Dropdown.prototype.unbind = function(node)\n        {\n            if (has_class(node, 'js-drop-trigger'))\n            {\n                off(node, 'click', this._clickHandler, this);\n            }\n            else\n            {\n                off(node, 'click', this._selectHandler, this);\n            }\n    \n            if (this.boundWindow)\n            {\n                off(window, 'click', this._windowClick, this);\n    \n                this.boundWindow = false;\n            }\n        }\n    \n        /**\n         * Click event handler\n         *\n         * @param  {event|null} e JavaScript Click event\n         * @access {private}\n         */\n        Dropdown.prototype._clickHandler = function(e, button)\n        {\n            e = e || window.event;\n    \n            var active = find('.js-drop-trigger.drop-active');\n    \n            if (active) this._hideDrop(active);\n    \n            // Remove active and return\n            if (active !== button)\n            {\n                this._showDrop(button);\n            }\n        }\n    \n        /**\n         * Click event handler\n         *\n         * @param  {event|null} e JavaScript Click event\n         * @access {private}\n         */\n        Dropdown.prototype._hideDrop = function(button)\n        {\n            var drop = find('.js-drop-menu', button.parentNode);\n            \n            remove_class(button, ['active', 'drop-active']);\n            \n            button.setAttribute('aria-pressed', 'false');\n            \n            hide_aria(drop);\n            \n            drop.blur();\n        }\n    \n        /**\n         * Click event handler\n         *\n         * @param  {event|null} e JavaScript Click event\n         * @access {private}\n         */\n        Dropdown.prototype._showDrop = function(button)\n        {\n            var drop = find('.js-drop-menu', button.parentNode);\n            \n            add_class(button, ['active', 'drop-active']);\n            \n            button.setAttribute('aria-pressed', 'true');\n            \n            show_aria(drop);\n            \n            drop.focus();\n        }\n    \n        /**\n         * Window click event\n         *\n         * @param {event|null} e JavaScript click event\n         * @access {private}\n         */\n        Dropdown.prototype._windowClick = function(e)\n        {\n            e = e || window.event;\n    \n            if (closest(e.target, '.js-drop-trigger'))\n            {\n                return;\n            }\n    \n            var active = find('.js-drop-trigger.drop-active');\n    \n            if (active) this._hideDrop(active);\n        }\n    \n        /**\n         * Click item on select handler\n         *\n         * @param  {event|null} e JavaScript Click event\n         * @access {private}\n         */\n        Dropdown.prototype._selectHandler = function(e, item)\n        {\n            let wrapper    = closest(item, '.drop-container');\n            let menu       = find('.js-select-menu, .js-check-menu, .js-active-menu', wrapper);\n            let trigger    = find('.js-drop-trigger', wrapper);\n            let selectable = has_class(trigger, 'js-drop-selectable');\n            let content    = item.innerText.trim();\n            let value      = attr(item, 'data-value') || content;\n            let input      = find('> input', wrapper);\n    \n            if (input) attr(input, 'value', value);\n    \n            if (selectable) trigger.innerText = content;\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Dropdown.prototype.template = function(props)\n        {\n            return dom_element({tag: 'div', class: 'drop-container'}, null,\n            [\n                // Input\n                props.checkable ? dom_element({tag: 'input', type: 'hidden', name: props.input, value: props.selected || ''}) : null,\n    \n                // button / anchor\n                dom_element({tag: props.anchorTag, type: props.anchorTag === 'button' ? 'button' : null, role: props.anchorTag === 'button' ? 'button' : null, class: `${props.anchorTag === 'button' ? 'btn btn-dropdown' : 'btn-dropdown'} js-drop-trigger ${props.anchorClass} ${props.selectable ? 'js-select-menu' : '' }`}, null,\n                    [\n                        props.anchorText,\n                        props.caret ? dom_element({tag: 'span', class: `caret-${props.caret}`}) : null,\n                    ]\n                ),\n    \n                // Dropdown\n                dom_element({tag: 'div', class: `drop-menu ${ props.position ? `drop-${props.position}` : '' } js-drop-menu`}, null, \n                    dom_element({tag: 'ul', class: `menu ${props.dense ? 'menu-dense' : ''} ${props.ellipsis ? 'menu-ellipsis' : ''} ${ props.checkable ? 'js-menu-check' : '' }`}, null, \n                        map(props.items, (i, item) =>\n                        {\n                            return dom_element({tag: 'li', class: `${item.state} ${props.selected && (props.selected === item.value || props.selected === item.text) ? 'selected' : null}`, dataValue: item.value || item.text || item}, null,\n                            [\n                                item.left ? dom_element({tag: 'span', class: 'item-left', innerHTML: item.left}) : null,\n                                dom_element({tag: 'span', class: 'item-body', innerText: item.body || item.text || item }),\n                                item.right ? dom_element({tag: 'span', class: 'item-right', innerHTML: item.right}) : null,\n                            ])\n                        })\n                    )\n                )\n            ]);\n        }\n    \n        // Load into FrontBx DOM core\n        FrontBx.dom().register('Dropdown', extend(Component, Dropdown));\n    \n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const [Component] = FrontBx.get('Component');\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [find, attr, add_class, on, closest, has_class, is_empty, remove_class, off, extend] = FrontBx.import(['find','attr','add_class','on','closest','has_class','is_empty','remove_class','off','extend']).from('_');\n    \n        /**\n         * Tab Nav\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const TabNav = function()\n        {\n            this.super('.js-tab-nav > li > *, .js-tab-nav > *:not(li)');\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        TabNav.prototype.bind = function(node)\n        {            \n            on(node, 'click', this._eventHandler);\n        }\n    \n        /**\n         * Unbind click events on all <a> tags in a .js-tab-nav\n         *\n         * @params {navWrap} node\n         * @access {private}\n         */\n        TabNav.prototype.unbind = function(node)\n        {            \n            off(node, 'click', this._eventHandler, this);\n        }\n    \n        /**\n         * Click event handler\n         *\n         * @param {event|null} e JavaScript click event\n         * @access {private}\n         */\n        TabNav.prototype._eventHandler = function(e, clicked)\n        {\n            let nav         = closest(clicked, '.js-tab-nav');\n            let activeClass = attr(nav, 'data-active-class') || 'active';\n            let panel       = find(`[data-tab-panel=${attr(clicked, 'data-tab')}]`);\n            let panels      = closest(panel, '.js-tab-panels');\n    \n            if (has_class(clicked, activeClass)) return false;\n    \n            remove_class(find(`.${activeClass}[data-tab]`, nav), activeClass);\n            add_class(clicked, activeClass);\n    \n            remove_class(find('.active[data-tab-panel]', panels), 'active');\n            add_class(panel, 'active');\n    \n            return false;\n        }   \n    \n        // Load into FrontBx DOM core\n        FrontBx.dom().register('TabNav', extend(Component, TabNav));\n    })();\n    (function()\n    {\n        /**\n         * JS Helper reference\n         * \n         * @var {object}\n         */\n        const Helper = FrontBx._();\n    \n        /**\n         * Input masker\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const InputMasks = function()\n        {\n            this._nodes = Helper.$All('.js-mask');\n            \n            this._masks = [];\n    \n            this._bind();\n    \n            return this;\n        }\n    \n        /**\n         * Public destructor remove all masks\n         *\n         * @access {public}\n         */\n        InputMasks.prototype.destruct = function()\n        {\n            Helper.each(this._masks, function(i, mask)\n            {\n                mask.destroy();\n            });\n            \n            this._nodes = [];\n    \n            this._masks = [];\n        }\n    \n        /**\n         * Find all the nodes and apply any masks\n         *\n         * @access {private}\n         */\n        InputMasks.prototype._bind = function()\n        {\n            // Find all the nodes\n            Helper.each(this._nodes, function(i, input)\n            {\n                let mask = Helper.attr(input, 'data-mask');\n    \n                let format = Helper.attr(input, 'data-format');\n    \n                if (mask && mask.startsWith('regex('))\n                {\n                    mask = mask.trim().replace('regex(', '').slice(0, -1);\n                }\n    \n                if (mask)\n                {\n                    this._masks.push(FrontBx.InputMasker(input, mask, format));\n                }\n    \n            }, this);\n        }\n    \n        // Load into FrontBx DOM core\n        FrontBx.dom().register('InputMasks', InputMasks);\n    \n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const [Component] = FrontBx.get('Component');\n    \n        /**\n         * Helper functions\n         * \n         * @var {function}\n         */\n        const [add_event_listener, animate_css, closest, has_class, remove_from_dom, remove_event_listener, trigger_event, extend] = FrontBx.import(['add_event_listener','animate_css','closest','has_class','remove_from_dom','remove_event_listener','trigger_event','extend']).from('_');\n    \n        /**\n         * Message closers\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const MessageClosers = function()\n        {\n            this.super('.js-close-msg');\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        MessageClosers.prototype.bind = function(node)\n        {\n            add_event_listener(node, 'click', this._eventHandler);\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        MessageClosers.prototype.unbind = function(node)\n        {\n            remove_event_listener(node, 'click', this._eventHandler);\n        }\n    \n        /**\n         * Event handler - handles removing the message\n         *\n         * @param  {event}   e JavaScript click event\n         * @access {private}\n         */\n        MessageClosers.prototype._eventHandler = function(e)\n        {\n            e = e || window.event;\n    \n            e.preventDefault();\n    \n            let msg      = closest(this, '.msg');\n            let toRemove = msg;\n    \n            trigger_event(msg, 'message:close');\n    \n            if (has_class(this, 'js-rmv-parent'))\n            {\n                toRemove = toRemove.parentNode;\n            }\n    \n            animate_css(toRemove, { opacity: 0, duration: 500, easing: 'easeInOutCubic', callback: function()\n            {\n                trigger_event(msg, 'message:closed');\n    \n                remove_from_dom(toRemove);\n            }});\n        }\n    \n        // Load into FrontBx DOM core\n        FrontBx.dom().register('MessageClosers', extend(Component, MessageClosers));\n    \n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const [Component] = FrontBx.get('Component');\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [$, add_event_listener, remove_event_listener, has_class, in_dom, parse_url, extend]  = FrontBx.import(['$','add_event_listener','remove_event_listener','has_class','in_dom','parse_url','extend']).from('_');\n    \n        /**\n         * Has the page loaded?\n         * \n         * @var {object}\n         */\n        var pageLoaded = false;\n    \n        /**\n         * Waypoints\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const WayPoints = function()\n        {        \n            this.super('.js-waypoint-trigger');\n    \n            // Invoke pageload\n            if (!pageLoaded)\n            {\n                this._invokePageLoad();\n            }\n    \n            pageLoaded = true;\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        WayPoints.prototype.bind = function(node)\n        {\n            add_event_listener(node, 'click', this._eventHandler);\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        WayPoints.prototype.unbind = function(node)\n        {\n            remove_event_listener(node, 'click', this._eventHandler);\n        }\n    \n        /**\n         * Event handler\n         *\n         * @param {event|null} e JavaScript click event\n         * @access {private}\n         */\n        WayPoints.prototype._eventHandler = function(e)\n        {\n            e = e || window.event;\n            \n            e.preventDefault();\n    \n            let trigger   = this;\n            let id        = trigger.dataset.waypointTarget;\n            let speed     = parseInt(trigger.dataset.waypointSpeed) || 500;\n            let easing    = trigger.dataset.waypointEasing || 'easeInOutCubic';\n            let updateUrl = trigger.dataset.updateUrl === 'false' ? false : true;\n    \n            FrontBx.SmoothScroll('#' + id, { easing: easing, speed: speed, updateUrl: updateUrl });\n        }\n    \n        /**\n         * Scroll to a element with id when the page loads\n         *\n         * @access {private}\n         */\n        WayPoints.prototype._invokePageLoad = function()\n        {\n            var url = parse_url(window.location.href);\n    \n            let targetEl = url.hash && url.hash !== '' ? $(url.hash) : false;\n    \n            if (!in_dom(targetEl) || !has_class(targetEl, '.js-waypoint')) return;\n           \n            let speed  = parseInt(targetEl.dataset.waypointSpeed) || 500;\n            let easing = targetEl.dataset.waypointEasing || 'easeInOutCubic';\n    \n            const scroll = function()\n            {\n                FrontBx.SmoothScroll(url.hash, { easing: easing, speed: speed, updateUrl: false });\n    \n                remove_event_listener(window, 'FrontBx:ready', scroll);\n            }\n    \n            window.scrollTo(0, 0);\n    \n            add_event_listener(window, 'FrontBx:ready', scroll);\n        }\n    \n        // Load into FrontBx DOM core\n        FrontBx.dom().register('WayPoints', extend(Component, WayPoints));\n    \n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const [Component] = FrontBx.get('Component');\n    \n        /**\n         * Helper functions\n         * \n         * @var {function}\n         */\n        const [$, add_class, add_event_listener, closest, in_dom, input_value, remove_class, remove_event_listener, extend] = FrontBx.import(['$','add_class','add_event_listener','closest','in_dom','input_value','remove_class','remove_event_listener','extend']).from('_');\n    \n        /**\n         * Adds classes to inputs\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Inputs = function()\n        {\n            this.super('.form-field input:not([type=\"radio\"]):not([type=\"checkbox\"]):not([type=\"range\"]), .form-field select, .form-field textarea, .form-field label');\n    \n            return this;\n        }\n    \n        /**\n         * Event binder\n         *\n         * @access {private}\n         */\n        Inputs.prototype.bind = function(node)\n        {\n            if (node.tagName.toLowerCase() === 'label')\n            {\n                add_event_listener(node, 'click', this._onLabelClick);\n            }\n            else\n            {\n                add_event_listener(node, 'click, focus, blur, change, input', this._eventHandler);\n    \n                this._setClasses(node);\n            }\n        }\n    \n        /**\n         * Event ubinder\n         *\n         * @access {private}\n         */\n        Inputs.prototype.unbind = function(node)\n        {\n            if (node.tagName.toLowerCase() === 'label')\n            {\n                remove_event_listener(node, 'click', this._onLabelClick);\n            }\n            else\n            {\n                remove_event_listener(node, 'click, focus, blur, change, input', this._eventHandler);\n            }\n        }\n    \n        /**\n         * Event handler\n         *\n         * @access {private}\n         * @params {event|null} e Browser click event\n         */\n        Inputs.prototype._onLabelClick = function(e)\n        {\n            e = e || window.event;\n    \n            var input = $('input', this.parentNode);\n    \n            if (in_dom(input))\n            {\n                input.focus();\n    \n                return;\n            }\n    \n            var input = $('select', this.parentNode);\n    \n            if (in_dom(input))\n            {\n                input.focus();\n    \n                return;\n            }\n    \n            var input = $('textarea', this.parentNode);\n    \n            if (in_dom(input))\n            {\n                input.focus();\n    \n                return;\n            }\n        }\n    \n        /**\n         * Event handler\n         *\n         * @access {private}\n         * @params {event|null} e Browser click event\n         */\n        Inputs.prototype._eventHandler = function(e)\n        {\n            e = e || window.event;\n    \n            var wrapper = closest(this, '.form-field');\n    \n            if (!wrapper) return;\n    \n            if (e.type === 'click')\n            {\n                this.focus();\n            }\n            else if (e.type === 'focus')\n            {\n                add_class(wrapper, 'focus');\n            }\n            else if (e.type === 'blur')\n            {\n                remove_class(wrapper, 'focus');\n            }\n    \n            if (e.type === 'change' || e.type === 'input' || e.type === 'blur')\n            {\n                var _value = input_value(this);\n    \n                if (_value === '')\n                {\n                    remove_class(wrapper, 'not-empty');\n                    add_class(wrapper, 'empty');\n                }\n                else\n                {\n                    remove_class(wrapper, 'empty');\n                    add_class(wrapper, 'not-empty');\n                }\n            }\n        }\n    \n        /**\n         * Sets initial classes on load.\n         *\n         * @access {private}\n         * @params {DOMElement} input \n         */\n        Inputs.prototype._setClasses = function(input)\n        {\n            var wrapper = closest(input, '.form-field');\n    \n            if (!wrapper) return;\n    \n            var _value = input_value(input);\n    \n            if (_value === '')\n            {\n                remove_class(wrapper, 'not-empty');\n                add_class(wrapper, 'empty');\n            }\n            else\n            {\n                remove_class(wrapper, 'empty');\n                add_class(wrapper, 'not-empty');\n            }\n        }\n    \n        // Load into FrontBx DOM core\n        FrontBx.dom().register('Inputs', extend(Component, Inputs));\n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const [Component] = FrontBx.get('Component');\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [find, add_class, on, animate_css, closest, coordinates, css, has_class, height, in_array, in_dom, inline_style, preapend, remove_class, off, rendered_style, traverse_up, trigger_event, width, extend] = FrontBx.import(['find','add_class','on','animate_css','closest','coordinates','css','has_class','height','in_array','in_dom','inline_style','preapend','remove_class','off','rendered_style','traverse_up','trigger_event','width','extend']).from('_');\n    \n        /**\n         * Wrappers that need \"position:relative\" to hide overflow.\n         * \n         * @var {array}\n         */\n        const STATIC_POSITIONS = ['static', 'unset', 'initial'];\n    \n        /**\n         * Original inline styles\n         * \n         * @var {Map}\n         */\n        const INLINESTYLES = new Map();\n    \n        /**\n         * Currently rippling\n         * \n         * @var {Map}\n         */\n        const RIPPLING = new Map();\n    \n        /**\n         * Currently clicking\n         * \n         * @var {Map}\n         */\n        var CLICKING;\n    \n        /**\n         * Selectors\n         * \n         * @var {Map}\n         */\n        const SELECTORS =\n        [\n            '.btn',\n            '.list > li',\n            '.pagination li a',\n            '.tab-nav li a',\n            '.card.primary-action',\n            '.card .primary-action',\n            '.card-media',\n            '.js-ripple'\n        ];\n    \n        /**\n         * Ripple click animation\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Ripple = function()\n        {\n            this.super(SELECTORS.join(','));\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Ripple.prototype.bind = function(node)\n        {                \n            // No ripples inside primary actions\n            if (!has_class(node, 'primary-action') && closest(node, '.primary-action') && !has_class(node, 'card'))\n            {\n                return;\n            }\n    \n            // No ripples inside list buttons\n            if (has_class(node, 'btn') && closest(node, '.list'))\n            {\n                return;\n            }\n    \n            // No ripples on list items with checkbox controls\n            if (closest(node, '.list') && (find('> .item-right .checkbox', node) || find('> .item-right .radio', node)  || find('> .item-right .switch', node))) return;\n    \n            // Cache 'overflow' and 'position' inline styles\n            // to revert back to after complete\n            // If these are empty they will be removed\n            if (!INLINESTYLES.has(node))\n            {\n                let CSSoverflow = inline_style(node, 'overflow') || false;\n                \n                let CSSposition = inline_style(node, 'position') || false;\n    \n                INLINESTYLES.set(node, [CSSoverflow, CSSposition]);\n            }\n    \n            on(node, 'mousedown, touchstart', this._startRipple, this);\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Ripple.prototype.unbind  = function(node)\n        {\n            off(node, 'mousedown, touchstart', this._startRipple, this);\n        }\n    \n        /**\n         * Ripple handler\n         *\n         * @access {private}\n         * @param  {event|null} e\n         */\n        Ripple.prototype._restore  = function(wrapper)\n        {\n            if (in_dom(wrapper))\n            {\n                wrapper.offsetHeight;\n    \n                wrapper.removeAttribute('data-event');\n            \n                remove_class(wrapper, 'ripple-down');\n    \n                let styles = INLINESTYLES.get(wrapper);\n    \n                css(wrapper, 'overflow', styles[0]);\n    \n                css(wrapper, 'position', styles[1]);\n            }\n        }\n    \n        /**\n         * Ripple handler\n         *\n         * @access {private}\n         * @param  {event|null} e\n         */\n        Ripple.prototype._startRipple  = function(e, wrapper)\n        {\n            const _this = this;\n    \n            // Ignore disabled\n            if (wrapper.disabled || has_class(wrapper, 'disabled')) return;\n    \n            // Single finger \"clicks\" only\n            if (e.touches && e.touches.length > 1) return;\n    \n            // Left click only on mouse\n            if ('button' in e && e.button !== 0) return;\n    \n            // Store the event used to generate this ripple on the holder: don't allow\n            // further events of different types until we're done.\n            // Prevents double-ripples from mousedown/touchstart.\n            var prev = wrapper.getAttribute('data-event');\n            if (prev && prev !== e.type) return;\n    \n            // Clear restorer\n            clearTimeout(RIPPLING.get(wrapper));\n    \n            // Add the data-attribute to identify ripple event type\n            wrapper.setAttribute('data-event', e.type);\n    \n            // Add class to parent do identify mousedown/touchstart\n            add_class(wrapper, 'ripple-down');\n    \n            // Figure out release event type\n            var releaseEvent = (e.type === 'mousedown' ? 'mouseup' : 'touchend');\n    \n            // Cached timer for release\n            var releaseTimer;\n            var released = false;\n    \n            // Animation started\n            const t0 = performance.now();\n    \n            // Create ripple and append immediately\n            var ripple = document.createElement('SPAN');\n            ripple.className = 'ripple';\n    \n            // Release event\n            const release = function(ev)\n            {\n                // Clear timer\n                clearTimeout(releaseTimer);\n    \n                // Remove release listener\n                document.removeEventListener(releaseEvent, release);\n    \n                add_class(ripple, 'complete');\n    \n                setTimeout(() => wrapper.removeChild(ripple), 400);\n    \n                let restoreTimer = setTimeout(() => _this._restore(wrapper), 500);\n    \n                RIPPLING.set(wrapper, restoreTimer);\n            };  \n    \n            // Figure out where to place ripple inside parent\n            var c = coordinates(wrapper);\n            var s = Math.max(height(wrapper), width(wrapper));\n            var x = (e.pageX - c.left) - (s / 2);\n            var y = (e.pageY - c.top) - (s / 2);\n    \n            // Apply styles to ripple\n            css(ripple, \n            {\n                width:  `${s}px`,\n                height: `${s}px`,\n                left:   `${x}px`,\n                top:    `${y}px`\n            });\n    \n            // Issue here is that if ripple is clicked multiple times in quick succession\n            // the original inline overflow and position styles are overwritten by the next\n            // click\n    \n            // Ensure parent hides overflow\n            css(wrapper, 'overflow', 'hidden !important');\n    \n            // Ensure position relative if needed\n            if (in_array(rendered_style(wrapper, 'position'), STATIC_POSITIONS))\n            {\n                css(wrapper, 'position', 'relative');\n            }\n    \n            // Release listener\n            document.addEventListener(releaseEvent, release);\n                \n            preapend(ripple, wrapper);\n        }\n    \n        // Load into FrontBx DOM core\n        FrontBx.dom().register('Ripple', extend(Component, Ripple));\n    \n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const [Component] = FrontBx.get('Component');\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [find, on, off, has_class, add_class, remove_class, closest, trigger_event, dom_element, map, is_object, extend] = FrontBx.import(['find','on','off','has_class','add_class','remove_class','closest','trigger_event','dom_element','map','is_object','extend']).from('_');\n    \n        /**\n         * Toggle active on tables\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Table = function()\n        { \n            this.super('.js-select-table > tbody > tr');\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Table.prototype.bind = function(node)\n        {            \n            on(node, 'click', this._eventHandler);\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Table.prototype.unbind = function(node)\n        {\n            off(node, 'click', this._eventHandler);\n        }\n    \n        /**\n         * Handle the click event\n         *\n         * @param {event|null} e JavaScript click event\n         * @access {private}\n         */\n        Table.prototype._eventHandler = function(e)\n        {\n            e = e || window.event;\n            \n            if (has_class(this, 'selected')) return;\n    \n            var table = closest(this, '.js-select-table');\n    \n            remove_class(find('tr.selected', table), 'selected');\n            \n            add_class(this, 'selected');\n    \n            trigger_event(table, 'table:selected', {item: this});\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Table.prototype.template = function(props)\n        {\n            let head = dom_element({tag: 'thead'}, null, dom_element({tag: 'tr'}, null, map(props.head, (i, cell) =>\n            {   \n                return is_object(cell) ? dom_element({tag: 'th', ...cell}) : dom_element({tag: 'th'}, null, cell);                    \n            })));\n    \n            let body = dom_element({tag: 'tbody'}, null, map(props.rows, (i, item) =>\n            {\n                return dom_element({tag: 'tr', class: `${props.selected && (props.selected === i) ? 'selected' : null}`}, null, map(item, (j, cell) =>\n                {\n                    return is_object(cell) ? dom_element({tag: 'th', ...cell}) : dom_element({tag: 'th'}, null, cell);\n                }));\n            }));\n    \n            return dom_element({tag: 'table', class: `table ${props.classes ? props.classes : ''} ${props.dense ? 'table-dense' : ''} ${ props.selectable ? `js-select-table` : '' }`}, null, [head, body]);\n        }\n    \n        // Load into FrontBx DOM core\n        FrontBx.dom().register('Table', extend(Component, Table));\n    \n    })();\n    (function()\n    {\n        /**\n         * Lazyload fallback\n         * \n         * @var {string}\n         */\n        var LAZY_FALLBACK_IMAGE = typeof LAZY_FALLBACK_IMAGE === 'undefined' ? '\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBmaWxsPSJ3aGl0ZSI+CiAgPHBhdGggZD0iTTAgNCBMMCAyOCBMMzIgMjggTDMyIDQgeiBNNCAyNCBMMTAgMTAgTDE1IDE4IEwxOCAxNCBMMjQgMjR6IE0yNSA3IEE0IDQgMCAwIDEgMjUgMTUgQTQgNCAwIDAgMSAyNSA3Ij48L3BhdGg+Cjwvc3ZnPg==\"' : LAZY_FALLBACK_IMAGE;\n    \n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const [Component] = FrontBx.get('Component');\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [is_undefined, map, dom_element, extend] = FrontBx.import(['is_undefined','map','dom_element','extend']).from('_');\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const AVAILABLE_OPTIONS =[ 'background', 'lazy', 'ratio', 'placeholder', 'src', 'grayscale'];\n    \n        /**\n         * Toggle active on lists\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Image = function()\n        { \n            this.super();\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Image.prototype.template = function(props)\n        {\n            let attrs        = map({...props}, (k, v) => !AVAILABLE_OPTIONS.includes(k) ? v : false );\n            let isBackground = props.background;\n            let isRatio      = !is_undefined(props.ratio);\n            let isLazy       = is_undefined(props.lazy) ? false : props.lazy;\n            let src          = isLazy ? (props.placeholder || LAZY_FALLBACK_IMAGE) : props.src;\n            let dataSrc      = isLazy ? props.src : false;\n            \n            if (!attrs.style) attrs.style = '';\n            if (!attrs.class) attrs.class = '';\n    \n            if (isLazy)\n            {\n                attrs.class  += ` lazyload js-lazyload ${props.grayscale ? 'grayscale' : ''}`;\n                attrs.dataSrc = dataSrc;\n            }\n    \n            // Background image\n            if (isBackground)\n            {\n                attrs.class += ' bg-image';\n                attrs.style += `;background-image: url(${src})`;\n                \n                if (isRatio) attrs.class += ` ratio-${props.ratio}`;\n    \n                return dom_element({...attrs, tag: 'div'});\n            }\n    \n            attrs.src = src;\n    \n            let image = dom_element({...attrs, src: src, dataSrc: dataSrc, tag: 'img'})\n    \n            // Ratio image\n            if (isRatio)\n            {\n                return dom_element({tag: 'div', class: `ratio-img ratio-${props.ratio}`}, null, image);\n            }\n    \n            return image;\n        }\n    \n        // Load into FrontBx DOM core\n        FrontBx.dom().register('Image', extend(Component, Image));\n        \n    })();\n    \n    // boot frontbx\n    /**\n     * Boot and initialize FrontBx core\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    (function()\n    {\n    \tFrontBx.boot();\n    \n    })();\n \t\n    const index_umd = FrontBx;\n\n \treturn index_umd;\n}));\n"],"mappings":"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","ignoreList":[]}