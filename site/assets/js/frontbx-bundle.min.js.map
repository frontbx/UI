{"version":3,"names":["root","factory","define","amd","exports","module","myModule","self","this","FBX_ROOT","process","global","window","Error","restArguments","_now","_delay","container","location","origin","protocol","hostname","port","CustomEvent","event","params","bubbles","cancelable","detail","evt","document","createEvent","initCustomEvent","func","startIndex","length","Math","max","arguments","rest","Array","index","call","args","apply","Date","now","getTime","wait","setTimeout","throttle","options","timeout","context","result","previous","later","leading","throttled","remaining","clearTimeout","trailing","cancel","debounce","immediate","debounced","callNow","EMPTY_OBJ_KEYS","Object","getOwnPropertyNames","getPrototypeOf","Inverse","_store","IMPORT_AS_REF","prototype","set","key","value","singleton","_normalizeKey","_storeObj","_setProto","classObj","invoke","get","has","k","delete","_proto","undefined","slice","storeObj","instance","invokable","_newInstance","funcn","import","names","_this","_import","_rets","_context","i","mixedVar","push","_is_func","bind","callback","bound","defineProperty","name","__isBound","__boundContext","__origional","unshift","_singletonFunc","invoked","function","_isInvokable","mixed_var","test","toString","constructor","proto","filter","x","includes","_isInvoked","constr","trim","startsWith","reference","isSingleton","replace","NULL_TAG","UNDEF_TAG","BOOL_TAG","STRING_TAG","NUMBER_TAG","FUNC_TAG","ARRAY_TAG","ARGS_TAG","NODELST_TAG","OBJECT_TAG","DATE_TAG","SET_TAG","MAP_TAG","REGEXP_TAG","SYMBOL_TAG","ARRAY_BUFFER_TAG","DATAVIEW_TAG","ARRAYISH_TAGS","TO_STR","TO_ARR","HTML_REGXP","SHORTHAND_PROPS","margin","outline","padding","background","border","font","mask","columns","cue","pause","animation","transition","flex","SHORTHAND_DEFAULTS","CSS_TRANSFORM_VALUES_COUNT","perspective","skewY","translateY","translateZ","scaleY","scaleZ","rotateX","rotateY","rotateZ","translateX","skewX","scaleX","rotate","skew","translate","scale","translate3d","scale3d","rotate3d","matrix","matrix3d","CSS_3D_TRANSFORM_DEFAULTS","CSS_3D_TRANSFORM_MAP_KEYS","y","z","CSS_RELATIVE_UNITS","em","ex","ch","rem","vw","vh","vmin","vmax","CSS_ABSOLUTE_UNITS","in","cm","mm","pt","pc","CSS_PIXELS_PER_INCH","px","CSS_PROP_TO_HYPHEN_CASES","CSS_PROP_TO_CAMEL_CASES","FORBIDDEN_OBJ_KEYS","ANIMATION_DEFAULT_OPTIONS","easing","duration","fps","ANIMATION_ALLOWED_OPTIONS","ANIMATION_FILTER_OPTIONS","keys","ANIMATING","POW","pow","SQRT","sqrt","SIN","sin","COS","cos","PI","C1","C2","c3","C4","C5","bounceOut","n1","d1","ANIMATION_EASING_FUNCTIONS","linear","ease","easeIn","easeOut","easeInOut","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInBack","easeOutBack","easeInOutBack","easeInElastic","easeOutElastic","easeInOutElastic","easeInBounce","easeOutBounce","easeInOutBounce","CSS_EASINGS","DOC_EVENTS","concat","indexOf","elem","pos","map","toLowerCase","BOOLEAN_ATTRS","PROP_ATTRIBUTES","_THIS","_","version","author","browser","_events","_guid","_guidgen","AnimateJS","DOMElement","keyframes","currentKeyframe","intervalDelay","floor","keyFrameCount","CSSProperty","property","isTransform","isScroll","isColor","to","clearAnimating","parseOptions","generateKeyframes","stopped","CSSprop","each","stop","splice","start","_complete","clearTransitions","loop","_applyKeyframe","shift","_failTimer","fail","keyframe","prop","scrollTo","css","complete","_pre_transition","parseScrollOptions","parseTransformOptions","parseColorOptions","parseDefaultOptions","startY","scrollY","startX","scrollX","endX","parseInt","split","endY","pop","distX","abs","distY","startValue","endValue","backAnimation","distance","CSSunits","startVal","is_undefined","from","rendered_style","endVal","prevStyle","inline_style","startUnit","css_value_unit","endUnit","css_to_px","css_unit_value","startValues","css_transform_props","endValues","baseTransforms","is_empty","join_obj","val","propAxis","valueStr","startValStr","sanitizeColor","color","replaceAll","rgb","match","forEach","item","is_equal","for","generateKeyframe","transformIndex","change","tween","mixColors","keyVal","roundNumber","prefix","suffix","color1RGB","color2RGB","blend","colorRGB","c1","mixedColor","y1","y2","round","transitions","css_transition_props","css_transition","n","dp","h","padEnd","type","time","__animate_js","AnimateCss","animatedProps","preAnimatedTransitions","stopValues","_callbackStart","_callbackComplete","_callbackFail","_callbackStep","preProcessStartEndValues","applyStartValues","applyTransitions","on","transitionEnd","_stepTimer","setInterval","applyEndValues","clearInterval","resotoreElement","destory","off","e","css_prop_to_hyphen_case","propertyName","shorthand","option","step","inlineStyle","styles","__animate_css","animate","animationSet","Animation","factoryOptions","FROM_FACTORY","__animation_factory","AnimationInstance","opts","animate_css","cssAnimation","optionSets","el","in_array","camelProp","css_prop_to_camel_case","body","style","isObjSet","is_object","toMerge","longest","longestI","array_has","console","error","__array_delete_recursive","object","__array_get_recursive","__array_set_recursive","nextKey","islast","lastObj","JSON","stringify","converted","assign","__array_key_segment","path","segments","segment","subSegments","j","array_delete","array_filter","arr","v","array_get","array_set","array_unique","is_array_last","needle","haystack","strict","last","obj","clbkVal","isArray","is_array","len","thisArg","foreach","count","ret","attr","is_string","__get_attribute","innerHTML","innerText","children","node","remove_from_dom","appendChild","str_replace","removeAttribute","className","css_to_object","is_function","isEmpty","isData","isAria","camelName","to_camel_case","hyphenName","camel_case_to_hyphen","isBoolean","setAttribute","dataset","lc_first","substring","getAttribute","retCamel","retAttr","attrs","attributes","attribute","nodeName","is_null","removeProperty","re","RegExp","rtrim","charAt","hyphenProp","css_to_longhand","values","hasOwnProperty","splits","dfault","longhand","css_to_shorthand","needsFilling","longhands","matched","needsDefault","suppliedVal","matcher","defaltVal","matchAll","rule","join","is_numeric","parseFloat","unit","psize","parentNode","documentElement","width","height","w","min","element","elementStyle","getPropertyValue","remove_style","__computed_style","getComputedStyle","currentStyle","transitionVal","transitionSplit","char","inBezier","block","all","returnAsString","__un_css_matrix","inline","emptys","inlineDisplay","isHidden","transforms","computedStyleMap","computedTransforms","sort","reverse","axisMap","transform","bsName","lastChar","defltVal","axisProp","css_to_3d_transform","transformsStr","valueCount","initialVal","name3d","getPropValue","add_class","_DOMElement","_className","classList","add","class_names","is_htmlElement","closest","itype","isElement","isClass","isType","traverse_up","parent","pType","has_class","closest_class","classNames","coordinates","box","getBoundingClientRect","docEl","scrollTop","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","borderL","borderR","borderT","borderB","top","left","right","bottom","first_children","find_all","form_inputs","form","form_values","inputs","input","input_value","endsWith","contains","in_viewport","rect","innerHeight","clientHeight","innerWidth","clientWidth","inner_HTML","content","append","clear_event_listeners","trigger_event","multiple","files","selectedIndex","dom_element","appendTo","innerHTMLOrChildren","_recursive_dom_element","tag","createElement","child","next","traverse_next","sibling","sType","next_class","preapend","wrapper","insertBefore","firstChild","traverse_prev","previous_class","remove_class","remove","in_dom","removeChild","scroll_pos","doc","find","selector","includeContextEl","fchild","multi","querySelector","getElementById","hasParent","deleteParent","querySelectorAll","toggle_class","eventName","data","initEvent","dispatchEvent","fireEvent","state","events","base","subevent","response","tagName","traverse_down","includeText","childNodes","nodeType","allNodes","nextSibling","previousSibling","borderBox","padL","padR","padT","padB","nth_child","sibling_index","handler","baseArgs","eventsArr","argsNormal","__normaliseListenerArgs","__addListener","pushFirst","bool","guid","hasHandler","handlerObj","addEventListener","__event_dispatcher","callbacks","handled","preventDefault","stopPropagation","__remove_element_listeners","__remove_element_type_listeners","handlers","_handler","__remove_listener","eventType","removeEventListener","onlyChildren","types","collect_garbage","cleared","event_listeners","summary","details","is_retina","devicePixelRatio","matchMedia","matches","parse_url","str","url","URL","search","queries","qret","query","decodeURI","url_query","results","decodeURIComponent","normalize_url","paths","href","pathname","backs","clone_deep","__clone_var","var_type","__clone_obj","__clone_array","__clone_func","__clone_RegExp","__clone_symbol","__clone_date","__clone_set","__clone_map","__clone_array_buffer","__clone_data_view","__clone_buffer","__clone_typed_array","object_props","protos","prototypes","curr","clone","constrctor","setPrototypeOf","statics","is_constructable","method","super","extend","d","r","setTime","symbol","Symbol","valueOf","regexp","source","exec","lastIndex","m","Map","s","Set","arrayBuffer","byteLength","Uint8Array","dataView","buffer","byteOffset","allocUnsafe","copy","typedArray","extension","proxySuper","superFn","fn","tmp","Class","protoProps","_super","create","enumerable","writable","configurable","extend_obj","baseProto","extendProto","extProto","newProto","seperator","glue","recursive","trimLast","ltrim","deep","flatten_obj","json_decode","parse","json_encode","charlist","trimStart","makeid","text","possible","random","trimEnd","chars","$1","toUpperCase","uc_first","string","ucwords","is_regexp","is_bool","is_number","Number","callable_name","is_callable","size","id","is_args","is_buffer","is_class","classname","isES6","is_constructed","is_dataview","is_date","isNaN","a","b","__is_equal_func","__is_equal_traverseable","__is_equal_protos","aProtos","bProtos","is_json","is_map","is_node_type","is_nodelist","is_set","is_symbol","destruct","EXCLUDED_SERVICES","Application","version_major","version_minor","version_patch","services","boot","dom","Dom","frontbx","_isReady","components","_dispatchReady","register","component","_bindComponent","_dispatchComponent","isRefresh","_hasMethod","construct","_unbindComponent","refresh","globalRefresh","Component","defaultProps","_selector","_DOMElements","nodes","unbind","props","render","LAZY_FALLBACK_IMAGE","Queue","concurrency","running","taskQueue","task","_runTask","_enqueueTask","LazyLoad","_queue","_getSrc","_canLoad","_loadImage","_isImage","isImage","src","_markLoaded","_getLoadFunc","_fallback","queue","_image","Image","onload","backgroundImage","onerror","_markFailed","lazy","initial","current","NProgress","Settings","settings","minimum","positionUsing","speed","trickle","trickleSpeed","showSpinner","barSelector","spinnerSelector","template","isDOM","HTMLElement","clamp","toBarPerc","configure","status","started","isStarted","progress","bar","offsetWidth","getPositioningCSS","barCSS","barPositionCSS","opacity","work","done","force","inc","amount","promise","$promise","always","fromStart","isRendered","addClass","spinner","perc","removeElement","removeClass","bodyStyle","vendorPrefix","pending","cssPrefixes","cssProps","applyCss","letter","vendorName","capName","getVendorProp","getStyleProp","properties","hasClass","oldList","newList","NAMED_CALLBACKS","_args","AJAX_QUEUE","Ajax","_settings","async","headers","Accepts","Pragma","_success","_error","_abort","_progress","_xhr","post","success","abort","_setResponseHandlers","_call","head","put","upload","_headers","then","xhr","readyState","onreadystatechange","_makeCallback","responseText","XMLHttpRequest","ActiveXObject","requestURL","mthod","open","_sendHeaders","_ready","send","setRequestHeader","argmap","arg","funcname","FormData","_params","successfull","encodeURIComponent","POP_LISTENING","DEFAULT_OPTIONS","nocache","once","scrolltop","pushstate","urlhash","STATIC_POSITIONS","CURRENT_REQUESTS","TRANSITION_TIMERS","Pjax","completed","_popStateHandler","_normalizeOptions","_optionsElement","request","ajax","_preAbort","_saveState","_sendAjax","_onsuccess","_onerror","_onabort","_oncomplete","t","_insertResponse","HTML","_parseResponse","_updateMeta","_animateSwap","_targetElem","_responseElem","_appendScripts","responseDoc","_parseHTML","_responseTitle","_findDomTitle","_responseDesc","_findDomDesc","currScripts","_getScripts","newScripts","_newScripts","_scriptsDiff","_responseDoc","_removeScripts","script","_findElems","targetEl","responseEl","tmpResponseEl","scripts","_appendScript","_contentComplete","scriptObj","isLast","rel","title","getElementsByTagName","desc","html","DOMParser","parseFromString","cScript","descrMeta","swapTimer","_abortAnimations","_pushState","_elem","target","padW","padH","position","InlStyles","overflow","newStyles","tmpStyles","oldContnet","newContent","tempWrapper","class","offsetHeight","completedTransition","scroll","history","pushState","replaceState","_for","lines","variant","aspectratio","CLASS_VARIANTS","WRAPPER_VARIANTS","Skeleton","_nodes","_isMulti","optionSet","_build","load","cb","isHTML","isFragment","div","replaceChild","fade_out","destroy","madeCallback","skeleton","variants","classes","skeletons","cloneNode","_skeleton","_setDimensions","skel","aspectRatio","isLines","TinyGesture","touch1","touch2","touchStartX","touchStartY","touchEndX","touchEndY","touchMove1","touchMove2","touchMoveX","touchMoveY","velocityX","velocityY","longPressTimer","doubleTapTimer","doubleTapWaiting","thresholdX","thresholdY","disregardVelocityThresholdX","disregardVelocityThresholdY","swipingHorizontal","swipingVertical","swipingDirection","swipedHorizontal","swipedVertical","originalDistance","newDistance","originalAngle","newAngle","rotation","panstart","panmove","panend","swipeleft","swiperight","swipeup","swipedown","tap","doubletap","longpress","pinch","pinchend","rotateend","_onTouchStart","onTouchStart","_onTouchMove","onTouchMove","_onTouchEnd","onTouchEnd","defaults","passiveIfSupported","mouseSupport","_a","_b","idx","fire","_c","_d","_e","_f","_g","_h","_j","_k","_l","_m","_o","_p","_q","_r","_s","_t","_u","_v","_w","_x","_y","_z","_0","_1","didTouch1","changedTouches","touch","identifier","screenX","screenY","atan2","threshold","disregardVelocityThreshold","longPressTime","absTouchMoveX","absTouchMoveY","pressThreshold","touches","absX","absY","absDistance","diagonal","diagonalSwipes","tan","diagonalLimit","velocityThreshold","doubleTapTime","_self","passive","err","overlay","persistentOverlay","swipeable","direction","peekable","persistent","responsive","pushbody","animationTime","fromHTML","callbackBuilt","callbackRender","callbackClose","callbackOpen","callbackValidate","PUSH_ARROWS","SWIPE_DIRECTIONS","WRAPPED_BODY","WRAPPED_DRAWERS","Drawer","_options","_state","_animating","_mounted","_animateOnMount","animateOnMount","_hasOverlay","_resizeThrottle","resize","_mount","_bindListeners","opened","closed","close","_gestures","_unwrapBody","_containerWrap","_overlay","_drawer","_animteDrawer","_animateOverlay","_animateBody","_toggleEnd","_drawerSize","_peekableSize","tofrom","_bodyWrap","drawer","_dialog","header","closer","_closeValidate","peekableSize","drawerSize","_wrapBody","classN","directions","confirmBtn","confirmClass","callbackConfirm","Frontdrop","_buildFD","footer","custom","closeAnywhere","cancelBtn","cancelClass","Modal","_modal","blur","focus","_cancelBtn","_confirmBtn","role","tabindex","_closeClick","clicked","_Modal","closebtn","btn","stacked","dense","icon","btnVariant","callbackDismiss","Notification","_buildNotificationContainer","_render","domElement","_notification","_timeout","wrappper","_DOMElementWrapper","_animateOutClass","_animateInClass","_wrapperClass","_animateIn","_animateOut","notif","ariaLabel","_btn","_removeValidate","updateURL","nodeOrId","isHashable","fixednav","contents","_map","MASK_MAP","creditcard","money","numeric","numericdecimal","alphanumeric","alphaspace","alphadash","alphanumericdash","_format_464","cc","_format_465","_format_4444","_CARD_TYPES","pattern","format","maxlength","InputMasker","maskRegexp","_getMaskRegexp","_buildFormatRegexp","maskName","_bind","isCC","_handle","raw","seperators","_formatFilter","mapped","_formatCC","ct","oldval","newVal","selectionStart","before_caret","setSelectionRange","VALIDATORS","specialchars","email","password","minlength","valid","alpha","alphadot","alphadashdot","alphadashes","alphadashesdot","alphanumericdot","alphanumericdashdot","alphanumericdashesdot","list","ccNum","String","bit","sum","FormValidator","_formEl","_inputs","_ruleSets","_formObj","_valid","_buildRuleSets","validate","_unListen","_clearForm","_validateRuleSets","ruleset","_devalidateField","failClass","_listen","_validateField","showResult","required","validation","_validationFunc","_validateRuleSet","_liveValidate","fieldWrap","CURR_RENDER","BINDINGS_CACHE","RESERVED_WORDS","Fragment","lexer","Tokenizer","Parser","sandbox","jsx","SPACE","ALPHA","VOID_ELS","Lexer","emit","currentTag","braceDepth","attrValStack","scan","peek","peekback","peekn","chunk","buff","consume","substr","whitespace","bufferjsx","validator","tag_open","tag_close_self","tag_close_void","tag_close","attr_key","attr_val","end","attrValEnd","attr_val_interpolated","attr_val_jsx","attr_jsx_spread","bogus_tag","markup_declaration_open","doc_type","buf","doc_type_attr","comment_start","conditional_comment_open","conditional_comment","cdata_start","jsx_block","blockpeth","emitter","htmlstr","stack","currAttr","currtoken","token","readtoken","pushNode","pushValue","pushChild","closeNode","pushAttr","pushAttrSpread","spreadAttribute","pushAttrVal","pushJsx","openJsx","closeJsx","prev","CACHE_STR","sanitizeQuotes","jsxStr","useCache","funcString","genChildren","genTag","genProps","spread","genPropValue","BUILT_INS_STR","DISSALOWEDES","require","Window","eval","Function","IDENTIFIER","BUILT_INS","COPIES","PROTO_KEYS","SANDBOX_NAME","acceptableVariable","bindings","genBindings","g","realKeys","diff","unalienate","_normaliseChildren","_flatten","sub","_normaliseChild","createTextNode","createComment","_comoponentRenderFn","rendered","_createComponent","GLOBAL_BINDINGS","_jsx","output","accessibility","autoPlay","initialIndex","controls","dots","wrap","groupSlides","pauseOnHover","draggable","friction","_Slider","DOMElementWrapper","_playing","_translated","_moveIndexToMiddle","play","unpause","_dotWrap","_righBtn","_leftBtn","slides","_slides","slide","animationOrClickEvent","_dragging","_index","_slidesIndexs","_toSlideDirect","_slideWidthWGap","_updateIndex","_updateDots","preDistance","_offset","_moved","_DOMElementViewport","toSlide","slideNum","fromClick","delta","_moveDelta","tmpOffset","_middleIndex","_bufferSize","_viewportWidth","_slideWidth","clones","_bufferNodes","_slidesCount","_isFullWidth","_gapSize","percentagWidth","_visibleSlides","_dragBoundryL","_dragBoundryR","hidden","_onVisibilityPlay","_onVisibilityChange","_tick","_playTimer","ceil","_buildControls","_dots","_buildDots","_bindGestures","_dragSlide","moved","_dragX","_dragCloneSlides","_draggingbuffer","_bufferDragClones","viewport","cloneR","_dragRIndex","cloneL","_dragLIndex","_dragClones","_clearDragClones","_restingDragPos","wrapping","slideIndex","slideStarts","_dragMoved","_onDragEnd","_dragEndAnim","_resetDragVars","_dragStartPointX","_prevDrag","gestures","pageX","moveVectorX","dot","dataIndex","_dotClick","backN","forwdN","SLIDERS","Slider","slider","Inputs","_onLabelClick","_eventHandler","_setClasses","Range","wrapperEl","inputEl","labeled","indicators","_unbind","update","updateBackground","updateIndicators","digitWraps","digitEls","ul","fill","label","fChild","digitWrapper","visible","percent","RANGES","RangeSlider","range","inputProps","dataPrefix","dataSuffix","PopHandler","popElement","_buildPopEl","hide","show","tarcoordinates","trigger","HOVER_TIMER","POP_HANDLERS","DATA_ATTRIBUTES","Popovers","_windowClick","_windowClickHandler","popHandler","_clickHandler","_windowResize","_hoverEnter","display","_hoverLeave","_killPop","_hoverPop","_trigger","_removeAll","exception","chip","removeable","posticon","preicon","icon1","removeBtn","icon2","ChipInputs","_wrapper","_input","_removeChip","_onKeyUp","_preventSubmit","_removeBtns","_key","code","keyCode","charCode","_removeLastChip","_value","_getChipsValues","addChip","_chips","_icon","Chip","inputName","chipClass","_result","Menu","menu","activeClass","selected","isCheck","selectedCheck","check","ellipsis","selectable","items","ChipSuggestions","inputTarget","_text","ChoiceChips","FilterChips","modals","modal","_toggle","drawers","frontdrop","Backdrop","backdrop","_show","BOOL_ATTRS","REQUESTED","PjaxLinks","_requestHandler","Collapse","collapseTarget","collapseSpeed","collapseEasing","closing","withOpacity","List","Dropdown","checkable","caret","anchorText","anchorTag","boundWindow","_selectHandler","button","active","_hideDrop","_showDrop","drop","anchorClass","dataValue","TabNav","nav","panel","panels","MASK_HANDLERS","InputMasks","MessageClosers","msg","toRemove","pageLoaded","WayPoints","_invokePageLoad","waypointTarget","waypointSpeed","waypointEasing","updateUrl","SmoothScroll","hash","INLINESTYLES","RIPPLING","SELECTORS","Ripple","CSSoverflow","CSSposition","_startRipple","_restore","disabled","releaseEvent","performance","ripple","release","ev","releaseTimer","restoreTimer","c","pageY","Table","row","table","cell","rows","AVAILABLE_OPTIONS","isBackground","isRatio","ratio","isLazy","placeholder","dataSrc","grayscale","image"],"sources":["dist/js/frontbx-bundle.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Frontbx UMD\n * \n * @version  {0.0.4}\n * @see      {https://github.com/frontbx/ui}\n * @licensed {https://github.com/frontbx/ui/blob/main/LICENSE}\n * --------------------------------------------------------------------------\n */\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD\n    define([], factory);\n  } else if (typeof exports === 'object' && typeof module === 'object') {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // Global variable\n    root.myModule = factory();\n  }\n})(typeof self !== 'undefined' ? self : this, function () {\n  \n    /**\n     * --------------------------------------------------------------------------\n     * Frontbx standalone\n     * \n     * @version  {0.0.4}\n     * @see      {https://github.com/frontbx/ui}\n     * @licensed {https://github.com/frontbx/ui/blob/main/LICENSE}\n     * --------------------------------------------------------------------------\n     */\n    // Core\n    // polyfills\n    // polyfills\n    const FBX_ROOT = typeof process === 'object' && typeof global === 'object' ? global : window;\n    \n    if (typeof window === 'undefined') throw new Error('Frontbx requires a window object to run.');\n    /**\n     * A fix to allow you to use window.location.origin consistently\n     *\n     * @see {https://tosbourn.com/a-fix-for-window-location-origin-in-internet-explorer/}\n     */\n    if (!FBX_ROOT.location.origin)\n    {\n        FBX_ROOT.location.origin = FBX_ROOT.location.protocol + \"//\" + FBX_ROOT.location.hostname + (FBX_ROOT.location.port ? ':' + FBX_ROOT.location.port : '');\n    }\n    /*\n     * Custom events \n     *\n     * @see {https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent#Polyfill}\n     */\n    (function()\n    {\n        if (typeof window.CustomEvent === \"function\") return false;\n    \n        function CustomEvent(event, params)\n        {\n            params = params ||\n            {\n                bubbles: false,\n                cancelable: false,\n                detail: null\n            };\n            var evt = document.createEvent('CustomEvent');\n            evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n            return evt;\n        }\n    \n        window.CustomEvent = CustomEvent;\n    \n    })();\n    /**\n     * debounce and throttle methods\n     * \n     * @see {Underscore.js} 1.9.1\n     */\n    (function()\n    {\n    \n        // Some functions take a variable number of arguments, or a few expected\n        // arguments at the beginning and then a variable number of values to operate\n        // on. This helper accumulates all remaining arguments past the function’s\n        // argument length (or an explicit `startIndex`), into an array that becomes\n        // the last argument. Similar to ES6’s \"rest parameter\".\n        var restArguments = function(func, startIndex)\n        {\n            startIndex = startIndex == null ? func.length - 1 : +startIndex;\n            return function()\n            {\n                var length = Math.max(arguments.length - startIndex, 0),\n                    rest = Array(length),\n                    index = 0;\n                for (; index < length; index++)\n                {\n                    rest[index] = arguments[index + startIndex];\n                }\n                switch (startIndex)\n                {\n                    case 0:\n                        return func.call(this, rest);\n                    case 1:\n                        return func.call(this, arguments[0], rest);\n                    case 2:\n                        return func.call(this, arguments[0], arguments[1], rest);\n                }\n                var args = Array(startIndex + 1);\n                for (index = 0; index < startIndex; index++)\n                {\n                    args[index] = arguments[index];\n                }\n                args[startIndex] = rest;\n                return func.apply(this, args);\n            };\n        };\n    \n        // A (possibly faster) way to get the current timestamp as an integer.\n        var _now = Date.now || function()\n        {\n            return new Date().getTime();\n        };\n    \n    \n        // Delays a function for the given number of milliseconds, and then calls\n        // it with the arguments supplied.\n        var _delay = restArguments(function(func, wait, args)\n        {\n            return setTimeout(function()\n            {\n                return func.apply(null, args);\n            }, wait);\n        });\n    \n    \n        // Returns a function, that, when invoked, will only be triggered at most once\n        // during a given window of time. Normally, the throttled function will run\n        // as much as it can, without ever going more than once per `wait` duration;\n        // but if you'd like to disable the execution on the leading edge, pass\n        // `{leading: false}`. To disable execution on the trailing edge, ditto.\n        var _throttle = function(func, wait, options)\n        {\n            var timeout, context, args, result;\n            var previous = 0;\n            if (!options) options = {};\n    \n            var later = function()\n            {\n                previous = options.leading === false ? 0 : _now();\n                timeout = null;\n                result = func.apply(context, args);\n                if (!timeout) context = args = null;\n            };\n    \n            var throttled = function()\n            {\n                var now = _now();\n                if (!previous && options.leading === false) previous = now;\n                var remaining = wait - (now - previous);\n                context = this;\n                args = arguments;\n                if (remaining <= 0 || remaining > wait)\n                {\n                    if (timeout)\n                    {\n                        clearTimeout(timeout);\n                        timeout = null;\n                    }\n                    previous = now;\n                    result = func.apply(context, args);\n                    if (!timeout) context = args = null;\n                }\n                else if (!timeout && options.trailing !== false)\n                {\n                    timeout = setTimeout(later, remaining);\n                }\n                return result;\n            };\n    \n            throttled.cancel = function()\n            {\n                clearTimeout(timeout);\n                previous = 0;\n                timeout = context = args = null;\n            };\n    \n            return throttled;\n        };\n    \n        // Returns a function, that, as long as it continues to be invoked, will not\n        // be triggered. The function will be called after it stops being called for\n        // N milliseconds. If `immediate` is passed, trigger the function on the\n        // leading edge, instead of the trailing.\n        var _debounce = function(func, wait, immediate)\n        {\n            var timeout, result;\n    \n            var later = function(context, args)\n            {\n                timeout = null;\n                if (args) result = func.apply(context, args);\n            };\n    \n            var debounced = restArguments(function(args)\n            {\n                if (timeout) clearTimeout(timeout);\n                if (immediate)\n                {\n                    var callNow = !timeout;\n                    timeout = setTimeout(later, wait);\n                    if (callNow) result = func.apply(this, args);\n                }\n                else\n                {\n                    timeout = _delay(later, wait, this, args);\n                }\n    \n                return result;\n            });\n    \n            debounced.cancel = function()\n            {\n                clearTimeout(timeout);\n                timeout = null;\n            };\n    \n            return debounced;\n        };\n    \n        FBX_ROOT.throttle = _throttle;\n    \n        FBX_ROOT.debounce = _debounce;\n    \n    }());\n    \n    \n    // container\n    var container;\n    \n    (function()\n    {\n        const EMPTY_OBJ_KEYS = Object.getOwnPropertyNames(Object.getPrototypeOf({}));\n    \n        /**\n         * JS IoC Container\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Inverse = function()\n        {\n            this._store = {};\n    \n            this.IMPORT_AS_REF = 100;\n        }\n    \n        /**\n         * Set data key to value\n         *\n         * @access {public}\n         * @param {string} key   The data key\n         * @param {mixed}  value The data value\n         */\n        Inverse.prototype.set = function(key, value, singleton)\n        {\n            key = this._normalizeKey(key);\n    \n            value = this._storeObj(value, singleton);\n    \n            this._store[key] = value;\n    \n            this._setProto(key);\n        }\n    \n        /**\n         * Stores a globally unique singleton\n         *\n         * @access {public}\n         * @param  {string} key      The value or object name\n         * @param  {object} classObj The closure that defines the object\n         * @return {this}\n         */\n        Inverse.prototype.singleton = function(key, classObj, invoke)\n        {\n            invoke = typeof invoke === 'undefined' ? false : invoke;\n    \n            this.set(key, classObj, true);\n    \n            if (invoke)\n            {\n                return this.get(key);\n            }\n        }\n    \n        /**\n         * Does this set contain a key?\n         *\n         * @access {public}\n         * @param  {string}  key The data key\n         * @return {boolean}\n         */\n        Inverse.prototype.has = function(key)\n        {\n            key = this._normalizeKey(key);\n    \n            for (var k in this._store)\n            {\n                if (k === key)\n                {\n                    return true;\n                }\n            }\n    \n            return false;\n        }\n    \n        /**\n         * Remove a key/value\n         *\n         * @access {public}\n         * @param {string} key   The data key\n         */\n        Inverse.prototype.delete = function(key)\n        {\n            key = this._normalizeKey(key);\n    \n            delete this._store[key];\n    \n            var _proto = Object.getPrototypeOf(this);\n    \n            if (typeof _proto[key] !== 'undefined')\n            {\n                _proto[key] = undefined;\n            }\n        }\n    \n        /**\n         * Get data value with key\n         *\n         * @access {public}\n         * @param  {string} key The data key\n         * @param  {mixed}  ... Any additional parameters to pass to the constructor (optional) (default null)\n         * @return {mixed}      The data value\n         */\n        Inverse.prototype.get = function(key)\n        {\n            key = this._normalizeKey(key);\n    \n            let args = Array.prototype.slice.call(arguments).slice(1);\n    \n            let storeObj = this._store[key];\n    \n            if (storeObj)\n            {\n                if (args[0] && args[0] === this.IMPORT_AS_REF) return storeObj.value;\n    \n                // Singletons\n                if (storeObj.singleton)\n                {\n                    if (!storeObj.instance)\n                    {\n                        return storeObj.singleton.apply(this, [key, ...args]);\n                    }\n    \n                    return storeObj.instance;\n                }\n                // Constructorables\n                if (storeObj.invokable)\n                {\n                    return this._newInstance(storeObj.value, args);\n                }\n                // Functions\n                if (storeObj.funcn)\n                {\n                    return storeObj.value.apply(this, args);\n                }\n                // Intances and all other var types\n                return storeObj.value;\n            }\n        }\n    \n        /**\n         * Get data value with key\n         *\n         * @access {public}\n         * @param  {string} key The data key\n         * @param  {mixed}  ... Any additional parameters to pass to the constructor (optional) (default null)\n         * @return {mixed}      The data value\n         */\n        Inverse.prototype.import = function(names)\n        {\n            const _this   = this;\n            const _import = {};\n    \n            _import.from = function(module)\n            {\n                const _rets = [];\n    \n                const _context = _this.get(module);\n    \n                for (var i = 0; i < names.length; i++)\n                {\n                    const mixedVar = _context[names[i]];\n    \n                    _rets.push(_this._is_func(mixedVar) ? _this.bind(_context[names[i]], _context) : mixedVar);\n    \n                }\n    \n                return _rets;\n            };\n    \n            return _import;\n        }\n    \n        Inverse.prototype.bind = function(callback, context)\n        {\n            context = typeof context === 'undefined' ? window : context;\n    \n            const bound = function()\n            {\n                return callback.apply(context, arguments);\n            }\n    \n            Object.defineProperty(bound, 'name', { value: callback.name });\n    \n            bound.__isBound      = true;\n            bound.__boundContext = context;\n            bound.__origional    = callback;\n    \n            return bound;\n        }\n    \n        /**\n         * Sets the key as a prototype method\n         *\n         * @access {public}\n         * @param  {string} key   The data key\n         * @return {mixed}\n         */\n        Inverse.prototype._setProto = function(key)\n        {\n            var _this = this;\n    \n            var _proto = Object.getPrototypeOf(this);\n    \n            _proto[key] = function()\n            {\n                var args = Array.prototype.slice.call(arguments);\n    \n                args.unshift(key);\n    \n                return _this.get.apply(_this, args);\n            };\n        }\n    \n        /**\n         * Stores a globally unique singleton\n         *\n         * @access {public}\n         * @param  {string} key      The value or object name\n         * @param  {object} classObj The closure that defines the object\n         * @return {this}\n         */\n        Inverse.prototype._singletonFunc = function(key)\n        {\n            let storeObj = this._store[key];\n            let instance = storeObj.invoked ? storeObj.instance : null;\n            let args     = Array.prototype.slice.call(arguments).slice(1);\n    \n            if (!instance)\n            {\n                instance           = this._newInstance(storeObj.value, args);\n                storeObj.function  = false;\n                storeObj.invokable = false;\n                storeObj.invoked   = true;\n                storeObj.value     = null;\n                storeObj.instance  = instance;\n                storeObj.singleton = true;\n            }\n    \n            return instance;\n        }\n    \n        Inverse.prototype._isInvokable = function(mixed_var)\n        {\n            // Not a function\n            if (typeof mixed_var !== 'function' || mixed_var === null)\n            {\n                return false;\n            }\n    \n            // Strict ES6 class\n            if (/^\\s*class\\s+\\w+/.test(mixed_var.toString()))\n            {\n                return true;\n            }\n    \n            // Native arrow functions\n            if (!mixed_var.prototype || !mixed_var.prototype.constructor)\n            {\n                return false;\n            }\n    \n            // Prototype\n            let proto = mixed_var.prototype || Object.getPrototypeOf(mixed_var);\n    \n            let protokeys = Object.getOwnPropertyNames(proto);\n    \n            if (protokeys.filter(x => !EMPTY_OBJ_KEYS.includes(x)).length === 0) return false;\n    \n            return true;\n        }\n    \n        /**\n         * Checks if a class object has been invoked\n         *\n         * @access {private}\n         * @param  {mixed} mixedVar The object instance or reference\n         * @return {bool}\n         */\n        Inverse.prototype._isInvoked = function(mixedVar)\n        {\n            if (typeof mixedVar === 'object' && mixedVar.constructor && typeof mixedVar.constructor === 'function')\n            {\n                var constr = mixedVar.constructor.toString().trim();\n                \n                return constr.startsWith('function (') || constr.startsWith('function(') || constr.startsWith('function Object(') || constr.startsWith('class ') ;\n            }\n    \n            return false;\n        }\n    \n        /**\n         * Invokes and returns a new class instance\n         *\n         * @access {private}\n         * @param  {mixed} classObj The object instance or reference\n         * @param  {array} args     Arguements to pass to class constructor (optional) (default null)\n         * @return {object}\n         */\n        Inverse.prototype._newInstance = function(reference, args)\n        {\n            return new reference(...args);\n        }\n    \n        /**\n         * Invokes and returns a new class instance\n         *\n         * @access {private}\n         * @param  {mixed} classObj The object instance or reference\n         * @param  {array} args     Arguements to pass to class constructor (optional) (default null)\n         * @return {object}\n         */\n        Inverse.prototype._storeObj = function(mixedVar, isSingleton)\n        {\n            isSingleton = typeof isSingleton === 'undefined' ? false : isSingleton;\n    \n            let value       = mixedVar;\n            let invokable   = this._isInvokable(mixedVar);\n            let invoked     = this._isInvoked(mixedVar);\n            let instance    = invoked && isSingleton ? mixedVar : null;\n            let funcn       = this._is_func(mixedVar) && !invokable && !invoked && !isSingleton;\n            let singleton   = isSingleton ? this._singletonFunc : false;\n    \n            return { funcn, invokable, invoked, value, instance, singleton };\n        }\n    \n        /**\n         * Normalizes key for prototypes\n         *\n         * @access {private}\n         * @param  {string} key Key to normalize\n         * @return {string}\n         */\n        Inverse.prototype._normalizeKey = function(key)\n        {\n            return key.replace(/[^\\w]+/g, '');\n        }\n    \n        Inverse.prototype._is_func = function(mixedVar)\n        {\n            return Object.prototype.toString.call(mixedVar) === '[object Function]';\n        }\n    \n        /**\n         * Loads container into global namespace as \"frontbx\"\n         *\n         */\n        container = new Inverse;\n        \n    })();\n    \n    // Utils\n    // Standard\n    const NULL_TAG = '[object Null]';\n    const UNDEF_TAG = '[object Undefined]';\n    const BOOL_TAG = '[object Boolean]';\n    const STRING_TAG = '[object String]';\n    const NUMBER_TAG = '[object Number]';\n    const FUNC_TAG = '[object Function]';\n    const ARRAY_TAG = '[object Array]';\n    const ARGS_TAG = '[object Arguments]';\n    const NODELST_TAG = '[object NodeList]';\n    const OBJECT_TAG = '[object Object]';\n    const DATE_TAG = '[object Date]';\n    const NODECLT_TAG = '[object HTMLCollection]';\n    \n    // Unusual\n    const SET_TAG = '[object Set]';\n    const MAP_TAG = '[object Map]';\n    const REGEXP_TAG = '[object RegExp]';\n    const SYMBOL_TAG = '[object Symbol]';\n    const CSSDEC_TAG = '[object CSSStyleDeclaration]';\n    \n    // Array buffer\n    const ARRAY_BUFFER_TAG = '[object ArrayBuffer]';\n    const DATAVIEW_TAG = '[object DataView]';\n    const FLOAT32_TAG = '[object Float32Array]';\n    const FLOAT64_TAG = '[object Float64Array]';\n    const INT8_TAG = '[object Int8Array]';\n    const INT16_TAG = '[object Int16Array]';\n    const INT32_TAG = '[object Int32Array]';\n    const UINT8_TAG = '[object Uint8Array]';\n    const UINT8CLAMPED_TAG = '[object Uint8ClampedArray]';\n    const UINT16_TAG = '[object Uint16Array]';\n    const UINT32_TAG = '[object Uint32Array]';\n    \n    // Non-cloneable\n    const ERROR_TAG = '[object Error]';\n    const WEAKMAP_TAG = '[object WeakMap]';\n    \n    // Arrayish _tags\n    const ARRAYISH_TAGS = [ARRAY_TAG, ARGS_TAG, NODELST_TAG, NODECLT_TAG];\n    \n    // Object.prototype.toString\n    const TO_STR = Object.prototype.toString;\n    \n    // Array.prototype.slice\n    const TO_ARR = Array.prototype.slice;\n    \n    // Regex for HTMLElement types\n    const HTML_REGXP = /^\\[object HTML\\w*Element\\]$/;\n    /**\n     * List of shorthand properties and their longhand equivalents\n     *\n     * @var {object}\n     */\n    const SHORTHAND_PROPS =\n    {\n        // CSS 2.1: http://www.w3.org/TR/CSS2/propidx.html\n        'list-style': ['-type', '-position', '-image'],\n        'margin': ['-top', '-right', '-bottom', '-left'],\n        'outline': ['-width', '-style', '-color'],\n        'padding': ['-top', '-right', '-bottom', '-left'],\n    \n        // CSS Backgrounds and Borders Module Level 3: http://www.w3.org/TR/css3-background/\n        'background': ['-image', '-position', '-size', '-repeat', '-origin', '-clip', '-attachment', '-color'],\n        'border': ['-width', '-style', '-color'],\n        'border-color': ['border-top-color', 'border-right-color', 'border-bottom-color', 'border-left-color'],\n        'border-style': ['border-top-style', 'border-right-style', 'border-bottom-style', 'border-left-style'],\n        'border-width': ['border-top-width', 'border-right-width', 'border-bottom-width', 'border-left-width'],\n        'border-top': ['-width', '-style', '-color'],\n        'border-right': ['-width', '-style', '-color'],\n        'border-bottom': ['-width', '-style', '-color'],\n        'border-left': ['-width', '-style', '-color'],\n        'border-radius': ['border-top-left-radius', 'border-top-right-radius', 'border-bottom-right-radius', 'border-bottom-left-radius'],\n        'border-image': ['-source', '-slice', '-width', '-outset', '-repeat'],\n    \n        // CSS Fonts Module Level 3: http://www.w3.org/TR/css3-fonts/\n        'font': ['-style', '-variant', '-weight', '-stretch', '-size', 'line-height', '-family'],\n        'font-variant': ['-ligatures', '-alternates', '-caps', '-numeric', '-east-asian'],\n    \n        // CSS Masking Module Level 1: http://www.w3.org/TR/css-masking/\n        'mask': ['-image', '-mode', '-position', '-size', '-repeat', '-origin', '-clip'],\n        'mask-border': ['-source', '-slice', '-width', '-outset', '-repeat', '-mode'],\n    \n        // CSS Multi-column Layout Module: http://www.w3.org/TR/css3-multicol/\n        'columns': ['column-width', 'column-count'],\n        'column-rule': ['-width', '-style', '-color'],\n    \n        // CSS Speech Module: http://www.w3.org/TR/css3-speech/\n        'cue': ['-before', '-after'],\n        'pause': ['-before', '-after'],\n        'rest': ['-before', '-after'],\n    \n        // CSS Text Decoration Module Level 3: http://www.w3.org/TR/css-text-decor-3/\n        'text-decoration': ['-line', '-style', '-color'],\n        'text-emphasis': ['-style', '-color'],\n    \n        // CSS Animations (WD): http://www.w3.org/TR/css3-animations\n        'animation': ['-name', '-duration', '-timing-function', '-delay', '-iteration-count', '-direction', '-fill-mode', '-play-state'],\n    \n        // CSS Transitions (WD): http://www.w3.org/TR/css3-transitions/\n        'transition': ['-property', '-duration', '-timing-function', '-delay'],\n    \n        // CSS Flexible Box Layout Module Level 1 (WD): http://www.w3.org/TR/css3-flexbox/\n        'flex': ['-grow', '-shrink', '-basis'],\n    };\n    \n    /**\n     * List of shorthand properties and their longhand equivalents\n     *\n     * @var {object}\n     */\n    const SHORTHAND_DEFAULTS = \n    {\n        '-width' : '0',\n        '-height' : '0',\n        '-top' : '0',\n        '-left' : '0',\n        '-bottom' : '0',\n        '-duration' : '0s',\n        '-delay' : '0s',\n        '-grow' : '1' ,\n        '-shrink' : '1' ,\n        '-iteration-count' : '1',\n        '-timing-function' : 'linear',\n        '-transition-property' : 'all',\n        '-fill-mode': 'none',\n        '-emphasis' : 'none',\n        '-color' : 'none',\n        '-decoration' : 'none',\n        '-direction' : 'normal',\n        '-play-state' : 'running',\n    };\n    \n    /**\n     * CSS Transform value counts\n     *\n     * @var {object}\n     */\n    const CSS_TRANSFORM_VALUES_COUNT = \n    {\n        perspective: 1,\n        skewY: 1,\n        translateY: 1,\n        translateZ: 1,\n        scaleY: 1,\n        scaleZ: 1,\n        rotateX: 1,\n        rotateY: 1,\n        rotateZ: 1,\n        translateX: 1,\n        skewX: 1,\n        scaleX: 1,\n        rotate: 1,\n    \n        skew: 2,\n        translate: 2,\n        scale: 2,\n    \n        translate3d: 3,\n        scale3d: 3,\n        rotate3d: 3,\n    \n        matrix: 6,\n        matrix3d: 16\n    };\n    \n    const CSS_3D_TRANSFORM_DEFAULTS =\n    {\n        'translate3d' : ['0','0','0'],\n        'scale3d'     : ['1','1','1'],\n        'rotate3d'    : ['0','0','1','0'],\n        'skew'        : ['0', '0'],\n    };\n    \n    const CSS_3D_TRANSFORM_MAP_KEYS =\n    {\n        x: 0,\n        y: 1,\n        z: 3\n    };\n    \n    /* USED FOR css_to_px */\n    const CSS_PIXELS_PER_INCH = 96;\n    const CSS_RELATIVE_UNITS  = {\n        // Relative to the font-size of the element (2em means 2 times the size of the current font)\n        'em' : 16,\n    \n        // Relative to the x-height of the current font (rarely used)\n        'ex' : 7.15625,\n    \n        // Relative to the width of the \"0\" (zero)\n        'ch' : 8,\n    \n        // Relative to font-size of the root element\n        'rem' : 16,\n    \n        // Relative to 1% of the width of the viewport\n        'vw' : 1,\n    \n        // Relative to 1% of the height of the viewport\n        'vh' : 1,\n    \n        // Relative to 1% of viewport's* smaller dimension\n        // If the viewport height is smaller than the width, \n        // the value of 1vmin will be equal to 1% of the viewport height.\n        // Similarly, if the viewport width is smaller than the height, the value of 1vmin will be equal to 1% of the viewport width.\n        'vmin' : 765,\n        'vmax' : 1200,\n    \n        // Relative to the parent element\n        '%' : 16\n    }\n    const CSS_ABSOLUTE_UNITS =\n    {\n        'in': CSS_PIXELS_PER_INCH,\n        'cm': CSS_PIXELS_PER_INCH / 2.54,\n        'mm': CSS_PIXELS_PER_INCH / 25.4,\n        'pt': CSS_PIXELS_PER_INCH / 72,\n        'pc': CSS_PIXELS_PER_INCH / 6,\n        'px': 1\n    }\n    \n    \n    /**\n     * Cached CSS propery cases.\n     *\n     * @var {object}\n     */\n    const CSS_PROP_TO_HYPHEN_CASES = {};\n    const CSS_PROP_TO_CAMEL_CASES  = {};\n    // Empty object\n    const EMPTY_OBJ_KEYS = Object.getOwnPropertyNames(Object.getPrototypeOf({}));\n    \n    const FORBIDDEN_OBJ_KEYS = ['length', 'name', 'arguments', 'constructor', 'apply', 'bind', 'call', 'toString', 'caller', 'callee', 'prototype'];\n    /**\n     * Default options.\n     * \n     * @var {object}\n     */\n    const ANIMATION_DEFAULT_OPTIONS =\n    {\n        // Options\n        //'property', 'from', 'to', 'callback', 'complete', 'start', 'fail'\n        easing:               'ease',\n        duration:              500,\n        fps:                   60, // (16ms)\n    };\n    \n     /**\n     * Allowed Options.\n     * \n     * @var {array}\n     */\n    const ANIMATION_ALLOWED_OPTIONS = ['property', 'from', 'to', 'duration', 'easing', 'callback'];\n    \n    /**\n     * Allowed Options.\n     * \n     * @var {array}\n     */\n    const ANIMATION_FILTER_OPTIONS = [ ...Object.keys(ANIMATION_DEFAULT_OPTIONS), ...ANIMATION_ALLOWED_OPTIONS];\n    \n    /**\n     * Currently animating animations.\n     * \n     * @var {array}\n     */\n    const ANIMATING = [];\n    \n    \n    /**\n     * Math Contstansts.\n     * \n     * @var {mixed}\n     */\n    const POW  = Math.pow;\n    const SQRT = Math.sqrt;\n    const SIN  = Math.sin;\n    const COS  = Math.cos;\n    const PI   = Math.PI;\n    const C1   = 1.70158;\n    const C2   = C1 * 1.525;\n    const c3   = C1 + 1;\n    const C4   = (2 * PI) / 3;\n    const C5   = (2 * PI) / 4.5;\n    \n    /**\n     * bounceOut function.\n     * \n     * @var {function}\n     */\n    const bounceOut = function (x)\n    {\n        const n1 = 7.5625;\n        const d1 = 2.75;\n    \n        if (x < 1 / d1)\n        {\n            return n1 * x * x;\n        }\n        else if (x < 2 / d1)\n        {\n            return n1 * (x -= 1.5 / d1) * x + 0.75;\n        }\n        else if (x < 2.5 / d1)\n        {\n            return n1 * (x -= 2.25 / d1) * x + 0.9375;\n        }\n        else\n        {\n            return n1 * (x -= 2.625 / d1) * x + 0.984375;\n        }\n    };\n    \n    /**\n     * Easing functions.\n     * \n     * @var {object}\n     */\n    const ANIMATION_EASING_FUNCTIONS = \n    {\n        linear: (x) => x,\n        ease: function (x)\n        {\n            return x < 0.5 ? 4 * x * x * x : 1 - POW(-2 * x + 2, 3) / 2;\n        },\n        easeIn: function (x)\n        {\n            return 1 - COS((x * PI) / 2);\n        },\n        easeOut: function (x)\n        {\n            return SIN((x * PI) / 2);\n        },\n        easeInOut: function (x)\n        {\n            return -(COS(PI * x) - 1) / 2;\n        },\n        easeInQuad: function (x)\n        {\n            return x * x;\n        },\n        easeOutQuad: function (x)\n        {\n            return 1 - (1 - x) * (1 - x);\n        },\n        easeInOutQuad: function (x)\n        {\n            return x < 0.5 ? 2 * x * x : 1 - POW(-2 * x + 2, 2) / 2;\n        },\n        easeInCubic: function (x)\n        {\n            return x * x * x;\n        },\n        easeOutCubic: function (x)\n        {\n            return 1 - POW(1 - x, 3);\n        },\n        easeInOutCubic: function (x)\n        {\n            return x < 0.5 ? 4 * x * x * x : 1 - POW(-2 * x + 2, 3) / 2;\n        },\n        easeInQuart: function (x)\n        {\n            return x * x * x * x;\n        },\n        easeOutQuart: function (x)\n        {\n            return 1 - POW(1 - x, 4);\n        },\n        easeInOutQuart: function (x)\n        {\n            return x < 0.5 ? 8 * x * x * x * x : 1 - POW(-2 * x + 2, 4) / 2;\n        },\n        easeInQuint: function (x)\n        {\n            return x * x * x * x * x;\n        },\n        easeOutQuint: function (x)\n        {\n            return 1 - POW(1 - x, 5);\n        },\n        easeInOutQuint: function (x)\n        {\n            return x < 0.5 ? 16 * x * x * x * x * x : 1 - POW(-2 * x + 2, 5) / 2;\n        },\n        easeInSine: function (x)\n        {\n            return 1 - COS((x * PI) / 2);\n        },\n        easeOutSine: function (x)\n        {\n            return SIN((x * PI) / 2);\n        },\n        easeInOutSine: function (x)\n        {\n            return -(COS(PI * x) - 1) / 2;\n        },\n        easeInExpo: function (x)\n        {\n            return x === 0 ? 0 : POW(2, 10 * x - 10);\n        },\n        easeOutExpo: function (x)\n        {\n            return x === 1 ? 1 : 1 - POW(2, -10 * x);\n        },\n        easeInOutExpo: function (x)\n        {\n            return x === 0\n                ? 0\n                : x === 1\n                ? 1\n                : x < 0.5\n                ? POW(2, 20 * x - 10) / 2\n                : (2 - POW(2, -20 * x + 10)) / 2;\n        },\n        easeInCirc: function (x)\n        {\n            return 1 - SQRT(1 - POW(x, 2));\n        },\n        easeOutCirc: function (x)\n        {\n            return SQRT(1 - POW(x - 1, 2));\n        },\n        easeInOutCirc: function (x)\n        {\n            return x < 0.5\n                ? (1 - SQRT(1 - POW(2 * x, 2))) / 2\n                : (SQRT(1 - POW(-2 * x + 2, 2)) + 1) / 2;\n        },\n        easeInBack: function (x)\n        {\n            return c3 * x * x * x - C1 * x * x;\n        },\n        easeOutBack: function (x)\n        {\n            return 1 + c3 * POW(x - 1, 3) + C1 * POW(x - 1, 2);\n        },\n        easeInOutBack: function (x)\n        {\n            return x < 0.5\n                ? (POW(2 * x, 2) * ((C2 + 1) * 2 * x - C2)) / 2\n                : (POW(2 * x - 2, 2) * ((C2 + 1) * (x * 2 - 2) + C2) + 2) / 2;\n        },\n        easeInElastic: function (x)\n        {\n            return x === 0\n                ? 0\n                : x === 1\n                ? 1\n                : -POW(2, 10 * x - 10) * SIN((x * 10 - 10.75) * C4);\n        },\n        easeOutElastic: function (x)\n        {\n            return x === 0\n                ? 0\n                : x === 1\n                ? 1\n                : POW(2, -10 * x) * SIN((x * 10 - 0.75) * C4) + 1;\n        },\n        easeInOutElastic: function (x)\n        {\n            return x === 0\n                ? 0\n                : x === 1\n                ? 1\n                : x < 0.5\n                ? -(POW(2, 20 * x - 10) * SIN((20 * x - 11.125) * C5)) / 2\n                : (POW(2, -20 * x + 10) * SIN((20 * x - 11.125) * C5)) / 2 + 1;\n        },\n        easeInBounce: function (x)\n        {\n            return 1 - bounceOut(1 - x);\n        },\n        easeOutBounce: bounceOut,\n        easeInOutBounce: function (x)\n        {\n            return x < 0.5\n                ? (1 - bounceOut(1 - 2 * x)) / 2\n                : (1 + bounceOut(2 * x - 1)) / 2;\n        },\n    };\n    \n    const CSS_EASINGS = \n    {\n        // Defaults\n        ease: 'ease',\n        linear: 'linear',\n        easeIn: 'cubic-bezier(0.4, 0, 1, 1)',\n        easeOut: 'cubic-bezier(0, 0, 0.2, 1)',\n        easeInOut: 'cubic-bezier(0.4, 0, 0.2, 1)',\n    \n        // sine\n        easeInSine: 'cubic-bezier(0.47, 0, 0.745, 0.715)',\n        easeOutSine: 'cubic-bezier(0.39, 0.575, 0.565, 1)',\n        easeInOutSine: 'cubic-bezier(0.445, 0.05, 0.55, 0.95)',\n    \n        // Quad\n        easeInQuad: 'cubic-bezier(0.55, 0.085, 0.68, 0.53)',\n        easeOutQuad: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n        easeInOutQuad: 'cubic-bezier(0.455, 0.03, 0.515, 0.955)',\n    \n        // Cubic\n        easeInCubic: 'cubic-bezier(0.55, 0.055, 0.675, 0.19)',\n        easeOutCubic: 'cubic-bezier(0.215, 0.61, 0.355, 1)',\n        easeInOutCubic: 'cubic-bezier(0.645, 0.045, 0.355, 1)',\n    \n        // Queart\n        easeInQuart: 'cubic-bezier(0.895, 0.03, 0.685, 0.22)',\n        easeOutQuart: 'cubic-bezier(0.165, 0.84, 0.44, 1)',\n        easeInOutQuart: 'cubic-bezier(0.77, 0, 0.175, 1)',\n    \n        // Quint\n        easeInQuint: 'cubic-bezier(0.755, 0.05, 0.855, 0.06)',\n        easeOutQuint: 'cubic-bezier(0.23, 1, 0.32, 1)',\n        easeInOutQuint: 'cubic-bezier(0.86, 0, 0.07, 1)',\n    \n        // Expo\n        easeInExpo: 'cubic-bezier(0.95, 0.05, 0.795, 0.035)',\n        easeOutExpo: 'cubic-bezier(0.19, 1, 0.22, 1)',\n        easeInOutExpo: 'cubic-bezier(1, 0, 0, 1)',\n    \n        // Circ\n        easeInCirc: 'cubic-bezier(0.6, 0.04, 0.98, 0.335)',\n        easeOutCirc: 'cubic-bezier(0.075, 0.82, 0.165, 1)',\n        easeInOutCirc: 'cubic-bezier(0.785, 0.135, 0.15, 0.86)',\n    \n        // Back\n        easeInBack: 'cubic-bezier(0.6, -0.28, 0.735, 0.045)',\n        easeOutBack: 'cubic-bezier(0.175, 0.885, 0.32, 1.275)',\n        easeInOutBack: 'cubic-bezier(0.68, -0.55, 0.265, 1.55)',\n    };\n    \n    /**\n     * Array of HTML events\n     *\n     * @var {array}\n     */\n    const DOC_EVENTS = Object.getOwnPropertyNames(document).concat(Object.getOwnPropertyNames(Object.getPrototypeOf(Object.getPrototypeOf(document)))).concat(Object.getOwnPropertyNames(Object.getPrototypeOf(window))).filter(function(i){return !i.indexOf('on')&&(document[i]==null||typeof document[i]=='function');}).filter(function(elem, pos, self){return self.indexOf(elem) == pos;}).map((x) => x.replace('on', '').toLowerCase());\n    /**\n     * Boolean attributes\n     *\n     * @var {array}\n     */\n    const BOOLEAN_ATTRS = \n    [\n    \t'allowfullscreen',\n    \t'async',\n    \t'autofocus',\n    \t'autoplay',\n    \t'checked',\n    \t'controls',\n    \t'default',\n    \t'defer',\n    \t'disabled',\n    \t'formnovalidate',\n    \t'inert',\n    \t'ismap',\n    \t'itemscope',\n    \t'loop',\n    \t'multiple',\n    \t'muted',\n    \t'nomodule',\n    \t'novalidate',\n    \t'open',\n    \t'playsinline',\n    \t'readonly',\n    \t'required',\n    \t'reversed',\n    \t'selected',\n    \t'hidden',\n    ];\n    \n    /**\n     * Property attributes\n     *\n     * @var {array}\n     */\n    const PROP_ATTRIBUTES = ['href', 'list', 'form', 'tabIndex', 'download'];\n    \n    (function()\n    {\n        var _THIS = null;\n    \n        const _ = function()\n        {\n            this.version = \"1.0.0\";\n    \n            this.author = \"Joe Howard\";\n    \n            this.browser = false;\n    \n            this._events = {};\n    \n            this._guid = 1;\n    \n            _THIS = this;\n        }\n    \n        _.prototype._guidgen = function()\n        {\n            return `__${this._guid++}`;\n        }\n    const AnimateJS = function(DOMElement, options)\n    {\n        this.DOMElement = DOMElement;\n    \n        this.options = options;\n    \n        this.keyframes = [];\n    \n        this.currentKeyframe = 0;\n    \n        this.duration = options.duration;\n    \n        this.intervalDelay = Math.floor(1000 / options.fps);\n    \n        this.keyFrameCount = Math.floor(this.duration / this.intervalDelay) + 1;\n    \n        this.easing = options.easing;\n    \n        this.CSSProperty = options.property;\n    \n        this.isTransform = this.CSSProperty.toLowerCase().includes('transform');\n    \n        this.isScroll = this.CSSProperty.toLowerCase().replace('-', '') === 'scrollto' && DOMElement === window;\n    \n        this.isColor = options.property.includes('color') || options.to.startsWith('#') || options.to.startsWith('rgb');\n    \n        this.clearAnimating(DOMElement);\n    \n        this.parseOptions();\n    \n        this.generateKeyframes();\n    \n        this.stopped = true;\n    \n        return this;\n    }\n    \n    AnimateJS.prototype.clearAnimating = function(DOMElement)\n    {\n        const CSSprop = this.CSSProperty;\n    \n        _THIS.each(ANIMATING, function(i, animation)\n        {\n            if (animation.CSSProperty === CSSprop && animation.DOMElement === DOMElement)\n            {\n                animation.stop();\n    \n                ANIMATING.splice(i, 1);\n    \n                return false;\n            }\n        });\n    }\n    \n    AnimateJS.prototype.start = function()\n    {\n        if (this.keyFrameCount === 0) return this._complete();\n    \n        this.stopped = false;\n    \n        if (!this.isScroll) this.clearTransitions();\n    \n        if (this.options.start) this.options.start(this.DOMElement);\n    \n        const loop = () =>\n        {        \n            if (this.stopped) return;\n    \n            this._applyKeyframe(this.keyframes.shift());\n    \n            if (this.keyframes.length === 0)\n            {            \n                return this._complete();\n            }\n    \n            setTimeout(loop, this.intervalDelay);\n        }\n    \n        loop();\n    \n        this._failTimer = setTimeout(() =>\n        {            \n            if (this.options.fail) this.options.fail(this.DOMElement);\n    \n        }, this.duration + 50 );\n    \n        ANIMATING.push(this);\n    \n        return this;\n    }\n    \n    AnimateJS.prototype._applyKeyframe = function(keyframe)\n    {\n        if (!keyframe) return;\n    \n        let prop = Object.keys(keyframe)[0];\n    \n        this.isScroll ? window.scrollTo(keyframe[0], keyframe[1]) : _THIS.css(this.DOMElement, prop, keyframe[prop]);\n    }\n    \n    AnimateJS.prototype._complete = function()\n    {\n        clearTimeout(this._failTimer);\n    \n        _THIS.each(ANIMATING, (i, animation) =>\n        {\n            if (animation === this)\n            {\n                ANIMATING.splice(i, 1);\n    \n                return false;\n            }\n        });\n    \n        let DOMElement = this.DOMElement;\n    \n        if (this.options.complete) this.options.complete(DOMElement);\n    \n        if (this.options.callback) this.options.callback(DOMElement);\n    \n        if (!this.isScroll) _THIS.css(DOMElement, 'transition', this._pre_transition );\n    }\n    \n    AnimateJS.prototype.stop = function()\n    {\n        this.stopped = true;\n    \n        clearTimeout(this._failTimer);\n    \n        return this;\n    }\n    \n    AnimateJS.prototype.parseOptions = function()\n    {\n        if (this.isScroll)\n        {\n            this.parseScrollOptions();\n        }\n        else if (this.isTransform)\n        {\n            this.parseTransformOptions();\n        }\n        else if (this.isColor)\n        {\n            this.parseColorOptions();\n        }\n        else\n        {\n            this.parseDefaultOptions();\n        }\n    }\n    \n    AnimateJS.prototype.parseScrollOptions = function()\n    {\n        if (!this.options.to.includes(','))\n        {\n            throw new Error('Invalid scroll value. Animating scroll should be provided as [Y, X].');\n        }\n    \n        // We ignore 'from'\n        let startY = window.scrollY;\n        let startX = window.scrollX;\n        let endX   = parseInt(this.options.to.split(',').shift().trim());\n        let endY   = parseInt(this.options.to.split(',').pop().trim());\n        let distX  = Math.abs(endX < startX ? (startX - endX) : (endX - startX))\n        let distY  = Math.abs(endY < startY ? (startY - endY) : (endY - startY))\n    \n        this.startValue    = [startX, startY];\n        this.endValue      = [endX, endY];\n        this.backAnimation = [endX < startX, endY < startY];\n        this.distance      = [distX, distY] ;\n        this.CSSunits      = '';\n    }\n    \n    AnimateJS.prototype.parseDefaultOptions = function()\n    {\n        var startVal = _THIS.is_undefined(this.options.from) ? _THIS.rendered_style(this.DOMElement, this.CSSProperty) : this.options.from;\n        var endVal   = this.options.to;\n    \n        // We need to set the end value, then remove it and re-apply any inline styles if they\n        // existed\n        if (endVal === 'auto' || endVal === 'initial' || endVal === 'unset')\n        {\n            let prevStyle = _THIS.inline_style(this.DOMElement, this.CSSProperty);\n    \n            _THIS.css(this.DOMElement, this.CSSProperty, endVal);\n            \n            endVal = _THIS.rendered_style(this.DOMElement, this.CSSProperty);\n            \n            _THIS.css(this.DOMElement, this.CSSProperty, prevStyle ? prevStyle : false);\n        }\n    \n        // From auto\n        if (startVal === 'auto' || startVal === 'initial')\n        {\n            startVal = _THIS.rendered_style(this.DOMElement, this.CSSProperty);\n        }\n    \n        var startUnit = _THIS.css_value_unit(startVal);\n        var endUnit   = _THIS.css_value_unit(endVal);\n    \n        if (startUnit !== endUnit && this.CSSProperty !== 'opacity')\n        {\n            if (startUnit !== 'px')\n            {\n                startVal  = _THIS.css_to_px(startVal + startUnit, this.DOMElement, this.CSSProperty);\n                startUnit = 'px';\n            }\n            if (endUnit !== 'px')\n            {\n                endVal  = _THIS.css_to_px(this.options.to, this.DOMElement, this.CSSProperty);\n                endUnit = 'px';\n            }\n        }\n    \n        startVal = _THIS.css_unit_value(startVal);\n        endVal   = _THIS.css_unit_value(endVal);\n    \n        this.startValue    = _THIS.css_unit_value(startVal);\n        this.endValue      = _THIS.css_unit_value(endVal);\n        this.backAnimation = endVal < startVal;\n        this.distance      = Math.abs(endVal < startVal ? (startVal - endVal) : (endVal - startVal));\n        this.CSSunits      = endUnit;\n    }\n    \n    AnimateJS.prototype.parseTransformOptions = function()\n    {\n        var DOMElement    = this.DOMElement;\n        var startValues   = _THIS.css_transform_props(DOMElement, false);\n        var endValues     = _THIS.css_transform_props(this.options.to, false);\n    \n        // If a start value was specified it gets overwritten as the transform\n        // property is singular\n        if (this.options.from)\n        {\n            startValues = _THIS.css_transform_props(this.options.from);\n        }\n    \n        this.CSSProperty    = [];\n        this.startValue     = [];\n        this.endValue       = [];\n        this.CSSunits       = [];\n        this.backAnimation  = [];\n        this.distance       = [];\n        this.baseTransforms = _THIS.is_empty(startValues) ? '' : _THIS.join_obj(_THIS.map(startValues, (prop, val) => !endValues[prop] ? val : false), '(', ') ', false, false);\n    \n        _THIS.each(endValues, function(propAxis, valueStr)\n        {\n            var startValStr        = !startValues[propAxis] ? (propAxis.includes('scale') ? '1' : '0') : startValues[propAxis];\n            var startVal           = _THIS.css_unit_value(startValStr);\n            var endVal             = _THIS.css_unit_value(valueStr);\n            var startUnit          = _THIS.css_value_unit(startValStr);\n            var endUnit            = _THIS.css_value_unit(valueStr);\n            var CSSpropertyUnits   = endUnit;\n    \n            if (startUnit !== endUnit)\n            {\n                // 0 no need to convert\n                if (_THIS.is_empty(startUnit))\n                {\n                    startUnit = endUnit;\n                }\n                else\n                {\n                    if (startUnit !== 'px') startVal = _THIS.css_to_px(startVal + startUnit, DOMElement, propAxis.includes('Y') ? 'height' : 'width');\n                    if (endUnit !== 'px') endVal = _THIS.css_to_px(endVal + endUnit, DOMElement, propAxis.includes('Y') ? 'height' : 'width');\n                    CSSpropertyUnits = 'px';\n                }\n            }\n    \n            this.CSSProperty.push(propAxis);\n            this.CSSunits.push(endUnit);\n            this.endValue.push(endVal);\n            this.startValue.push(startVal);\n            this.backAnimation.push(endVal < startVal);\n            this.distance.push(Math.abs(endVal < startVal ? (startVal - endVal) : (endVal - startVal)));\n    \n        }, this);\n    }\n    \n    AnimateJS.prototype.parseColorOptions = function()\n    {\n        this.startValue = this.sanitizeColor(this.options.from || _THIS.rendered_style(this.DOMElement, this.CSSProperty));\n        this.endValue   = this.sanitizeColor(this.options.to);\n    }\n    \n    /**\n     * Sanitize the start and end colors to RGB arrays.\n     * \n     * @param  {string} color  hex or rgb color as as string\n     * @return {array}\n     */\n    AnimateJS.prototype.sanitizeColor = function(color)\n    {\n        if (color.startsWith('rgb('))\n        {\n            return color.split(' ', 3).map((x) => parseInt(x.replaceAll(/[^\\d+]/g, '')));\n        }\n        else if (color.length === 7 )\n        {\n            let rgb = [];\n    \n            color.match(/#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})/i).forEach((item) =>\n            {\n                if (item.length === 2)\n                {\n                    const color = parseInt(item, 16);\n    \n                    rgb.push(color);\n                }\n            });\n    \n            return rgb;\n        }\n    }\n    \n    AnimateJS.prototype.generateKeyframes = function()\n    {    \n        if (_THIS.is_equal(this.startValue, this.endValue))\n        {\n            this.keyFrameCount = 0;\n    \n            return;\n        }\n    \n        if (this.isScroll)\n        {\n            _THIS.for(this.keyFrameCount, function(index)\n            {\n                let x = this.generateKeyframe(index, 0);\n                let y = this.generateKeyframe(index, 1);\n    \n                this.keyframes.push([x, y]);\n                                \n            }, this);\n    \n            // Fallback\n            this.keyframes.push([this.endValue[0], this.endValue[1]]);\n    \n            return;\n        }\n    \n        if (this.isTransform)\n        {\n            _THIS.for(this.endValue, function(transformIndex)\n            {\n                _THIS.for(this.keyFrameCount, function(index)\n                {\n                    this.keyframes.push(this.generateKeyframe(index, transformIndex));\n                    \n                }, this);\n                \n            }, this);\n    \n            return;\n        }\n    \n        _THIS.for(this.keyFrameCount, function(index)\n        {\n            this.keyframes.push(this.generateKeyframe(index));\n            \n        }, this);\n    \n        // Failsafe\n        if (this.keyframes[this.keyFrameCount -1][this.CSSProperty] !== `${this.endValue}${this.CSSunits}`)\n        {\n            this.keyframes.push({[this.CSSProperty]: `${this.endValue}${this.CSSunits}`});\n        }\n    }\n    \n    AnimateJS.prototype.generateKeyframe = function(index, transformIndex)\n    {\n        if (this.isColor)\n        {\n            const change = this.tween(this.easing, (index / this.keyFrameCount));\n            \n            return { [this.CSSProperty]: this.mixColors(this.startValue, this.endValue, change) };\n        }\n        \n        const backAnimation = this.isTransform || this.isScroll ? this.backAnimation[transformIndex] : this.backAnimation;\n    \n        const startValue = this.isTransform || this.isScroll ? this.startValue[transformIndex] : this.startValue;\n    \n        const distance = this.isTransform || this.isScroll ? this.distance[transformIndex] : this.distance;\n    \n        const change = (distance * this.tween(this.easing, (index / this.keyFrameCount)));\n    \n        const keyVal = this.roundNumber(backAnimation ? startValue - change : startValue + change, this.CSSProperty === 'opacity' ? 5 : 1);\n    \n        var property = this.isTransform ? 'transform' : this.CSSProperty;\n    \n        var prefix  = this.isTransform ? `${this.CSSProperty[transformIndex]}(` : '';\n    \n        var suffix  = this.isTransform ? `${this.CSSunits[transformIndex]})` : this.CSSunits;\n        \n        var keyframe = { [property]:  `${prefix}${keyVal}${suffix}` };\n        \n        if (this.isScroll)\n        {\n            return keyVal;\n        }\n    \n        if (this.isTransform && _THIS.is_undefined(this.keyframes[index]))\n        {\n            keyframe[property] = `${this.baseTransforms} ${keyframe[property]}`.trim();\n        }\n    \n        return keyframe;\n    }\n    \n    /**\n     * Mix 2 colors.\n     * \n     * @param  {array}  color1 RGB color array\n     * @param  {array}  color2 RGB color array\n     * @param  {number} blend % between 0 and 1\n     * @return {string} \n     */\n    AnimateJS.prototype.mixColors = function(color1RGB, color2RGB, blend)\n    {\n        function linearInterpolation(y1, y2, x)\n        {\n            return Math.round(x * (y2 - y1) + y1);\n        }\n        \n        const colorRGB  = [];\n    \n        color1RGB.forEach((c1, index) =>\n        {\n            const mixedColor = linearInterpolation(c1, color2RGB[index], blend);\n    \n            colorRGB.push(mixedColor);\n        });\n    \n        return 'rgb(' + colorRGB + ')';\n    }\n    \n    /**\n     * Calculate the easing pattern.\n     * \n     * @private\n     * @link    {https://gist.github.com/gre/1650294}\n     * @param   {String} type Easing pattern\n     * @param   {Number} time Time animation should take to complete\n     * @returns {Number}\n     */\n    AnimateJS.prototype.clearTransitions = function()\n    {        \n        var CSSProperty    = this.isTransform ? 'transform' : this.CSSProperty;\n        var transitions    = _THIS.css_transition_props(this.DOMElement);\n        var css_transition = _THIS.inline_style(this.DOMElement, 'transition'); \n    \n        if (_THIS.is_empty(transitions) || !transitions[CSSProperty]) return;\n    \n        transitions[CSSProperty] = '0s linear 0s';\n    \n        _THIS.css(this.DOMElement, 'transition', _THIS.join_obj(transitions, ' ', ', '));\n    \n        this._pre_transition = !css_transition ? false : css_transition;\n    }\n    \n    AnimateJS.prototype.roundNumber = (n, dp) => \n    {\n        const h = +('1'.padEnd(dp + 1, '0')) // 10 or 100 or 1000 or etc\n    \n        return Math.round(n * h) / h;\n    }\n    \n    /**\n     * Calculate the easing pattern.\n     * \n     * @private\n     * @link    {https://gist.github.com/gre/1650294}\n     * @param   {String} type Easing pattern\n     * @param   {Number} time Time animation should take to complete\n     * @returns {Number}\n     */\n    AnimateJS.prototype.tween = function(type, time)\n    {\n        return ANIMATION_EASING_FUNCTIONS[type].call(null, time) || time;\n    }\n    \n    _.prototype.__animate_js = function(DOMElement, options)\n    {\n        return (new AnimateJS(DOMElement, options)).start();\n    }\n    const AnimateCss = function(DOMElement, options)\n    {     \n        // Domeleement   \n        this.DOMElement = DOMElement;\n    \n        // Options\n        this.options = options;\n    \n        // Props to animate\n        this.animatedProps = {};\n    \n        // Pre animation transitions to restore\n        this.preAnimatedTransitions = {};\n    \n        // Cache stopvalues\n        this.stopValues = {};\n    \n        // Fail timer\n        this._failTimer = null;\n        \n        // Max duration\n        this.duration  = 0;\n        \n        // Callbacks\n        this._callbackStart    = () => {};\n        this._callbackComplete = () => {};\n        this._callbackFail     = () => {};\n        this._callbackStep     = () => {};\n    \n        this.preProcessStartEndValues();\n    \n        return this;\n    };\n    \n    /**\n     * Start animation.\n     *\n     */\n    AnimateCss.prototype.start = function()\n    {\n        this._callbackStart(this.DOMElement);\n    \n        this.applyStartValues();\n    \n        this.applyTransitions();\n    \n        _THIS.on(this.DOMElement, 'transitionend', this.transitionEnd, this);\n    \n        let _this = this;\n    \n        this._failTimer = setTimeout(() =>\n        {\n            _this._callbackFail(_this.DOMElement);\n    \n            _this.stop();\n    \n        }, this.duration + 50 );\n    \n        this._stepTimer = setInterval(() => this._callbackStep(), 16);\n    \n        this.applyEndValues();\n    \n        return this;\n    }\n    \n    /**\n     * Stop animation.\n     *\n     */\n    AnimateCss.prototype.stop = function()\n    {\n        clearTimeout(this._failTimer);\n    \n        clearInterval(this._stepTimer);\n    \n        this.resotoreElement();\n    \n        _THIS.css(this.DOMElement, this.stopValues);\n    }\n    \n    /**\n     * Stop animation and destroy.\n     *\n     */\n    AnimateCss.prototype.destory = function()\n    {\n        this.stop();\n    \n        this.animatedProps = {};\n    \n        this.preAnimatedTransitions = {};\n    }\n    \n    /**\n     * On transition end.\n     * \n     * Note if a multiple animation properties wer supplied\n     * we only want to call the callback once when all transitions\n     * have completed.\n     *\n     * @param  {Event} e transitionEnd event\n     */\n    AnimateCss.prototype.resotoreElement = function()\n    {\n        _THIS.css(this.DOMElement, 'transition', this.preAnimatedTransitions);\n    \n        _THIS.off(this.DOMElement, 'transitionend', this.transitionEnd, this);\n    }\n    \n    /**\n     * On transition end.\n     * \n     * Note if a multiple animation properties wer supplied\n     * we only want to call the callback once when all transitions\n     * have completed.\n     *\n     * @param  {Event} e transitionEnd event\n     */\n    AnimateCss.prototype.transitionEnd = function(e)\n    {\n        e = e || window.event;\n    \n        let prop = _THIS.css_prop_to_hyphen_case(e.propertyName);\n    \n        // Convert to shorthand if needed\n        if (prop.includes('-'))\n        {\n            let shorthand = prop.split('-').shift();\n    \n            if (this.animatedProps[shorthand]) prop = shorthand;\n        }\n    \n        let endVal = this.animatedProps[prop];\n    \n        // Change inline style back to auto\n        if (endVal === 'auto' || endVal === 'initial' || endVal === 'unset') _THIS.css(this.DOMElement, prop, endVal);\n    \n        delete this.animatedProps[prop];\n        \n        if (_THIS.is_empty(this.animatedProps))\n        {        \n            clearTimeout(this._failTimer);\n    \n            clearInterval(this._stepTimer);\n    \n            this.resotoreElement();\n    \n            this._callbackComplete(this.DOMElement);\n        }\n    }\n    \n    /**\n     * Checks for \"auto\" transtions.\n     * \n     */\n    AnimateCss.prototype.preProcessStartEndValues = function()\n    {\n        var DOMElement = this.DOMElement;\n        \n        // We need to set the end value explicitly as these values will not\n        // transition with CSS\n        _THIS.each(this.options, function(i, option)\n        {\n            // Cache start and fail callbacks\n            if (option.start) this._callbackStart = option.start;\n            if (option.fail) this._callbackFail = option.fail;\n            if (option.step) this._callbackStep = option.step;\n    \n            // Keep the longest callback\n            if (option.duration >= this.duration && (option.callback || option.complete))\n            {\n                this._callbackComplete = (option.callback || option.complete);\n            }\n    \n            // Store the maximum duration\n            if (option.duration >= this.duration) this.duration = option.duration;\n    \n            let startValue  = option.from;\n            let endValue    = option.to;\n            let CSSProperty = option.property;\n            \n            if (startValue === 'auto' || startValue === 'initial' || startValue === 'unset' || !startValue)\n            {\n                option.from = _THIS.rendered_style(DOMElement, CSSProperty);\n            }\n    \n            if (endValue === 'auto' || endValue === 'initial' || endValue === 'unset')\n            {\n                let inlineStyle = _THIS.inline_style(DOMElement, CSSProperty);\n    \n                _THIS.css(DOMElement, CSSProperty, endValue);\n    \n                option.to = _THIS.rendered_style(DOMElement, CSSProperty);\n    \n                _THIS.css(DOMElement, CSSProperty, inlineStyle ? inlineStyle : false);\n            }\n    \n            this.animatedProps[CSSProperty] = endValue;\n    \n            this.stopValues[CSSProperty] = _THIS.inline_style(DOMElement, CSSProperty) || false;\n    \n        }, this);\n    }\n    \n    /**\n     * Apply start values.\n     * \n     */\n    AnimateCss.prototype.applyStartValues = function()\n    {\n        var styles = {};\n    \n        _THIS.each(this.options, function(i, option)\n        {\n            styles[option.property] = option.from;\n        });\n    \n        if (!_THIS.is_empty(styles)) _THIS.css(this.DOMElement, styles);\n    }\n    \n    /**\n     * Apply animation transitions.\n     * \n     */\n    AnimateCss.prototype.applyTransitions = function()\n    {\n        let transitions = _THIS.css_transition_props(this.DOMElement);\n    \n        this.preAnimatedTransitions  = _THIS.inline_style(this.DOMElement, 'transition') || false;\n    \n        _THIS.each(this.options, function(i, option)\n        {\n            // Setup and convert duration from MS to seconds\n            let property = option.property;\n            let duration = (option.duration / 1000);\n            let easing   = CSS_EASINGS[option.easing] || 'ease';\n    \n            // Set the transition for the property\n            // in our merged obj\n            transitions[property] = `${duration}s ${easing}`;\n    \n        }, this);\n    \n        _THIS.css(this.DOMElement, 'transition', _THIS.join_obj(transitions, ' ', ', '));\n    }\n    \n    /**\n     * Apply animation end values.\n     * \n     */\n    AnimateCss.prototype.applyEndValues = function()\n    {\n        let styles = {};\n    \n        _THIS.each(this.options, function(i, option)\n        {\n            styles[option.property] = option.to;\n    \n        }, this);\n    \n        _THIS.css(this.DOMElement, styles);\n    }\n    \n    /**\n     * CSS Animation.\n     *\n     * @access {private}\n     * @param  {DOMElement}     DOMElement          Target DOM node\n     * @param  {object}   options             Options object\n     * @param  {string}   options.property    CSS property\n     * @param  {mixed}    options.from        Start value\n     * @param  {mixed}    options.to          Ending value\n     * @param  {int}      options.duration    Animation duration in MS\n     * @param  {string}   options.easing      Easing function in camelCase\n     * @param  {function} options.callback    Callback to apply when animation ends (optional)\n     * Options can be provided three ways:\n     * \n     * 1. Flat object with single property\n     *      animate(el, { height: '500px', easing 'easeOut' })\n     * \n     * 2. Flat Object with multiple properties \n     *      Note this way you can only animate from the existing rendered element style (you cannot provide a 'from' value)\n     *      animate(el, { height: '500px', width: '500px', easing 'easeOut' })\n     * \n     * 3. Multi object with different options per property\n     *      animate(el, { height:{ from: '100px', to: '500px', easing: 'easeInOutElastic'}, opacity:{ to: 0, easing: 'linear'} } );\n     * \n     */\n    _.prototype.__animate_css = function(DOMElement, options)\n    {    \n        return new AnimateCss(DOMElement, options).start();\n    }\n    \n    /**\n     * Animate JS\n     *\n     * @access {public}\n     * @param  {DOMElement} DOMElement                  Target DOM node\n     * @param  {object}     options             Options object\n     * @param  {string}     options.property    CSS property\n     * @param  {mixed}      options.from        Start value\n     * @param  {mixed}      options.to          Ending value\n     * @param  {int}        options.duration    Animation duration in MS\n     * @param  {string}     options.easing      Easing function in camelCase\n     * @param  {function}   options.callback    Callback to apply when animation ends (optional)\n     * @return {array}\n     * Options can be provided three ways:\n     * \n     * 1. Flat object with single property\n     *      animate(el, { height: '500px', easing 'easeOut' })\n     * \n     * 2. Flat Object with multiple properties \n     *      Note this way you can only animate from the existing rendered element style (you cannot provide a 'from' value)\n     *      animate(el, { height: '500px', width: '500px', easing 'easeOut' })\n     * \n     * 3. Multi object with different options per property\n     *      animate(el, { height:{ from: '100px', to: '500px', easing: 'easeInOutElastic'}, opacity:{ to: 0, easing: 'linear'} } );\n     * \n     */\n    _.prototype.animate = function(DOMElement, options)\n    {    \n        const animationSet = [];\n    \n        const Animation = function()\n        {\n            return this;\n        };\n    \n        Animation.prototype.start = function()\n        {\n            for (var i = 0; i < animationSet.length; i++)\n            {\n                animationSet[i].start();\n            }\n        };\n    \n        Animation.prototype.stop = function()\n        {\n            for (var i = 0; i < animationSet.length; i++)\n            {\n                animationSet[i].stop(true);\n            }\n        };\n    \n        Animation.prototype.destory = function()\n        {\n            for (var i = 0; i < animationSet.length; i++)\n            {\n                animationSet[i].destory();\n            }\n    \n            animationSet = [];\n        };\n    \n        const factoryOptions = !options.FROM_FACTORY ? this.__animation_factory(DOMElement, options) : options;\n    \n        const AnimationInstance = new Animation;\n    \n        this.each(factoryOptions, function(i, opts)\n        {\n            animationSet.push(this.__animate_js(DOMElement, opts));\n    \n        }, this);\n    \n        return AnimationInstance;\n    }\n    \n    /**\n     * Animate CSS\n     *\n     * @access {public}\n     * @param  {DOMElement} DOMElement                  Target DOM node\n     * @param  {object}     options             Options object\n     * @param  {string}     options.property    CSS property\n     * @param  {mixed}      options.from        Start value\n     * @param  {mixed}      options.to          Ending value\n     * @param  {int}        options.duration    Animation duration in MS\n     * @param  {string}     options.easing      Easing function in camelCase\n     * @param  {function}   options.callback    Callback to apply when animation ends (optional)\n     * @return {array}\n     * Options can be provided three ways:\n     * \n     * 1. Flat object with single property\n     *      animate(el, { height: '500px', easing 'easeOut' })\n     * \n     * 2. Flat Object with multiple properties \n     *      Note this way you can only animate from the existing rendered element style (you cannot provide a 'from' value)\n     *      animate(el, { height: '500px', width: '500px', easing 'easeOut' })\n     * \n     * 3. Multi object with different options per property\n     *      animate(el, { height:{ from: '100px', to: '500px', easing: 'easeInOutElastic'}, opacity:{ to: 0, easing: 'linear'} } );\n     * \n     */\n    _.prototype.animate_css = function(DOMElement, options)\n    {\n        let cssAnimation;\n    \n        const Animation = function()\n        {\n            return this;\n        };\n    \n        Animation.prototype.start = function()\n        {\n            cssAnimation.start();\n        };\n    \n        Animation.prototype.stop = function()\n        {\n            cssAnimation.stop(true);\n        };\n    \n        Animation.prototype.destory = function()\n        {\n            cssAnimation.destory(true);\n        };\n    \n        const factoryOptions = !options.FROM_FACTORY ? this.__animation_factory(DOMElement, options) : options;\n    \n        cssAnimation = this.__animate_css(DOMElement, factoryOptions);\n        \n        return new Animation;\n    }\n    \n    /**\n     * Animation factory.\n     *\n     * @access {private}\n     * @param  {DOMElement} DOMElement                  Target DOM node\n     * @param  {object}     options             Options object\n     * @param  {string}     options.property    CSS property\n     * @param  {mixed}      options.from        Start value\n     * @param  {mixed}      options.to          Ending value\n     * @param  {int}        options.duration    Animation duration in MS\n     * @param  {string}     options.easing      Easing function in camelCase\n     * @param  {function}   options.callback    Callback to apply when animation ends (optional)\n     * @return {array}\n     * Options can be provided three ways:\n     * \n     * 1. Flat object with single property\n     *      animate(el, { height: '500px', easing 'easeOut' })\n     * \n     * 2. Flat Object with multiple properties \n     *      Note this way you can only animate from the existing rendered element style (you cannot provide a 'from' value)\n     *      animate(el, { height: '500px', width: '500px', easing 'easeOut' })\n     * \n     * 3. Multi object with different options per property\n     *      animate(el, { height:{ from: '100px', to: '500px', easing: 'easeInOutElastic'}, opacity:{ to: 0, easing: 'linear'} } );\n     * \n     */\n    _.prototype.__animation_factory = function(DOMElement, opts)\n    {\n        var optionSets = [];\n    \n        this.each(opts, function(key, val)\n        {\n            // animation_factory('foo', { property : 'left', from : '-300px', to: '0',  easing: 'easeInOutElastic', duration: 3000} );\n            if (key === 'property')\n            {\n                var options = { ...ANIMATION_DEFAULT_OPTIONS, ...opts};\n    \n                options.FROM_FACTORY = true;\n                options.property     = this.css_prop_to_hyphen_case(val);\n                options.el           = DOMElement;\n                optionSets.push(options);\n    \n                // break\n                return false;\n            }\n            else if (!this.in_array(key, ANIMATION_ALLOWED_OPTIONS))\n            {\n                // Only worth adding if the property is valid\n                var camelProp = this.css_prop_to_camel_case(key);\n                \n                if (!this.is_undefined(document.body.style[camelProp]))\n                {\n                    var isObjSet = this.is_object(val);\n                    var toMerge  = isObjSet ? val : opts;\n                    var options  = { ...ANIMATION_DEFAULT_OPTIONS, ...toMerge};\n                    \n                    // animation_factory('foo', { height: '100px', opacity: 0 } );\n                    if (!isObjSet)\n                    {\n                        options.to = val;\n                    }\n    \n                    // animation_factory('foo', { height: { from: '100px', to: '500px', easing: 'easeInOutElastic'}, opacity:{ to: 0, easing: 'linear'} } );\n                    options.FROM_FACTORY = true;\n                    options.property     = this.css_prop_to_hyphen_case(key);\n                    options.el           = DOMElement;\n                    optionSets.push(options);\n                }\n            }\n        }, this);\n    \n        // Santize callbacks\n        let longest  = 0;\n        let longestI = 0;\n        let start    = () => {};\n        let fail     = () => {};\n        let complete = () => {};\n        let step     = () => {};\n    \n        this.each(optionSets, function(i, options)\n        {\n            if (options.start)\n            {\n                start = options.start;\n    \n                delete options.start;\n            }\n    \n            if (options.fail)\n            {\n                fail = options.fail;\n    \n                delete options.fail;\n            }\n    \n            if (options.step)\n            {\n                step = options.step;\n    \n                delete options.step;\n            }\n    \n            // Store the maximum duration\n            if (options.duration >= longest)\n            {\n                if ((options.callback || options.complete)) complete = (options.callback || options.complete);\n    \n                delete options.callback;\n    \n                delete options.complete;\n    \n                longest = options.duration;\n    \n                longestI = i;\n            }\n    \n            // Not nessaray, but sanitize out redundant options\n            options = this.map(options, function(key, val)\n            {\n                return this.in_array(key, ANIMATION_FILTER_OPTIONS) ? val : false;\n    \n            }, this);\n    \n            // Sanitize to/from to strings\n            if (this.array_has('to', options)) options.to = options.to + '';\n            if (this.array_has('from', options)) options.from = options.from + '';\n    \n            if (!ANIMATION_EASING_FUNCTIONS[options.easing]) options.easing = 'ease';\n    \n            options.FROM_FACTORY = true;\n    \n            optionSets[i] = options;\n    \n        }, this);\n    \n        if (this.is_empty(optionSets))\n        {\n            console.error('Animation Error: Either no CSS property(s) was provided or the provided property(s) is unsupported.');\n        }\n    \n        optionSets[longestI].fail     = fail;\n        optionSets[longestI].start    = start;\n        optionSets[longestI].complete = complete;\n        optionSets[longestI].step     = step;\n    \n        return optionSets;\n    }\n    /**\n     * Recursively delete from array/object.\n     *\n     * @param   {array}        keys    Keys in search order\n     * @param   {object|array} object  Object to get from\n     * @returns {mixed}\n     */\n    _.prototype.__array_delete_recursive = function(keys, object)\n    {\n        var key = keys.shift();\n    \n        var islast = keys.length === 0;\n    \n        if (islast)\n        {\n            if (TO_STR.call(object) === '[object Array]')\n            {\n                object.splice(key, 1);\n            }\n            else\n            {\n                delete object[key];\n            }\n        }\n    \n        if (!object[key])\n        {\n            return false;\n        }\n    \n        return this.__array_delete_recursive(keys, object[key]);\n    }\n    \n    /**\n     * Recursively search from array/object.\n     *\n     * @param   {array}        keys    Keys in search order\n     * @param   {object|array} object  Object to get from\n     * @returns {mixed}\n     */\n    _.prototype.__array_get_recursive = function(keys, object)\n    {\n        var key = keys.shift();\n        var islast = keys.length === 0;\n    \n        if (islast)\n        {\n            return object[key];\n        }\n    \n        if (!object[key])\n        {\n            return undefined;\n        }\n    \n        return this.__array_get_recursive(keys, object[key]);\n    }\n    \n    /**\n     * Recursively set array/object.\n     *\n     * @param {array}          keys     Keys in search order\n     * @param {mixed}          value    Value to set\n     * @param {object|array}   object   Object to get from\n     * @param {string|number}  nextKey  Next key to set\n     */\n    _.prototype.__array_set_recursive = function(keys, value, object, nextKey)\n    {\n        var key = keys.shift();\n        var islast = keys.length === 0;\n        var lastObj = object;\n        object = !nextKey ? object : object[nextKey];\n    \n        // Trying to set a value on nested array that doesn't exist\n        if (!['object', 'function'].includes(typeof object))\n        {\n            throw new Error('Invalid dot notation. Cannot set key \"' + key + '\" on \"' + JSON.stringify(lastObj) + '[' + nextKey + ']\"');\n        }\n    \n        if (!object[key])\n        {\n            // Trying to put object key into an array\n            if (TO_STR.call(object) === '[object Array]' && typeof key === 'string')\n            {\n                var converted = Object.assign({}, object);\n    \n                lastObj[nextKey] = converted;\n    \n                object = converted;\n            }\n    \n            if (keys[0] && typeof keys[0] === 'string')\n            {\n                object[key] = {};\n            }\n            else\n            {\n                object[key] = [];\n            }\n        }\n    \n        if (islast)\n        {\n            object[key] = value;\n    \n            return;\n        }\n    \n        this.__array_set_recursive(keys, value, object, key);\n    }\n    \n    /**\n     * Segments an array/object path using from \"dot.notation\" into an array of keys in order.\n     *\n     * @param   {string}  path Path to parse\n     * @returns {array}\n     */\n    _.prototype.__array_key_segment = function(path)\n    {\n        var result = [];\n        var segments = path.split('.');\n    \n        for (var i = 0; i < segments.length; i++)\n        {\n            var segment = segments[i];\n    \n            if (!segment.includes('['))\n            {\n                result.push(segment);\n    \n                continue;\n            }\n    \n            var subSegments = segment.split('[');\n    \n            for (var j = 0; j < subSegments.length; j++)\n            {\n                if (['0', '1', '2', '3', '4', '5', '6', '7', '8', '9'].includes(subSegments[j][0]))\n                {\n                    result.push(parseInt(subSegments[j].replace(']')));\n                }\n                else if (subSegments[j] !== '')\n                {\n                    result.push(subSegments[j])\n                }\n            }\n        }\n    \n        return result;\n    }\n    \n    /**\n     * Recursively delete from array/object.\n     *\n     * @param   {array}        keys    Keys in search order\n     * @param   {object|array} object  Object to get from\n     * @returns {mixed}\n     */\n    _.prototype.__array_delete_recursive = function(keys, object)\n    {\n        var key = keys.shift();\n    \n        var islast = keys.length === 0;\n    \n        if (islast)\n        {\n            if (TO_STR.call(object) === '[object Array]')\n            {\n                object.splice(key, 1);\n            }\n            else\n            {\n                delete object[key];\n            }\n        }\n    \n        if (!object[key])\n        {\n            return false;\n        }\n    \n        return this.__array_delete_recursive(keys, object[key]);\n    }\n    /**\n     * Deletes from an array/object using dot/bracket notation.\n     *\n     * @param   {string}        path   Path to delete\n     * @param   {object|array}  object Object to delete from\n     * @returns {object|array}\n     */\n    _.prototype.array_delete = function(path, object)\n    {\n        this.__array_delete_recursive(this.__array_key_segment(path), object);\n    \n        return object;\n    }\n    /**\n     * Filters empty array entries and returns new array\n     *\n     * @param   {object|array}  object Object to delete from\n     * @returns {object|array}\n     */\n    _.prototype.array_filter = function(arr)\n    {\n        return this.map(arr, (k,v) => this.is_empty(v) ? false : v );\n    }\n    /**\n     * Gets an from an array/object using dot/bracket notation.\n     *\n     * @param   {string}        path    Path to get\n     * @param   {object|array}  object  Object to get from\n     * @returns {mixed}\n     */\n    _.prototype.array_get = function(path, object)\n    {\n        return this.__array_get_recursive(this.__array_key_segment(path), object);\n    }\n    \n    \n    /**\n     * Checks if array/object contains path using dot/bracket notation.\n     *\n     * e.g array_has('foo.bar.baz[0]', obj)\n     * \n     * @param   {string}        path   Path to check\n     * @param   {object|array}  object Object to check on\n     * @returns {boolean}\n     */\n    _.prototype.array_has = function(path, object)\n    {\n        return !this.is_undefined(this.array_get(path, object));\n    }\n    /**\n     * Set a key using dot/bracket notation on an object or array.\n     *\n     * @param   {string}       path   Path to set\n     * @param   {mixed}        value  Value to set\n     * @param   {object|array} object Object to set into\n     * @returns {object|array}\n     */\n    _.prototype.array_set = function(path, value, object)\n    {\n        this.__array_set_recursive(this.__array_key_segment(path), value, object);\n    \n        return object;\n    }\n    /**\n     * Removes duplicates and returns new array.\n     *\n     * @param   {array} arr Array to run\n     * @returns {array}\n     */\n    _.prototype.array_unique = function(arr)\n    {\n        return arr.filter((value, index, self) => self.indexOf(value) === index);\n    }\n    /**\n     * Checks if element is last element in array or object.\n     *\n     * @access {public}\n     * @param  {string} needle    The value to search for\n     * @param  {array}  haystack  The target array to index\n     * @param  {bool}   strict    Strict comparison (optional) (default false)\n     * @return {bool}\n     * \n     */\n    _.prototype.is_array_last = function(needle, haystack, strict)\n    {\n        strict = this.is_undefined(strict) ? false : strict;\n    \n        let last = TO_STR.call(haystack) === '[object Array]' ? haystack[haystack.length -1] : haystack[Object.keys(haystack).pop()];\n        \n        return this.is_equal(needle, last, strict);\n    }\n    /**\n     * Foreach loop\n     * \n     * @access {public}\n     * @param  {object}  obj       The target object to loop over\n     * @param  {closure} callback  Callback to apply to each iteration\n     * @param  {array}   args      Array of params to apply to callback (optional) (default null)\n     */\n    _.prototype.each = function(obj, callback)\n    {\n        if (typeof obj !== 'object' || obj === null) return;\n    \n        let isArray = this.is_array(obj);\n        let i       = 0;\n        let keys    = isArray ? null : Object.keys(obj);\n        let len     = isArray ? obj.length : keys.length;\n        let args    = TO_ARR.call(arguments).slice(2);\n        let ret     = isArray ? [] : {};\n        let key;\n        let val;\n        let clbkVal;\n    \n        // Applies the value of \"this\" to the callback as the array or object provided\n        //var thisArg = typeof args !== 'undefined' && TO_STR.call(args) !== '[object Array]' ? args : obj;\n    \n        // Applies this arg as first extra arg if provided\n        // otherwise falls back to the array or object provided\n        // Removes \"this\" from args to callback\n        var thisArg = this.is_empty(args) ? obj : args[0];\n        args        = !this.is_empty(args) ? args.slice(1) : null;\n        args        = this.is_empty(args) ? null : args;\n    \n        if (TO_STR.call(args) === '[object Array]')\n        {\n            for (; i < len; i++)\n            {\n                key   = isArray ? i : keys[i];\n                val   = isArray ? obj[i] : obj[key];\n                clbkVal = callback.apply(thisArg, [...[key, val], ...args]);\n    \n                if (clbkVal === false)\n                {\n                    break;\n                }\n            }\n    \n            // A special, fast, case for the most common use of each (no extra args provided)\n        }\n        else\n        {\n            for (; i < len; i++)\n            {\n                key   = isArray ? i : keys[i];\n                val   = isArray ? obj[i] : obj[key];\n                clbkVal = callback.call(thisArg, key, val);\n    \n                if (clbkVal === false)\n                {\n                    break;\n                }\n            }\n        }\n    \n        return obj;\n    }\n    \n    _.prototype.foreach = function()\n    {\n        return this.each.apply(this, arguments);\n    }\n    \n    /**\n     * For loop with count\n     * \n     * @access {public}\n     * @param  {object}  obj       The target object to loop over\n     * @param  {closure} callback  Callback to apply to each iteration\n     * @param  {array}   args      Array of params to apply to callback (optional) (default null)\n     */\n    _.prototype.for = function(count, callback)\n    {\n        var args = TO_ARR.call(arguments);\n    \n        args[0] = Array.from(Array(count).keys());\n    \n        return this.each.apply(this, args);\n    }\n    \n    \n    /**\n     * Checks if an array contains a value\n     *\n     * @access {public}\n     * @param  {string} needle    The value to search for\n     * @param  {array}  haystack  The target array to index\n     * @param  {bool}   strict    Strict comparison (optional) (default false)\n     * @return {bool}\n     * \n     */\n    _.prototype.in_array = function(needle, haystack, strict)\n    {\n        strict = this.is_undefined(strict) ? false : strict;\n        \n        if (!strict) \n        {\n            if (this.is_object(haystack))\n            {\n                let ret = false;\n    \n                this.each(haystack, (k, v) =>\n                {\n                    ret = v === needle;\n    \n                    if (ret) return false;\n                });\n    \n                return ret;\n            }\n    \n            return haystack.includes(needle);\n        }\n    \n        let ret = false;\n    \n        this.each(haystack, function(k, v)\n        {\n            ret = this.is_equal(needle, v, strict);\n    \n            if (ret) return false;\n    \n        }, this);\n    \n        return ret;\n    }\n    /**\n     * Map.\n     *  \n     * return undefined to break loop, true to keep, false to reject\n     * \n     * @param   {array|object}  obj\n     * @param   {function}      callback\n     * @param   {array|mixed}   args      If single arg provided gets apllied as this to callback, otherwise args apllied to callback\n     * @returns {array|object}\n     */\n    _.prototype.map = function(obj, callback)\n    {\n        if (typeof obj !== 'object' || obj === null) return;\n    \n        let isArray = this.is_array(obj);\n        let i       = 0;\n        let keys    = isArray ? null : Object.keys(obj);\n        let len     = isArray ? obj.length : keys.length;\n        let args    = TO_ARR.call(arguments).slice(2);\n        let ret     = isArray ? [] : {};\n        let key;\n        let val;\n        let clbkVal;\n    \n        // Applies the value of \"this\" to the callback as the array or object provided\n        //var thisArg = typeof args !== 'undefined' && TO_STR.call(args) !== '[object Array]' ? args : obj;\n    \n        // Applies this arg as first extra arg if provided\n        // otherwise falls back to the array or object provided\n        // Removes \"this\" from args to callback\n        var thisArg = this.is_empty(args) ? obj : args[0];\n        args        = !this.is_empty(args) ? args.slice(1) : null;\n        args        = this.is_empty(args) ? null : args;\n    \n        if (TO_STR.call(args) === '[object Array]')\n        {\n            for (; i < len; i++)\n            {\n                key   = isArray ? i : keys[i];\n                val   = isArray ? obj[i] : obj[key];\n                clbkVal = callback.apply(thisArg, [...[key, val], ...args]);\n    \n                if (clbkVal === false)\n                {\n                    continue;\n                }\n                else if (typeof clbkVal === 'undefined')\n                {\n                    break;\n                }\n                else\n                {\n                    isArray ? ret.push(clbkVal) : ret[key] = clbkVal;\n                }\n            }\n    \n            // A special, fast, case for the most common use of each (no extra args provided)\n        }\n        else\n        {\n            for (; i < len; i++)\n            {\n                key   = isArray ? i : keys[i];\n                val   = isArray ? obj[i] : obj[key];\n                clbkVal = callback.call(thisArg, key, val);\n    \n                if (clbkVal === false)\n                {\n                    continue;\n                }\n                else if (typeof clbkVal === 'undefined')\n                {\n                    break;\n                }\n                else\n                {\n                    isArray ? ret.push(clbkVal) : ret[key] = clbkVal;\n                }\n            }\n        }\n    \n        return ret;\n    }\n    /**\n     * Set, get or remove DOM attribute.\n     *\n     * No third arg returns attribute value, third arg set to null or false removes attribute.\n     * \n     * @param {HTMLElement}  DOMElement  Dom node\n     * @param {string}       name        Property name\n     * @apram {mixed}        value       Property value\n     */\n    _.prototype.attr = function(DOMElement, name, value)\n    {            \n        // Get attribute\n        // e.g attr(node, style)\n        if ((TO_ARR.call(arguments)).length === 2 && this.is_string(name))\n        {\n            return this.__get_attribute(DOMElement, name);\n        }\n    \n        // attr(node, {foo : 'bar', baz: 'bar'})\n        if (this.is_object(name))\n        {\n            this.each(name, (prop, value) => this.attr(DOMElement, prop, value));\n    \n            return;\n        }\n    \n        // Set or remove attibute.\n        switch (name)\n        {\n            // innerHTML\n            case 'innerHTML':\n                DOMElement.innerHTML = !value ? '' : value;\n                break;\n    \n            // innerText\n            case 'innerText':\n                DOMElement.innerText = !value ? '' : value;\n                break;\n    \n            // Children\n            case 'children':\n    \n                this.each(DOMElement.children, (node) => this.remove_from_dom(node));\n    \n                if (this.is_array(value)) this.each(value, (i, node) => DOMElement.appendChild(node));\n                \n                break;\n    \n            // Class\n            case 'class':\n            case 'className':\n    \n                // Cleanup classname\n                value = this.is_string(value) ? this.str_replace(value, ['undefined', 'null', 'false', 'true'], '').replace(/\\s\\s+/g, ' ').trim() : value;\n    \n                if (this.is_empty(value))\n                {\n                    DOMElement.removeAttribute('class');\n                }\n                else\n                {\n                    DOMElement.className = value;\n                }\n    \n                break;\n    \n            // Style\n            case 'style':\n    \n                // remove all styles completely\n                if (this.is_empty(value))\n                {\n                    DOMElement.removeAttribute('style');\n                }\n    \n                DOMElement.style = '';\n    \n                let style = this.is_string(value) ? this.css_to_object(value) : value;\n    \n                this.each(style, (prop, value) => this.css(DOMElement, prop, value));\n               \n                break;\n    \n            // Events / attributes\n            default:\n    \n                // Events\n                if (name[0] === 'o' && name[1] === 'n')\n                {\n                    var evt = name.slice(2).toLowerCase();\n    \n                    // Remove old listeners\n                    this.off(DOMElement, evt);\n    \n                    // Add new listener if one provided\n                    if (value)\n                    {\n                        this.on(DOMElement, evt, value);\n                    }\n                }\n                // All other node attributes\n                else\n                {\n                    if (this.is_function(value) || this.is_object(value)) return;\n    \n                    let isEmpty    = this.is_empty(value);\n                    let isData     = name.startsWith('data');\n                    let isAria     = name.startsWith('aria');\n                    let camelName  = name.includes('-') ? this.to_camel_case(name) : name;\n                    let hyphenName = name.includes('-') ? name : this.camel_case_to_hyphen(name);\n                    let isBoolean  = this.in_array(camelName, BOOLEAN_ATTRS);\n    \n                    if (value === 'false' || value === 'null' || value === 'undefined' || isEmpty) value = isBoolean ? false : (isAria || isData ? 'false' : '');\n    \n                    // Special data\n                    if (isData)\n                    {\n                        DOMElement.setAttribute(hyphenName, value);\n    \n                        DOMElement.dataset[this.lc_first(camelName.substring(4))] = value;\n    \n                        break;\n                    }\n                    else if (isEmpty && !isAria && !PROP_ATTRIBUTES.includes(camelName))\n                    {\n                        DOMElement.removeAttribute(hyphenName);\n                    }\n                    else\n                    {\n                        DOMElement.setAttribute(hyphenName, value);\n                    }\n    \n                    if (camelName !== 'viewBox')\n                    {\n                        try\n                        {                        \n                            DOMElement[camelName] = value;\n    \n                        } catch (e) {}\n                    }\n    \n                    \n                }\n    \n                break;\n        }\n    }\n    \n    /**\n     * Simple get html attribute.\n     *\n     * No third arg returns attribute value, third arg set to null or false removes attribute.\n     * \n     * @access {private}\n     * @param  {HTMLElement}      DOMElement  Dom node\n     * @param  {string}           name        Property name\n     * @return {string|undefined}\n     */\n    _.prototype.__get_attribute = function(DOMElement, name)\n    {\n        let camelName  = name.includes('-') ? this.to_camel_case(name) : name;\n        let hyphenName = name.includes('-') ? name : this.camel_case_to_hyphen(name);\n    \n        // Data need to check dataset\n        if (name.startsWith('data'))\n        {\n            if (!DOMElement.dataset) return DOMElement.getAttribute(hyphenName);\n    \n            return DOMElement.dataset[this.lc_first(camelName.substring(4))];\n        }\n    \n        // Special booleans\n        if (this.in_array(name, BOOLEAN_ATTRS))\n        {\n            if (DOMElement[name] === '' || DOMElement[name] === 'true' || DOMElement[name] === true) return true;\n    \n            return DOMElement[name] === 'false' || !DOMElement[name] ? false : true;\n        }\n    \n        let retCamel = DOMElement[camelName];\n        let retAttr  = DOMElement.getAttribute(hyphenName);\n    \n        if (retAttr && retAttr !== '') return retAttr;\n    \n        if (retCamel && retCamel !== '') return retCamel;\n    \n        return retCamel || retAttr;\n    }\n    /**\n     * Set, get or remove DOM attribute.\n     *\n     * No third arg returns attribute value, third arg set to null or false removes attribute.\n     * \n     * @param {HTMLElement}  DOMElement  Dom node\n     * @param {string}       name        Property name\n     * @apram {mixed}        value       Property value\n     */\n    _.prototype.attrs = function(DOMElement)\n    {\n    \tlet ret = {};\n    \n    \tthis.each(DOMElement.attributes, (i, attribute) => ret[attribute.nodeName] = this.attr(DOMElement, attribute.nodeName));\n    \t\n    \treturn ret;\n    }\n    /**\n     * Set, get or remove CSS value(s) on element.\n     * \n     * Note that this will only return inline styles, use 'rendered_style' for\n     * currently displayed styles.\n     *\n     * @access {public}\n     * @param  {DOMElement}   el     Target DOM node\n     * @param  {string|object} Assoc array of property->value or string property\n     * @example {Helper.css(node,} { display : 'none' });\n     * @example {Helper.css(node,} 'display', 'none');\n     */\n    _.prototype.css = function(el, property, value)\n    {\n        // If their is no value and property is an object\n        if (this.is_object(property))\n        {\n            this.each(property, function(prop, val)\n            {\n                this.css(el, prop, val);\n    \n            }, this);\n        }\n        else\n        {\n            // Getting not settings\n            if (this.is_undefined(value))\n            {\n                return this.inline_style(el, property);\n            }\n            // Value is either null or false we remove\n            else if (this.is_null(value) || value === false)\n            {\n                if (el.style.removeProperty)\n                {\n                    el.style.removeProperty(property);\n                }\n                else\n                {\n                    el.style.removeAttribute(property);\n                }\n            }\n            else\n            {\n                if (value.includes('important') || property.startsWith('--'))\n                {\n                    let styles = el.getAttribute('style');\n    \n                    if (styles && styles.includes(property))\n                    {\n                        let re = new RegExp(`${property}\\s?:[^;]+;?`, 'g');\n    \n                        styles = styles.replace(re, '').trim();\n                    }\n                    \n                    styles = !styles ? `${property}:${value}` : `${this.rtrim(styles, ';')};${property}:${value}`;\n    \n                    el.setAttribute('style', styles);\n    \n                    return;\n                }\n                else\n                {\n                    el.style[property] = value;    \n                }\n            }\n        }\n    }\n    /**\n     * Converts CSS property to camel case.\n     *\n     * @access {public}\n     * @param  {string} prop Property to convert\n     * @retirm {string}\n     */\n    _.prototype.css_prop_to_camel_case = function(prop)\n    {\n        if (!prop.includes('-')) return prop;\n    \n        let camelProp = this.to_camel_case(prop);\n    \n        if (this.in_array(prop, Object.keys(CSS_PROP_TO_CAMEL_CASES)))\n        {\n            return CSS_PROP_TO_CAMEL_CASES[prop];\n        }\n    \n        // First char is always lowercase\n        let ret = camelProp.charAt(0).toLowerCase() + camelProp.slice(1);\n    \n        CSS_PROP_TO_CAMEL_CASES[prop] = ret;\n    \n        return ret;\n    }\n    /**\n     * Converts CSS property to hyphen case.\n     *\n     * @access {public}\n     * @param  {string} prop Property to convert\n     * @retirm {string}\n     */\n    _.prototype.css_prop_to_hyphen_case = function(prop)\n    {\n        if (!/[A-Z]/.test(prop)) return prop;\n        \n        if (this.in_array(prop, Object.keys(CSS_PROP_TO_HYPHEN_CASES)))\n        {\n            return CSS_PROP_TO_HYPHEN_CASES[prop];\n        }\n    \n        var hyphenProp = this.camel_case_to_hyphen(prop);\n    \n        if (hyphenProp.startsWith('webkit-') || hyphenProp.startsWith('moz-') || hyphenProp.startsWith('ms-') || hyphenProp.startsWith('o-'))\n        {\n            hyphenProp = '-' + hyphenProp;\n        }\n    \n        CSS_PROP_TO_CAMEL_CASES[prop] = hyphenProp;\n    \n        return hyphenProp;\n    }\n    /**\n     * Expand shorthand property to longhand properties \n     *\n     * @access {private}\n     * @param  {string}  CSS rules\n     * @return {object}\n     */\n    _.prototype.css_to_longhand = function(css)\n    {\n        var ret    = {};\n        var values = this.css_to_object(css);\n    \n        this.each(values, function(prop, value)\n        {\n            if (SHORTHAND_PROPS.hasOwnProperty(prop))\n            {\n                var splits  = value.split(' ').map( (x) => x.trim());\n                var dfault  = prop === 'margin' || prop === 'padding' ? '0' : 'initial';\n    \n                this.each(SHORTHAND_PROPS[prop], function(i, longhand)\n                {\n                    // Object is setup so that if it starts with a '-'\n                    // then it gets concatenated to the oridional prop\n                    // e.g 'background' -> '-image'\n                    longhand = longhand.startsWith('-') ? prop + longhand : longhand;\n    \n                    // otherwise it gets replaced\n                    // e.g 'border-color' -> 'border-top-color', 'border-right-color'... etc\n                    ret[longhand] = this.is_undefined(splits[i]) ? dfault : splits[i];\n    \n                }, this);\n            }\n            else\n            {\n                ret[prop] = value;\n            }\n    \n        }, this);\n    \n        return ret;\n    }\n    /**\n     * Concats longhand property to shorthand\n     *\n     * Note if values are not provide not all browsers will except initial\n     * for all properties in shorthand syntax\n     * \n     * @access {private}\n     * @param  {string}  CSS rules\n     * @return {object}\n     */\n    _.prototype.css_to_shorthand = function(css)\n    {\n        const needsFilling = ['margin', 'padding', 'transition', 'animation'];\n        var ret            = {};\n        var styles         = this.css_to_object(css);\n    \n        // 'margin': ['-top', '-right', '-bottom', '-left'],\n        this.each(SHORTHAND_PROPS, function(property, longhands)\n        {\n            var value       = '';\n            var matched     = false;\n            var needsDefault = this.in_array(property, needsFilling) || property.includes('border');\n    \n            this.each(longhands, function(i, longhand)\n            {\n                longhand = longhand.startsWith('-') ? property + longhand : longhand;\n    \n                var suppliedVal = styles[longhand];\n    \n                if (!this.is_undefined(suppliedVal))\n                {\n                    matched = true;\n                    // Colors get flatted\n                    if (longhand.includes('-color'))\n                    {\n                        value = suppliedVal;\n                    }\n                    else\n                    {\n                        value += suppliedVal + ' ';\n                    }\n                }\n                else if (needsDefault)\n                {\n                    this.each(SHORTHAND_DEFAULTS, function(matcher, defaltVal)\n                    {\n                        if (longhand.includes(matcher))\n                        {\n                            value += ` ${defaltVal} `;\n                        }\n                    });\n                }\n                \n            }, this);\n    \n            if (!this.is_empty(value) && matched) ret[property] = value.trim();\n            \n        }, this);\n    \n        return ret;\n    }\n    /**\n     * Converts string styles into an object\n     *\n     * @param  {string} styles CSS\n     * @return {object}\n     */\n    _.prototype.css_to_object = function(styles)\n    {\n        var ret = {};\n    \n        const nested_regex = /([^\\{]+\\{)([\\s\\S]+?\\})(\\s*\\})/g;\n    \n        const css_regex = /([^{]+\\s*\\{\\s*)([^}]+)(\\s*\\}\\s*)/g;\n    \n        if (styles.includes('{'))\n        {\n            var nestedStyles = [...css.matchAll(nested_regex)];\n        }\n    \n        this.each(styles.split(/;(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/g), function(i, rule)\n        {\n            var style = rule.split(':');\n    \n            if (style.length >= 2)\n            {\n                var prop = style.shift().trim();\n                var val  = style.join(':').trim();\n    \n                ret[prop] = val;\n            }\n        }, this);\n    \n        return ret;\n    }\n    /**\n     * Get CSS property.\n     * \n     * @param  {string} value CSS value (e.g \"12px\")\n     * @return {Number}\n     */\n    _.prototype.css_unit_value = function(value)\n    {\n        value = value + '';\n    \n        if (this.is_numeric(value))\n        {\n            return parseFloat(value);\n        }\n    \n        if (this.is_empty(value))\n        {\n            return 0;\n        }\n    \n        return parseFloat(value.replaceAll(/[^0-9-.]/g, ''));\n    }\n    \n    /**\n     * Get CSS property unit.\n     * \n     * @param  {string} value CSS value (e.g \"12px\")\n     * @return {string}\n     */\n    _.prototype.css_value_unit = function(value)\n    {\n        value = value + '';\n    \n        return value.split(/[0-9]/).pop().replaceAll(/[^a-z%]/g, '').trim();\n    }\n    \n    /**\n     * Converts CSS units to px.\n     * \n     * @param  {String}     value      CSS value (e.g \"12rem\")\n     * @param  {DomElement} DOMElement CSS value (optional) (used to relative units)\n     * @param  {String}     property   CSS property (optional) (used for % unit)\n     * @return {Number}\n     */\n    _.prototype.css_to_px = function(valueStr, DOMElement, property)\n    {\n        valueStr = valueStr + '';\n        \n        if (valueStr.includes('calc')) return valueStr;\n    \n        var unit  = this.css_value_unit(valueStr);\n        var value = this.css_unit_value(valueStr);\n    \n        if (valueStr.includes('px')) return value;\n    \n        if (!this.is_undefined(CSS_ABSOLUTE_UNITS[unit]))\n        {\n            return (value * CSS_ABSOLUTE_UNITS[unit]);\n        }\n    \n        if (!this.is_undefined(CSS_RELATIVE_UNITS[unit]))\n        {\n            if (unit === 'em' || unit === 'ex' || 'unit' === 'ch')\n            {\n                if (!DOMElement) return value * CSS_RELATIVE_UNITS[unit];\n                let psize = this.css_unit_value(this.rendered_style(DOMElement.parentNode, 'font-size'));\n                if (unit === 'em') return value * psize;\n                if (unit === 'ex') return value * (psize / 1.8);\n                if (unit === 'ch') return value * (psize / 2);\n                if (unit === '%')  return value * psize;\n            }\n            else if (unit === '%')\n            {\n                if (!DOMElement) return value * CSS_RELATIVE_UNITS[unit];\n                if (!property) property = 'height';\n                \n                let psize = this.css_unit_value(this.rendered_style(DOMElement, property));\n    \n                return psize * (value / 100);\n            }\n            else if (unit === 'rem')\n            {\n                // font sizes are always returned in px with JS\n                return value * this.css_unit_value(this.rendered_style(document.documentElement, 'font-size'));\n            }\n            else if (unit === 'vw')\n            {\n                return this.width(window) * (value / 100);\n            }\n            else if (unit === 'vh')\n            {\n                return this.height(window) * (value / 100);\n            }\n            else if (unit === 'vmin' || unit === 'vmax')\n            {\n                let w = this.width(window);\n                let h = this.height(window);\n                let m = unit === 'vmin' ? Math.min(w, h) : Math.max(w, h)\n    \n                return m * (value / 100);\n            }\n        }\n    \n        return value;\n    }\n    \n    /**\n     * Get an element's inline style if it exists\n     *\n     * @access {public}\n     * @param  {DOMElement}   el   Target element\n     * @param  {string} prop CSS property to check\n     * @return {string}\n     */\n    _.prototype.inline_style = function(element, prop)\n    {\n        const elementStyle = element.style;\n    \n        prop = this.css_prop_to_hyphen_case(prop);\n    \n        // Native\n        if (!this.is_undefined(elementStyle[prop]) && elementStyle[prop] !== '')\n        {\n            const val = elementStyle.getPropertyValue(elementStyle[prop]) || elementStyle[prop];\n            \n            return val === '' ? undefined : val;\n        }\n    \n        let styles = element.getAttribute('style');\n    \n        if (styles && styles.includes(prop))\n        {\n            let style = styles.match(new RegExp(`${prop}\\s?:[^;]+;?`));\n    \n            if (style)\n            {\n                return this.rtrim(style[0].split(':').pop().trim(), ';').trim();\n            }\n        }\n    }\n    /**\n     * Remove inline css style\n     * \n     * @access {public}\n     * @param  {DOMElement}   el   Target element\n     * @param  {string} prop CSS property to removes\n     */\n    _.prototype.remove_style = function(el, prop)\n    {\n        if (typeof prop === 'undefined')\n        {\n            DOMElement.removeAttribute('style');\n    \n            return;\n        }\n    \n        this.css(el, prop);\n    }\n    /**\n     * Get the element's computed style on a property\n     *\n     * @access {public}\n     * @param  {DOMElement}   el   Target element\n     * @param  {string} prop CSS property to check (in camelCase) (optional)\n     * @return {mixed}\n     */\n    _.prototype.rendered_style = function(DOMElement, property)\n    {\n        if (property.includes('ransform'))\n        {\n            return this.css_transform_props(DOMElement, true);\n        }\n    \n        return this.__computed_style(DOMElement, property);\n    }\n    \n    /**\n     * Get the elements computed style.\n     *\n     * @access {private}\n     * @param  {DOMElement}          el   Target element\n     * @param  {string}        prop CSS property to check (in camelCase) (optional)\n     * @return {string|object}\n     */\n    _.prototype.__computed_style = function(DOMElement, property)\n    {\n        if (window.getComputedStyle)\n        {\n            let styles = window.getComputedStyle(DOMElement, null);\n    \n            if (property && property.startsWith('--')) return styles.getPropertyValue(property);\n    \n            return !property ? styles : styles[property];\n        }\n        else if (DOMElement.currentStyle)\n        {\n            let styles = DOMElement.currentStyle;\n    \n            return !property ? styles : styles[property];\n        }\n    \n        return '';\n    }\n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    /**\n     * Returns an object of CSS transitions by transition property as keys.\n     *\n     * @param  {node|string} DOMElement  Target element or transition value string\n     * @return {object}\n     */\n    _.prototype.css_transition_props = function(DOMElement)\n    {\n        if (!DOMElement) return {};\n        var transitions   = {};\n        var transitionVal = this.is_string(DOMElement) ? DOMElement : this.rendered_style(DOMElement, 'transition');\n    \n        // No transition\n        if (!transitionVal || transitionVal.startsWith('all 0s ease 0s') || transitionVal === 'none' || transitionVal === 'unset' || transitionVal === 'auto')\n        {\n            return transitions;\n        }\n    \n        let transitionSplit = transitionVal.includes('cubic-bezier') ? '' : transitionVal.trim().split(',');\n    \n        if (transitionVal.includes('cubic-bezier'))\n        {\n            let map      = [];\n            let inBezier = false;\n            let block    = '';\n            let char;\n    \n            this.for(transitionVal.length, function(i)\n            {\n                char = transitionVal[i];\n    \n                if (char === '(') inBezier = true;\n                if (char === ')') inBezier = false;\n    \n                if (char === ',' && !inBezier)\n                {\n                    map.push(block.trim());\n                    block = '';\n    \n                    // next\n                    return;\n                }\n    \n                block += char;\n    \n                if (i === transitionVal.length -1) map.push(block.trim());\n            });\n    \n            transitionSplit = map;\n        }\n    \n        this.each(transitionSplit, function(i, transition)\n        {\n            transition = transition.trim();\n    \n            // Variants of all\n            if (transition[0] === '.' || transition.startsWith('all ') ||  this.is_numeric(transition[0]))\n            {\n                transitions.all = transition.replace('all ', '');\n    \n                return false;\n            }\n    \n            var prop = transition.split(' ', 4).shift();\n    \n            transitions[prop] = transition.replace(prop, '').trim();\n    \n        }, this);\n    \n        return transitions;\n    }\n    /**\n     * Returns an object of CSS transforms by property as keys or transforms as string.\n     *\n     * @param  {node|string} DOMElement     Target element or transition value string\n     * @param  {bool}        returnAsString Returns transforms as string (optional) (default true)\n     * @return {object}\n     */\n    _.prototype.css_transform_props = function(DOMElement, returnAsString)\n    {\n        if (this.is_string(DOMElement))\n        {\n            return this.__un_css_matrix(DOMElement, returnAsString);\n        }\n    \n        returnAsString = this.is_undefined(returnAsString) ? true : returnAsString;\n    \n        let styles = this.__computed_style(DOMElement, 'transform');\n    \n        // If element is set to \"display:none\" only inline transforms will show up\n        // so we check those first\n        let inline   = this.inline_style(DOMElement, 'transform');\n        let emptys   = [undefined, '', 'none', 'unset', 'initial', 'inherit'];\n    \n        // Has inline styles - inline do not need to converted\n        if (!emptys.includes(inline))\n        {\n            return returnAsString ? inline : this.__un_css_matrix(inline, false);\n        }\n    \n        // If element is hiddien we need to display it quickly\n        // to get the CSS defined transform prop to be renderd\n        let inlineDisplay = this.inline_style(DOMElement, 'display');\n        let cssDisplay    = this.rendered_style(DOMElement, 'display');\n        let isHidden      = cssDisplay === 'none';\n    \n        // Re-get transform value\n        if (isHidden)\n        {\n            this.css(DOMElement, 'display', 'unset');\n    \n            styles = this.__computed_style(DOMElement, 'transform');\n        }\n    \n        // Doesn't have stylesheet styles\n        if (this.in_array(styles, emptys))\n        {\n            styles = styles === 'none' || styles === undefined ? '' : styles;\n        }\n    \n        // Empty return\n        if (!styles)\n        {\n            return returnAsString ? '' : {};\n        }\n    \n        // revert matrix\n        styles = this.__un_css_matrix(DOMElement, returnAsString);\n        \n        // Revert back origional styles\n        if (isHidden)\n        {\n            this.css(DOMElement, 'display', !inlineDisplay ? false : inlineDisplay);\n        }\n    \n        return returnAsString ? styles : styles;\n    }\n    \n    /**\n     * Converts an element's matrix transform value back to component transforms\n     *\n     * @access {private}\n     * @param  {DOMElement}   DOMElement     Target element\n     * @param  {bool}   returnAsString Returns string\n     * @return {string|object}\n     */\n    _.prototype.__un_css_matrix = function(DOMElement, returnAsString)\n    {\n        if (!this.is_string(DOMElement))\n        {\n            if (!DOMElement.computedStyleMap)\n            {\n                return returnAsString ? '' : {};\n            }\n    \n            var computedTransforms = DOMElement.computedStyleMap().get('transform');\n    \n            var transforms = Array.prototype.slice.call(computedTransforms).map( (x) => x.toString() ).sort().reverse();\n        }\n        else\n        {\n            var transforms = DOMElement.split(')');\n        }\n    \n        const axisMap = ['X', 'Y', 'Z'];\n    \n        const ret = {};\n    \n        this.each(transforms, function(i, transform)\n        {\n            if (transform.trim() === '') return;\n    \n            var split    = transform.split('(');\n            var bsName   = split[0].replace('3d', '');\n            var prop     = split.shift().trim();\n            var value    = split.pop().trim().replace(')', '');\n            var values   = value.split(',').map((x) => x.trim());\n            var lastChar = prop.slice(-1);\n    \n            if (prop === 'perspective')\n            {\n                ret.perspective = value;\n    \n                return;\n            }\n            \n            this.each(values, function(i, val)\n            {\n                if (i > 2) return false;\n    \n                let defltVal = prop.includes('scale') ? 1 : 0;\n                let axisProp = !axisMap.includes(lastChar) ? `${bsName}${axisMap[i]}` : bsName;\n    \n                if (prop === 'rotate')\n                {\n                    ret.rotateZ = val;\n                }\n                else if (prop === 'rotate3d')\n                {\n                    if (parseFloat(val) !== defltVal)\n                    {\n                        ret[axisProp] = values[values.length - 1];\n                    }\n                }\n                else if (parseFloat(val) === defltVal && ret[axisProp])\n                {\n                    return;\n                }\n                else\n                {\n                    ret[axisProp] = val;\n                }\n            });\n    \n        }, this);\n    \n        if (returnAsString)\n        {\n            return !this.is_empty(ret) ? this.join_obj(ret, '(', ') ') + ')' : '';\n        }\n        \n        return ret;\n    }\n    /**\n     * Returns an object of CSS transitions by transition property as keys.\n     *\n     * @param  {string} transforms A CSS transform value e.g translateY(300px) \n     * @return {object}\n     */\n    _.prototype.css_to_3d_transform = function(transformsStr)\n    {        \n        var transforms = {};\n    \n        var _this = this;\n    \n        /**\n         * Get value number\n         * \n         * @private\n         */\n        var getPropValue = function(value)\n        {\n            if (_this.is_numeric(value))\n            {\n                return parseFloat(value);\n            }\n    \n            if (_this.is_empty(value))\n            {\n                return 0;\n            }\n    \n            return parseFloat(value.replaceAll(/[^0-9-.]/g, ''));\n        }\n    \n        if (transformsStr.includes('matrix'))\n        {\n            return transformsStr;\n        }\n    \n        // Split into object\n        this.each(transformsStr.trim().split(')'), function(i, transform)\n        {\n            transform = transform.trim();\n    \n            if (transform === '') return;\n    \n            transform      = transform.split('(');\n            var prop       = transform.shift().trim();\n            var value      = transform.pop().trim();\n            var values     = value.split(',').map((x) => x.trim());\n            var valueCount = CSS_TRANSFORM_VALUES_COUNT[prop];\n    \n            if (prop === 'perspective')\n            {\n                transforms.perspective = values[0];\n            }\n            else if (valueCount === 1 || valueCount === 2)\n            {\n                var initialVal = prop === 'scale' ? 1 : 0;\n                var name3d     = valueCount === 1 ? `${prop.slice(0,-1)}3d` : `${prop}3d`;\n                    name3d     = name3d.includes('skew') ? 'skew' : name3d;\n                    name3d     = name3d === 'rotat3d' ? 'rotate3d' : name3d;\n                var key        = CSS_3D_TRANSFORM_MAP_KEYS[prop.slice(-1).toLowerCase()];\n                \n                if (this.is_empty(transforms[name3d]))\n                {\n                    transforms[name3d] = CSS_3D_TRANSFORM_DEFAULTS[name3d];\n                }\n                \n                if (prop === 'rotate')\n                {\n                    transforms.rotate3d[3] = values[0];\n                }\n                else\n                {\n                    this.each(values, function(i, value)\n                    {\n                        var compValue = parseFloat(value.replaceAll(/[^0-9]-/g, ''));\n    \n                        if (getPropValue(value) !== initialVal)\n                        {\n                            transforms[name3d][!key ? i : key] = value;\n                        }\n                    });\n                }\n            }\n            else \n            {\n                transforms[prop] = values;\n            }\n    \n        }, this);\n    \n        return transforms;\n    }\n    /**\n     * Add a css class or list of classes\n     *\n     * @access {public}\n     * @param  {DOMElement}         DOMElement Target element\n     * @param  {array|string} className  Class name(s) to add\n     */\n    _.prototype.add_class = function(DOMElement, className)\n    {    \n        if (this.is_array(DOMElement))\n        {\n            this.each(DOMElement, (i, _DOMElement) =>  this.add_class(_DOMElement, className));\n    \n            return this;\n        }\n    \n        if (this.is_array(className))\n        {\n            this.each(className, (i, _className) =>  this.add_class(DOMElement, _className));\n        \n            return this;\n        }\n    \n        if (className.includes(','))\n        {\n            this.each(this.array_filter(className.split(',')), (i, _className) => this.add_class(DOMElement, _className));\n        \n            return this;\n        }\n    \n        if (className.includes('.'))\n        {\n            this.each(this.array_filter(className.split('.')), (i, _className) => this.add_class(DOMElement, _className));\n        \n            return this;\n        }\n    \n        className = className.trim();\n    \n        if (className[0] === '.') className = className.slice(1);\n    \n        DOMElement.classList.add(className);\n    \n        return this;\n    }\n    /**\n     * Returns element classNames\n     *\n     * @param   {HTMLElement}  element  Element to check\n     * @return  {Array}\n     */\n    _.prototype.class_names = function(element)\n    {\n        if (this.is_htmlElement(element) && element.className && element.className.trim() !== '')\n        {\n            return element.className.replace( /\\s\\s+/g, ' ').trim().split(' ');\n        }\n    \n        return [];\n    }\n    /**\n     * Closest parent node by type/class or array of either\n     *\n     * @access {public}\n     * @param  {DOMElement}   el   Target element\n     * @param  {string} type Node type to find\n     * @return {node\\null}\n     */\n    _.prototype.closest = function(el, type)\n    {    \n        // Match OR split by comma\n        if (this.is_string(type) && type.includes(',')) type = type.split(',').filter((x) => x.trim() !== '').map((x) => x.trim());\n    \n        // Match OR as an array\n        if (this.is_array(type))\n        {        \n            let ret = false;\n    \n            this.each(type, (i , itype) =>\n            {\n                ret = this.closest(el, itype);\n    \n                if (ret) return false;\n            });\n    \n            return ret;\n        }\n        \n        let isElement = this.is_htmlElement(type);\n        let isClass   = !isElement && type.includes('.');\n        let isType    = !isElement && !isClass;\n        let ret       = false;\n    \n        this.traverse_up(el, (parent, pType) =>\n        {\n            if (isElement && parent === type)\n            {\n                ret = parent;\n    \n                return false;\n            }\n            else if (isClass && this.has_class(parent, type))\n            {\n                ret = parent;\n    \n                return false;\n            }\n            else if (isType && type === pType)\n            {\n                ret = parent;\n    \n                return false;\n            }\n        });\n    \n        return ret;\n    }\n    \n    /**\n     * Closest parent node by class\n     *\n     * @access {public}\n     * @param  {DOMElement}   el   Target element\n     * @param  {string} clas Node class to find\n     * @return {node\\null}\n     */\n    _.prototype.closest_class = function(el, classNames)\n    {    \n        let ret = false;\n    \n        this.traverse_up(el, (parent) =>\n        {\n            ret = this.has_class(parent, classNames) ? parent : ret;\n            \n            if (ret) return false;\n        });\n    \n        return ret;\n    }\n    /**\n     * Get an element's absolute coordinates\n     *\n     * @access {public}\n     * @param  {DOMElement}   el Target element\n     * @return {object}\n     */\n    _.prototype.coordinates = function(DOMElement)\n    {\n        // If element is hiddien we need to display it quickly\n        var inlineDisplay = this.inline_style(DOMElement, 'display');\n        var hidden        = this.rendered_style(DOMElement, 'display');\n        \n        if (hidden === 'none')\n        {\n            // If the element was 'display:none' with an inline\n            // style, remove the inline display so it defaults to\n            // whatever styles are set on in through stylesheet\n            if (inlineDisplay)\n            {\n                this.css(DOMElement, 'display', false);\n            }\n            // Otherwise set it to unset\n            else\n            {\n                this.css(DOMElement, 'display', 'unset');\n            }\n        }\n    \n        var box        = DOMElement.getBoundingClientRect();\n        var body       = document.body;\n        var docEl      = document.documentElement;\n        var scrollTop  = window.pageYOffset || docEl.scrollTop || body.scrollTop;\n        var scrollLeft = window.pageXOffset || docEl.scrollLeft || body.scrollLeft;\n        var clientTop  = docEl.clientTop || body.clientTop || 0;\n        var clientLeft = docEl.clientLeft || body.clientLeft || 0;\n        var borderL    = parseInt(this.rendered_style(DOMElement, 'border-left-width')) || 0;\n        var borderR    = parseInt(this.rendered_style(DOMElement, 'border-right-width')) || 0;\n        var borderT    = parseInt(this.rendered_style(DOMElement, 'border-top-width')) || 0;\n        var borderB    = parseInt(this.rendered_style(DOMElement, 'border-bottom-width')) || 0;\n        var top        = box.top + scrollTop - clientTop - borderT - borderB;\n        var left       = box.left + scrollLeft - clientLeft + borderL - borderR;\n        var width      = parseFloat(this.rendered_style(DOMElement, 'width'))\n        var height     = parseFloat(this.rendered_style(DOMElement, 'height'));\n    \n        if (inlineDisplay)\n        {\n            this.css(DOMElement, 'display', inlineDisplay);\n        }\n        else\n        {\n            this.css(DOMElement, 'display', false);\n        }\n        \n        return {\n            top: top,\n            left: left,\n            right: left + width,\n            bottom: top + height,\n            height: height,\n            width: width,\n        };\n    }\n    /**\n     * Get all first level children\n     *\n     * @access {public}\n     * @param  {DOMElement}   el   Target element\n     * @return {node\\null}\n     */\n    _.prototype.first_children = function(el)\n    {\n        return this.find_all('> *', el);\n    }\n    /**\n     * Get all input elements from a form\n     *\n     * @access {public}\n     * @param  {DOMElement}   form Target element\n     * @return {array}\n     */\n    _.prototype.form_inputs = function(form)\n    {\n        return this.find_all('input, textarea, select', form);\n    }\n    /**\n     * Get an array of name/value objects for all inputs in a form\n     *\n     * @access {public}\n     * @param  {DOMElement}   form Target element\n     * @return {array}\n     */\n    _.prototype.form_values = function(form)\n    {\n        var inputs = this.form_inputs(form);\n        var ret    = {};\n        \n        this.each(inputs, (i, input) =>\n        {\n            let key = this.attr(input, 'name');\n    \n            let val = this.input_value(input);\n    \n            if (key.endsWith('[]'))\n            {\n                key = key.slice(0, -2); \n    \n                if (!ret[key] || !this.is_array(ret[key])) ret[key] = [];\n    \n                ret[key].push(val);\n            }\n            else if (input.type !== 'radio')\n            {\n                ret[key] = val;\n            }\n            else\n            {\n                if (val) ret[key] = val;\n            }\n        });\n       \n        return ret;\n    }\n    /**\n     * Check if a node has a class\n     *\n     * @access {public}\n     * @param  {DOMElement}         el         Target element\n     * @param  {string|array} className  Class name(s) to check for\n     * @return {bool}\n     */\n    _.prototype.has_class = function(DOMElement, className)\n    {    \n        let ret = false;\n    \n        if (this.is_array(className))\n        {\n            this.each(className, (i, _className) => { if (this.has_class(DOMElement, _className)) ret = true; return false; });\n            \n            return ret;\n        }\n    \n        if (className.includes(','))\n        {\n            this.each(this.array_filter(className.split(',')), (i, _className) => { if (this.has_class(DOMElement, _className)) ret = true; return false; });\n        \n            return ret;\n        }\n    \n        if (className.includes('.'))\n        {\n            let count = className.split('.').length;\n    \n            if (count >= 3)\n            {\n                this.each(this.array_filter(className.split('.')), (i, _className) => { ret = this.has_class(DOMElement, _className); if (!ret) return false; });\n    \n                return ret;\n            }\n        }\n    \n        className = className.trim();\n    \n        if (className[0] === '.') className = className.slice(1);\n    \n        if (!DOMElement || !DOMElement.classList) return false;\n    \n        return DOMElement.classList.contains(className);\n    }\n    /**\n     * Check if an element is in current viewport\n     *\n     * @access {public}\n     * @param  {DOMElement}   el Target DOM node\n     * @return {bool}\n     */\n    _.prototype.in_viewport = function(el)\n    {\n        var rect = el.getBoundingClientRect();\n    \n        return (\n            rect.top >= 0 &&\n            rect.left >= 0 &&\n            rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) && /*or find(window).height() */\n            rect.right <= (window.innerWidth || document.documentElement.clientWidth) /*or find(window).width() */\n        );\n    }\n    /**\n     * Replace or append a node's innerHTML\n     *\n     * @access {public}\n     * @param  {DOMElement}   DOMElement  Target element\n     * @param  {string} content     Target content\n     * @param  {bool}   append      Append innerHTML or replace (optional) (default false)\n     */\n    _.prototype.inner_HTML = function(DOMElement, content, append)\n    {\n        content = this.is_array(content) ? content.join(\"\\n\") : content;\n    \n        if (append)\n        {\n            DOMElement.innerHTML += content;\n        }\n        else\n        {\n            this.clear_event_listeners(DOMElement, true);\n    \n            DOMElement.innerHTML = content;\n        }\n    \n        this.trigger_event(DOMElement, `frontbx:dom:mutate`);\n    \n        this.trigger_event(window, `frontbx:dom:mutate`, { DOMElement: DOMElement });\n    }\n    /**\n     * Gets an input element's value\n     *\n     * @access {public}\n     * @param  {DOMElement}   input Target element\n     * @return {mixed}\n     */\n    _.prototype.input_value = function(input)\n    {\n        if (input.type == 'checkbox')\n        {\n            return this.attr(input, 'checked');\n        }\n        if (input.type == 'radio')\n        {\n            return this.attr(input, 'checked') ? this.attr(input, 'value') : undefined;\n        }\n        if (input.type == 'number' || input.type === 'range')\n        {\n            return input.value.includes('.') ? parseInt(input.value) : parseFloat(input.value);\n        }\n        if (input.type == 'file')\n        {\n            if (input.multiple == true)\n            {\n                return input.files;\n            }\n    \n            return input.files[0];\n        }\n    \n        let ret = input.type == 'select' ? input.options[input.selectedIndex].value : input.value;\n    \n        return ret.trim();\n    }\n    /**\n     * Create and insert a new node\n     *\n     * @param {object} options\n     */\n    _.prototype.dom_element = function(options, appendTo, innerHTMLOrChildren)\n    {    \n        // dom_element(null, wrappper, content);\n        if (!options && appendTo && innerHTMLOrChildren)\n        {\n            this._recursive_dom_element(innerHTMLOrChildren, appendTo);\n    \n            return appendTo;\n        }\n    \n        if (!options.tag) throw new Error('Element tag not provided.');\n    \n        let node = document.createElement(options.tag);\n    \n        delete options.tag;\n    \n        this.attr(node, options);\n    \n        if (innerHTMLOrChildren)\n        {\n            this._recursive_dom_element(innerHTMLOrChildren, node);\n        }\n    \n        if (appendTo)\n        {\n            appendTo.appendChild(node);\n        }\n    \n        return node;\n    }\n    \n    _.prototype._recursive_dom_element = function(mixedVar, parent)\n    {\n        if (this.is_htmlElement(mixedVar))\n        {\n            parent.appendChild(mixedVar);\n        }\n        else if (this.is_array(mixedVar))\n        {\n            this.each(this.array_filter(mixedVar), (i, child) =>\n            {\n                this._recursive_dom_element(child, parent);\n            }); \n        }\n        else if (this.is_object(mixedVar))\n        {\n            this.dom_element(mixedVar, node);\n        }\n        else\n        {\n            parent.innerHTML += mixedVar;\n        }\n    }\n    \n    \n    /**\n     * Traverse nextSibling untill type or class or array of either\n     *\n     * @access {public}\n     * @param  {DOMElement}   el   Target element\n     * @param  {string} type Target node type\n     * @return {node\\null}\n     */\n    _.prototype.next = function(el, type)\n    {\n        // Match OR split by comma\n        if (this.is_string(type) && type.includes(',')) type = type.split(',').filter((x) => x.trim() !== '').map((x) => x.trim());\n    \n        // Match OR as an array\n        if (this.is_array(type))\n        {        \n            let ret = false;\n    \n            this.each(type, (i , itype) =>\n            {\n                ret = this.next(el, itype);\n    \n                if (ret) return false;\n            });\n    \n            return ret;\n        }\n        \n        let isElement = this.is_htmlElement(type);\n        let isClass   = !isElement && type.includes('.');\n        let isType    = !isElement && !isClass;\n        let ret       = false;\n    \n        this.traverse_next(el, (sibling, sType) =>\n        {\n            if (isElement && sibling === type)\n            {\n                ret = sibling;\n    \n                return false;\n            }\n            else if (isClass && this.has_class(sibling, type))\n            {\n                ret = sibling;\n    \n                return false;\n            }\n            else if (isType && type === sType)\n            {\n                ret = sibling;\n    \n                return false;\n            }\n        });\n    \n        return ret;\n    }\n    /**\n     * Traverse nextSibling untill class type or class or array of either\n     *\n     * @access {public}\n     * @param  {DOMElement}   el         Target element\n     * @param  {string}       classNames Target node classname\n     * @return {node\\null}\n     */\n    _.prototype.next_class = function(el, classNames)\n    {\n        let ret = false;\n    \n        this.traverse_next(el, (sibling) =>\n        {\n            ret = this.has_class(sibling, classNames) ? sibling : ret;\n            \n            if (ret) return false;\n        });\n    \n        return ret;\n    }\n    /**\n     * Inserts node as first child\n     *\n     * @access {public}\n     * @param  {DOMElement} node     New node to insert\n     * @param  {DOMElement} wrapper  Parent to preappend new node into\n     * @return {DOMElement}\n     */\n    _.prototype.preapend = function(node, wrapper)\n    {\n        wrapper.insertBefore(node, wrapper.firstChild);\n    \n        return node;\n    }\n    /**\n     * Traverse previousSibling untill type\n     *\n     * @access {public}\n     * @param  {DOMElement}   el   Target element\n     * @param  {string} type Target node type\n     * @return {node\\null}\n     */\n    _.prototype.previous = function(el, type)\n    {\n        // Match OR split by comma\n        if (this.is_string(type) && type.includes(',')) type = type.split(',').filter((x) => x.trim() !== '').map((x) => x.trim());\n    \n        // Match OR as an array\n        if (this.is_array(type))\n        {        \n            let ret = false;\n    \n            this.each(type, (i , itype) =>\n            {\n                ret = this.previous(el, itype);\n    \n                if (ret) return false;\n            });\n    \n            return ret;\n        }\n        \n        let isElement = this.is_htmlElement(type);\n        let isClass   = !isElement && type.includes('.');\n        let isType    = !isElement && !isClass;\n        let ret       = false;\n    \n        this.traverse_prev(el, (sibling, pType) =>\n        {\n            if (isElement && sibling === type)\n            {\n                ret = sibling;\n    \n                return false;\n            }\n            else if (isClass && this.has_class(sibling, type))\n            {\n                ret = sibling;\n    \n                return false;\n            }\n            else if (isType && type === pType)\n            {\n                ret = sibling;\n    \n                return false;\n            }\n        });\n    \n        return ret;\n    }\n    /**\n     * Traverse previousSibling untill class\n     *\n     * @access {public}\n     * @param  {DOMElement}   el        Target element\n     * @param  {string} className Target node classname\n     * @return {node\\null}\n     */\n    _.prototype.previous_class = function(el, classNames)\n    {\n        let ret = false;\n    \n        this.traverse_prev(el, (sibling) =>\n        {\n            ret = this.has_class(sibling, classNames) ? sibling : ret;\n            \n            if (ret) return false;\n        });\n    \n        return ret;\n    }\n    /**\n     * Remove a css class or list of classes\n     *\n     * @access {public}\n     * @param  {DOMElement}         DOMElement Target element\n     * @param  {array|string} className  Class name(s) to remove\n     */\n    _.prototype.remove_class = function(DOMElement, className)\n    {\n        if (this.is_array(DOMElement))\n        {\n            this.each(DOMElement, (i, _DOMElement) =>  this.remove_class(_DOMElement, className));\n    \n            return this;\n        }\n    \n        if (this.is_array(className))\n        {\n            this.each(className, (i, _className) =>  this.remove_class(DOMElement, _className));\n        \n            return this;\n        }\n    \n        if (className.includes(','))\n        {\n            this.each(this.array_filter(className.split(',')), (i, _className) => this.remove_class(DOMElement, _className));\n        \n            return this;\n        }\n    \n        if (className.includes('.'))\n        {\n            this.each(this.array_filter(className.split('.')), (i, _className) => this.remove_class(DOMElement, _className));\n        \n            return this;\n        }\n    \n        className = className.trim();\n    \n        if (className[0] === '.') className = className.slice(1);\n    \n        DOMElement.classList.remove(className);\n    \n        return this;\n    }\n    /**\n     * Remove an element from the DOM\n     *\n     * This function also removes all attached event listeners\n     * \n     * @access {public}\n     * @param  {DOMElement}   el Target element\n     */\n    _.prototype.remove_from_dom = function(el)\n    {\n        if (this.is_array(el))\n        {\n            return this.each(el, (i, DOMElement) => this.remove_from_dom(DOMElement));\n        }\n    \n        if (this.in_dom(el))\n        {\n            el.parentNode.removeChild(el);\n    \n            var children = this.find_all('*', el).reverse();\n    \n            for (var i = 0, len = children.length; i < len; i++)\n            {\n                this.off(children[i]);\n    \n                this.trigger_event(children[i], `frontbx:dom:remove`);\n            }\n    \n            this.off(el);\n    \n            this.trigger_event(el, `frontbx:dom:remove`);\n    \n            this.trigger_event(window, `frontbx:dom:remove`, { DOMElement: el });\n        }\n    }\n    /**\n     * Get the current document scroll position\n     *\n     * @access {private}\n     * @return {obj}\n     */\n    _.prototype.scroll_pos = function(context)\n    {\n        if (context && this.is_htmlElement(context))\n        {\n            return {\n                top: context.scrollTop,\n                left: context.scrollLeft\n            };\n        }\n    \n        var doc  = document.documentElement;\n        var top  = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);\n        var left = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);\n        \n        return {\n            top: top,\n            left: left\n        };\n    }\n    /**\n     * Select single node by selector\n     *\n     * @access {public}\n     * @param  {string} selector CSS selector\n     * @param  {DOMElement}   context (optional) (default document)\n     * @return {DOMElement}\n     */\n    _.prototype.find = function(selector, context, includeContextEl)\n    {\n        selector = selector.trim();\n    \n        context = (typeof context === 'undefined' ? document : context);\n    \n        includeContextEl = (typeof includeContextEl === 'undefined' ? false : includeContextEl && context !== document);\n    \n        let fchild = selector.substring(0, 1) === '>';\n        let multi  = selector.includes(',');\n    \n        // Fast\n        if (!fchild && !multi) return selector[0] === '#' ? context.getElementById(selector.substring(1)) : context.querySelector(selector);\n    \n        if (multi) selector = selector.replaceAll(/,\\s?>/g, ', :scope >');\n        \n        if (fchild) selector = `:scope ${selector}`;\n    \n        // Fixes IDs that start with a number - rare\n        if (/\\#\\d/.test(selector)) selector = selector.replaceAll(/(\\#\\d[^ ,]+)/g, '[id=\"$1\"]').replaceAll('[id=\"#', '[id=\"');\n    \n        return context.querySelector(selector);\n    }\n    \n    \n    /**\n     * Select and return all nodes by selector\n     *\n     * @access {public}\n     * @param  {string} selector CSS selector\n     * @param  {DOMElement}   context (optional) (default document)\n     * @return {DOMElement}\n     */\n    _.prototype.find_all = function(selector, context, includeContextEl)\n    {\n        selector = selector.trim();\n    \n        context = (typeof context === 'undefined' ? document : context);\n    \n        includeContextEl = (typeof includeContextEl === 'undefined' ? false : includeContextEl && context !== document);\n    \n        let fchild       = selector.substring(0, 1) === '>';\n        let multi        = selector.includes(',');\n        let hasParent    = context.parentNode; \n        let deleteParent = false;\n    \n        if (includeContextEl)\n        {\n            if (!hasParent)\n            {\n                parent = document.createElement('div');\n                parent.appendChild(context);\n                deleteParent = true;\n            }\n    \n            context = context.parentNode;\n        }\n    \n        if (multi)  selector = selector.replaceAll(/,\\s?>/g, ', :scope >');\n        if (fchild) selector = `:scope ${selector}`;\n    \n        // Fixes IDs that start with a number - rare\n        if (/\\#\\d/.test(selector)) selector = selector.replaceAll(/(\\#\\d[^ ,]+)/g, '[id=\"$1\"]').replaceAll('[id=\"#', '[id=\"');\n    \n        let ret = TO_ARR.call(context.querySelectorAll(selector));\n    \n        if (deleteParent) context.parentNode.removeChild(context);\n    \n        return ret;\n    }\n    /**\n     * Toogle a classname\n     *\n     * @access {public}\n     * @param  {DOMElement}         el         Target element\n     * @param  {string}       className  Class name to toggle\n     */\n    _.prototype.toggle_class = function(DOMElement, className)\n    {    \n        if (this.has_class(DOMElement, className))\n        {\n            this.remove_class(DOMElement, className);\n        }\n        else\n        {\n            this.add_class(DOMElement, className);\n        }\n    }\n    /**\n     * Triggers an event on an element\n     *\n     * @access {public}\n     * @param  {DOMElement}   DOMElement   Target element\n     * @param  {string}       eventName    Event name\n     * @param  {mixed}        data         Extra data to pass to custom events \n     */\n    _.prototype.trigger_event = function(DOMElement, eventName, data)\n    {    \n        if (this.in_array(eventName.toLowerCase(), DOC_EVENTS))\n        {\n            if ('createEvent' in document)\n            {\n                var evt = document.createEvent('HTMLEvents');\n    \n                evt.initEvent(eventName, false, true);\n    \n                DOMElement.dispatchEvent(evt);\n            }\n            else\n            {\n                DOMElement.fireEvent(eventName);\n            }\n        }\n        else\n        {\n            let detail = { DOMElement: DOMElement, name: eventName };\n            \n            if (this.is_object(data))\n            {\n                detail = { ...detail, ...data }\n            }\n            else\n            {\n                detail = { ...detail, state: data };\n            }\n    \n            const event = new CustomEvent(eventName, { detail: detail });\n    \n            DOMElement.dispatchEvent(event);\n    \n            if (eventName.includes(':'))\n            {\n                var events = eventName.split(':').slice(0, -1);\n                var base   = events.shift();\n                var count  = events.length + 1;\n    \n                this.for(count, function(i)\n                {\n                    let subevent = i === (count -1) ? base : `${base}:${events.join(':')}`;\n    \n                    detail.name = eventName;\n    \n                    const evt = new CustomEvent(subevent, { detail: detail });\n    \n                    DOMElement.dispatchEvent(evt);\n    \n                    events.pop();\n                });\n            }\n        }\n    }\n    /**\n     * Traverse up dom tree.\n     *\n     * @access {public}\n     * @param  {DOMElement}   DOMElement Target element\n     * @param  {Function}     callback   callback\n     */\n    _.prototype.traverse_up = function(DOMElement, callback)\n    {    \n        // Stop on document\n        if (DOMElement === document || this.is_undefined(DOMElement) || DOMElement === null) return;\n    \n        let response = callback(DOMElement, DOMElement.tagName.toLowerCase(), DOMElement.className);\n    \n        if (response)\n        {\n            return DOMElement;\n        }\n        else if (response === false)\n        {\n            return;\n        }\n    \n        return this.traverse_up(DOMElement.parentNode, callback);\n    }\n    \n    /**\n     * Traverse down dom tree.\n     *\n     * @access {public}\n     * @param  {DOMElement}   DOMElement Target element\n     * @param  {Function}     callback   callback\n     */\n    _.prototype.traverse_down = function(DOMElement, callback, includeText)\n    {\n        includeText = typeof includeText === 'undefined' ? false : includeText;\n    \n        if (this.is_undefined(DOMElement) || DOMElement === null) return;\n    \n        let ret;\n    \n        this.each(Array.prototype.slice.call(includeText ? DOMElement.childNodes : DOMElement.children), (i, child) => \n        {\n            if (includeText && (child.nodeType !== 1 && child.nodeType !== 3)) return;\n    \n            let response = callback(child, child.tagName ? child.tagName.toLowerCase() : null, child.className);\n    \n            if (response || response === false)\n            {\n                ret = response === false ? undefined : child;\n    \n                return false;\n            }\n    \n            response = this.traverse_down(child, callback, includeText);\n    \n            if (response || response === false)\n            {\n                ret = response === false ? undefined : child;\n    \n                return false;\n            }\n        });\n    \n        return ret;\n    }\n    \n    /**\n     * Traverse next siblings.\n     *\n     * @access {public}\n     * @param  {DOMElement}   DOMElement Target element\n     * @param  {Function}     callback   callback\n     */\n    _.prototype.traverse_next = function(DOMElement, callback)\n    {\n        allNodes = typeof allNodes === 'undefined' ? false : allNodes;\n    \n        // Stop on document\n        if (DOMElement === document || this.is_undefined(DOMElement) || DOMElement === null) return;\n    \n        let response = callback(DOMElement, DOMElement.tagName.toLowerCase(), DOMElement.className);\n    \n        if (response)\n        {\n            return DOMElement;\n        }\n        else if (response === false)\n        {\n            return;\n        }\n    \n        return this.traverse_next(DOMElement.nextSibling, callback);\n    }\n    \n    /**\n     * Traverse previous siblings.\n     *\n     * @access {public}\n     * @param  {DOMElement}   DOMElement Target element\n     * @param  {Function}     callback   callback\n     */\n    _.prototype.traverse_prev = function(DOMElement, callback)\n    {\n        // Stop on document\n        if (DOMElement === document || this.is_undefined(DOMElement) || DOMElement === null) return;\n    \n        let response = callback(DOMElement, DOMElement.tagName.toLowerCase(), DOMElement.className);\n    \n        if (response)\n        {\n            return DOMElement;\n        }\n        else if (response === false)\n        {\n            return;\n        }\n    \n        return this.traverse_prev(DOMElement.previousSibling, callback);\n    }\n    \n    /**\n     * Get an element's actual width in px\n     *\n     * @access {public}\n     * @param  {DOMElement}   DOMElement Target element\n     * @return {object}\n     */\n    _.prototype.width = function(DOMElement, borderBox)\n    {\n    \tif (DOMElement === window || DOMElement === document || DOMElement === document.documentElement ) return Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\n    \n    \tif (borderBox)\n        {\n            let w    = parseInt(this.rendered_style(DOMElement, 'width'));\n            let padL = parseInt(this.rendered_style(DOMElement, 'padding-left'));\n            let padR = parseInt(this.rendered_style(DOMElement, 'padding-right'));\n    \n            return parseInt(w - padL - padR);\n        }\n    \n        return this.css_unit_value(this.rendered_style(DOMElement, 'width'));\n    }\n    /**\n     * Get an element's actual height in px\n     *\n     * @access {public}\n     * @param  {DOMElement}   DOMElement Target element\n     * @return {object}\n     */\n    _.prototype.height = function(DOMElement, borderBox)\n    {\n        if (DOMElement === window || DOMElement === document || DOMElement === document.documentElement) return Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);\n    \n        if (borderBox)\n        {\n            let h    = parseInt(this.rendered_style(DOMElement, 'height'));\n            let padT = parseInt(this.rendered_style(DOMElement, 'padding-top'));\n            let padB = parseInt(this.rendered_style(DOMElement, 'padding-bottom'));\n    \n            return parseInt(h - padT - padB);\n        }\n    \n        return this.css_unit_value(this.rendered_style(DOMElement, 'height'));\n    }\n    /**\n     * Returns nth child\n     *\n     * @access {public}\n     * @param  {DOMElement}   el   Target element\n     * @return {node\\null}\n     */\n    _.prototype.nth_child = function(el, n)\n    {\n        let children = this.first_children(el);\n    \n        if (children[n]) return children[n];\n    }\n    /**\n     * Returns nth position from siblings\n     *\n     * @access {public}\n     * @param  {DOMElement}   el   Target element\n     * @return {node\\null}\n     */\n    _.prototype.sibling_index = function(DOMElement)\n    {\n        let children = this.first_children(DOMElement.parentNode);\n    \n        for (var i = 0; i < children.length; i++)\n        {\n            if (children[i] === DOMElement) return i;\n        }\n    \n        return 0;\n    }\n    /**\n     * Add an event listener\n     *\n     * @access {public}\n     * @param  {DOMElement}    element    The target DOM node\n     * @param  {string}        eventName  Event type\n     * @param  {closure}       handler    Callback event\n     * @param  {array}         args       Args to pass to handler (first array element gets set to \"this\")\n     * @param  {boolean}       pushfirst  If boolean (true) is provided, pushes callback to first in stack (default false)\n     */\n    _.prototype.on = function(DOMElement, eventName, handler)\n    {    \n        var args = TO_ARR.call(arguments);\n    \n        // Multiple elements\n        if (this.is_array(DOMElement))\n        {\n            var baseArgs = args.slice(1);\n    \n            this.each(DOMElement, function(i, el)\n            {            \n                this.on.apply(this, [el, ...baseArgs]);\n    \n            }, this);\n        }\n        else\n        {\n            // If event has a comma or is an array we're doing multiple events\n            if (this.is_array(eventName) || eventName.includes(','))\n            {\n                let eventsArr = this.is_array(eventName) ? eventName : eventName.split(',').map((x) => x.trim()).filter((x) => x !== '');\n    \n                this.each(eventsArr, function(i, event)\n                {\n                    args[1] = event;\n    \n                    this.on.apply(this, args);\n                    \n                }, this);\n    \n                return;\n            }\n    \n            // If array of arguments is provided, \"this\" will always be the first\n            // argument provided\n            // However the first and second argument passed to the callback will always the event object and the element\n            // e.g. on(el, 'click', callback, ['baz', 'foo', 'bar']) -> callback(e, el, foo, bar) this = 'baz'\n    \n            // Remove element, eventName, handler from args\n            let argsNormal = this.__normaliseListenerArgs(DOMElement, args);\n    \n            this.__addListener(DOMElement, eventName, handler, argsNormal.thisArg, argsNormal.args, argsNormal.pushFirst);\n        }\n    }\n    \n    /**\n     * Nomralize event listener args\n     * \n     * @param  {DOMElement}    DOMElement   The target DOM node\n     * @param  {array}         args         Args passed to 'on' or 'off'\n     */\n    _.prototype.__normaliseListenerArgs = function(DOMElement, args)\n    {\n        // Remove DOMElement, eventName, handler\n        args = args.slice(3);\n    \n        // Default \"this\" to the dom element\n        let thisArg   = DOMElement;\n        let pushFirst = false;\n    \n        // Push first\n        if (!this.is_empty(args))\n        {\n            thisArg   = args.shift();\n            pushFirst = this.bool(args.shift());\n        }\n    \n        return {args, thisArg, pushFirst};\n    }\n    \n    /**\n     * Adds a listener to the element\n     *\n     * @access {private}\n     * @param  {DOMElement}    element    The target DOM node\n     * @param  {string}  eventName  Event type\n     * @param  {closure} handler    Callback event\n     * @param  {bool}    data Use capture (optional) (defaul false)\n     */\n    _.prototype.__addListener = function(element, eventName, callback, thisArg, args, pushFirst)\n    {\n        // Apply GUID to element and callback\n        element.guid = element.guid || (element.guid = this._guidgen());\n        callback.guid    = callback.guid || (callback.guid = this._guidgen());\n    \n        let hasHandler = true;\n        let guid       = element.guid;\n    \n        // Make sure an array for event type exists\n        if (!this._events[guid])\n        {\n            hasHandler = false;\n    \n            this._events[guid] = {};\n        }\n    \n        if (!this._events[guid][eventName])\n        {\n            hasHandler = false;\n    \n            this._events[guid][eventName] = [];\n        }\n    \n        // Push the details to the events object\n        const handlerObj = {callback, thisArg, args, element};\n        \n        pushFirst ? this._events[guid][eventName].unshift(handlerObj) : this._events[guid][eventName].push(handlerObj);\n    \n        if (!hasHandler)\n        {\n            element.addEventListener(eventName, this.__event_dispatcher);\n        }\n    }\n    \n    /**\n     * Event dispatcher\n     *\n     * @access {private}\n     * @param  {eventObject}  e  \n     */\n    _.prototype.__event_dispatcher = function(e)\n    {\n        e = e || window.event;\n    \n        let DOMElement = this;\n    \n        let guid = DOMElement.guid;\n    \n        if (!guid) return;\n    \n        let callbacks =  _THIS._events[guid][e.type] || [];\n    \n        _THIS.each(callbacks, (i, handler) =>\n        {        \n            if (handler)\n            {\n                let handled = handler.callback.apply(handler.thisArg, [e, DOMElement, ...handler.args]);\n    \n                if (handled === false || handled === null)\n                {\n                    e.preventDefault();\n    \n                    e.stopPropagation();\n    \n                    if (handled === null) return false;\n                }\n            }\n        });\n    }\n    \n    /**\n     * Remove an event listener\n     *\n     * @access {public}\n     * @param  {DOMElement}    element    The target DOM node\n     * @param  {string}        eventName  Event type\n     * @param  {closure}       handler    Callback event\n     * @param  {array}         args       Args to pass to handler (first array element gets set to \"this\")\n     * @param  {boolean}       pushfirst  If boolean (true) is provided, pushes callback to first in stack (default false)\n     */\n    _.prototype.off = function(DOMElement, eventName, handler)\n    {\n        var args = TO_ARR.call(arguments);\n    \n        if (this.is_array(DOMElement))\n        {\n            var baseArgs = args.slice(1);\n    \n            this.each(DOMElement, function(i, el)\n            {            \n                this.off.apply(this, [el, ...baseArgs]);\n            \n            }, this);\n        }\n        else\n        {\n            // If the eventName name was not provided - remove all event handlers on element\n            if (!eventName)\n            {\n                return this.__remove_element_listeners(DOMElement);\n            }\n    \n            // If event has a comma or is an array we're doing multiple events\n            if (this.is_array(eventName) || eventName.includes(','))\n            {\n                let eventsArr = this.is_array(eventName) ? eventName : eventName.split(',').map((x) => x.trim()).filter((x) => x !== '');\n    \n                this.each(eventsArr, function(i, event)\n                {\n                    args[1] = event;\n    \n                    this.off.apply(this, args);\n                    \n                }, this);\n    \n                return;\n            }\n    \n            // If the callback was not provided - remove all events of the type on the element\n            if (!handler)\n            {\n                return this.__remove_element_type_listeners(DOMElement, eventName);\n            }\n            \n            let guid = DOMElement.guid;\n    \n            // Nothing to remove\n            if (!guid) return;\n    \n            let handlers = this.array_get(`${guid}.${eventName}`, this._events);\n    \n            // Nothing to remove\n            if (!handlers) return;\n    \n            // Loop stored events and match node, event name, handler, use capture\n            this.each(handlers, function(i, _handler)\n            {            \n                if (_handler.callback.guid === handler.guid || this.is_equal(_handler.callback, handler))\n                {\n                    this._events[guid][eventName].splice(i, 1);\n    \n                    if (this.is_empty(this._events[guid][eventName]))\n                    {\n                        delete this._events[guid][eventName];\n    \n                        this.__remove_listener(DOMElement, eventName);\n                    }\n    \n                    if (this.is_empty(this._events[guid]))\n                    {\n                        delete this._events[guid];\n                    }\n                    \n                    // Break only remove first\n                    return false;\n                } \n            \n            }, this);\n        }\n    }\n    \n    /**\n     * Removes all registered event listeners on an element\n     *\n     * @access {private}\n     * @param  {DOMElement} DOMElement Target node element\n     */\n    _.prototype.__remove_element_listeners = function(DOMElement)\n    {\n        let guid = DOMElement.guid;\n    \n        if (!guid) return;\n    \n        if (this._events[guid])\n        {\n            this.each(this._events[guid], function(type, callbacks)\n            {\n                this.__remove_listener(DOMElement, type);\n                \n            }, this);\n        }\n    \n        delete this._events[guid];\n    }\n    \n    /**\n     * Removes all registered event listeners of a specific type on an element\n     *\n     * @access {private}\n     * @param  {DOMElement} DOMElement Target node element\n     * @param  {string}     type       Event listener type\n     */\n    _.prototype.__remove_element_type_listeners = function(DOMElement, type)\n    {\n        let guid = DOMElement.guid;\n    \n        if (!guid) return;\n    \n        // Make sure an array for event type exists\n        if (this._events[guid] && this._events[guid][type])\n        {\n            delete this._events[guid][type];\n    \n            this.__remove_listener(DOMElement, type);\n    \n            if (this.is_empty(this._events[guid]))\n            {\n                delete this._events[guid];\n            }\n        }\n    }\n    \n    /**\n     * Removes a listener from the element\n     *\n     * @access {private}\n     * @param  {DOMElement} DOMElement The target DOM node\n     * @param  {string}     eventType  Event type\n     * @param  {closure}    handler    Callback event\n     * @param  {bool}       useCapture Use capture (optional) (defaul false)\n     */\n    _.prototype.__remove_listener = function(DOMElement, eventType)\n    {    \n        DOMElement.removeEventListener(eventType, this.__event_dispatcher);\n    }\n    \n    /**\n     * Removes all event listeners registered by the library\n     *\n     * @access {public}\n     */\n    _.prototype.clear_event_listeners = function(DOMElement, onlyChildren)\n    {\n        DOMElement = this.is_undefined(DOMElement) ? document : DOMElement;\n    \n        onlyChildren = this.is_undefined(onlyChildren) ? false : onlyChildren;\n    \n        if (DOMElement !== document)\n        {\n            let children = this.find_all('*', DOMElement).reverse();\n    \n            this.each(children, (i, child) => this.off(child));\n    \n            if (!onlyChildren) this.off(DOMElement);\n            \n            return;\n        }\n    \n        var events = this._events;\n    \n        let _this = this;\n    \n        _this.each(this._events, (guid, types) =>\n        {\n            _this.each(types, (type, callbacks) =>\n            {\n                let DOMElement = callbacks[0].element;\n                \n                _this.__remove_listener(DOMElement, type);\n            });\n        });\n    \n        this._events = {};\n    \n    \n    \n    }\n    /**\n     * Removes all event listeners registered by the library on nodes\n     * that are no longer part of the DOM tree\n     *\n     * @access {public}\n     */\n    _.prototype.collect_garbage = function()\n    {\n    \n        this.each(this._events, (guid, types) =>\n        {\n            let cleared = false;\n    \n            this.each(types, (type, callbacks) =>\n            {\n                let DOMElement = callbacks[0].element;\n                \n                if (!this.in_dom(DOMElement))\n                {\n                    cleared = true;\n    \n                    this.__remove_listener(DOMElement, type);\n                }\n            });\n    \n            if (cleared) delete this._events[guid];\n        });\n    }\n    /**\n     * Removes event listeners on a DOM node\n     *\n     * If no element given, all attached event listeners are returned.\n     * If no event name is given, all attached event listeners are returned on provided element.\n     * If single arguement is provided and arg is a string, e.g 'click', all events of that type are returned\n     * \n     * @access {public}\n     * @param  {mixed}   element    The target DOM node\n     * @param  {string}  eventName  Event type\n     * @return {array}\n     */\n    _.prototype.event_listeners = function(DOMElement, eventName)\n    {\n        var args = TO_ARR.call(arguments);\n        var ret  = [];\n    \n        // No args, return all events\n        if (args.length === 0)\n        {\n            this.each(this._events, function(guid, types)\n            {\n                this.each(types, function(type, callbacks)\n                {\n                    let summary = callbacks.map( (details) => ({ el: details.element, callback: details.callback, type: type }) );\n    \n                    ret = [...ret, ...summary];\n                });\n    \n            }, this);\n    \n            return ret;\n        }\n        \n        // eventListeners(node) or\n        // eventListeners('click')\n        else if (args.length === 1)\n        {\n            // eventListeners('click')\n            if (this.is_string(DOMElement))\n            {   \n                this.each(this._events, function(guid, types)\n                {\n                    this.each(types, function(type, callbacks)\n                    {\n                        if (type === DOMElement)\n                        {\n                            let summary = callbacks.map( (details) => ({ el: details.element, callback: details.callback, type: type }) );\n    \n                            ret = [...ret, ...summary];\n                        }\n                    });\n    \n                }, this);\n    \n                return ret;\n            }\n            \n            // eventListeners(node)\n            let guid = DOMElement.guid;\n    \n            if (!guid || !this._events[guid]) return ret;\n    \n            this.each(this._events[guid], function(type, callbacks)\n            {\n                let summary = callbacks.map( (details) => ({ el: details.element, callback: details.callback, type: type }) );\n    \n                ret = [...ret, ...summary];\n    \n            }, this);\n    \n            return ret;\n        }\n    \n        // eventListeners(node)\n        let guid = DOMElement.guid;\n    \n        if (!guid || !this._events[guid] || !this._events[guid][eventName]) return ret;\n    \n        this.each(this._events[guid][eventName], function(i, details)\n        {\n            ret.push({ el: details.element, callback: details.callback, type: eventName });\n    \n        }, this);\n    \n        return ret;\n    }\n    /**\n     * Is this a mobile user agent?\n     *\n     * @return {bool}\n     */\n    _.prototype.is_retina = function()\n    {\n        var mediaQuery = \"(-webkit-min-device-pixel-ratio: 1.5),\\\n                          (min--moz-device-pixel-ratio: 1.5),\\\n                          (-o-min-device-pixel-ratio: 3/2),\\\n                          (min-resolution: 1.5dppx)\";\n    \n        if (window.devicePixelRatio > 1)\n        {\n            return true;\n        }\n    \n        if (window.matchMedia && window.matchMedia(mediaQuery).matches)\n        {\n            return true;\n        }\n    \n        return false;\n    }\n    \n    /**\n     * Parse url\n     *\n     * @param  {string}    str       The URL to parse. Invalid characters are replaced by _.\n     * @return {object}\n     */\n    _.prototype.parse_url = function(str)\n    {\n        var ret = {};\n        var url = new URL(str);\n    \n        if (url.search)\n        {\n            var queries = url.search.substring(1).split('&');\n            var qret    = {};\n            \n            this.each(queries, function(i, query)\n            {\n                if (query.includes('='))\n                {\n                    var set   = query.split('=');\n                    var key   = decodeURI(set[0].trim());\n                    var val   = true;\n    \n                    if (set.length === 2)\n                    {\n                        val = set[1].trim();\n                    }\n    \n                    if (key !== '' && val !== '')\n                    {\n                        qret[key] = val;\n                    }\n                }\n                else\n                {\n                    qret[query] = true;\n                }\n            });\n    \n            url.query = qret;\n        }\n    \n        return url;\n    }\n    /**\n     * Gets url query\n     *\n     * @access {public}\n     * @param  {string}  name String query to get (optional)\n     * @return {object|string}\n     */\n    _.prototype.url_query = function(name)\n    {\n        var results = {};\n    \n        if (window.location.search !== '')\n        {\n            var params = window.location.search.substring(1).split('&');\n    \n            for (var i = 0; i < params.length; i++)\n            {\n                if (!params[i].includes('='))\n                {\n                    continue;\n                }\n    \n                var split = params[i].split('=');\n    \n                results[decodeURIComponent(split[0])] = decodeURIComponent(split[1]);\n            }\n        }\n    \n        // No param return all url query\n        if (typeof name === 'undefined')\n        {\n            return results;\n        }\n    \n        name = decodeURIComponent(name);\n    \n        if (name in results)\n        {\n            return results[name];\n        }\n    \n        return false;\n    }\n    /**\n     * Normalises a url\n     *\n     * @access {public}\n     * @param  {string}  url The url to normalise\n     * @return {string}\n     */\n    _.prototype.normalize_url = function(url)\n    {\n        // Remove www.\n        if (url.startsWith('www.') || url.includes('//www.')) url = url.replace('www.', '');\n    \n        // Back dirs\n        if (url.startsWith('../'))\n        {\n            let paths = this.parse_url(this.trim(window.location.href, '/')).pathname.split('/');\n    \n            if (!this.is_empty(paths))\n            {\n                // Remove file\n                if (paths.slice(-1).includes('.')) paths.pop();\n    \n                let backs = url.split('../').length;\n    \n                this.for(backs, () => paths.pop());\n    \n                url = '/' + this.trim(`${paths.join('/')}/${url.replace(/\\.\\.\\//g, '')}`, '/');\n            }\n        }\n    \n        // Local\n        if (url[0] === '/') url = window.location.origin + url;\n    \n        // Add protocol\n        if (!url.startsWith('https') && !url.startsWith('http')) url = `${window.location.protocol}//${url}`;\n    \n        return url;\n    }\n    /**\n     * Clones any variables\n     * \n     * @param   {mixed}  mixed_var\n     * @param   {mixed}  context   Context to bind functions\n     * @returns {mixed}\n     */\n    _.prototype.clone_deep = function(mixed_var, context)\n    {\n        return this.__clone_var(mixed_var, this.is_undefined(context) ? mixed_var : context);\n    }\n    \n    /**\n     * Clone's variable with context.\n     * \n     * @param   {mixed}  mixed_var  Variable to clone\n     * @param   {mixed}  context    Context when cloning recursive objects and arrays.\n     * @returns {mixed}\n     */\n    _.prototype.__clone_var = function(mixed_var, context)\n    {\n        let tag = this.var_type(mixed_var);\n    \n        switch (tag)\n        {\n            case OBJECT_TAG:\n                return this.__clone_obj(mixed_var, context);\n    \n            case ARRAY_TAG:\n            case NODELST_TAG:\n            case ARGS_TAG:\n                return this.__clone_array(mixed_var, context);\n    \n            case FUNC_TAG:\n                return this.__clone_func(mixed_var);\n    \n            case NULL_TAG:\n                return null;\n    \n            case UNDEF_TAG:\n                return;\n    \n            case BOOL_TAG:\n                return mixed_var === true ? true : false;\n    \n            case STRING_TAG:\n                return mixed_var.slice();\n    \n            case NUMBER_TAG:\n                let n = mixed_var;\n                return n;\n    \n            case REGEXP_TAG:\n                return this.__clone_RegExp(mixed_var, context);\n    \n            case SYMBOL_TAG:\n                return this.__clone_symbol(mixed_var);\n    \n            case DATE_TAG:\n                return this.__clone_date(mixed_var);\n    \n            case SET_TAG:\n                return this.__clone_set(mixed_var, context);\n    \n            case MAP_TAG:\n                return this.__clone_map(mixed_var, context);\n    \n            case ARRAY_BUFFER_TAG:\n                return this.__clone_array_buffer(mixed_var);\n    \n            case DATAVIEW_TAG:\n                return this.__clone_data_view(mixed_var);\n    \n            case ARRAY_BUFFER_TAG:\n                return this.__clone_buffer(mixed_var);\n    \n            case FLOAT32_TAG:\n            case FLOAT64_TAG:\n            case INT8_TAG:\n            case INT16_TAG:\n            case INT32_TAG:\n            case UINT8_TAG:\n            case UINT8CLAMPED_TAG:\n            case UINT16_TAG:\n            case UINT32_TAG:\n                return this.__clone_typed_array(object);\n    \n            case ERROR_TAG:\n            case WEAKMAP_TAG:\n                return {};\n        }\n    \n        return mixed_var;\n    }\n    \n    /**\n     * Clones an object\n     * \n     * @param   {object}  obj\n     * @returns {object}\n     */\n    _.prototype.__clone_obj = function(obj, context)\n    {\n        // Shallow keys\n        let keys = this.object_props(obj);\n    \n        let ret  = {};\n    \n        // Empty object\n        if (keys.length === 0 || this.is_empty(obj))\n        {\n            return ret;\n        }\n    \n        this.each(keys, (i, key) => ret[key] = this.clone_deep(obj[key], context));\n        \n        // Clone prototypes\n        let protos = this.prototypes(obj);\n    \n        if (protos.length >= 1)\n        {\n            let curr = ret;\n    \n            while(protos.length > 0)\n            {\n                let proto        = protos.shift();\n                let clone        = this.clone_deep(proto, context);\n                clone.constrctor = this.clone_deep(proto.constructor, context);\n                \n                Object.setPrototypeOf(curr, clone);\n                \n                curr = clone;\n            }\n        }\n    \n        return ret;\n    }\n    \n    /**\n     * Clones a function\n     * \n     * @param   {function}  function\n     * @param   {mixed}     context   Context to bind function\n     * @returns {function}\n     */\n    _.prototype.__clone_func = function(func)\n    {\n        let statics = this.object_props(func, true);\n    \n        if (!this.is_constructable(func))\n        {\n            let bound = this.bind(func);\n    \n            this.each(statics, (i, method) => bound[method] = func[method] ? this.bind(func[method]) : null);\n    \n            return bound;\n        }\n    \n        let bound = function()\n        {\n            this.super(...arguments)\n        }\n    \n        this.each(statics, (i, method) => bound[method] = this.bind(func[method]));\n    \n        return this.extend(func, bound);\n    }\n    \n    /**\n     * Clones an array\n     * \n     * @param   {array}  arr\n     * @returns {array}\n     */\n    _.prototype.__clone_array = function(arr, context)\n    {\n        let ret = [];\n    \n        this.each(arr, (i, val) =>\n        {\n            ret[i] = this.clone_deep(val, context);\n        \n        });\n    \n        return ret;\n    }\n    \n    _.prototype.__clone_date = function(d)\n    {\n        let r = new Date();\n    \n        r.setTime(d.getTime());\n    \n        return r;\n    }\n    \n    _.prototype.__clone_symbol = function(symbol)\n    {\n        return Object(Symbol.prototype.valueOf.call(symbol));\n    }\n    \n    _.prototype.__clone_RegExp = function(regexp)\n    {\n        let reFlags = /\\w*$/;\n    \n        let result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n    \n        result.lastIndex = regexp.lastIndex;\n    \n        return result;\n    }\n    \n    _.prototype.__clone_map = function(m, context)\n    {\n        const ret = new Map();\n    \n        m.this.each((v, k) =>\n        {\n            ret.set(k, this.clone_deep(v, context));\n        \n        }, this);\n    \n        return ret;\n    }\n    \n    _.prototype.__clone_set = function(s, context)\n    {\n        const ret = new Set();\n    \n        s.this.each((val, k) =>\n        {\n            ret.add(k, this.clone_deep(v, context));\n        \n        });\n    \n        return ret;\n    }\n    \n    _.prototype.__clone_array_buffer = function(arrayBuffer)\n    {\n        const result = new arrayBuffer.constructor(arrayBuffer.byteLength)\n    \n        new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n    \n        return result;\n    }\n    \n    _.prototype.__clone_data_view = function(dataView)\n    {\n        const buffer = this.__clone_array_buffer(dataView.buffer);\n    \n        return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n    }\n    \n    /**\n     * Creates a clone of `buffer`.\n     *\n     * @param   {Buffer}   buffer   The buffer to clone.\n     * @param   {boolean} [isDeep]  Specify a deep clone.\n     * @returns {Buffer}   Returns  the cloned buffer.\n     */\n    _.prototype.__clone_buffer = function(buffer)\n    {\n        const length = buffer.length;\n    \n        const result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n    \n        buffer.copy(result);\n    \n        return result;\n    }\n    \n    /**\n     * Creates a clone of `typedArray`.\n     *\n     * @private\n     * @param {Object} typedArray The typed array to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned typed array.\n     */\n    _.prototype.__clone_typed_array = function(typedArray)\n    {\n        const buffer = this.__clone_array_buffer(typedArray.buffer);\n    \n        return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n    }\n    \n    /**\n     * Binds a function so that it can be identified.\n     * \n     * @param   {function}  func    Function to bind\n     * @param   {mixed}     context Context to bind \"this\"\n     * @returns {function}\n     */\n    _.prototype.bind = function(func, context)\n    {\n        context = typeof context === 'undefined' ? (window || global) : context;\n    \n        const bound = function()\n        {\n            return func.apply(context, arguments);\n        }\n    \n        Object.defineProperty(bound, 'name', { value: func.name });\n    \n        bound.__isBound      = true;\n        bound.__boundContext = context;\n        bound.__origional    = func;\n    \n        return bound;\n    }\n    /**\n     * Extends a function with prototype inheritance.\n     *\n     * @param   {function}           superType    Base function to extend\n     * @param   {function}           subType  Function to get extended.\n     * @param   {undefined|boolean}  callSuper   If true \"subType\" is treated as a constructor and the superType / any nested prototypes will get instantiated. (default true)\n     * @returns {function}\n     */\n    _.prototype.extend = function(base, extension)\n    {\n        const _this = this;\n    \n        function proxySuper(superFn, fn)\n        {\n            return function()\n            {\n                var tmp = this.super;\n                \n                this.super = superFn;\n                \n                var ret = fn.apply(this, arguments);\n                \n                this.super = tmp;\n    \n                return ret;\n            }\n        }\n    \n        function Class() {}\n    \n        Class.extend = function(protoProps)\n        {\n            var parent = this, _super = parent.prototype, child;\n    \n            if (protoProps && protoProps.hasOwnProperty('constructor'))\n            {\n                child = proxySuper(parent, protoProps.constructor);\n                \n                delete protoProps.constructor; // remove constructor\n            }\n            else\n            {\n                child = function()\n                {\n                    parent.apply(this, arguments);\n                };\n            }\n    \n            var prototype = Object.create(parent.prototype,\n            {\n                constructor:\n                {\n                    value: child,\n                    enumerable: false,\n                    writable: true,\n                    configurable: true\n                }\n            });\n    \n            for (var name in protoProps)\n            {\n                prototype[name] = _this.is_function(protoProps[name]) && _this.is_function(_super[name]) && /\\bsuper\\b/.test(protoProps[name])\n                ? proxySuper(_super[name], protoProps[name]) : protoProps[name];\n            }\n    \n            child.prototype = prototype;\n            child.extend = Class.extend;\n    \n            return child;\n        };\n    \n        if (this.var_type(base) !== this.var_type(extension)) throw new Error('Extended variables need to be the same type.');\n    \n        if (this.is_object(base)) return this.extend_obj(base, extension);\n    \n        const baseProto   = base.prototype;\n        const extendProto = extension.prototype;\n    \n        if (!baseProto.hasOwnProperty('constructor')) baseProto['constructor'] = base;\n       \n        if (!extendProto.hasOwnProperty('constructor')) extendProto['constructor'] = extension;\n        \n        var b = Class.extend(baseProto);\n    \n        var e = b.extend(extendProto);\n    \n        Object.defineProperty(e, 'name', { value: extension.name, writable: false });\n    \n        return e;\n    }\n    \n    /**\n     * Extends a function with prototype inheritance.\n     *\n     * @param   {function}           superType    Base function to extend\n     * @param   {function}           subType  Function to get extended.\n     * @param   {undefined|boolean}  callSuper   If true \"subType\" is treated as a constructor and the superType / any nested prototypes will get instantiated. (default true)\n     * @returns {function}\n     */\n    _.prototype.extend_obj = function(base, extension)\n    {\n        const extProto  = this.prototypes(extension);\n        const baseProto = this.prototypes(base);\n    \n        // Plain objects\n        if (this.is_empty(extProto) && this.is_empty(baseProto)) return {...base, ...extension};\n    \n        const newProto = new (function() {});\n        \n        Object.setPrototypeOf(newProto, base);\n    \n        this.each(extProto, (i, proto) =>\n        {\n            this.each(proto, (k, v) =>\n            {\n                newProto[k] = v;\n            })\n    \n        }, this);\n    \n        Object.defineProperty(newProto, 'name', { value: 'Class', writable: false });\n    \n        Object.setPrototypeOf(extension, newProto);\n    \n        return extension;\n    }\n    \n    \n    /**\n     * Joins an object into a string\n     * \n     * @param   {Object} obj       Object\n     * @param   {string} seperator Seperator Between key & value\n     * @param   {string} glue      Glue between value and next key\n     * @returns {string} \n     */\n    _.prototype.join_obj = function(obj, seperator, glue, recursive, trimLast)\n    {\n        seperator = this.is_undefined(seperator) ? '' : seperator;\n        glue      = this.is_undefined(glue) ? '' : glue;\n        recursive = this.is_undefined(recursive) ? false : recursive;\n        trimLast  = this.is_undefined(trimLast)  ? true : trimLast;\n        \n        var ret = '';\n    \n        this.each(obj, function(key, val)\n        {\n            if (this.is_object(val))\n            {\n                val = recursive ? '{' + this.join_obj(val, seperator, glue, recursive, trimLast) + '}' : {};\n            }\n            else if (this.is_array(val))\n            {\n                val = recursive ? this.join_obj(val, seperator, glue, recursive, trimLast) : val.join(', ').replaceAll('[object Object]', '{}');\n            }\n            else\n            {            \n                val = `${val}`;\n            }\n    \n            ret += `${glue}${key}${seperator}${val}`;\n    \n        }, this);\n    \n        if (ret === `${glue}${seperator}` || ret.trim() === '') return '';\n    \n        return trimLast ? this.rtrim(this.ltrim(ret, glue), seperator) : this.ltrim(ret, glue).trim() + glue;\n    }\n    /**\n     * Returns object properties and methods as array of keys.\n     * \n     * @param   {mixed}    mixed_var    Variable to test\n     * @param   {boolean}  withMethods  Return methods and props (optional) (default \"true\")\n     * @returns {array}\n     */\n    _.prototype.object_props = function(mixed_var, deep)\n    {\n        if (!mixed_var) return [];\n    \n        deep = typeof deep === 'undefined' ? false : deep;\n        \n        let keys = deep ?this.array_unique([...Object.keys(mixed_var), ...Object.getOwnPropertyNames(mixed_var)]) : Object.keys(mixed_var);\n    \n        if (deep)\n        {\n            let protos = this.prototypes(mixed_var);\n    \n            this.each(protos, (i, proto) => keys = [...keys, ...this.object_props(proto, true)] );\n        }\n        \n        return this.array_unique(keys.filter((key) => !EMPTY_OBJ_KEYS.includes(key) && !FORBIDDEN_OBJ_KEYS.includes(key)));\n    }\n    \n    /**\n     * Returns an array of prototypes\n     * \n     * @param   {mixed}    mixed_var    Variable to test\n     * @param   {boolean}  withMethods  Return methods and props (optional) (default \"true\")\n     * @returns {array}\n     */\n    _.prototype.prototypes = function(mixed_var)\n    {\n        let ret = [];\n    \n        if (!mixed_var) return ret;\n    \n        const _this = this;\n    \n        const recursive = function(obj)\n        {\n            let proto = obj.prototype || Object.getPrototypeOf(obj);\n    \n            // No prototype\n            if (!proto) return;\n    \n            // Prototype is native object\n            let protokeys = Object.getOwnPropertyNames(proto);\n    \n            if (protokeys.filter(x => !EMPTY_OBJ_KEYS.includes(x)).length === 0) return;\n    \n            ret.push(proto);\n    \n            recursive(proto);\n        }\n    \n        recursive(mixed_var);\n    \n        return ret;\n    }\n    \n    \n    /**\n     * Returns object properties and methods as array of keys.\n     * \n     * @param   {mixed}    mixed_var    Variable to test\n     * @param   {boolean}  withMethods  Return methods and props (optional) (default \"true\")\n     * @returns {array}\n     */\n    _.prototype.flatten_obj = function(obj, deep)\n    {\n        deep = typeof deep === 'undefined' ? false : deep;\n    \n        var ret = {};\n    \n        this.each(obj, (k,v) => ret[k] = v);\n       \n        if (deep)\n        {\n            let proto = mixed_var.prototype || Object.getPrototypeOf(mixed_var);\n    \n            ret = {...ret, ...this.flatten_obj(proto, true)};\n        }\n        \n        return ret;\n    }\n    _.prototype.camel_case_to_hyphen = function(str)\n    {\n        if (str === str.toLowerCase()) return str;\n        \n        return str.replace(/([a-z])([A-Z])/g, '$1-$2').replace(/\\b([A-Z]+)([A-Z])([a-z])/, '$1-$2$3').toLowerCase();\n    }\n    /**\n     * Json encode\n     * \n     * @param  {mixed} str String JSON\n     * @return {object|false}\n     */\n    _.prototype.json_decode = function(str)\n    {\n        var obj;\n        try\n        {\n            obj = JSON.parse(str);\n        }\n        catch (e)\n        {\n            return false;\n        }\n        return obj;\n    }\n    /**\n     * Json encode\n     * \n     * @param  {mixed} str String JSON\n     * @return {object|false}\n     */\n    _.prototype.json_encode = function(str)\n    {\n        var obj;\n        try\n        {\n            obj = JSON.stringify(str);\n        }\n        catch (e)\n        {\n            return false;\n        }\n        return obj;\n    }\n    /**\n     * Left trim string \n     * \n     * @param  {str}           str\n     * @return {array|string} charlist (optional)\n     */\n    _.prototype.ltrim = function(str, charlist)\n    {\n        // Special fast cases\n        if (!charlist) return str.trimStart();\n    \n        if (this.is_string(charlist))\n        {\n            return str.slice(0, charlist.length) === charlist ? str.replace(charlist, '') : str;\n        }\n    \n        var ret = str;\n    \n        this.each(charlist, function(i, char)\n        {\n            if (str.slice(0, char.length) === char)\n            {\n                ret = str.replace(char, '');\n                \n                // break            \n                return false;\n            }\n    \n        }, this);\n    \n        return ret;\n    }\n    \n    \n    /**\n     * Make a random string\n     *\n     * @param  {int}    length String length\n     * @return {string}\n     */\n    _.prototype.makeid = function(length)\n    {\n        var text = \"\";\n        var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\";\n    \n        for (var i = 0; i < length; i++)\n        {\n            text += possible.charAt(Math.floor(Math.random() * possible.length))\n        }\n    \n        return text;\n    }\n    /**\n     * Left trim string \n     * \n     * @param  {str}           str\n     * @return {array|string} charlist (optional)\n     */\n    _.prototype.rtrim = function(str, charlist)\n    {\n        if (!charlist) return str.trimEnd();\n    \n        if (this.is_string(charlist))\n        {\n            let len = charlist.length; \n    \n            return str.slice(-len) === charlist ? str.slice(0, -len) : str;\n        }\n    \n        var ret = str;\n    \n        this.each(charlist, function(i, chars)\n        {\n            var len = chars.length;\n    \n            if (str.slice(-len) === chars)\n            {\n                ret = str.slice(0, -len);\n    \n                return false;\n            }\n    \n        }, this);\n    \n        return ret;\n    }\n    _.prototype.to_camel_case = function(str)\n    {\n        str = str.trim();\n    \n        // Shouldn't be changed\n        if (!str.includes(' ') && !str.includes('-') && /[A-Z]/.test(str))\n        {\n            return str;\n        }\n    \n        return str.toLowerCase().replace(/['\"]/g, '').replace(/\\W+/g, ' ').replace(/ (.)/g, function($1)\n        {\n            return $1.toUpperCase();\n        })\n        .replace(/ /g, '');\n    }\n    /**\n     * Left and right trim string.\n     * \n     * @param  {str}           str\n     * @return {array|string} charlist (optional)\n     */\n    _.prototype.trim = function(str, charlist)\n    {\n        if (!charlist) return str.trim();\n    \n        return this.rtrim(this.ltrim(str, charlist), charlist);\n    }\n    /* Capatalize first letter */\n    _.prototype.uc_first = function(string)\n    {\n        return string.charAt(0).toUpperCase() + string.slice(1);\n    }\n    /* Capatalize first letter of all words */\n    _.prototype.ucwords = function(str)\n    {\n        return (str + '').replace(/^([a-z\\u00E0-\\u00FC])|\\s+([a-z\\u00E0-\\u00FC])/g, function($1)\n        {\n            return $1.toUpperCase();\n        });\n    }\n    _.prototype.lc_first = function(string)\n    {\n        return string.charAt(0).toLowerCase() + string.slice(1);\n    }\n    /**\n     * String replace\n     * \n     * @param  {str}           str\n     * @return {array|string} charlist (optional)\n     */\n    _.prototype.str_replace = function(str, charlist, value)\n    {\n        if (this.is_string(charlist) || this.is_regexp(charlist))\n        {\n            return str.replaceAll(charlist, value)\n        }\n    \n        this.each(charlist, function(i, char)\n        {\n            str = str.replaceAll(char, value);\n    \n        }, this);\n    \n        return str;\n    }\n    \n    \n    /**\n     * Checks if variable should be considered \"true\" or \"false\" using \"common sense\".\n     * \n     * @param   {mixed} mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.bool = function(mixed_var)\n    {\n        mixed_var = (typeof mixed_var === 'undefined' ? false : mixed_var);\n    \n        if (this.is_bool(mixed_var))\n        {\n            return mixed_var;\n        }\n    \n        if (this.is_number(mixed_var))\n        {\n            return mixed_var > 0;\n        }\n    \n        if (this.is_array(mixed_var))\n        {\n            return mixed_var.length > 0;\n        }\n    \n        if (this.is_object(mixed_var))\n        {\n            return Object.keys(mixed_var).length > 0;\n        }\n    \n        if (this.is_string(mixed_var))\n        {\n            mixed_var = mixed_var.toLowerCase().trim();\n    \n            if (mixed_var === 'false')\n            {\n                return false;\n            }\n            if (mixed_var === 'true')\n            {\n                return true;\n            }\n            if (mixed_var === 'on')\n            {\n                return true;\n            }\n            if (mixed_var === 'off')\n            {\n                return false;\n            }\n            if (mixed_var === 'undefined')\n            {\n                return false;\n            }\n            if (this.is_numeric(mixed_var))\n            {\n                return Number(mixed_var) > 0;\n            }\n            if (mixed_var === '')\n            {\n                return false;\n            }\n        }\n    \n        return false;\n    }\n    \n    /**\n     * Returns function / class name\n     *\n     * @param   {mixed}  mixed_var Variable to evaluate\n     * @returns {string}\n     */\n    _.prototype.callable_name = function(mixed_var)\n    {\n        if (this.is_callable(mixed_var))\n        {\n            return mixed_var.name;\n        }\n        else if (this.is_object(mixed_var))\n        {\n            return mixed_var.constructor.name;\n        }\n    }\n    /**\n     * Count\n     *\n     * @access {public}\n     * @param  {mixed}  mixed_var Variable to count\n     * @return {int}\n     */\n    _.prototype.count = function(mixed_var)\n    {\n        return this.size(mixed_var);\n    }\n    /**\n     * Checks if HtmlElement is in current DOM\n     *\n     * @param   {HTMLElement}  element  Element to check\n     * @returns {boolean}\n     */\n    _.prototype.in_dom = function(element)\n    {\n        // Element types\n        if (element === window || element === document || element === document.body || element === document.documentElement)\n        {\n            return true;\n        }\n    \n        // Not an HTML element\n        if (!this.is_htmlElement(element))\n        {\n            return false;\n        }\n    \n        // No parent node\n        if (!element.parentNode) return false;\n    \n        // Matching by selector is faster than traversing up the\n        // DOM tree - especially if element is deeply nested.\n        let selector = element.tagName.toLowerCase();\n    \n        if (element.id && element.id.trim() !== '')\n        {\n            selector = `#${element.id}`;\n        }\n        else if (element.className && element.className.trim() !== '')\n        {\n            let classNames = this.class_names(element);\n    \n            selector = classNames.length === 1 ? `.${classNames[0]}` : `.${classNames.join('.')}`;\n        }\n        else\n        {\n            let classNames = this.class_names(element.parentNode);\n    \n            if (classNames.length >= 1) selector = classNames.length === 1 ? `.${classNames[0]} ${selector}` : `.${classNames.join('.')} ${selector}`;\n        }\n    \n        let matches = this.find_all(selector);\n    \n        // Fast check\n        if (matches.length === 1 && matches[0] === element) return true;\n    \n        // Loop through\n        let ret = false;\n    \n        this.each(matches, (i, match) =>\n        {\n            if (match === element)\n            {\n                ret = true;\n    \n                return false;\n            }\n        });\n    \n        return ret;\n    }\n    /**\n     * Is args array.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.is_args = function(mixed_var)\n    {\n        return this.var_type(mixed_var) === ARGS_TAG;\n    }\n    /**\n     * Is array.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.is_array = function(mixed_var, strict)\n    {\n        strict = typeof strict === 'undefined' ? false : strict;\n    \n        let type = this.var_type(mixed_var);\n    \n        return !strict ? ARRAYISH_TAGS.includes(type) : type === ARRAY_TAG;\n    }\n    /**\n     * Is bool.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.is_bool = function(mixed_var)\n    {\n        return this.var_type(mixed_var) === BOOL_TAG;\n    }\n    /**\n     * Is Array buffer.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.is_buffer = function(mixed_var)\n    {\n        return this.var_type(mixed_var) === ARRAY_BUFFER_TAG;\n    }\n    /**\n     * Is variable a function / constructor.\n     *\n     * @param   {mixed}  mixed_var  Variable to check\n     * @returns {boolean}\n     */\n    _.prototype.is_callable = function(mixed_var)\n    {\n        return this.is_function(mixed_var);\n    }\n    /**\n     * Checks if variable is a class declaration or extends a class and/or constructable function.\n     *\n     * @param   {mixed}                        mixed_var  Variable to evaluate\n     * @oaram   {string} | undefined | boolean} classname  Classname or strict if boolean provided\n     * @param   {boolean}                      strict     If \"true\" only returns true on ES6 classes (default \"false\")\n     * @returns {boolean}\n     */\n    _.prototype.is_class = function(mixed_var, classname, strict)\n    {\n        // this.is_class(foo, true)\n        if (classname === true || classname === false)\n        {\n            strict = classname;\n            classname = null;\n        }\n        // this.is_class(foo, 'Bar') || this.is_class(foo, 'Bar', false)\n        else\n        {\n            strict = typeof strict === 'undefined' ? false : strict;\n        }\n    \n        if (typeof mixed_var !== 'function' || !this.is_constructable(mixed_var))\n        {\n            return false;\n        }\n    \n        let isES6 = /^\\s*class\\s+\\w+/.test(mixed_var.toString());\n    \n        if (classname)\n        {\n            if (!isES6 && strict)\n            {\n                return false;\n            }\n    \n            if (mixed_var.name === classname || mixed_var.prototype.constructor.name === classname)\n            {\n                return true;\n            }\n    \n            let protos = [];\n            let proto = mixed_var.prototype || Object.getPrototypeOf(mixed_var);\n            let ret = false;\n    \n            while (proto && proto.constructor)\n            {\n                // recursive stopper\n                if (protos.includes.proto)\n                {\n                    break;\n                }\n    \n                protos.push(proto);\n    \n                if (proto.constructor.name === classname)\n                {\n                    ret = true;\n    \n                    break;\n                }\n    \n                proto = proto.prototype || Object.getPrototypeOf(proto);\n            }\n    \n            return ret;\n        }\n    \n        // ES6 class declaration depending on strict\n    \n        return strict ? isES6 : this.is_constructable(mixed_var);\n    }\n    /**\n     * Checks if variable is construable.\n     *\n     * @param   {mixed}  mixed_var  Variable to evaluate\n     * @returns {boolean}\n     */\n    _.prototype.is_constructable = function(mixed_var)\n    {\n        // Not a function\n        if (typeof mixed_var !== 'function' || mixed_var === null)\n        {\n            return false;\n        }\n    \n        // Strict ES6 class\n        if (/^\\s*class\\s+\\w+/.test(mixed_var.toString()))\n        {\n            return true;\n        }\n    \n        // Native arrow functions\n        if (!mixed_var.prototype || !mixed_var.prototype.constructor)\n        {\n            return false;\n        }\n    \n        // If prototype is empty \n        return this.object_props(mixed_var.prototype).length > 0;\n    }\n    /**\n     * Checks if variable is constructed object function.\n     *\n     * @param   {mixed}  mixed_var  Variable to evaluate\n     * @returns {boolean}\n     */\n    _.prototype.is_constructed = function(mixed_var)\n    {\n        if (typeof mixed_var === 'object' && mixed_var.constructor && typeof mixed_var.constructor === 'function')\n        {\n            var constr = mixed_var.constructor.toString().trim();\n            \n            return constr.startsWith('function (') || constr.startsWith('function(') || constr.startsWith('function Object(') || constr.startsWith('class ') ;\n        }\n    \n        return false;\n    }\n    /**\n     * Is dataView obj.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.is_dataview = function(mixed_var)\n    {\n        return this.var_type(mixed_var) === DATAVIEW_TAG;\n    }\n    /**\n     * Is date object.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.is_date = function(mixed_var)\n    {\n        return this.var_type(mixed_var) === DATE_TAG;\n    }\n    /**\n     * Is empty\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.is_empty = function(mixed_var)\n    {\n        if (mixed_var === false || mixed_var === null || (typeof mixed_var === 'undefined'))\n        {\n            return true;\n        }\n        else if (this.is_array(mixed_var))\n        {\n            return mixed_var.length === null || mixed_var.length <= 0;\n        }\n        else if (this.is_object(mixed_var))\n        {\n            if (Object.keys(mixed_var).length > 0) return false;\n    \n            if (this.prototypes(mixed_var).length > 0) return false;\n    \n            return true;\n        }\n        else if (this.is_string(mixed_var))\n        {\n            return mixed_var.trim() === '';\n        }\n        else if (this.is_number(mixed_var))\n        {\n            return isNaN(mixed_var);\n        }\n        else if (this.is_function(mixed_var))\n        {\n            return false;\n        }\n    \n        return false;\n    }\n    /**\n     * Deep check for equal\n     * \n     * @param   {mixed}  a\n     * @param   {mixed}  b\n     * @param   {bool}   strict Strict comparison (optional) (default false)\n     * @returns {bool}\n     * \n     *  * Note that strict set to true would return false in the following:\n     *  is_equal ({ foo : 'bar'}, { foo : 'bar'});\n     */\n    _.prototype.is_equal = function(a, b, strict)\n    {    \n        strict = this.is_undefined(strict) ? false : strict;\n    \n        if ((typeof a) !== (typeof b))\n        {\n            return false;\n        }\n        else if (this.is_string(a) || this.is_number(a) || this.is_bool(a) || this.is_null(a) || this.is_htmlElement(a))\n        {\n            return a === b;\n        }\n        else if (this.is_function(a))\n        {        \n            return strict ? a === b : this.__is_equal_func(a, b);\n        }\n        else if (this.is_array(a) || this.is_object(b))\n        {\n            if (strict)\n            {\n                if (a !== b || this.is_array(a) && !this.is_array(b))\n                {\n                    return false;\n                }\n                \n                return true;\n            }\n            \n            return this.__is_equal_traverseable(a, b);\n        }\n    \n        return true;\n    }\n    \n    /**\n     * Checks if two functions are equal\n     * \n     * @param   {function}  a\n     * @param   {function}  b\n     * @returns {boolean}\n     */\n    _.prototype.__is_equal_func = function(a, b)\n    {\n        // Functions have the same name\n        if (a.name === b.name)\n        {\n            // If the functions were bound or cloned by the library they can technically still be equal\n            if (a.__isBound)\n            {\n                if (!b.__isBound) return false;\n    \n                if (!this.is_equal(a.__boundContext, b.__boundContext)) return false;\n                \n                if (!this.is_equal(a.__origional, b.__origional)) return false;\n            }\n    \n            // Check string\n            if (a.toString() !== b.toString()) return false;\n    \n            // Prototypes are different\n            if (!this.__is_equal_protos(a, b)) return false;\n    \n            return true;\n        }\n    \n        return false;\n    }\n    \n    /**\n     * Checks if object prototypes are equal\n     * \n     * @param   {array} | object}  a\n     * @param   {array} | object}  b\n     * @returns {boolean}\n     */\n    _.prototype.__is_equal_protos = function(a, b)\n    {\n        // Check the prototypes\n        let aProtos = this.prototypes(a);\n        let bProtos = this.prototypes(b);\n    \n        if (aProtos.length !== bProtos.length) return false;\n    \n        if (aProtos.length === 0 && bProtos.length === 0) return true;\n    \n        let ret = true;\n    \n        this.each(aProtos, (i, proto) =>\n        {                \n            if (!this.is_equal(proto, bProtos[i]))\n            {\n                ret = false;\n    \n                return false;\n            }\n    \n        }, this);\n    \n        return ret;\n    }\n    \n    \n    /**\n     * Checks if traversable's are equal\n     * \n     * @param   {array} | object}  a\n     * @param   {array} | object}  b\n     * @returns {boolean}\n     */\n    _.prototype.__is_equal_traverseable = function(a, b)\n    {\n        if (this.size(a) !== this.size(b))\n        {\n            return false;\n        }\n    \n        let ret = true;\n    \n        this.each(a, function(i, val)\n        {\n            if (!this.is_equal(val, b[i]))\n            {\n                ret = false;\n    \n                return false;\n            }\n        }, this);\n    \n        if (!ret) return false;\n    \n        if (this.is_object(a)) return this.__is_equal_protos(a, b);\n    \n        return ret;\n    }\n    \n    /**\n     * Is function.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.is_function = function(mixed_var)\n    {\n        return this.var_type(mixed_var) === FUNC_TAG;\n    }\n    /**\n     * Checks if variable is HTMLElement.\n     *\n     * @param   {mixed}  mixed_var  Variable to evaluate\n     * @returns {boolean}\n     */\n    _.prototype.is_htmlElement = function(mixed_var)\n    {\n        if (mixed_var && mixed_var.nodeType)\n        {\n            let type = this.var_type(mixed_var);\n    \n            return HTML_REGXP.test(type) || type === '[object HTMLDocument]' || type === '[object Text]' || type === '[object Comment]';\n        }\n    \n        return false;\n    }\n    /**\n     * Is valid JSON\n     * \n     * @param  {mixed} str String JSON\n     * @return {object|false}\n     */\n    _.prototype.is_json = function(str)\n    {\n        var obj;\n        try\n        {\n            obj = JSON.parse(str);\n        }\n        catch (e)\n        {\n            return false;\n        }\n        return obj;\n    }\n    \n    \n    /**\n     * Is Map.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.is_map = function(mixed_var)\n    {\n        return this.var_type(mixed_var) === MAP_TAG;\n    }\n    /**\n     * Is node type.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @param   {string} tag        Tag to compare\n     * @returns {boolean}\n     */\n    _.prototype.is_node_type = function(mixed_var, tag)\n    {\n        return mixed_var.tagName.toUpperCase() === tag.toUpperCase();\n    }\n    \n    /**\n     * Is nodelist.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.is_nodelist = function(mixed_var)\n    {\n        return this.var_type(mixed_var) === NODELST_TAG;\n    }\n    /**\n     * Is null.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.is_null = function(mixed_var)\n    {\n        return this.var_type(mixed_var) === NULL_TAG;\n    }\n    /**\n     * Is number.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.is_number = function(mixed_var)\n    {\n        return !isNaN(mixed_var) && this.var_type(mixed_var) === NUMBER_TAG;\n    }\n    /**\n     * Is string.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.is_numeric = function(mixed_var)\n    {\n        if (this.is_number(mixed_var))\n        {\n            return true;\n        }\n        else if (this.is_string(mixed_var))\n        {\n            return /^-?(0|[1-9]\\d*)(\\.\\d+)?$/.test(mixed_var.trim());\n        }\n    \n        return false;\n    }\n    /**\n     * Checks if variable is an object.\n     *\n     * @param   {mixed}  mixed_var Variable to evaluate\n     * @returns {boolean}\n     */\n    _.prototype.is_object = function(mixed_var)\n    {\n        return mixed_var !== null && this.var_type(mixed_var) === OBJECT_TAG;\n    }\n    /**\n     * Is regexp.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.is_regexp = function(mixed_var)\n    {\n        return this.var_type(mixed_var) === REGEXP_TAG;\n    }\n    /**\n     * Is Set.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.is_set = function(mixed_var)\n    {\n        return this.var_type(mixed_var) === SET_TAG;\n    }\n    /**\n     * Is string.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.is_string = function(mixed_var)\n    {\n        return this.var_type(mixed_var) === STRING_TAG;\n    }\n    /**\n     * Is Symbol.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.is_symbol = function(mixed_var)\n    {\n        return this.var_type(mixed_var) === SYMBOL_TAG;\n    }\n    /**\n     * Is undefined.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {boolean}\n     */\n    _.prototype.is_undefined = function(mixed_var)\n    {\n        return this.var_type(mixed_var) === UNDEF_TAG;\n    }\n    /**\n     * Returns array/object/string/number size.\n     * \n     * @param   {mixed}  mixed_var  Variable to test\n     * @returns {number}\n     */\n    _.prototype.size = function(mixed_var)\n    {\n        if (this.is_string(mixed_var) || this.is_array(mixed_var))\n        {\n            return mixed_var.length;\n        }\n        else if (this.is_number(mixed_var))\n        {\n            return mixed_var;\n        }\n        else if (this.is_bool(mixed_var))\n        {\n            return mixed_var === true ? 1 : -1;\n        }\n        else(this.is_object(mixed_var))\n        {\n            return Object.keys(mixed_var).length;\n        }\n    \n        return 1;\n    }\n    \n    /**\n     * Gets the `toStringTag` of `value`.\n     *\n     * @public\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    _.prototype.var_type = function(value)\n    {\n        if (value == null)\n        {\n            return value === undefined ? '[object Undefined]' : '[object Null]'\n        }\n    \n        return TO_STR.call(value);\n    }\n    // Destructor\n    _.prototype.destruct = function()\n    {\n        this.clear_event_listeners();\n    }\n    \n    container.singleton('_', _);\n    \n    })();\n    \n    // frontbx core\n    (function()\n    {\n        const EXCLUDED_SERVICES = ['services','boot','set','singleton','has','delete','get','import','bind','_setproto','_singletonfunc','_isinvokable','_isinvoked','_newinstance','_storeobj','_normalizekey','_is_func'];\n    \n        /**\n         * Application core\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Application = function()\n        {\n            this.version_major = '0';\n    \n            this.version_minor = '0';\n    \n            this.version_patch = '2';\n    \n            this.version = `${this.version_major}.${this.version_minor}.${this.version_patch }`;\n        }\n    \n        /**\n         * Returns registered services.\n         *\n         * @access {public}\n         * @return {Object}\n         */\n        Application.prototype.services = function()\n        {\n            let proto = this.prototype || Object.getPrototypeOf(this);\n    \n            let ret = {};\n    \n            for (let key in proto)\n            {\n                let val = proto[key];\n    \n                if (!EXCLUDED_SERVICES.includes(key.toLowerCase()) && {}.toString.call(val) === '[object Function]')\n                {\n                    ret[key] = val;\n                }\n            }\n    \n            return ret;\n        }\n    \n        /**\n         * Called when the application is first initialized\n         *\n         * @access {public}\n         */\n        Application.prototype.boot = function()\n        {\n            this.dom().boot();\n    \n            this._().trigger_event(window, 'frontbx:ready', this);\n        }\n    \n        /**\n         * Get the DOM component\n         *\n         * @access {public}\n         * @return {object}\n         */\n        Application.prototype.dom = function()\n        {\n            return this.Dom();\n        }\n    \n        container._().trigger_event(window, 'frontbx:loading');\n    \n        FBX_ROOT.frontbx = container._().extend(container, new Application);\n    \n        container = undefined;\n    \n    })();\n    (function()\n    {\n        /**\n         * Utility functions\n         *\n         * @var {Function}\n         */\n        const [each, trigger_event, collect_garbage, is_undefined, is_string, is_htmlElement] = frontbx.import(['each', 'trigger_event', 'collect_garbage', 'is_undefined', 'is_string', 'is_htmlElement']).from('_');\n    \n        /**\n         * DOM Manager\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Dom = function()\n        {\n            this._isReady = false;\n    \n            this.components = [];\n        }\n    \n        /**\n         * Boot Dom\n         *\n         * @access {public}\n         * @param {string} name   Name of the module\n         * @param {object} module Uninvoked module object\n         */\n        Dom.prototype.boot = function()\n        {\n            this._dispatchReady();\n    \n            this._isReady = true;\n        }\n    \n        /**\n         * Register a DOM component\n         *\n         * @access {public}\n         * @param {string} name   Name of the module\n         * @param {object} module Uninvoked module object\n         */\n        Dom.prototype.register = function(name, component)\n        {\n            this.components.push(name);\n    \n            frontbx.singleton(name, component);\n    \n            this._bindComponent(name, document);\n        }\n    \n        /**\n         * Returns a component.\n         *\n         * @access {public}\n         */\n        Dom.prototype.component = function(name)\n        {\n            return frontbx.get(name);\n        }\n    \n        /**\n         * Returns a component.\n         *\n         * @access {public}\n         */\n        Dom.prototype.create = function(name, options, appendTo)\n        {\n            return this.component(name).create(options, appendTo);\n        }\n    \n        /**\n         * Boot Dom\n         *\n         * @access {public}\n         * @param {string} name   Name of the module\n         * @param {object} module Uninvoked module object\n         */\n        Dom.prototype._dispatchReady = function()\n        {\n            trigger_event(window, 'frontbx:dom:ready', {dom: this});\n        }\n    \n        /**\n         * Boot Dom\n         *\n         * @access {public}\n         * @param {string} name   Name of the module\n         * @param {object} module Uninvoked module object\n         */\n        Dom.prototype._dispatchComponent = function(name, event, component, context)\n        {\n            trigger_event(window, `frontbx:dom:${event}:${name}`, { component: component, context: context});\n        }\n    \n        /**\n         * Bind a single module\n         *\n         * @param {string} key Name of module to bind\n         * @access {private}\n         */\n        Dom.prototype._bindComponent = function(name, context, isRefresh)\n        {                \n            let component = frontbx.get(name);\n    \n            if (this._hasMethod(component, 'construct') && isRefresh)\n            {\n                component.construct(context);\n                \n                this._dispatchComponent(name, 'refresh', component, context);\n            }\n    \n            this._dispatchComponent(name, 'bind', component, context);\n        }\n    \n        /**\n         * Unbind a single module\n         *\n         * @param  {string}  key Name of module to unbind\n         * @access {private}\n         */\n        Dom.prototype._unbindComponent = function(name, context)\n        {            \n            let component = frontbx.get(name);\n    \n            if (this._hasMethod(component, 'destruct'))\n            {\n                component.destruct(context);\n            }\n    \n            this._dispatchComponent(name, 'unbind', component, context);\n        }\n    \n        /**\n         * Refresh the DOM modiules or a string module\n         *\n         * @access {public}\n         * @param  {string}               name    Name of the module (optional) (default false)\n         * @param  {DOMElement|undefined} context Context to refresh (default document)\n         */\n        Dom.prototype.refresh = function(component, context)\n        {\n            let globalRefresh = false;\n    \n            // refresh()\n            if (arguments.length === 0)\n            {\n                component = false;\n    \n                context = document;\n    \n                globalRefresh = true;\n            }\n            else\n            {\n                // refresh(DOMElement)\n                if (is_htmlElement(component))\n                {\n                    context  = component;\n                    \n                    component = false;\n    \n                    globalRefresh = true;\n                }\n    \n                // refresh('module')\n                // refresh('module', DOMElement)\n                else if (is_string(component))\n                {\n                    context = is_undefined(context) ? document : context;\n                }\n            }\n    \n            each(this.components, function(i, name)\n            {\n                if (!component || component === name)\n                {\n                    this._unbindComponent(name, context);\n    \n                    this._bindComponent(name, context, true);\n                }\n            }, this);\n    \n            collect_garbage();\n    \n            trigger_event(window, `frontbx:dom:refresh`, { context: context});\n    \n            if (globalRefresh) this._dispatchReady();\n        }\n    \n        /**\n         * Checks if a class object has a method by name\n         *\n         * @access {private}\n         * @param  {mixed}  classObj The object instance or reference\n         * @param  {string} method   The name of the method to check for\n         * @return {bool}\n         */\n        Dom.prototype._hasMethod = function(classObj, method)\n        {\n            return typeof classObj === 'object' && typeof classObj[method] === 'function';\n        }\n    \n        // Load into container and invoke\n        frontbx.singleton('Dom', Dom);\n        \n    })();\n    (function()\n    {\n        const [find_all, each, map, traverse_up, is_empty, array_unique] = frontbx.import(['find_all','each','map','traverse_up','is_empty','array_unique']).from('_');\n    \n        /**\n         * Component base class\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Component = function(selector)\n        {\n            /**\n             * Default props.\n             *\n             * @var {object}\n             */\n            this.defaultProps = !this.defaultProps ? {} : this.defaultProps;\n    \n            /**\n             * Selector.\n             *\n             * @var {string}\n             */\n            this._selector = selector;\n    \n            /**\n             * Dom elements\n             *\n             * @var {array}\n             */\n            this._DOMElements = [];\n    \n            // Init\n            if (!is_empty(this._selector)) this.construct(document);\n    \n            return this;\n        }\n    \n        /**\n         * Module constructor\n         *\n         * @access {public}\n         */\n        Component.prototype.construct = function(context)\n        {\n            if (is_empty(this._selector)) return;\n    \n            let nodes = map(find_all(this._selector, context, context !== document), (i, node) => !this._DOMElements.includes(node) ? node : false);\n    \n            if (!is_empty(nodes))\n            {\n                this._DOMElements = [...this._DOMElements, ...nodes];\n    \n                each(nodes, (i, node) => this.bind(node), this);\n            }\n        }\n    \n        /**\n         * Module destructor\n         *\n         * @access {public}\n         */\n        Component.prototype.destruct = function(context)\n        {\n            if (!context || context === document)\n            {\n                each(this._DOMElements, (i, node) => this.unbind(node), this);\n                \n                this._DOMElements = [];\n    \n                return;\n            }\n    \n            each(this._DOMElements, (i, DOMElement) =>\n            {\n                if (DOMElement === context)\n                {\n                    this.unbind(DOMElement);\n    \n                    this._DOMElements.splice(i, 1);\n                }\n                else\n                {\n                    traverse_up(DOMElement, (parent) =>\n                    {                \n                        if (parent === context)\n                        {\n                            this.unbind(DOMElement);\n    \n                            this._DOMElements.splice(i, 1);\n    \n                            return false;\n                        }\n                    });\n                }\n            });\n        }\n    \n        /**\n         * Create DOM elements and bind\n         * \n         */\n        Component.prototype.create = function(props, appendTo)\n        {\n            props = !props ? {} : props;\n    \n            props = {...this.defaultProps, ...props};\n    \n            let node = this.render(props);\n    \n            if (appendTo) appendTo.appendChild(node);\n    \n            frontbx.Dom().refresh(node);\n    \n            return node;\n        }\n    \n        /**\n         * Template abstract method\n         *\n         * @access {public}\n         */\n        Component.prototype.render = function()\n        {\n            throw new Error('[render] method must be implemented.');\n        }\n    \n    \n        /**\n         * Bind abstract method\n         *\n         * @access {public}\n         */\n        Component.prototype.bind = function(context)\n        {\n            throw new Error('[bind] method must be implemented.');\n        }\n    \n        /**\n         * Unbind abstract method\n         *\n         * @access {public}\n         */\n        Component.prototype.unbind = function(context)\n        {\n            throw new Error('[unbind] method must be implemented.');\n        }\n    \n        // Register\n        frontbx.set('Component', Component);\n    \n    })();\n    \n    // lazyload\n    /**\n     * --------------------------------------------------------------------------\n     * Frontbx Lazyload\n     * \n     * @version  {0.0.4}\n     * @see      {https://github.com/frontbx/ui}\n     * @licensed {https://github.com/frontbx/ui/blob/main/LICENSE}\n     * --------------------------------------------------------------------------\n     */\n    (function()\n    {\n    \n        var root = typeof FBX_ROOT === 'undefined' ? (typeof process === 'object' && typeof global === 'object' ? global : window) : FBX_ROOT;\n    \n        if (!root.LAZY_FALLBACK_IMAGE)\n        {\n            root.LAZY_FALLBACK_IMAGE = 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBmaWxsPSJ3aGl0ZSI+CiAgPHBhdGggZD0iTTAgNCBMMCAyOCBMMzIgMjggTDMyIDQgeiBNNCAyNCBMMTAgMTAgTDE1IDE4IEwxOCAxNCBMMjQgMjR6IE0yNSA3IEE0IDQgMCAwIDEgMjUgMTUgQTQgNCAwIDAgMSAyNSA3Ij48L3BhdGg+Cjwvc3ZnPg==';\n        }\n    \n        /**\n         * JS Async Queue\n         *\n         * @see https://medium.com/@griffinmichl/asynchronous-javascript-queue-920828f6327\n         */\n        var Queue = function(concurrency)\n        {\n            this.running     = 0;\n            this.concurrency = concurrency;\n            this.taskQueue   = [];\n            \n            return this;\n        }\n    \n        Queue.prototype.add = function(task)\n        {\n            if (this.running < this.concurrency)\n            {\n                this._runTask(task);\n            }\n            else\n            {\n                this._enqueueTask(task);\n            }\n        }\n    \n        Queue.prototype.next = function()\n        {        \n            this.running--;\n    \n            if (this.taskQueue.length > 0)\n            {\n                this._runTask(this.taskQueue.shift());\n            }\n        }\n    \n        Queue.prototype._runTask = function(task)\n        {       \n            this.running++;\n    \n            task(this);\n        }\n    \n        Queue.prototype._enqueueTask = function(task)\n        {\n            this.taskQueue.push(task);\n        }\n    \n        /**\n         * Module constructor\n         *\n         * @access public\n         * @constructor\n         * @return this\n         */\n        const LazyLoad = function()\n        {\n            this._DOMElements = [];\n    \n            this.construct(document);       \n    \n            return this;\n        }\n    \n        /**\n         * Destroy\n         *\n         * @access public\n         */\n        LazyLoad.prototype.construct = function(context)\n        {               \n            this._queue = new Queue(15);\n    \n            let nodes = Array.prototype.slice.call(context.querySelectorAll('.js-lazyload'));\n    \n            if (nodes.length >= 1)\n            {\n                for (var i = 0; i < nodes.length; i++)\n                {\n                    this.bind(nodes[i]);\n                }\n    \n                this._DOMElements = [...this._DOMElements, ...nodes];\n            }\n        }\n    \n        /**\n         * Destroy\n         *\n         * @access public\n         */\n        LazyLoad.prototype.destruct = function(context)\n        {       \n            if (!context || context === document)\n            {            \n                this._DOMElements = [];\n    \n                return;\n            }\n    \n            const [each, closest] = frontbx.import(['each', 'closest']).from('_');\n    \n            each(this._DOMElements, function(i, DOMElement)\n            {                \n                if (closest(DOMElement, context))\n                {\n                    this._DOMElements.splice(i, 1);\n                }\n    \n            }, this);\n        }\n    \n        /**\n         * Bind and load images\n         *\n         * @access private\n         */\n        LazyLoad.prototype.bind = function(node)\n        {\n            var url = this._getSrc(node);\n    \n            if (this._canLoad(node))\n            {\n                this._loadImage(node, url, this._isImage(node));\n            }\n        }\n    \n        /**\n         * Bind and load images\n         *\n         * @access private\n         * @param  node    node    DOM node\n         * @param  string  url     The image URL to load\n         * @param  bool    isImage Is the node an <img> tag\n         */\n        LazyLoad.prototype._loadImage = function(node, url, isImage)\n        {\n            // Placeholder and image are the same\n            if (isImage && node.src === url)\n            {\n                this._markLoaded(node);\n            }\n            else\n            {\n                this._queue.add(this._getLoadFunc(node, url, isImage));\n            }\n        }\n    \n        /**\n         * Return the image load function\n         *\n         * @access private\n         * @param  node    node       DOM node\n         * @param  string  url        The image URL to load\n         * @param  bool    isImage    Is the node an <img> tag?\n         * @return function\n         */\n        LazyLoad.prototype._getLoadFunc = function(node, url, isImage)\n        {\n            const _this = this;\n    \n            let _fallback = LAZY_FALLBACK_IMAGE;\n    \n            return function loadImage(queue)\n            {\n                var _image = new Image();\n    \n                _image.onload = function()\n                {\n                    if (isImage)\n                    {\n                        node.src = url;\n                    }\n                    else\n                    {\n                        node.style.backgroundImage = 'url('+ url +')';\n                    }\n    \n                    _this._markLoaded(node);\n    \n                    _image.onload  = {};\n                    _image.onerror = {};\n                    \n                    queue.next();\n                };\n    \n                _image.onerror = function()\n                {\n                    if (isImage)\n                    {\n                        node.src = _fallback;\n                    }\n                    else\n                    {\n                        node.style.backgroundImage = `url(\"${_fallback}\")`;\n                    }\n    \n                    _this._markFailed(node);\n    \n                    queue.next();\n    \n                    _image.onload  = {};\n                    _image.onerror = {};\n                };\n    \n                _image.classList.add('lazy-loading');\n    \n                _image.src = url;\n            };\n        }\n    \n        /**\n         * Mark node as loaded\n         *\n         * @access private\n         * @param  node    node Image node element\n         * @return string\n         */\n        LazyLoad.prototype._markFailed = function(node)\n        {\n            node.classList.add('failed');\n    \n            this._markLoaded(node);\n        }\n    \n        /**\n         * Mark node as loaded\n         *\n         * @access private\n         * @param  node    node Image node element\n         * @return string\n         */\n        LazyLoad.prototype._markLoaded = function(node)\n        {\n            node.classList.add('lazy-loaded');\n    \n            node.classList.remove('lazy-loading');\n        }\n    \n        /**\n         * Get an image's src attribute\n         *\n         * @access private\n         * @param  node    node Image node element\n         * @return string\n         */\n        LazyLoad.prototype._getSrc = function(node)\n        {\n            return node.getAttribute('data-src') || node.dataset.src;\n        }\n    \n        /**\n         * Should we load this image\n         *\n         * @access private\n         * @param  node    node Image node element\n         * @return bool\n         */\n        LazyLoad.prototype._canLoad = function(node)\n        {\n            return typeof this._getSrc(node) !== 'undefined' && (!node.classList.contains('lazy-loading') || !node.classList.contains('lazy-loaded'));\n        }\n    \n        /**\n         * Is node an image\n         *\n         * @access private\n         * @param  node    node Image node element\n         * @return bool\n         */\n        LazyLoad.prototype._isImage = function(node)\n        {\n            return node.nodeName.toLowerCase() === 'img';\n        }\n    \n        if (!root.frontbx)\n        {\n            window.addEventListener('DOMContentLoaded', () =>\n            {\n                // Invoke and start loading images\n                const lazy = new LazyLoad();\n    \n                // Listen for frontbx:ready and register into dom\n                // Will not be invoked unless dom().refresh() is called\n                frontbx.dom().register('LazyLoad', lazy, false);\n            })\n        }\n        \n    })();\n    \n    // vendors\n    (function()\n    {\n            /* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress * @license MIT */\n            var NProgress = {};\n    \n            NProgress.version = '0.2.0';\n    \n            var Settings = NProgress.settings = {\n                minimum: 0.08,\n                easing: 'linear',\n                positionUsing: '',\n                speed: 200,\n                trickle: true,\n                trickleSpeed: 200,\n                showSpinner: true,\n                barSelector: '[role=\"bar\"]',\n                spinnerSelector: '[role=\"spinner\"]',\n                parent: 'body',\n                template: '<div class=\"bar\" role=\"bar\"><div class=\"peg\"></div></div><div class=\"spinner\" role=\"spinner\"><div class=\"spinner-icon\"></div></div>'\n            };\n    \n            /**\n            * Updates configuration.\n            *\n            *     NProgress.configure({\n            *       minimum: 0.1\n            *     });\n            */\n            NProgress.configure = function(options) {\n                var key, value;\n                for (key in options) {\n                    value = options[key];\n                    if (value !== undefined && options.hasOwnProperty(key)) Settings[key] = value;\n                }\n    \n                return this;\n            };\n    \n        /**\n        * Last number.\n        */\n    \n            NProgress.status = null;\n    \n        /**\n        * Sets the progress bar status, where `n` is a number from `0.0` to `1.0`.\n        *\n        *     NProgress.set(0.4);\n        *     NProgress.set(1.0);\n        */\n    \n            NProgress.set = function(n) {\n                var started = NProgress.isStarted();\n    \n                n = clamp(n, Settings.minimum, 1);\n                NProgress.status = (n === 1 ? null : n);\n    \n                var progress = NProgress.render(!started),\n                bar      = progress.querySelector(Settings.barSelector),\n                speed    = Settings.speed,\n                ease     = Settings.easing;\n    \n        progress.offsetWidth; /* Repaint */\n    \n                queue(function(next) {\n        // Set positionUsing if it hasn't already been set\n                    if (Settings.positionUsing === '') Settings.positionUsing = NProgress.getPositioningCSS();\n    \n        // Add transition\n                    css(bar, barPositionCSS(n, speed, ease));\n    \n                    if (n === 1) {\n          // Fade out\n                      css(progress, {\n                        transition: 'none',\n                        opacity: 1\n                    });\n          progress.offsetWidth; /* Repaint */\n    \n                      setTimeout(function() {\n                        css(progress, {\n                          transition: 'all ' + speed + 'ms linear',\n                          opacity: 0\n                      });\n                        setTimeout(function() {\n                          NProgress.remove();\n                          next();\n                      }, speed);\n                    }, speed);\n                  } else {\n                      setTimeout(next, speed);\n                  }\n              });\n    \n                return this;\n            };\n    \n            NProgress.isStarted = function() {\n                return typeof NProgress.status === 'number';\n            };\n    \n        /**\n        * Shows the progress bar.\n        * This is the same as setting the status to 0%, except that it doesn't go backwards.\n        *\n        *     NProgress.start();\n        *\n        */\n            NProgress.start = function() {\n                if (!NProgress.status) NProgress.set(0);\n    \n                var work = function() {\n                    setTimeout(function() {\n                      if (!NProgress.status) return;\n                      NProgress.trickle();\n                      work();\n                  }, Settings.trickleSpeed);\n                };\n    \n                if (Settings.trickle) work();\n    \n                return this;\n            };\n    \n        /**\n        * Hides the progress bar.\n        * This is the *sort of* the same as setting the status to 100%, with the\n        * difference being `done()` makes some placebo effect of some realistic motion.\n        *\n        *     NProgress.done();\n        *\n        * If `true` is passed, it will show the progress bar even if its hidden.\n        *\n        *     NProgress.done(true);\n        */\n    \n            NProgress.done = function(force) {\n                if (!force && !NProgress.status) return this;\n    \n                return NProgress.inc(0.3 + 0.5 * Math.random()).set(1);\n            };\n    \n        /**\n        * Increments by a random amount.\n        */\n    \n            NProgress.inc = function(amount) {\n                var n = NProgress.status;\n    \n                if (!n) {\n                    return NProgress.start();\n                } else if(n > 1) {\n                    return;\n                } else {\n                    if (typeof amount !== 'number') {\n                      if (n >= 0 && n < 0.2) { amount = 0.1; }\n                      else if (n >= 0.2 && n < 0.5) { amount = 0.04; }\n                      else if (n >= 0.5 && n < 0.8) { amount = 0.02; }\n                      else if (n >= 0.8 && n < 0.99) { amount = 0.005; }\n                      else { amount = 0; }\n                  }\n    \n                  n = clamp(n + amount, 0, 0.994);\n                  return NProgress.set(n);\n              }\n          };\n    \n          NProgress.trickle = function() {\n            return NProgress.inc();\n        };\n    \n        /**\n        * Waits for all supplied jQuery promises and\n        * increases the progress as the promises resolve.\n        *\n        * @param $promise jQUery Promise\n        */\n        (function() {\n            var initial = 0, current = 0;\n    \n            NProgress.promise = function($promise) {\n                if (!$promise || $promise.state() === \"resolved\") {\n                  return this;\n              }\n    \n              if (current === 0) {\n                  NProgress.start();\n              }\n    \n              initial++;\n              current++;\n    \n              $promise.always(function() {\n                  current--;\n                  if (current === 0) {\n                      initial = 0;\n                      NProgress.done();\n                  } else {\n                      NProgress.set((initial - current) / initial);\n                  }\n              });\n    \n              return this;\n          };\n    \n        })();\n    \n        /**\n        * (Internal) renders the progress bar markup based on the `template`\n        * setting.\n        */\n    \n        NProgress.render = function(fromStart) {\n            if (NProgress.isRendered()) return document.getElementById('nprogress');\n    \n            addClass(document.documentElement, 'nprogress-busy');\n    \n            var progress = document.createElement('div');\n            progress.id = 'nprogress';\n            progress.innerHTML = Settings.template;\n    \n    \n    \n            var bar = progress.querySelector(Settings.barSelector),\n            perc = fromStart ? '-100' : toBarPerc(NProgress.status || 0),\n            parent = isDOM(Settings.parent)\n            ? Settings.parent\n            : document.querySelector(Settings.parent),\n            spinner\n    \n            css(bar, {\n                transition: 'all 0 linear',\n                transform: 'translate3d(' + perc + '%,0,0)'\n            });\n    \n            if (!Settings.showSpinner) {\n                spinner = progress.querySelector(Settings.spinnerSelector);\n                spinner && removeElement(spinner);\n            }\n    \n            if (parent != document.body) {\n                addClass(parent, 'nprogress-custom-parent');\n            }\n    \n            parent.appendChild(progress);\n            return progress;\n        };\n    \n        /**\n        * Removes the element. Opposite of render().\n        */\n    \n        NProgress.remove = function() {\n            removeClass(document.documentElement, 'nprogress-busy');\n            var parent = isDOM(Settings.parent)\n            ? Settings.parent\n            : document.querySelector(Settings.parent)\n            removeClass(parent, 'nprogress-custom-parent')\n            var progress = document.getElementById('nprogress');\n            progress && removeElement(progress);\n        };\n    \n        /**\n        * Checks if the progress bar is rendered.\n        */\n    \n        NProgress.isRendered = function() {\n            return !!document.getElementById('nprogress');\n        };\n    \n        /**\n        * Determine which positioning CSS rule to use.\n        */\n    \n        NProgress.getPositioningCSS = function() {\n        // Sniff on document.body.style\n            var bodyStyle = document.body.style;\n    \n        // Sniff prefixes\n            var vendorPrefix = ('WebkitTransform' in bodyStyle) ? 'Webkit' :\n            ('MozTransform' in bodyStyle) ? 'Moz' :\n            ('msTransform' in bodyStyle) ? 'ms' :\n            ('OTransform' in bodyStyle) ? 'O' : '';\n    \n            if (vendorPrefix + 'Perspective' in bodyStyle) {\n        // Modern browsers with 3D support, e.g. Webkit, IE10\n                return 'translate3d';\n            } else if (vendorPrefix + 'Transform' in bodyStyle) {\n        // Browsers without 3D support, e.g. IE9\n                return 'translate';\n            } else {\n        // Browsers without translate() support, e.g. IE7-8\n                return 'margin';\n            }\n        };\n    \n        /**\n        * Helpers\n        */\n    \n        function isDOM (obj) {\n            if (typeof HTMLElement === 'object') {\n                return obj instanceof HTMLElement\n            }\n            return (\n                obj &&\n                typeof obj === 'object' &&\n                obj.nodeType === 1 &&\n                typeof obj.nodeName === 'string'\n                )\n        }\n    \n        function clamp(n, min, max) {\n            if (n < min) return min;\n            if (n > max) return max;\n            return n;\n        }\n    \n        /**\n        * (Internal) converts a percentage (`0..1`) to a bar translateX\n        * percentage (`-100%..0%`).\n        */\n    \n        function toBarPerc(n) {\n            return (-1 + n) * 100;\n        }\n    \n    \n        /**\n        * (Internal) returns the correct CSS for changing the bar's\n        * position given an n percentage, and speed and ease from Settings\n        */\n    \n        function barPositionCSS(n, speed, ease) {\n            var barCSS;\n    \n            if (Settings.positionUsing === 'translate3d') {\n                barCSS = { transform: 'translate3d('+toBarPerc(n)+'%,0,0)' };\n            } else if (Settings.positionUsing === 'translate') {\n                barCSS = { transform: 'translate('+toBarPerc(n)+'%,0)' };\n            } else {\n                barCSS = { 'margin-left': toBarPerc(n)+'%' };\n            }\n    \n            barCSS.transition = 'all '+speed+'ms '+ease;\n    \n            return barCSS;\n        }\n    \n        /**\n        * (Internal) Queues a function to be executed.\n        */\n    \n        var queue = (function() {\n            var pending = [];\n    \n            function next() {\n                var fn = pending.shift();\n                if (fn) {\n                  fn(next);\n              }\n          }\n    \n          return function(fn) {\n            pending.push(fn);\n            if (pending.length == 1) next();\n        };\n        })();\n    \n        /**\n        * (Internal) Applies css properties to an element, similar to the jQuery\n        * css method.\n        *\n        * While this helper does assist with vendor prefixed property names, it\n        * does not perform any manipulation of values prior to setting styles.\n        */\n    \n        var css = (function() {\n            var cssPrefixes = [ 'Webkit', 'O', 'Moz', 'ms' ],\n            cssProps    = {};\n    \n            function camelCase(string) {\n                return string.replace(/^-ms-/, 'ms-').replace(/-([\\da-z])/gi, function(match, letter) {\n                  return letter.toUpperCase();\n              });\n            }\n    \n            function getVendorProp(name) {\n                var style = document.body.style;\n                if (name in style) return name;\n    \n                var i = cssPrefixes.length,\n                capName = name.charAt(0).toUpperCase() + name.slice(1),\n                vendorName;\n                while (i--) {\n                  vendorName = cssPrefixes[i] + capName;\n                  if (vendorName in style) return vendorName;\n              }\n    \n              return name;\n          }\n    \n          function getStyleProp(name) {\n            name = camelCase(name);\n            return cssProps[name] || (cssProps[name] = getVendorProp(name));\n        }\n    \n        function applyCss(element, prop, value) {\n            prop = getStyleProp(prop);\n            element.style[prop] = value;\n        }\n    \n        return function(element, properties) {\n            var args = arguments,\n            prop,\n            value;\n    \n            if (args.length == 2) {\n              for (prop in properties) {\n                value = properties[prop];\n                if (value !== undefined && properties.hasOwnProperty(prop)) applyCss(element, prop, value);\n            }\n        } else {\n          applyCss(element, args[1], args[2]);\n        }\n        }\n        })();\n    \n        /**\n        * (Internal) Determines if an element or space separated list of class names contains a class name.\n        */\n    \n        function hasClass(element, name) {\n            var list = typeof element == 'string' ? element : classList(element);\n            return list.indexOf(' ' + name + ' ') >= 0;\n        }\n    \n        /**\n        * (Internal) Adds a class to an element.\n        */\n    \n        function addClass(element, name) {\n            var oldList = classList(element),\n            newList = oldList + name;\n    \n            if (hasClass(oldList, name)) return;\n    \n        // Trim the opening space.\n            element.className = newList.substring(1);\n        }\n    \n        /**\n        * (Internal) Removes a class from an element.\n        */\n    \n        function removeClass(element, name) {\n            var oldList = classList(element),\n            newList;\n    \n            if (!hasClass(element, name)) return;\n    \n        // Replace the class name.\n            newList = oldList.replace(' ' + name + ' ', ' ');\n    \n        // Trim the opening and closing spaces.\n            element.className = newList.substring(1, newList.length - 1);\n        }\n    \n        /**\n        * (Internal) Gets a space separated list of the class names on the element.\n        * The list is wrapped with a single space on each end to facilitate finding\n        * matches within the list.\n        */\n    \n        function classList(element) {\n            return (' ' + (element && element.className || '') + ' ').replace(/\\s+/gi, ' ');\n        }\n    \n        /**\n        * (Internal) Removes an element from the DOM.\n        */\n    \n        function removeElement(element) {\n            element && element.parentNode && element.parentNode.removeChild(element);\n        }\n    \n        // Load into container \n        frontbx.singleton('NProgress', NProgress);\n    \n    })();\n    \n    // utility\n    // utility\n    (function()\n    {\n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [each, is_function, is_object, is_empty, callable_name, array_filter] = frontbx.import(['each','is_function','is_object','is_empty','callable_name', 'array_filter']).from('_');\n    \n        /**\n         * Named callbacks\n         * \n         * @var {array}\n         */\n        const NAMED_CALLBACKS = ['success', 'error', 'complete', 'abort', 'progress'];\n    \n        /**\n         * JS Queue\n         *\n         * @class\n         * @see {https://medium.com/@griffinmichl/asynchronous-javascript-queue-920828f6327}\n         */\n        const Queue = function(concurrency)\n        {\n            this.running = 0;\n            this.concurrency = concurrency;\n            this.taskQueue = [];\n        };\n    \n        Queue.prototype.add = function(task, _this, _args)\n        {\n            if (this.running < this.concurrency)\n            {\n                this._runTask(task, _this, _args);\n            }\n            else\n            {\n                this._enqueueTask(task, _this, _args);\n            }\n        }\n    \n        Queue.prototype.next = function()\n        {\n            this.running--;\n    \n            if (this.taskQueue.length > 0)\n            {\n                var task = this.taskQueue.shift();\n    \n                this._runTask(task['callback'], task['_this'], task['_args']);\n            }\n        }\n    \n        Queue.prototype._runTask = function(task, _this, _args)\n        {\n            this.running++;\n    \n            task.apply(_this, _args);\n        }\n    \n        Queue.prototype._enqueueTask = function(task, _this, _args)\n        {\n            this.taskQueue.push(\n            {\n                'callback': task,\n                '_this': _this,\n                '_args': _args\n            });\n        }\n    \n        const AJAX_QUEUE = new Queue(15);\n    \n        /**\n         * Module constructor\n         *\n         * @access {public}\n         * @class\n         */\n        const Ajax = function()\n        {\n            this._settings =\n            {\n                'url': '',\n                'async': true,\n                'timeout': 10000,\n                'headers':\n                {\n                    'Content-Type': 'application/x-www-form-urlencoded',\n                    'Accepts': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9',\n                    'Cache-Control': 'no-cache',\n                    'Pragma': 'no-cache'\n                },\n            };\n    \n            this._complete = () => {};\n            this._success  = () => {};\n            this._error    = () => {};\n            this._abort    = () => {};\n            this._progress = () => {};\n            this._xhr      = null;\n        }\n    \n        /**\n         * Ajax Methods \n         *\n         * @access {public}\n         * @param  {string}        url     Destination URL\n         * @param  {string|object} data    Data (optional)\n         * @param  {function}      success Success callback (optional)\n         * @param  {function}      error   Error callback (optional)\n         * @param  {function}      abort   Abort callback (optional)\n         * @param  {object}        headers Request headers (optional)\n         * @return {this}\n         */\n        Ajax.prototype.post = function(url, data, success, error, complete, abort, headers)\n        {\n            this._setResponseHandlers('POST', url, data, success, error, complete, abort, headers);\n    \n            AJAX_QUEUE.add(this._call, this);\n    \n            return this;\n        }\n        Ajax.prototype.get = function(url, data, success, error, complete, abort, headers)\n        {\n            this._setResponseHandlers('GET', url, data, success, error, complete, abort, headers);\n    \n            AJAX_QUEUE.add(this._call, this);\n    \n            return this;\n        }\n        Ajax.prototype.head = function(url, data, success, error, complete, abort, headers)\n        {\n            this._setResponseHandlers('HEAD', url, data, success, error, complete, abort, headers);\n    \n            AJAX_QUEUE.add(this._call, this);\n    \n            return this;\n        }\n        Ajax.prototype.put = function(url, data, success, error, complete, abort, headers)\n        {\n            this._setResponseHandlers('PUT', url, data, success, error, complete, abort, headers);\n    \n            AJAX_QUEUE.add(this._call, this);\n    \n            return this;\n        }\n        Ajax.prototype.delete = function(url, data, success, error, complete, abort, headers)\n        {\n            this._setResponseHandlers('DELETE', url, data, success, error, complete, abort, headers);\n    \n            AJAX_QUEUE.add(this._call, this);\n    \n            return this;\n        }\n        Ajax.prototype.upload = function(url, data, success, error, complete, abort, progress, headers)\n        {\n            this._settings.async = true;\n    \n            this._setResponseHandlers('UPLOAD', url, data, success, error, complete, abort, headers, progress);\n    \n            AJAX_QUEUE.add(this._call, this);\n    \n            return this;\n        }\n    \n    \n        /**\n         * Set async\n         *\n         * @param  {function}  callback Callback function\n         * @return {this}\n         */\n        Ajax.prototype.async = function(bool)\n        {\n            this._settings.async = bool;\n    \n            return this;\n        }\n    \n        /**\n         * Adds headers\n         *\n         * @param  {object}  headers\n         * @return {this}\n         */\n        Ajax.prototype.headers = function(_headers)\n        {\n            this._settings.headers = {...this._settings.headers, ..._headers};\n    \n            return this;\n        }\n    \n        /**\n         * Adds progress handler\n         *\n         * @param  {object}  headers\n         * @return {this}\n         */\n        Ajax.prototype.progress = function(callback)\n        {\n            this._progress = callback;\n    \n            return this;\n        }\n    \n        /**\n         * Success function\n         *\n         * @param  {function}  callback Callback function\n         * @return {this}\n         */\n        Ajax.prototype.success = function(callback)\n        {\n            this._success = callback;\n    \n            return this;\n        }\n    \n        /**\n         * Error function\n         *\n         * @param  {function}  callback Callback function\n         * @return {this}\n         */\n        Ajax.prototype.error = function(callback)\n        {\n            this._error = callback;\n    \n            return this;\n        }\n    \n        /**\n         * Alias for complete\n         *\n         * @param  {function}  callback Callback function\n         * @return {this}\n         */\n        Ajax.prototype.then = function(callback)\n        {\n            return this.complete(callback);\n        }\n    \n        /**\n         * Complete function\n         *\n         * @param  {function}  callback Callback function\n         * @return {this}\n         */\n        Ajax.prototype.complete = function(callback)\n        {\n            this._complete = callback;\n    \n            return this;\n        }\n    \n        /**\n         * Abort an ajax call\n         *\n         * @param  {function}  callback Callback function\n         * @return {this}\n         */\n        Ajax.prototype.abort = function(callback)\n        {\n            let xhr = this._xhr;\n    \n            // Called before XHR request\n            if (!xhr)\n            {\n                this._abort = callback;\n    \n                return this;\n            }\n    \n            // Already completed\n            if (!xhr.readyState >= 4)\n            {\n                return this;\n            }\n    \n            xhr.onreadystatechange = () => {};\n            this._complete = null;\n            this._success  = null;\n            xhr.abort();\n    \n            this._makeCallback(this._abort, this, [xhr.responseText, false]);\n    \n            this._makeCallback(this._error, this, [xhr.responseText]);\n        }\n    \n        /**\n         * Call callback function\n         *\n         * @param  {function}  callback Callback function\n         * @return {this}\n         */\n        Ajax.prototype._makeCallback = function(callback, _this, args)\n        {\n            if (is_function(callback)) callback.apply(_this, args);\n        }\n    \n        /**\n         * Ajax call \n         *\n         * @access {private}\n         * @param  {string}        method   Request method\n         * @param  {string}        url      Destination URL\n         * @param  {string|object} data     Data (optional)\n         * @param  {function}      success  Success callback (optional)\n         * @param  {function}      error    Error callback (optional)\n         * @param  {function}      complete Complete callback (optional)\n         * @param  {function}      abort    Abort callback (optional)\n         * @param  {object}        headers  Request headers (optional)\n         * @return {this}\n         */\n        Ajax.prototype._call = function()\n        {\n            let [method, url] = [this.method, this.url];\n    \n            var xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP');\n    \n            this._xhr = xhr;\n    \n            xhr.requestURL = url;\n    \n            xhr.mthod = method === 'UPLOAD' ? 'POST' : method;\n    \n            if (method === 'UPLOAD' && is_function(this._progress))\n            {\n                xhr.upload.addEventListener('progress', this._progress, false);\n            }\n    \n            if (method === 'UPLOAD')\n            {\n                if (is_function(this._progress)) xhr.upload.addEventListener('progress', this._progress, false);\n    \n                if (is_function(this._complete)) xhr.upload.addEventListener('load', this._complete, false);\n            }\n    \n            xhr.open(method, url, this._settings.async);\n    \n            xhr.timeout = this._settings.timeout;\n    \n            this._sendHeaders();\n    \n            if (this._settings.async)\n            {\n                xhr.onreadystatechange = () => { this._ready() };\n    \n                xhr.send(this.data || null);\n            }\n            else\n            {\n                xhr.send(this.data || null);\n    \n                this._ready();\n            }\n    \n            return this;\n        }\n    \n        /**\n         * Send XHR headers\n         *\n         * @access {private}\n         * @param  {object}    xhr     XHR object\n         * @param  {object}    headers Request headers (optional)\n         * @return {This}\n         */\n        Ajax.prototype._sendHeaders = function()\n        {\n            if (this.method === 'POST') this._settings.headers['REQUESTED-WITH'] = 'XMLHttpRequest';\n    \n            each(this._settings.headers, (k,v) => this._xhr.setRequestHeader(k, v));\n        }\n    \n        /**\n         * Normalise arguments from original call function\n         *\n         * @param  {string}        method   Request method\n         * @param  {string}        url      Destination URL\n         * @param  {string|object} data     Data (optional)\n         * @param  {function}      success  Success callback (optional)\n         * @param  {function}      error    Error callback (optional)\n         * @param  {function}      complete Complete callback (optional)\n         * @param  {function}      error    Abort callback (optional)\n         * @param  {object}        headers  Request headers (optional)\n         * @return {This}\n         */\n        Ajax.prototype._setResponseHandlers = function()\n        {\n            // Cleanup\n            let args    = Array.prototype.slice.call(arguments);\n            let method  = args.shift();\n            let url     = args.shift();\n            let data    = is_object(args[0]) ? args.shift() : null;\n            let headers = null;\n            let argmap  = ['success', 'error', 'complete', 'abort', 'headers', 'progress'];\n            \n            each(args, (i, arg) =>\n            {\n                if (is_function(arg))\n                {\n                    let funcname = callable_name(arg).toLowerCase();\n    \n                    let k = NAMED_CALLBACKS.includes(funcname) ? funcname : argmap[i];\n    \n                    this[k](arg);\n                }\n                else if (is_object(arg))\n                {\n                    this.headers(arg);\n                }\n            });\n    \n            // Ajax.get('foo.com?foo=bar&baz')\n            if (is_object(data) && !is_empty(data))\n            {\n                if (method === 'UPLOAD')\n                {\n                    let form = new FormData();\n    \n                    each(data, (k, v) => form.append(k, v, v.type));\n    \n                    data = form;\n                }\n                else if (method !== 'POST')\n                {   \n                    let suffix = url.includes('?') ? '&' : '?';\n                    let params = this._params(data);\n                    url  = `${url}${suffix}${params}`;\n                    data = undefined;\n                }\n                else\n                {\n                    data = this._params(data);\n                }\n            }\n    \n            this.method = method;\n            this.data   = data;\n            this.url    = url;\n        }\n    \n        /**\n         * Ready callback\n         *\n         * @param  {XMLHttpRequest} xhr     XHR Object\n         * @param  {function}      success  Success callback (optional)\n         * @param  {function}      error    Error callback (optional)\n         * @param  {function}      complete Complete callback (optional)\n         * @param  {function}      abort    Abort callback (optional)\n         */\n        Ajax.prototype._ready = function()\n        {        \n            let xhr = this._xhr;\n    \n            if (xhr.readyState == 4)\n            {\n                let successfull = xhr.status >= 200 && xhr.status < 300 || xhr.status === 304;\n    \n                let response = xhr.responseText;\n    \n                this._makeCallback(successfull ? this._success : this._error, xhr, [response]);\n    \n                this._makeCallback(this._complete, xhr, [response, successfull]);\n    \n                // Next queue\n                AJAX_QUEUE.next();\n            }\n        }\n    \n        /**\n         * Converts parameters to string\n         *\n         * @param  {Object} obj\n         * @return {String}\n         */\n        Ajax.prototype._params = function(obj)\n        {\n            let s = [];\n    \n            each(obj, (k,v) => s.push(encodeURIComponent(k) + '=' + encodeURIComponent(v)))\n    \n            return s.join('&');\n        }\n    \n        frontbx.set('Ajax', Ajax);\n    })();\n    (function()\n    {\n        /**\n         * Helper functions.\n         * \n         * @var {Function}\n         */\n        const [on, add_class, remove_class, animate, css, dom_element, each, find, find_all, first_children, height, in_array, in_dom, inline_style, inner_HTML, is_empty, is_string, map, normalize_url, remove_from_dom, rendered_style, scroll_pos, trigger_event, width, is_object, is_htmlElement] = frontbx.import(['on','add_class','remove_class','animate','css','dom_element','each','find','find_all','first_children','height','in_array','in_dom','inline_style','inner_HTML','is_empty','is_string','map','normalize_url','remove_from_dom','rendered_style','scroll_pos','trigger_event','width','is_object','is_htmlElement']).from('_');\n        \n        /**\n         * Are we listening for state changes ?\n         * \n         * @var {bool}\n         */\n        var POP_LISTENING = false;\n        \n        /**\n         * Default options\n         * \n         * @var {object}\n         */\n        const DEFAULT_OPTIONS = \n        {\n            element:   'body',\n            nocache:    false,\n            once:       false,\n            scrolltop:  false,\n            pushstate:  false,\n            urlhash:    false,\n            animate:    false,\n        };\n        \n        /**\n         * Wrappers that need \"position:relative\" to hide overflow.\n         * \n         * @var {Array}\n         */\n        const STATIC_POSITIONS = ['static', 'unset', 'initial'];\n        \n        /**\n         * AnimationTimeout\n         * \n         * @var {Object}\n         */\n        const CURRENT_REQUESTS = new Map;\n        \n        /**\n         * AnimationTimeout\n         * \n         * @var {Object}\n         */\n        const TRANSITION_TIMERS = new Map;\n        /**\n         * Pjax component\n         *\n         * @class\n         * @extends   {Ajax}\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Pjax = function()\n        {\n            this.completed = false;\n            \n            if (!POP_LISTENING)\n            {\n                on(window, 'popstate', this._popStateHandler, this);\n        \n                POP_LISTENING = true;\n            }\n        }\n        \n        /**\n         * Normalise provided options.\n         *\n         * @access {private}\n         * @param  {String}  URL     Request url\n         * @param  {Object}  options User options\n         * @return {Object}\n         */\n        Pjax.prototype._normalizeOptions = function(url, options)\n        {\n            // Store URL in options for callbacks\n            url = normalize_url(url.trim());\n        \n            // Merge options with defaults\n            return typeof options === 'undefined' ? { ...DEFAULT_OPTIONS, url  } : { ...DEFAULT_OPTIONS, ...options, url };\n        }\n        \n        /**\n         * Returns the element from provided options.\n         *\n         * @access {private}\n         * @return {HTMLElement}\n         */\n        Pjax.prototype._optionsElement = function()\n        {\n            let element = this.options.element;\n        \n            if (is_htmlElement(element))\n            {\n                if (element === document || element === document.documentElement)\n                {\n                   return document.body;\n                }\n        \n                return element;\n            }\n        \n            if (is_string(element)) return find(element);\n        \n            return element;\n        }\n        Pjax.prototype.request = function(url, options, success, error, complete, abort, headers)\n        {\n            // Create ajax instance\n            this.ajax = frontbx.Ajax();\n        \n            // Normalise options\n            options = this._normalizeOptions(url, options);\n        \n            // Cache options\n            this.options = options;\n        \n            // cache headers\n            this.headers = !is_object(headers) ? { 'X-PJAX': true } : { 'X-PJAX': true, ...headers };\n        \n            // If we are already loading a pjax, cancel it and\n            this._preAbort();\n        \n            // Set current request\n            CURRENT_REQUESTS.set(options.element, this.ajax);\n        \n            // Cache user defined callbacks\n            this.callbacks = { success, error, complete, abort };\n        \n            // Cache current state\n            this._saveState();\n        \n            // Fire the start event\n            trigger_event(window, 'frontbx:pjax:start', options);\n        \n            // Start nprogress\n            frontbx.NProgress().start();\n        \n            this._sendAjax();\n        }\n        \n        Pjax.prototype._sendAjax = function()\n        {\n            let options = this.options;\n        \n            this.ajax.headers(this.headers)\n            \n            .success((response) => this._onsuccess(response.trim()))\n        \n            .error((response) => this._onerror(response))\n            \n            .abort((response) => this._onabort(response))\n            \n            .complete((response, successfull) => this._oncomplete(response, successfull))\n            \n            .get(options.url, options.nocache ? { t: Date.now().toString() } : {});\n        }\n        /**\n         * Insert response.\n         *\n         * @access {private}\n         * @param  {string}  HTML HTML string response from server\n         */\n        Pjax.prototype._insertResponse = function(HTML)\n        {\n            // Parse the HTML\n            this._parseResponse(HTML);\n        \n            // Update meta\n            this._updateMeta();\n        \n            // Insert content\n            if (this.options.animate)\n            {\n                this._animateSwap(this._targetElem, this._responseElem);\n            }\n            else\n            {\n                inner_HTML(this._targetElem, this._responseElem.innerHTML);\n        \n                this._appendScripts();\n            }\n        }\n        \n        /**\n         * Parse response from server.\n         *\n         * @access {private}\n         * @param  {string}  HTML HTML string response from server\n         */\n        Pjax.prototype._parseResponse = function(HTML)\n        {\n            let responseDoc = this._parseHTML(HTML);\n        \n            this._responseTitle = this._findDomTitle(responseDoc);\n        \n            this._responseDesc = this._findDomDesc(responseDoc);\n        \n            let currScripts = this._getScripts(document);\n        \n            let newScripts = this._getScripts(responseDoc);\n        \n            this._newScripts = this._scriptsDiff(currScripts, newScripts);\n        \n            this._responseDoc = this._removeScripts(responseDoc);\n        \n            // Move scripts to head incase we're replacing content\n            each(currScripts, (i, script) => script.node.parentNode.nodeName.toLowerCase() !== 'head' ? find('head').appendChild(script.node) : null);\n        \n            this._findElems();\n        }\n        \n        /**\n         * Finds target and response DOM elements.\n         *\n         * @access {private}\n         */\n        Pjax.prototype._findElems = function()\n        {\n            // Default to document bodys\n            let targetEl   = this._optionsElement();\n            let responseEl = this._responseDoc.body;\n            let selector   = this.options.element;\n        \n            // Html element\n            if (is_htmlElement(selector) && selector !== document && selector !== document.documentElement)\n            {\n                responseEl = find(selector.id, this._responseDoc);\n            }\n        \n            if (is_string(selector) && selector !== 'body')\n            {\n                targetEl = find(selector);\n        \n                // Try to find the target element in the response\n                let tmpResponseEl = find(selector, this._responseDoc);\n        \n                if (tmpResponseEl) responseEl = tmpResponseEl;\n        \n            }\n        \n            this._targetElem   = targetEl;\n            this._responseElem = responseEl;\n        }\n        \n        /**\n         * Append new scripts.\n         * \n         * Note that appending or replacing content via 'innerHTML' or even\n         * native Nodes with scripts inside their 'innerHTML'\n         * will not load scripts so we need to compare what scripts have loaded\n         * on the current page with any scripts that are in the new DOM tree \n         * and load any that don't already exist\n         *\n         * @access {private}\n         */\n        Pjax.prototype._appendScripts = function()\n        {\n            if (this._newScripts.length > 0)\n            {\n                return each(scripts, (i, script) =>  this._appendScript(script, i === scripts.length -1));\n            }\n        \n            this._contentComplete();\n        }\n        \n        /**\n         * Append individual script or stylsheet.\n         *\n         * @access {private}\n         * @param  {Object}  scriptObj Parse script config\n         * @param  {Boolean} isLast    Is this the last script to load\n         */\n        Pjax.prototype._appendScript = function(scriptObj, isLast)\n        {\n            let element = document.createElement(scriptObj.type);\n        \n            element.type = scriptObj.type === 'script' ? 'text/javascript' : 'text/css';\n        \n            if (scriptObj.type === 'script')\n            {\n                element.async = false;\n        \n                if (!scriptObj.inline)\n                {\n                    element.src = scriptObj.src;\n        \n                    if (isLast) element.onload = () => this._contentComplete();\n                }\n                else\n                {\n                    element.innerHTML = scriptObj.src;\n        \n                    if (isLast) this._contentComplete()\n                }\n            }\n            else\n            {\n                element.rel = 'stylesheet';\n                \n                element.href = scriptObj.src;\n        \n                if (isLast) element.onload = () => this._contentComplete();\n            }\n        \n            find('head').appendChild(element);\n        }\n        \n        /**\n         * Filter scripts with unique key/values into an array\n         *\n         * @access {private}\n         * @param  {Document}  doc Document element\n         * @return {array}\n         */\n        Pjax.prototype._getScripts = function(doc)\n        {\n            var ret     = [];\n            var scripts = find_all('script, link[rel=stylesheet]', doc);\n        \n            each(scripts, function(i, script)\n            {\n                let type    = script.nodeName.toLowerCase();\n                let src     = type === 'link' ? normalize_url(script.getAttribute('href')) : normalize_url(script.getAttribute('src'));\n                let inline  = false;\n                let content = null;\n                let node    = script;\n        \n                if (!src)\n                {\n                    inline  = true;\n                    src     = null;\n                    content = script.innerHTML.trim()\n                }\n        \n                ret.push({type, src, inline, node, content });\n            });\n        \n            return ret;\n        }\n        \n        /**\n         * Remove all scripts from a document\n         *\n         * @access {private}\n         * @param  {Document} doc Document element\n         * @return {Document}\n         */\n        Pjax.prototype._removeScripts = function(doc)\n        {\n            var scripts = find_all('script, link[rel=stylesheet]', doc);\n        \n            each(scripts, (i, script) => script.parentNode.removeChild(script));\n        \n            return doc;\n        }\n        \n        /**\n         * Try to find the page title in a DOM tree.\n         *\n         * @access {private}\n         * @param  {Document}     doc Document element\n         * @return {string|false}\n         */\n        Pjax.prototype._findDomTitle = function(doc)\n        {\n            var title = doc.getElementsByTagName('title');\n        \n            if (title.length)\n            {\n                return title[0].innerHTML.trim();\n            }\n        \n            return false;\n        }\n        \n        /**\n         * Try to find the page meta description.\n         *\n         * @access {private}\n         * @param  {Document}     doc Document element\n         * @return {string|false}\n         */\n        Pjax.prototype._findDomDesc = function(doc)\n        {\n            var desc = find('meta[name=description]', doc);\n        \n            if (desc)\n            {\n                return desc.content.trim();\n            }\n        \n            return false;\n        }\n        \n        /**\n         * Parse HTML from string into a document\n         *\n         * @access {private}\n         * @param  {string}    html HTML as a string (with or without full doctype)\n         * @return {Document}\n         */\n        Pjax.prototype._parseHTML = function(html)\n        {\n            var parser = new DOMParser();\n        \n            return parser.parseFromString(html, 'text/html');\n        }\n        \n        /**\n         * Diff current scripts with new scripts\n         *\n         * @access {private}\n         * @param  {Array}   currScripts Parsed current scripts array\n         * @param  {Array}   newScripts  Parsed new scripts array\n         * @param  {Array}\n         */\n        Pjax.prototype._scriptsDiff = function(currScripts, newScripts)\n        {\n            return map(newScripts, (j, script) =>\n            {\n                let ret = script;\n        \n                each(currScripts, (i, cScript) =>\n                {   \n                    // Inline scripts\n                    if (script.inline && cScript.inline && cScript.content === script.content)\n                    {\n                        currScripts.splice(i, 1);\n        \n                        ret = false;\n        \n                        return false;\n                    }\n                    if (!script.inline && !cScript.inline && cScript.src === script.src)\n                    {\n                        currScripts.splice(i, 1);\n        \n                        ret = false;\n        \n                        return false;\n                    }\n                });\n        \n                return ret;\n            });\n        }\n        \n        /**\n         * Updated Meta title and description.\n         *\n         * @access {private}\n         */\n        Pjax.prototype._updateMeta = function()\n        {\n            let descrMeta = find('meta[name=description]');\n        \n            if (this._responseTitle) document.title = this._responseTitle;\n        \n            if (this._responseDesc && descrMeta) descrMeta.content = this._responseDesc;\n        }\n        \n        Pjax.prototype._onsuccess = function(response)\n        {\n            this._insertResponse(response);\n        \n            trigger_event(window, 'frontbx:pjax:success', this.options);\n        \n            this.ajax._makeCallback(this.callbacks.success, this._xhr, [response]);\n        }\n        \n        Pjax.prototype._onerror = function(response)\n        {\n            trigger_event(window, 'frontbx:pjax:abort', this.options);\n        \n            this.ajax._makeCallback(this.callbacks.error, this._xhr, [response, false]);\n        }\n        \n        Pjax.prototype._onabort = function(response)\n        {\n            let selector = this.options.element;\n            \n            let swapTimer = TRANSITION_TIMERS.get(selector);\n        \n            if (swapTimer) clearTimeout(swapTimer);\n        \n            CURRENT_REQUESTS.delete(selector);\n        \n            TRANSITION_TIMERS.delete(selector);\n        \n            if (this._abortAnimations) this._abortAnimations();\n        \n            frontbx.NProgress().done();\n        \n            trigger_event(window, 'frontbx:pjax:abort', this.options);\n        \n            this.ajax._makeCallback(this.callbacks.abort, this._xhr, [response, false]);\n        }\n        \n        Pjax.prototype._oncomplete = function(response, successfull)\n        {\n            if (this.options.scrolltop) animate(window, { property : 'scrollTo', to: '0, 0', duration: 150, callback: () => this._pushState() });\n        \n            trigger_event(window, 'frontbx:pjax:complete', this.options);\n        \n            this.ajax._makeCallback(this.callbacks.complete, this._xhr, [response, successfull]);\n        \n            frontbx.NProgress().done();\n        }\n        \n        Pjax.prototype._contentComplete = function()\n        {\n            if (!this.options.scrolltop) this._pushState(); \n           \n            CURRENT_REQUESTS.delete(this.options.element);\n        \n            TRANSITION_TIMERS.delete(this.options.element);\n        \n            let _elem = this._optionsElement();\n        \n            frontbx.dom().refresh(_elem === document.body ? document : _elem);\n        \n            this.completed = true;\n        }\n        \n        Pjax.prototype._preAbort = function()\n        {\n            let ajax = CURRENT_REQUESTS.get(this.options.element);\n        \n            if (ajax) ajax.abort();\n        }\n        /**\n         * Fades / in out content.\n         *\n         * \n         * @access {private}\n         */\n        Pjax.prototype._animateSwap = function(target, content)\n        {\n            // Cache wrapper height and width and so we can transition content without changing layout\n            const h           = height(target);\n            const w           = width(target);\n            const padW        = width(target, true);\n            const padH        = height(target, true);\n            const padL        = parseInt(rendered_style(target, 'padding-left'));\n            const padT        = parseInt(rendered_style(target, 'padding-top'));\n            const position    = rendered_style(target, 'position');\n            const InlOverflow = inline_style(target, 'overflow') || false;\n            const InlPosition = inline_style(target, 'overflow') || false;\n            const InlHeight   = inline_style(target, 'height') || false;\n            const InlWidth    = inline_style(target, 'width') || false;\n            const InlStyles   = { overflow: InlOverflow, position: InlPosition, height: InlHeight, width: InlWidth };\n            const newStyles   = { overflow: 'hidden', height: `${h}px`, width: `${w}px` };\n            const tmpStyles   = { left: `${padL}px`, top: `${padT}px`, height: `${padH}px`, width: `${padW}px` };\n        \n            if (STATIC_POSITIONS.includes(position)) newStyles.position = 'relative';\n        \n            // Cache content for afterwards\n            const oldContnet = first_children(target);\n            const newContent = first_children(content);\n        \n            // Prep content for inserting\n            let tempWrapper = dom_element({tag: 'div', class: 'pjax-temp-swap-wrapper', style: tmpStyles}, null, newContent);\n        \n            // Fix dimensions, overflow and positioning while transition.\n            css(target, newStyles);\n        \n            // Add wrapper class to position content swap while transitioning\n            add_class(target, 'pjax-swapping-content');\n        \n            // Transition out\n            each(oldContnet, (i, node) => add_class(node, 'pjax-prev-content'));\n        \n            // Finally append content\n            target.appendChild(tempWrapper);\n        \n            // Offset height for CSS transitions\n            tempWrapper.offsetHeight;\n        \n            // Activate animation\n            add_class(target, 'active');\n        \n            // On complete\n            let completedTransition = setTimeout(() =>\n            {\n                // Remove old content\n                each(oldContnet, (i, child) => remove_from_dom(child));\n        \n                // Move new content to direct child\n                each(newContent, (i, child) => target.appendChild(child));\n        \n                // Remove the temp wrapper\n                if (tempWrapper.parentNode) tempWrapper.parentNode.removeChild(tempWrapper);\n        \n                // Remove pjax swap class on parent\n                remove_class(target, ['pjax-swapping-content', 'active']);\n        \n                // Set inline styles back to original\n                css(target, InlStyles);\n        \n                // Append scripts\n                this._appendScripts();\n        \n            }, 500);\n        \n            this._abortAnimations = () =>\n            {\n                if (tempWrapper.parentNode) tempWrapper.parentNode.removeChild(tempWrapper);\n        \n                remove_class(target, ['pjax-swapping-content', 'active']);\n        \n                css(target, InlStyles);\n            }\n        \n            // Wait for transition to end\n            TRANSITION_TIMERS.set(target, completedTransition);\n        }\n        /**\n         * State change event handler (back/forward clicks)\n         *\n         * Popstate is treated as another pjax request essentially\n         * \n         * @access {private}\n         * @param  {e}       event JavaScript 'popstate' event\n         */\n        Pjax.prototype._popStateHandler = function(e)\n        {\n            // State obj exists \n            if (e.state && typeof e.state.id !== 'undefined')\n            {\n                let options = e.state;\n        \n                this.request(options.id, {...options, nocache: false, pushstate: false });\n        \n                return false;\n            }\n        }\n        \n        /**\n         * Push state after complete.\n         *\n         * @access {private}\n         */\n        Pjax.prototype._pushState = function()\n        {    \n            if (this.options.pushstate)\n            {            \n                let state = { ...this.options, id: this.options.url, scrolltop: false, scroll: scroll_pos() };\n        \n                window.history.pushState(state, '', state.id);\n            }\n            // Adjust hash\n            else if (this.options.urlhash)\n            {\n                let url = window.location.href.split('#').shift();\n        \n                window.history.replaceState({}, '', `${url}#${this._optionsElement().id}`);\n            }\n        }\n        \n        /**\n         * Save state before requesting.\n         *\n         * @access {private}\n         */\n        Pjax.prototype._saveState = function()\n        {    \n            if (this.options.pushstate)\n            {            \n                let state = { ...this.options, id: normalize_url(window.location.href), scrolltop: false, scroll: scroll_pos() };\n        \n                window.history.pushState(state, '', state.id);\n            }\n            // Adjust hash\n            else if (this.options.urlhash)\n            {\n                window.history.replaceState({}, '', window.location.href);\n            }\n        }\n    \n        frontbx.set('Pjax', Pjax);\n    \n    })();\n    (function()\n    {\n        /**\n         * \n         * @var {Helper} obj\n         */\n        const [find, each, _for, is_array, is_object, in_array, is_undefined, is_callable, is_htmlElement, in_dom, is_empty, animate, add_class, remove_class, width, height, inline_style, rendered_style, css, is_array_last, dom_element] = frontbx.import(['find','each','for','is_array', 'is_object', 'in_array','is_undefined','is_callable','is_htmlElement','in_dom','is_empty','animate', 'add_class','remove_class', 'width', 'height', 'inline_style', 'rendered_style', 'css', 'is_array_last','dom_element']).from('_');\n    \n        /**\n         * Wrappers that need \"position:relative\" to hide overflow.\n         * \n         * @var {array}\n         */\n        const STATIC_POSITIONS = ['static', 'unset', 'initial'];\n    \n        /**\n         * Default options.\n         * \n         * @var {array}\n         */\n        const DEFAULT_OPTIONS =\n        {\n            count: 1,\n            lines: 0,\n            height: null,\n            width: null,\n            variant: 'block',\n            aspectratio: '',\n    \n        };\n    \n        /**\n         * Class variants.\n         * \n         * @var {array}\n         */\n        const CLASS_VARIANTS = ['block', 'text', 'btn', 'input', 'circle', 'wave', 'rounded', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6'];\n    \n        /**\n         * Class variants.\n         * \n         * @var {array}\n         */\n        const WRAPPER_VARIANTS = ['text-block', 'block-h1', 'block-h2', 'block-h3', 'block-h4', 'block-h5', 'block-h6'];\n    \n        /**\n         * Skeleton.\n         *\n         * @param  {DOMElement}   DOMElement Target node\n         * @param  {object|array} options\n         * @return {this}\n         */\n        const Skeleton = function(DOMElement, options)\n        {\n        this._DOMElement = DOMElement;\n    \n        this._nodes = [];\n    \n        this._isMulti = is_array(options);\n    \n        if (is_empty(options)) return this;\n    \n        if (is_array(options))\n        {\n            each(options, function(i, optionSet)\n            {\n                optionSet = {...DEFAULT_OPTIONS, ...optionSet};\n    \n                this._build(optionSet);\n    \n            }, this);\n        }\n        else\n        {\n            options = {...DEFAULT_OPTIONS, ...options};\n    \n            this._build(options);\n        }\n        }\n    \n        /**\n         * Gracefully individual content\n         * \n         * @param  {DOMElement|String} content\n         * @param  {function|null}     callback\n         * @access {public}\n         */\n        Skeleton.prototype.load = function(content, callback, wrapper)\n        {\n            if (is_object(content))\n            {\n                each(content, (selector, node) => \n                {\n                    let cb = is_array_last(node, content) ? callback : null;\n    \n                    this.load(node, cb, find(selector, this._DOMElement));\n    \n                }, this);\n    \n                return;\n            }\n    \n            wrapper = !wrapper ? this._DOMElement : wrapper;\n            const isHTML  = is_htmlElement(content);\n            \n            // Cache wrapper height and width and so we can transition content without changing layout\n            const h           = height(wrapper);\n            const w           = width(wrapper);\n            const position    = rendered_style(wrapper, 'position');\n            const InlOverflow = inline_style(wrapper, 'overflow') || false;\n            const InlPosition = inline_style(wrapper, 'overflow') || false;\n            const InlHeight   = inline_style(wrapper, 'height') || false;\n            const InlWidth    = inline_style(wrapper, 'width') || false;\n            const InlStyles   = { overflow: InlOverflow, position: InlPosition, height: InlHeight, width: InlWidth };\n            const newStyles   = { overflow: 'hidden', height: `${h}px`, width: `${w}px` };\n            if (in_array(position, STATIC_POSITIONS)) newStyles.position = 'relative';\n    \n            // Prep content for inserting\n            var isFragment = false;\n            var oldContnet;\n    \n            if (isHTML)\n            {\n                add_class(content, 'swapping-content-wrapper');\n            }\n            else\n            {\n                let div    = dom_element({tag: 'div', class: 'swapping-content-wrapper'}, null, content);\n                isFragment = div.children.length > 1;\n                if (isFragment) div.className += ' fragment';\n                oldContnet = content;\n                content    = div;\n            }\n    \n            const _this = this;\n    \n            const complete = function()\n            {\n                // Make optional user callback\n                if (is_callable(callback))\n                {\n                    callback();\n                }\n    \n                // If we wrapped 'content' we need to remove the outer '.swapping-content-wrapper'\n                if (!isHTML)\n                {\n                    if (isFragment)\n                    {\n                        wrapper.innerHTML = '';\n    \n                        dom_element(null, wrapper, oldContnet);\n                    }\n                    else\n                    {\n                        wrapper.replaceChild(content.children[0], content);\n                    }\n                }\n                else\n                {\n                    remove_class(content, 'swapping-content-wrapper');\n                }\n    \n                // Remove skeletons\n                each(_this._nodes, function(i, node)\n                {\n                    if (in_dom(node)) node.parentNode.removeChild(node);                    \n                });\n    \n                // Set inline styles back to original\n                css(wrapper, InlStyles);\n    \n                // Remove wrapper classes\n                remove_class(wrapper, 'skeleton-swapping-content');\n            }\n    \n            // Fix dimensions, overflow and positioning while transition.\n            css(wrapper, newStyles);\n    \n            // Add wrapper class to position content swap while transitioning\n            add_class(wrapper, 'skeleton-swapping-content');\n    \n            // Finally append content\n            wrapper.appendChild(content);\n    \n            each(this._nodes, function(i, node)\n            {\n                animate(node, { property : 'opacity', to : 0, duration: 500 });\n            });\n    \n            animate(content, { property : 'opacity', from: '0', to : '1', duration: 750, callback: complete});\n        }\n    \n        /**\n         * Remove and destroy\n         *\n         * @params {function} callback (optional)\n         * @params {boolean}  destroy  (optional default true)\n         * @access {private}\n         */\n        Skeleton.prototype.fade_out = function(callback, destroy)\n        {\n            destroy = is_undefined(destroy) ? true : destroy;\n            \n            let _this = this;\n    \n            const complete = function()\n            {\n                if (destroy)\n                {\n                    _this.destroy();\n                }\n    \n                if (is_callable(callback))\n                {\n                    callback();\n                }\n            }\n    \n            let madeCallback = false;\n    \n            each(this._nodes, function(i, node)\n            {\n                let _callback = madeCallback ? undefined : complete;\n    \n                animate(node, { property : 'opacity', to : 0, duration: 500, callback: complete});\n    \n                madeCallback = true;\n            });\n        }\n    \n        /**\n         * Remove and destroy\n         *\n         * @params {_node} node\n         * @access {private}\n         */\n        Skeleton.prototype.destroy = function()\n        {\n            each(this._nodes, function(i, node)\n            {\n                node.parentNode.removeChild(node);\n            });\n    \n            this._nodes = [];\n        }\n    \n        /**\n         * Remove a notification\n         *\n         * @params {_node} node\n         * @access {private}\n         */\n        Skeleton.prototype._build = function(options)\n        {\n            let wrapper    = null;\n            let skeleton   = document.createElement('div');\n            let variants   = options.variant.split(' ').map((x) => x.trim().toLowerCase()).filter((x) => x !== '');\n            let DOMElement = options.selector ? find(options.selector, this._DOMElement) : this._DOMElement;\n            let width      = options.width;\n            let height     = options.height;\n            let classes    = ['skeleton'];\n    \n            each(variants, function(i, variant)\n            {\n                if (in_array(variant, CLASS_VARIANTS))\n                {\n                    classes.push(`skeleton-${variant}`);\n                }\n                else if (in_array(variant, WRAPPER_VARIANTS))\n                {\n                    classes = ['skeleton'];\n    \n                    if (!wrapper)\n                    {\n                        wrapper = document.createElement('div');\n                        wrapper.className = options.lines > 1 ? 'skeleton-text-block skeleton-lines' : 'skeleton-text-block' ;\n                    }\n    \n                    if (variant !== 'text-block')\n                    {\n                        wrapper.className += ` skeleton-text-${variant}`;\n                    }\n                }\n            });\n    \n            skeleton.className = classes.join(' ');\n    \n            let skeletons = [skeleton];\n    \n            if (options.count > 1 || options.lines > 1)\n            {\n                let count = Math.max(options.count, options.lines);\n    \n                _for(count -1, (i) => skeletons.push(skeleton.cloneNode(true)));\n            }\n    \n            each(skeletons, function(i, _skeleton)\n            {\n                this._setDimensions(_skeleton, width, height, wrapper, options.aspectratio, options.lines > 1);\n    \n                if (wrapper)\n                {\n                    wrapper.appendChild(_skeleton);\n                }\n                else\n                {\n                    DOMElement.appendChild(_skeleton);\n                }\n    \n            }, this);\n    \n            if (wrapper)\n            {                \n                DOMElement.appendChild(wrapper);\n    \n                this._nodes.push(wrapper);\n            }\n            else\n            {\n                each(skeletons, (i, skel) => this._nodes.push(skel), this);\n            }\n        }\n    \n        /**\n         * Remove and destroy\n         *\n         * @params {callback} node\n         * @access {private}\n         */\n        Skeleton.prototype._setDimensions = function(skeleton, width, height, wrapper, aspectRatio, isLines)\n        {\n            // Text blocks get random width;\n            if (wrapper)\n            {\n                let min = isLines ? 70 : 15;\n                let max = isLines ? 95 : 85;\n                let w   = Math.floor(Math.random() * (max - min + 1) + min);\n    \n                skeleton.style.width = `${w}%`;\n    \n                return;\n            }\n    \n            if (aspectRatio !== '')\n            {\n                skeleton.style.width  = '100%';\n                skeleton.style.height = 'auto';\n                skeleton.style.aspectRatio = aspectRatio;\n    \n                return;\n            }\n    \n            if (width)\n            {\n                skeleton.style.width = width;\n            }\n    \n            if (height)\n            {\n                skeleton.style.height = height;\n            }\n        }\n    \n        // Add to container\n        frontbx.set('Skeleton', Skeleton);\n    \n    })();\n    (function()\n    {\n        /**\n         * TinyGesture.js\n         *\n         * This service uses passive listeners, so you can't call event.preventDefault()\n         * on any of the events.\n         *\n         * Adapted from https://gist.github.com/SleepWalker/da5636b1abcbaff48c4d\n         * and https://github.com/uxitten/xwiper\n         * plus a bunch more of my own code.\n         */\n        class TinyGesture\n        {\n            constructor(element, options)\n            {\n                this.element = element;\n                this.touch1 = null;\n                this.touch2 = null;\n                this.touchStartX = null;\n                this.touchStartY = null;\n                this.touchEndX = null;\n                this.touchEndY = null;\n                this.touchMove1 = null;\n                this.touchMove2 = null;\n                this.touchMoveX = null;\n                this.touchMoveY = null;\n                this.velocityX = null;\n                this.velocityY = null;\n                this.longPressTimer = null;\n                this.doubleTapTimer = null;\n                this.doubleTapWaiting = false;\n                this.thresholdX = 0;\n                this.thresholdY = 0;\n                this.disregardVelocityThresholdX = 0;\n                this.disregardVelocityThresholdY = 0;\n                this.swipingHorizontal = false;\n                this.swipingVertical = false;\n                this.swipingDirection = null;\n                this.swipedHorizontal = false;\n                this.swipedVertical = false;\n                this.originalDistance = null;\n                this.newDistance = null;\n                this.scale = null;\n                this.originalAngle = null;\n                this.newAngle = null;\n                this.rotation = null;\n                this.handlers = {\n                    panstart: [],\n                    panmove: [],\n                    panend: [],\n                    swipeleft: [],\n                    swiperight: [],\n                    swipeup: [],\n                    swipedown: [],\n                    tap: [],\n                    doubletap: [],\n                    longpress: [],\n                    pinch: [],\n                    pinchend: [],\n                    rotate: [],\n                    rotateend: [],\n                };\n                this._onTouchStart = this.onTouchStart.bind(this);\n                this._onTouchMove = this.onTouchMove.bind(this);\n                this._onTouchEnd = this.onTouchEnd.bind(this);\n                this.opts = Object.assign({}, TinyGesture.defaults, options);\n                this.element.addEventListener('touchstart', this._onTouchStart, passiveIfSupported);\n                this.element.addEventListener('touchmove', this._onTouchMove, passiveIfSupported);\n                this.element.addEventListener('touchend', this._onTouchEnd, passiveIfSupported);\n                if (this.opts.mouseSupport && !('ontouchstart' in window)) {\n                    this.element.addEventListener('mousedown', this._onTouchStart, passiveIfSupported);\n                    document.addEventListener('mousemove', this._onTouchMove, passiveIfSupported);\n                    document.addEventListener('mouseup', this._onTouchEnd, passiveIfSupported);\n                }\n            }\n            destroy() {\n                var _a, _b;\n                this.element.removeEventListener('touchstart', this._onTouchStart);\n                this.element.removeEventListener('touchmove', this._onTouchMove);\n                this.element.removeEventListener('touchend', this._onTouchEnd);\n                this.element.removeEventListener('mousedown', this._onTouchStart);\n                document.removeEventListener('mousemove', this._onTouchMove);\n                document.removeEventListener('mouseup', this._onTouchEnd);\n                clearTimeout((_a = this.longPressTimer) !== null && _a !== void 0 ? _a : undefined);\n                clearTimeout((_b = this.doubleTapTimer) !== null && _b !== void 0 ? _b : undefined);\n            }\n            on(type, fn) {\n                if (this.handlers[type]) {\n                    this.handlers[type].push(fn);\n                    return {\n                        type,\n                        fn,\n                        cancel: () => this.off(type, fn),\n                    };\n                }\n            }\n            off(type, fn) {\n                if (this.handlers[type]) {\n                    const idx = this.handlers[type].indexOf(fn);\n                    if (idx !== -1) {\n                        this.handlers[type].splice(idx, 1);\n                    }\n                }\n            }\n            fire(type, event) {\n                for (let i = 0; i < this.handlers[type].length; i++) {\n                    this.handlers[type][i](event);\n                }\n            }\n            onTouchStart(event) {\n                var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1;\n                let didTouch1 = false;\n                let didTouch2 = false;\n                if (event.type !== 'mousedown') {\n                    if (!this.touch1) {\n                        this.touch1 = event.changedTouches[0];\n                        didTouch1 = true;\n                    }\n                    if (((didTouch1 && event.changedTouches.length > 1) || !didTouch1) && !this.touch2) {\n                        this.touch2 =\n                            [...event.changedTouches].find((touch) => { var _a; return touch.identifier !== ((_a = this.touch1) === null || _a === void 0 ? void 0 : _a.identifier); }) ||\n                                null;\n                        this.originalDistance = Math.sqrt(Math.pow(((_b = (_a = this.touch2) === null || _a === void 0 ? void 0 : _a.screenX) !== null && _b !== void 0 ? _b : 0) - ((_f = (_d = (_c = this.touchMove1) === null || _c === void 0 ? void 0 : _c.screenX) !== null && _d !== void 0 ? _d : (_e = this.touch1) === null || _e === void 0 ? void 0 : _e.screenX) !== null && _f !== void 0 ? _f : 0), 2) +\n                            Math.pow(((_h = (_g = this.touch2) === null || _g === void 0 ? void 0 : _g.screenY) !== null && _h !== void 0 ? _h : 0) - ((_m = (_k = (_j = this.touchMove1) === null || _j === void 0 ? void 0 : _j.screenY) !== null && _k !== void 0 ? _k : (_l = this.touch1) === null || _l === void 0 ? void 0 : _l.screenY) !== null && _m !== void 0 ? _m : 0), 2));\n                        this.originalAngle =\n                            Math.atan2(((_p = (_o = this.touch2) === null || _o === void 0 ? void 0 : _o.screenY) !== null && _p !== void 0 ? _p : 0) - ((_t = (_r = (_q = this.touchMove1) === null || _q === void 0 ? void 0 : _q.screenY) !== null && _r !== void 0 ? _r : (_s = this.touch1) === null || _s === void 0 ? void 0 : _s.screenY) !== null && _t !== void 0 ? _t : 0), ((_v = (_u = this.touch2) === null || _u === void 0 ? void 0 : _u.screenX) !== null && _v !== void 0 ? _v : 0) - ((_z = (_x = (_w = this.touchMove1) === null || _w === void 0 ? void 0 : _w.screenX) !== null && _x !== void 0 ? _x : (_y = this.touch1) === null || _y === void 0 ? void 0 : _y.screenX) !== null && _z !== void 0 ? _z : 0)) /\n                                (Math.PI / 180);\n                        return;\n                    }\n                    if (!didTouch1 && !didTouch2) {\n                        return;\n                    }\n                }\n                if (didTouch1 || event.type === 'mousedown') {\n                    this.thresholdX = this.opts.threshold('x', this);\n                    this.thresholdY = this.opts.threshold('y', this);\n                    this.disregardVelocityThresholdX = this.opts.disregardVelocityThreshold('x', this);\n                    this.disregardVelocityThresholdY = this.opts.disregardVelocityThreshold('y', this);\n                    this.touchStartX = event.type === 'mousedown' ? event.screenX : ((_0 = this.touch1) === null || _0 === void 0 ? void 0 : _0.screenX) || 0;\n                    this.touchStartY = event.type === 'mousedown' ? event.screenY : ((_1 = this.touch1) === null || _1 === void 0 ? void 0 : _1.screenY) || 0;\n                    this.touchMoveX = null;\n                    this.touchMoveY = null;\n                    this.touchEndX = null;\n                    this.touchEndY = null;\n                    this.swipingDirection = null;\n                    this.longPressTimer = setTimeout(() => this.fire('longpress', event), this.opts.longPressTime);\n                    this.scale = 1;\n                    this.rotation = 0;\n                    this.fire('panstart', event);\n                }\n            }\n            onTouchMove(event) {\n                var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o;\n                if (event.type === 'mousemove' && (!this.touchStartX || this.touchEndX !== null)) {\n                    return;\n                }\n                let touch1 = undefined;\n                let touch2 = undefined;\n                if (event.type !== 'mousemove') {\n                    touch1 = [...event.changedTouches].find((touch) => { var _a; return touch.identifier === ((_a = this.touch1) === null || _a === void 0 ? void 0 : _a.identifier); });\n                    this.touchMove1 = touch1 || this.touchMove1;\n                    touch2 = [...event.changedTouches].find((touch) => { var _a; return touch.identifier === ((_a = this.touch2) === null || _a === void 0 ? void 0 : _a.identifier); });\n                    this.touchMove2 = touch2 || this.touchMove2;\n                }\n                if (event.type === 'mousemove' || touch1) {\n                    const touchMoveX = (event.type === 'mousemove' ? event.screenX : (_a = touch1 === null || touch1 === void 0 ? void 0 : touch1.screenX) !== null && _a !== void 0 ? _a : 0) - ((_b = this.touchStartX) !== null && _b !== void 0 ? _b : 0);\n                    this.velocityX = touchMoveX - ((_c = this.touchMoveX) !== null && _c !== void 0 ? _c : 0);\n                    this.touchMoveX = touchMoveX;\n                    const touchMoveY = (event.type === 'mousemove' ? event.screenY : (_d = touch1 === null || touch1 === void 0 ? void 0 : touch1.screenY) !== null && _d !== void 0 ? _d : 0) - ((_e = this.touchStartY) !== null && _e !== void 0 ? _e : 0);\n                    this.velocityY = touchMoveY - ((_f = this.touchMoveY) !== null && _f !== void 0 ? _f : 0);\n                    this.touchMoveY = touchMoveY;\n                    const absTouchMoveX = Math.abs(this.touchMoveX);\n                    const absTouchMoveY = Math.abs(this.touchMoveY);\n                    this.swipingHorizontal = absTouchMoveX > this.thresholdX;\n                    this.swipingVertical = absTouchMoveY > this.thresholdY;\n                    this.swipingDirection =\n                        absTouchMoveX > absTouchMoveY\n                            ? this.swipingHorizontal\n                                ? 'horizontal'\n                                : 'pre-horizontal'\n                            : this.swipingVertical\n                                ? 'vertical'\n                                : 'pre-vertical';\n                    if (Math.max(absTouchMoveX, absTouchMoveY) > this.opts.pressThreshold) {\n                        clearTimeout((_g = this.longPressTimer) !== null && _g !== void 0 ? _g : undefined);\n                    }\n                    this.fire('panmove', event);\n                }\n                if (event.type !== 'mousemove' && this.touchMove1 != null && this.touchMove2 != null) {\n                    this.newDistance = Math.sqrt(Math.pow(this.touchMove2.screenX - this.touchMove1.screenX, 2) +\n                        Math.pow(this.touchMove2.screenY - this.touchMove1.screenY, 2));\n                    this.scale = this.newDistance / ((_h = this.originalDistance) !== null && _h !== void 0 ? _h : 0);\n                    this.fire('pinch', event);\n                    this.newAngle =\n                        Math.atan2(((_j = this.touchMove2.screenY) !== null && _j !== void 0 ? _j : 0) - ((_k = this.touchMove1.screenY) !== null && _k !== void 0 ? _k : 0), ((_l = this.touchMove2.screenX) !== null && _l !== void 0 ? _l : 0) - ((_m = this.touchMove1.screenX) !== null && _m !== void 0 ? _m : 0)) /\n                            (Math.PI / 180);\n                    this.rotation = this.newAngle - ((_o = this.originalAngle) !== null && _o !== void 0 ? _o : 0);\n                    this.fire('rotate', event);\n                }\n            }\n            onTouchEnd(event) {\n                var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n                let touch1 = undefined;\n                if (event.type !== 'mouseup') {\n                    touch1 = [...event.changedTouches].find((touch) => { var _a; return touch.identifier === ((_a = this.touch1) === null || _a === void 0 ? void 0 : _a.identifier); });\n                    if (![...event.touches].find((touch) => { var _a; return touch.identifier === ((_a = this.touch1) === null || _a === void 0 ? void 0 : _a.identifier); })) {\n                        this.touch1 = null;\n                        this.touchMove1 = null;\n                    }\n                    if (![...event.touches].find((touch) => { var _a; return touch.identifier === ((_a = this.touch2) === null || _a === void 0 ? void 0 : _a.identifier); })) {\n                        this.touch2 = null;\n                        this.touchMove2 = null;\n                    }\n                }\n                if (event.type === 'mouseup' && (!this.touchStartX || this.touchEndX !== null)) {\n                    return;\n                }\n                if (event.type === 'mouseup' || touch1) {\n                    this.touchEndX = event.type === 'mouseup' ? event.screenX : (_a = touch1 === null || touch1 === void 0 ? void 0 : touch1.screenX) !== null && _a !== void 0 ? _a : 0;\n                    this.touchEndY = event.type === 'mouseup' ? event.screenY : (_b = touch1 === null || touch1 === void 0 ? void 0 : touch1.screenY) !== null && _b !== void 0 ? _b : 0;\n                    this.fire('panend', event);\n                    clearTimeout((_c = this.longPressTimer) !== null && _c !== void 0 ? _c : undefined);\n                    const x = this.touchEndX - ((_d = this.touchStartX) !== null && _d !== void 0 ? _d : 0);\n                    const absX = Math.abs(x);\n                    const y = this.touchEndY - ((_e = this.touchStartY) !== null && _e !== void 0 ? _e : 0);\n                    const absY = Math.abs(y);\n                    const distance = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\n                    const absDistance = Math.abs(distance);\n                    const diagonal = absY / absX;\n                    if (absX > this.thresholdX ||\n                        absY > this.thresholdY ||\n                        (this.opts.diagonalSwipes && (absDistance > this.thresholdX || absDistance > this.thresholdY))) {\n                        this.swipedHorizontal = absX > this.thresholdX || (this.opts.diagonalSwipes && absDistance > this.thresholdX);\n                        this.swipedVertical = absY > this.thresholdY || (this.opts.diagonalSwipes && absDistance > this.thresholdY);\n                        if (!this.opts.diagonalSwipes ||\n                            diagonal < Math.tan(((45 - this.opts.diagonalLimit) * Math.PI) / 180) ||\n                            diagonal > Math.tan(((45 + this.opts.diagonalLimit) * Math.PI) / 180)) {\n                            if (absX >= absY) {\n                                this.swipedVertical = false;\n                            }\n                            if (absY > absX) {\n                                this.swipedHorizontal = false;\n                            }\n                        }\n                        if (this.swipedHorizontal) {\n                            if (x < 0) {\n                                if (((_f = this.velocityX) !== null && _f !== void 0 ? _f : 0) < -this.opts.velocityThreshold || distance < -this.disregardVelocityThresholdX) {\n                                    this.fire('swipeleft', event);\n                                }\n                            }\n                            else {\n                                if (((_g = this.velocityX) !== null && _g !== void 0 ? _g : 0) > this.opts.velocityThreshold || distance > this.disregardVelocityThresholdX) {\n                                    this.fire('swiperight', event);\n                                }\n                            }\n                        }\n                        if (this.swipedVertical) {\n                            if (y < 0) {\n                                if (((_h = this.velocityY) !== null && _h !== void 0 ? _h : 0) < -this.opts.velocityThreshold || distance < -this.disregardVelocityThresholdY) {\n                                    this.fire('swipeup', event);\n                                }\n                            }\n                            else {\n                                if (((_j = this.velocityY) !== null && _j !== void 0 ? _j : 0) > this.opts.velocityThreshold || distance > this.disregardVelocityThresholdY) {\n                                    this.fire('swipedown', event);\n                                }\n                            }\n                        }\n                    }\n                    else if (absX < this.opts.pressThreshold && absY < this.opts.pressThreshold) {\n                        if (this.doubleTapWaiting) {\n                            this.doubleTapWaiting = false;\n                            clearTimeout((_k = this.doubleTapTimer) !== null && _k !== void 0 ? _k : undefined);\n                            this.fire('doubletap', event);\n                        }\n                        else {\n                            this.doubleTapWaiting = true;\n                            this.doubleTapTimer = setTimeout(() => (this.doubleTapWaiting = false), this.opts.doubleTapTime);\n                            this.fire('tap', event);\n                        }\n                    }\n                }\n                if (!this.touch1 && !this.touch2) {\n                    this.fire('pinchend', event);\n                    this.fire('rotateend', event);\n                    this.originalDistance = null;\n                    this.newDistance = null;\n                    this.scale = null;\n                    this.originalAngle = null;\n                    this.newAngle = null;\n                    this.rotation = null;\n                }\n            }\n        }\n        TinyGesture.defaults = {\n            threshold: (type, _self) => Math.max(25, Math.floor(0.15 *\n                (type === 'x'\n                    ? window.innerWidth || document.body.clientWidth\n                    : window.innerHeight || document.body.clientHeight))),\n            velocityThreshold: 10,\n            disregardVelocityThreshold: (type, self) => Math.floor(0.5 * (type === 'x' ? self.element.clientWidth : self.element.clientHeight)),\n            pressThreshold: 8,\n            diagonalSwipes: false,\n            diagonalLimit: 15,\n            longPressTime: 500,\n            doubleTapTime: 300,\n            mouseSupport: true,\n        };\n        let passiveIfSupported = false;\n        try {\n            window.addEventListener('test', null, Object.defineProperty({}, 'passive', {\n                get: function () {\n                    passiveIfSupported = { passive: true };\n                },\n            }));\n        }\n        catch (err) { }\n    \n        frontbx.set('TinyGesture', TinyGesture);\n    \n    })();\n    (function()\n    {\n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [find, find_all, each, dom_element, add_class, toggle_class, on, off, has_class, remove_class, remove_from_dom, css, height, width, preapend, scroll_pos, animate_css, rendered_style] = frontbx.import(['find','find_all','each','dom_element','add_class','toggle_class','on','off','has_class','remove_class','remove_from_dom', 'css', 'height', 'width', 'preapend', 'scroll_pos', 'animate_css', 'rendered_style']).from('_');\n    \n        /**\n         * Default options\n         * \n         * @var {obj}\n         */\n        var DEFAULT_OPTIONS =\n        {\n            // Content - can be a node, nodelist, or string of HTML\n            content: '',\n            \n            // Overlay color - dark, light, none,\n            overlay: 'dark',\n    \n            // Force overlay on persistent drawer\n            persistentOverlay: false,\n    \n            // When true allows swiping on screen to hide/show\n            swipeable: false,\n    \n            // When keepEdge is true, the default state to set \"expanded\"|\"collapsed\"\n            state: 'expanded',\n    \n            // Where the drawer comes from - left,right,top,bottom\n            direction: 'left',\n    \n            // Collapses to icon size\n            peekable: false,\n    \n            // Adapt body body\n            persistent: false,\n    \n            // Responsive\n            responsive: false,\n    \n            // Push body instead of changing width\n            pushbody: false,\n    \n            // Animiation time\n            animationTime: 250,\n    \n            // Animation easing\n            easing: 'easeOut',\n    \n            // HTML initialized\n            fromHTML: false,\n            \n            // Additional classes to apply to wrapper\n            classes: '',\n    \n            // State callbacks\n            callbackBuilt:    () => { },\n            callbackRender:   () => { },\n            callbackClose:    () => { },\n            callbackOpen:     () => { },\n            callbackValidate: () => true,\n        };\n    \n        /**\n         * Closing arrow icons.\n         * \n         * @var {obj}\n         */\n        const PUSH_ARROWS =\n        {\n            left: 'left',\n            right: 'right',\n            top: 'up',\n            bottom: 'down'\n        };\n    \n        /**\n         * Swipe open/close directions.\n         * \n         * @var {obj}\n         */\n        const SWIPE_DIRECTIONS =\n        {\n            left: ['swiperight', 'swipeleft'],\n            right: ['swipeleft', 'swiperight'],\n            top:  ['swipedown', 'swipeup'],\n            bottom: ['swipeup', 'swipedown'],\n        };\n    \n        /**\n         * Don't double wrap body.\n         * \n         * @var {boolean}\n         */\n        var WRAPPED_BODY = false;\n    \n        /**\n         * Don't double wrap body.\n         * \n         * @var {boolean}\n         */\n        var WRAPPED_DRAWERS = 0;\n    \n        /**\n         * Module constructor\n         *\n         * @class\n         * @params {options} obj\n         * @access {public}\n         */\n        const Drawer = function(options)\n        { \n            // Merge options\n            this._options = {...DEFAULT_OPTIONS, ...options};\n    \n            if (!SWIPE_DIRECTIONS[this._options.direction]) throw new Error('Unsupported direction.');\n    \n            if (this._options.peekable) this._options.persistent = true;\n    \n            if (this._options.pushbody)\n            {\n                this._options.persistent = true;\n    \n                this._options.peekable = false;\n            }\n    \n            // Save state\n            this._state = this._options.state;\n    \n            // Animating\n            this._animating = false;\n    \n            // Already mounted?\n            this._mounted = false;\n    \n            // Initial mount\n            this._animateOnMount = typeof this._options.animateOnMount === 'undefined' ? this._state === 'expanded' && !this._options.fromHTML : this._options.animateOnMount;\n    \n            // Do we have an overlay\n            this._hasOverlay = !this._options.persistent || (this._options.persistent && this._options.persistentOverlay);\n    \n            // Cache resize throttle\n            this._resizeThrottle = throttle(() => this.resize(), 100);\n    \n            // Build the drawer\n            this._build();\n    \n            // Render the drawer        \n            this._mount();\n    \n            // Add listeners\n            this._bindListeners();\n    \n            return this;\n        }\n    \n        /**\n         * Is drawer open?\n         *\n         * @access {public}\n         * @return {Boolean}\n         */\n        Drawer.prototype.opened = function()\n        {\n            return this._state === 'expanded';\n        }\n    \n        /**\n         * Is drawer closed?\n         *\n         * @access {public}\n         * @return {Boolean}\n         */\n        Drawer.prototype.closed = function()\n        {\n            return this._state === 'collapsed';\n        }\n    \n        /**\n         * Is drawer open or closed?\n         *\n         * @access {public}\n         * @return {String}\n         */\n        Drawer.prototype.state = function()\n        {\n            return this._state;\n        }\n    \n        /**\n         * Returns drawer direction.\n         *\n         * @access {public}\n         * @return {String}\n         */\n        Drawer.prototype.direction = function()\n        {\n            return this._options.direction;\n        }\n    \n        /**\n         * Window resize handler\n         *\n         * @access {public}\n         */\n        Drawer.prototype.resize = function()\n        {\n            if (this._animating) return;\n    \n            let x = width(window);\n    \n            if (x < 768 && this.opened())\n            {\n                this.close();\n            }\n            else if (x > 768 && this.closed())\n            {\n                this.open();\n            }\n        }\n    \n        /**\n         * Destroy drawer.\n         *\n         * @access {public}\n         */\n        Drawer.prototype.destroy = function()\n        {\n            // Close\n            this.close();\n    \n            // Remove gestures\n            this._gestures.destroy();\n    \n            // Unwrap body\n            if (this._options.persistent) this._unwrapBody();\n    \n            if (this._options.responsive && this._options.persistent) \n            {\n                off(window, 'resize', this._resizeThrottle, this);\n            }\n    \n            if (WRAPPED_DRAWERS <= 0)\n            {\n                remove_from_dom(this._containerWrap);\n            }\n            else\n            {\n                if (this._hasOverlay) remove_from_dom(this._overlay);\n    \n                remove_from_dom(this._drawer);\n            }\n        }\n    \n        /**\n         * Close drawer.\n         *\n         * @access {public}\n         */\n        Drawer.prototype.open = function()\n        {\n            // Don't open when animating or not already closed\n            if (this._state !== 'collapsed' || this._animating) return;\n    \n            this._animating = true;\n    \n            remove_class(this._containerWrap, 'closed, closing');\n    \n            add_class(this._containerWrap, 'opening');\n    \n            remove_class(this._drawer, 'disabled');\n    \n            this._animteDrawer();\n    \n            if (this._hasOverlay)\n            {\n                add_class(document.body, 'no-scroll');\n    \n                this._animateOverlay();\n            }\n    \n            if (this._options.pushbody) add_class(document.body, 'no-scroll');\n    \n            if (this._options.persistent) this._animateBody();\n    \n            if (!this._mounted) this._toggleEnd();\n        }\n    \n        /**\n         * Open drawer.\n         *\n         * @access {public}\n         */\n        Drawer.prototype.close = function()\n        {\n            if (this._state !== 'expanded' || this._animating) return;\n    \n            this._animating = true;\n    \n            add_class(this._containerWrap, 'closing');\n    \n            remove_class(this._containerWrap, 'expanded, opening');\n    \n            remove_class(document.body, 'no-scroll');\n    \n            this._animteDrawer();\n    \n            if (this._hasOverlay) this._animateOverlay();\n    \n            if (this._options.persistent) this._animateBody();\n    \n            if (!this._mounted) this._toggleEnd();\n        }\n    \n        /**\n         * Wrap body when 'persistent' true.\n         *\n         * @access {private}\n         */\n        Drawer.prototype._animteDrawer = function()\n        {\n            let peekable  = this._options.peekable;\n            let state     = this._state;\n            let direction = this._options.direction;\n            let duration  = this._options.animationTime;\n            let easing    = this._options.easing;\n            let property  = peekable ? (direction === 'left' || direction === 'right' ? 'width' : 'height') : 'transform';\n            let to        = peekable ? (state === 'collapsed' ? this._drawerSize : this._peekableSize) : 'translate3d(0px, 0px, 0px)';\n            let from      = peekable ? (state === 'collapsed' ? this._peekableSize : 'auto') : null;\n    \n            if (peekable && state === 'collapsed' && (direction === 'top' || direction === 'bottom'))\n            {\n                to = this._drawerSize;\n            }\n    \n            if (!peekable)\n            {\n                let x = (direction === 'left' || direction === 'right') ? (direction === 'left' ? '-100%' : '100%') : '0px';\n                let y = (direction === 'top' || direction === 'bottom') ? (direction === 'top' ? '-100%' : '100%') : '0px';\n                let tofrom = `translate3d(${x}, ${y}, 0px)`;\n    \n                state === 'expanded' ? to = tofrom : from = tofrom;\n            }\n    \n            (this._mounted || (!this._mounted && this._animateOnMount)) ? animate_css(this._drawer, {property, from, to, duration, easing, callback: () => this._toggleEnd() }) : css(this._drawer, property, to);\n        }\n    \n        /**\n         * Wrap body when 'persistent' true.\n         *\n         * @access {private}\n         */\n        Drawer.prototype._animateOverlay = function()\n        {\n            let duration  = this._options.animationTime;\n            let easing    = this._options.easing;\n            let property  = 'opacity';\n            let to        = this._state === 'collapsed' ? '1' : '0';\n            let from      = this._state === 'collapsed' ? '0' : '1';\n    \n            (this._mounted || (!this._mounted && this._animateOnMount)) ? animate_css(this._overlay, {property, from, to, duration, easing }) : css(this._overlay, property, to);\n        }\n    \n        /**\n         * Wrap body when 'persistent' true.\n         *\n         * @access {private}\n         */\n        Drawer.prototype._animateBody = function()\n        {\n            if (!this._options.persistent) return;\n    \n            let peekable  = this._options.peekable;\n            let state     = this._state;\n            let direction = this._options.direction;\n            let duration  = this._options.animationTime;\n            let easing    = this._options.easing;\n            let property  = 'margin';\n            let n, e, s, w;\n            n = e = s = w = '0px';\n    \n            if (direction === 'left')   w = state === 'collapsed' ? this._drawerSize  : (peekable ? this._peekableSize : '0px');\n            if (direction === 'right')  e = state === 'collapsed' ? this._drawerSize  : (peekable ? this._peekableSize : '0px');\n            if (direction === 'top')    n = state === 'collapsed' ? `${height(this._drawer)}px` : (peekable ? this._peekableSize : '0px');\n    \n            let to = `${n} ${e} ${s} ${w}`;\n    \n            if (this._options.pushbody)\n            {\n                property = 'transform';\n                to = 'translate3d(0px, 0px, 0px)';\n    \n                if (state === 'collapsed')\n                {\n                    let x, y;\n                    x = y = '0px';\n                    if (e !== '0px') x = `-${e}`;\n                    if (w !== '0px') x = w;\n                    if (n !== '0px') y = n;\n                    to = `translate3d(${x}, ${y}, 0px)`;\n                }\n            }\n    \n            (this._mounted || (!this._mounted && this._animateOnMount)) ? animate_css(this._bodyWrap, {property, to, duration, easing }) : css(this._bodyWrap, property, to);\n        }\n    \n        /**\n         * Completed opening / closing.\n         *\n         * @access {private}\n         */\n        Drawer.prototype._toggleEnd = function()\n        {        \n            // Multiple transitions\n            if (!this._animating) return;\n    \n            this._state = this._state === 'collapsed' ? 'expanded' : 'collapsed';\n    \n            add_class(this._containerWrap, this._state === 'expanded' ? 'expanded' : 'closed');\n    \n            remove_class(this._containerWrap, this._state === 'expanded' ? 'opening' : 'closing');\n    \n            this._makeCallback(this._state === 'expanded' ? this._options.callbackOpen : this._options.callbackClose);\n    \n            this._animating = false;\n        }\n    \n        /**\n         * Build DOM Elements for drawer.\n         *\n         * @access {private}\n         */\n        Drawer.prototype._build = function()\n        {\n            let container = dom_element({tag: 'div', class: `js-drawer-container drawer-container drawer-${this._options.direction} ${this._options.persistent ? 'persistent' : ''} ${this._options.peekable ? 'peekable' : null } overlay-${this._options.overlay} ${this._options.classes}`});\n            let overlay   = dom_element({tag: 'div', class: 'js-drawer-overlay drawer-overlay'}, !this._hasOverlay ? null : container);\n            let drawer    = dom_element({tag: 'aside', class: 'js-drawer-wrap drawer-wrap'}, container, \n                dom_element({tag: 'div', class: 'drawer-dialog js-drawer-dialog' }, null, this._options.content )\n            );\n    \n            this._containerWrap = container;\n            this._drawer        = drawer;\n            this._overlay       = overlay;\n            this._dialog        = find('.js-drawer-dialog', this._drawer);\n    \n            if (this._options.persistent)\n            {\n                let header = dom_element({tag: 'div', class: `flex-row-fluid align-cols-center-y drawer-header ${this._options.direction !== 'right' ? 'align-cols-right' : ''}`});\n                let closer = dom_element({tag: 'button', type: 'button', class: 'btn btn-pure btn-circle btn-xs close-btn'}, header, dom_element({tag: 'span', class: `fa fa-chevron-${PUSH_ARROWS[this._options.direction]}`}));\n                \n                this._options.direction === 'top' ? this._dialog.appendChild(header) : preapend(header, this._dialog);\n    \n                on(closer, 'click', this._closeValidate, this);\n            }\n    \n            this._makeCallback(this._options.callbackBuilt);\n        }\n    \n        /**\n         * Mount and render the drawer.\n         *\n         * @access {private}\n         */\n        Drawer.prototype._mount = function()\n        {\n            document.body.appendChild(this._containerWrap);\n    \n            this._containerWrap.offsetHeight;\n    \n            this._peekableSize = this._options.peekableSize || rendered_style(this._containerWrap, '--fbx-drawer-size-peekable');\n            this._drawerSize   = this._options.drawerSize || rendered_style(this._containerWrap, '--fbx-drawer-width');\n    \n            if (this._options.persistent) this._wrapBody();\n    \n            this._state = this._state === 'expanded' ? 'collapsed' : 'expanded';\n    \n            this._state === 'collapsed' ? this.open() : this.close();\n    \n            this._mounted = true;\n    \n            this._makeCallback(this._options.callbackRender);\n        }\n    \n        /**\n         * Wrap body when 'persistent' true.\n         *\n         * @access {private}\n         */\n        Drawer.prototype._wrapBody = function()\n        {\n            WRAPPED_DRAWERS++;\n    \n            // Don't double-wrap body\n            if (WRAPPED_BODY)\n            {\n                // Disable other drawers\n                each(find_all('.js-drawer-wrap'), (i, drawer) => add_class(drawer, 'disabled'));\n    \n                let classN = this._containerWrap.className;\n    \n                if (this._containerWrap.parentNode) this._containerWrap.parentNode.removeChild(this._containerWrap);\n    \n                this._containerWrap = find('.js-drawer-container');\n    \n                this._bodyWrap = find('.js-drawer-body-wrap');\n    \n                this._containerWrap.className = classN;\n    \n                this._containerWrap.appendChild(this._drawer);\n    \n                return;\n            }\n    \n            WRAPPED_BODY = true;\n    \n            let pos = scroll_pos();\n    \n            let content = find_all('body > *');\n    \n            this._bodyWrap = dom_element({tag: 'div', class: 'js-drawer-body-wrap drawer-body-wrap'});\n    \n            preapend(this._bodyWrap, this._containerWrap);\n            \n            each(content, (i, node) => node !== this._containerWrap ? this._bodyWrap.appendChild(node) : null);\n    \n            this._containerWrap.scrollTo(pos.left, pos.top);\n        }\n    \n        /**\n         * Unwrap body when 'persistent' true.\n         *\n         * @access {private}\n         */\n        Drawer.prototype._unwrapBody = function()\n        {\n            if (!WRAPPED_BODY) return;\n    \n            WRAPPED_DRAWERS--;\n    \n            // Only unwrap if we're the last drawer using the container.\n            if (WRAPPED_DRAWERS <= 0)\n            {\n                let pos = scroll_pos(this._containerWrap);\n    \n                let content = find_all('> *', this._bodyWrap);\n    \n                each(content, (i, node) => document.body.appendChild(node));\n               \n                window.scrollTo(pos.left, pos.top);\n    \n                WRAPPED_BODY = false;\n            }\n        }\n    \n        /**\n         * Validate closing.\n         *\n         * @access {private}\n         */\n        Drawer.prototype._closeValidate = function()\n        {\n            if (this._makeCallback(this._options.callbackValidate)) this.close();\n        }\n    \n        /**\n         * Bind event listeners for drawer.\n         *\n         * @access {private}\n         */\n        Drawer.prototype._bindListeners = function()\n        {\n            if (!this._options.fromHTML) \n            {            \n                frontbx.dom().refresh(this._drawer);\n            }\n    \n            if (this._options.responsive && this._options.persistent) \n            {\n                on(window, 'resize', this._resizeThrottle, this);\n            }\n    \n            on(this._overlay, 'click', this._closeValidate, this);\n    \n            let directions = SWIPE_DIRECTIONS[this._options.direction];\n    \n            this._gestures = frontbx.TinyGesture(this._options.swipeable ? window : this._drawer, { mouseSupport: true, velocityThreshold: 3, threshold: (type, self) => this._options.swipeable ? 20 : 3 });\n    \n            this._gestures.on(directions[0], () => this.open() );\n    \n            this._gestures.on(directions[1], () => this._closeValidate() );\n        }\n    \n        /**\n         * Fire callbacks.\n         *\n         * @access {private}\n         */\n        Drawer.prototype._makeCallback = function(callback)\n        {\n            if (callback) return callback(this._containerWrap, this._drawer, this._overlay, this._bodyWrap);\n        }\n    \n        // Load into container \n        frontbx.set('Drawer', Drawer);\n    \n    })();\n    (function()\n    {\n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [on, find, dom_element, extend] = frontbx.import(['on','find','dom_element','extend']).from('_');\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const Drawer = frontbx.Drawer(frontbx.IMPORT_AS_REF);\n    \n        /**\n         * @var {obj}\n         */\n        var DEFAULT_OPTIONS =\n        {\n            // Content - can be a node, nodelist, or string of HTML\n            content: '',\n    \n            // Confirm button text or null + confirm button class\n            confirmBtn: null,\n            confirmClass: '',\n            \n            // Overlay color - \"dark\"| \"light\"\n            overlay: 'dark',\n    \n            // Allows collapsing,expanding\n            peekable: false,\n    \n            // When true allows swiping on screen to hide/show\n            swipeable: false,\n    \n            // When keepEdge is true, the default state to set \"expanded\"|\"collapsed\"\n            state: 'expanded',\n    \n            // Private\n            animationTime: 225,\n            persistentOverlay: true,\n            direction: 'bottom',\n            classes: '',\n            persistent: false,\n    \n            // State callbacks\n            callbackBuilt:    () => { },\n            callbackRender:   () => { },\n            callbackConfirm:  () => { },\n            callbackClose:    () => { },\n            callbackOpen:     () => { },\n            callbackValidate: () => true,\n        };\n    \n        /**\n         * Module constructor\n         *\n         * @class\n         * @params {options} obj\n         * @access {public}\n         * @return {this}\n         */\n        const Frontdrop = function(options)\n        {\n            let classes = options.confirmBtn ? `frontdrop with-confirmation ${options.classes}` : `frontdrop ${options.classes}`;\n    \n            options = {...DEFAULT_OPTIONS, ...options, classes};\n    \n            let content = this._buildFD(options);\n    \n            options = {...options, content};\n    \n            this.super(options);\n    \n            if (options.confirmBtn) on(find('.js-frontdrop-confirm', content), 'click', this._closeValidate, this);\n        }\n    \n        /**\n         * Build the frontdrop and overlay.\n         *\n         * @access {private}\n         */\n        Frontdrop.prototype._buildFD = function(options)\n        {\n            let footer = options.confirmBtn ? dom_element({tag: 'div', class: 'card-footer'}, null, \n                dom_element({tag: 'div', class: 'card-footer'}, null,\n                    dom_element({tag: 'div', class: 'card-footer-content'}, null,\n                        dom_element({tag: 'div', class: 'container-fluid'}, null,\n                            dom_element({tag: 'button', type: 'button', class: `btn btn-block js-frontdrop-confirm ${options.confirmClass}`}, null, options.confirmBtn)\n                        )\n                    )\n                )\n            ) : null;\n    \n            return dom_element({tag: 'div', class: 'card js-frontdrop-inner'}, null,\n            [ \n                dom_element({tag: 'div', class: 'card-header'}, null,\n                    dom_element({tag: 'div', class: 'container-fluid'}, null, \n                        dom_element({tag: 'div', class: 'card-header-content'}, null,\n                            dom_element({tag: 'div', class: 'card-title'}, null, options.title)\n                        )\n                    )\n                ),\n                dom_element({tag: 'div', class: 'card-block'}, null, \n                    dom_element({tag: 'div', class: 'container-fluid'}, null, options.content)\n                ),\n                footer\n            ])\n        }\n    \n        // Load into container \n        frontbx.set('Frontdrop', extend(Drawer, Frontdrop));\n    \n    })();\n    (function()\n    {\n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [on, find, dom_element, extend] = frontbx.import(['on','find','dom_element','extend']).from('_');\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const Drawer = frontbx.Drawer(frontbx.IMPORT_AS_REF);\n    \n        /**\n         * Module constructor\n         *\n         * @class\n         * @params {options} obj\n         * @access {public}\n         * @return {this}\n         */\n        const Backdrop = function(options)\n        {\n            let classes = !options.classes ? 'backdrop' : `backdrop ${options.classes}`;\n    \n            let persistent = true;\n    \n            options = {...options, classes, persistent };\n    \n            this.super(options);\n        }\n    \n        // Load into container \n        frontbx.set('Backdrop', extend(Drawer, Backdrop));\n    })();\n    (function()\n    {\n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [find, dom_element, add_class, on, off, remove_class, remove_from_dom, attr] = frontbx.import(['find','dom_element','add_class','on','off','remove_class','remove_from_dom','attr']).from('_');\n    \n        /**\n         * Default options\n         * \n         * @var {obj}\n         */\n        var DEFAULT_OPTIONS =\n        {\n            // Title\n            title: '',\n    \n            // Content - can be a node, nodelist, or string of HTML\n            content: '',\n    \n            // Additional classes to pass to modal\n            classes: '',\n    \n            // Does not create card\n            custom: false,\n    \n            // Click anywhere to close\n            closeAnywhere: true,\n    \n            // Scroll 'content' or 'modal'\n            scroll: 'modal',\n    \n            // Cancel btn\n            cancelBtn: null,\n            cancelClass: 'btn-danger btn-pure',\n    \n            // Confirm btn\n            confirmBtn: null,\n            confirmClass: 'btn-pure',\n            \n            // Overlay color - dark, light, none,\n            overlay: 'dark',\n    \n            // Default state when created/mounted set \"open\"|\"closed\"\n            state: 'open',\n    \n            // Loaded from HTML DOM\n            fromHTML: false,\n    \n            // State callbacks\n            callbackBuilt:    () => { },\n            callbackRender:   () => { },\n            callbackClose:    () => { },\n            callbackOpen:     () => { },\n            callbackValidate: () => true,\n        };\n    \n        /**\n         * Module constructor\n         *\n         * @class\n         * @params {options} obj\n         * @access {public}\n         */\n        const Modal = function(options)\n        { \n            // Merge options\n            this._options = {...DEFAULT_OPTIONS, ...options};\n    \n            // Save state\n            this._state = this._options.state;\n    \n            // Animating\n            this._animating = false;\n    \n            // Build the Modal\n            this._build();\n    \n            // Add listeners\n            this._bindListeners();\n    \n            // Render the Modal        \n            this._mount();\n    \n            return this;\n        }\n    \n        /**\n         * Is Modal open?\n         *\n         * @access {public}\n         * @return {Boolean}\n         */\n        Modal.prototype.opened = function()\n        {\n            return this._state === 'open';\n        }\n    \n        /**\n         * Is Modal closed?\n         *\n         * @access {public}\n         * @return {Boolean}\n         */\n        Modal.prototype.closed = function()\n        {\n            return this._state === 'closed';\n        }\n    \n        /**\n         * Is Modal open or closed?\n         *\n         * @access {public}\n         * @return {String}\n         */\n        Modal.prototype.state = function()\n        {\n            return this._state;\n        }\n    \n        /**\n         * Destroy Modal.\n         *\n         * @access {public}\n         */\n        Modal.prototype.destroy = function()\n        {\n            this.close();\n    \n            remove_from_dom(this._modal);\n    \n            remove_from_dom(this._overlay);\n        }\n    \n        /**\n         * Close Modal.\n         *\n         * @access {public}\n         */\n        Modal.prototype.open = function()\n        {\n            // Don't open when animating or not already closed\n            if (this._state !== 'closed' || this._animating) return;\n    \n            this._animating = true;\n    \n            on(this._dialog, 'transitionend', this._toggleEnd, this);\n    \n            remove_class([this._modal, this._overlay], 'closed, closing');\n    \n            add_class([this._modal, this._overlay], 'opening');\n    \n            if (this._options.overlay !== false) add_class(document.body, 'no-scroll');\n    \n            attr(this._modal, 'aria-hidden', 'false');\n    \n            attr(this._overlay, 'aria-hidden', 'false');\n        }\n    \n        /**\n         * Open Modal.\n         *\n         * @access {public}\n         */\n        Modal.prototype.close = function()\n        {\n            if (this._state !== 'open' || this._animating) return;\n    \n            this._animating = true;\n    \n            on(this._dialog, 'transitionend', this._toggleEnd, this);\n    \n            remove_class([this._modal, this._overlay], 'opening, opened');\n    \n            add_class([this._modal, this._overlay], 'closing');\n    \n            remove_class(document.body, 'no-scroll');\n    \n            attr(this._modal, 'aria-hidden', 'true');\n    \n            attr(this._overlay, 'aria-hidden', 'true');\n    \n            this._dialog.blur();\n        }\n    \n        /**\n         * Completed opening / closing.\n         *\n         * @access {private}\n         */\n        Modal.prototype._toggleEnd = function()\n        {                \n            // Multiple transitions\n            if (!this._animating) return;\n    \n            if (this._state === 'closed') this._dialog.focus();\n    \n            this._state = this._state === 'closed' ? 'open' : 'closed';\n    \n            remove_class([this._modal, this._overlay], this._state === 'open' ? 'opening' : 'closing');\n    \n            add_class([this._modal, this._overlay], this._state === 'open' ? 'opened' : 'closed');\n    \n            this._makeCallback(this._state === 'open' ? this._options.callbackOpen : this._options.callbackClose);\n    \n            off(this._dialog, 'transitionend', this._toggleEnd, this);\n    \n            this._animating = false;\n        }\n    \n        /**\n         * Build DOM Elements for Modal.\n         *\n         * @access {private}\n         */\n        Modal.prototype._build = function()\n        {\n            this._cancelBtn  = this._options.cancelBtn  ? dom_element({tag: 'button', type: 'button', class: `btn ${this._options.cancelClass}`}, null, this._options.cancelBtn) : null; \n            \n            this._confirmBtn = this._options.confirmBtn ? dom_element({tag: 'button', type: 'button', class: `btn ${this._options.confirmClass}`}, null, this._options.confirmBtn) : null;\n            \n            this._overlay = dom_element({tag: 'div', role: 'presentation', class: `modal-overlay closed overlay-${this._options.overlay} ${this._options.overlay === false ? 'disabled' : ''}`});\n            \n            this._modal    = dom_element({tag: 'div', role: 'presentation', tabindex: '-1', class: `modal-wrap closed scroll-${this._options.scroll} ${this._options.classes}`}, null, \n            dom_element({tag: 'div', class: 'modal-dialog js-modal-dialog'}, null,\n                this._options.custom ? this._options.content : dom_element({tag: 'div', class: `card ${this._options.scroll === 'content' ? 'card-scrollable-content' : 'card-scrollable'} `}, null, \n                    [\n                        dom_element({tag: 'div', class: 'card-header'}, null, \n                            dom_element({tag: 'div', class: 'card-header-content'}, null, \n                                dom_element({tag: 'div', class: 'card-title'}, null, this._options.title)\n                            )\n                        ),\n                        dom_element({tag: 'div', class: 'card-block'}, null, this._options.content),\n                        (this._cancelBtn || this._confirmBtn ? \n                            dom_element({tag: 'div', class: 'card-footer'}, null, [ dom_element({tag: 'div', class: 'card-footer-content'}, null, '&nbsp;'),\n                                dom_element({tag: 'div', class: 'card-footer-right'}, null, [ this._cancelBtn, this._confirmBtn ])]\n                            ) : null)\n                    ])\n                )\n            );\n    \n            this._dialog = find('.js-modal-dialog', this._modal);\n    \n            this._makeCallback(this._options.callbackBuilt);\n        }\n    \n        /**\n         * Mount and render the Modal.\n         *\n         * @access {private}\n         */\n        Modal.prototype._mount = function()\n        {\n            document.body.appendChild(this._overlay);\n    \n            document.body.appendChild(this._modal);\n    \n            this._modal.offsetHeight;\n    \n            this._overlay.offsetHeight;\n    \n            if (!this._options.fromHTML) frontbx.dom().refresh(this._modal);\n    \n            if (this._state === 'open')\n            {\n                this._state = 'closed';\n    \n                this.open();\n            }\n        }\n    \n        /**\n         * Bind event listeners for Modal.\n         *\n         * @access {private}\n         */\n        Modal.prototype._bindListeners = function()\n        {\n            if (this._options.closeAnywhere) on(this._modal, 'click', this._closeClick, this);\n    \n            if (this._cancelBtn) on(this._cancelBtn, 'click', this._closeValidate, this);\n    \n            if (this._confirmBtn) on(this._confirmBtn, 'click', this._closeValidate, this);\n        }\n    \n        /**\n         * Validate closing.\n         *\n         * @access {private}\n         */\n        Modal.prototype._closeClick = function(e, clicked)\n        {\n            if (e.target === this._modal) this._closeValidate();\n        }\n    \n        /**\n         * Validate closing.\n         *\n         * @access {private}\n         */\n        Modal.prototype._closeValidate = function()\n        {\n            if (this._makeCallback(this._options.callbackValidate)) this.close();\n        }\n    \n        /**\n         * Fire callbacks.\n         *\n         * @access {private}\n         */\n        Modal.prototype._makeCallback = function(callback)\n        {\n            if (callback) return callback(this._modal, this._Modal, this._overlay, this._bodyWrap);\n        }\n    \n        // Load into container \n        frontbx.set('Modal', Modal);\n    \n    })();\n    (function()\n    {\n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [find, find_all, add_class, on, in_dom, remove_class, remove_from_dom, dom_element] = frontbx.import(['find','find_all','add_class','on','in_dom','remove_class','remove_from_dom','dom_element']).from('_');\n    \n        /**\n         * Default options\n         * \n         * @var {array}\n         */\n        const DEFAULT_OPTIONS =\n        {\n            text:             '',\n            variant:          '',\n            closebtn:         false,\n            responsive:       false,\n            btn:              false,\n            stacked:          false,\n            dense:            true,\n            icon:             '',\n            position:         'bottom',\n            timeout:          6000,\n            btnVariant:       'primary',\n            callbackBuilt:    () => {},\n            callbackRender:   () => {},\n            callbackDismiss:  () => {},        \n            callbackValidate: () => { return true; }\n        };\n    \n        /**\n         * Notification\n         *\n         * The Notification class is a utility class used to\n         * display a notification.\n         *\n         */\n        const Notification = function(options)\n        {\n            this._options = {...DEFAULT_OPTIONS, ...options };\n    \n            this._buildNotificationContainer();\n    \n            this._build();\n    \n            this._render();\n    \n            this._bindListeners();\n        }\n    \n        /**\n         * Returns the notification element.\n         *\n         * @access {public}\n         */\n        Notification.prototype.domElement = function()\n        {\n            return this._notification;\n        }\n    \n        /**\n         * Remove the notification.\n         *\n         * @access {public}\n         */\n        Notification.prototype.remove = function()\n        {\n            clearTimeout(this._timeout);\n    \n            const wrappper = this._DOMElementWrapper;\n    \n            add_class(this._notification, this._animateOutClass);\n            \n            remove_class(this._notification, this._animateInClass);\n    \n            this._makeCallback(this._options.callbackDismiss);\n    \n            setTimeout(() =>\n            {\n                if (wrappper.children.length === 0) remove_class(wrappper, 'active');\n    \n                remove_from_dom(this._notification);\n    \n            }, 300);\n        }\n    \n        /**\n         * Build the notification container\n         *\n         * @access {private}\n         */\n        Notification.prototype._buildNotificationContainer = function()\n        {\n            this._wrapperClass = `.js-nofification-wrap.position-${this._options.position}`;\n    \n            let wrapper = find(this._wrapperClass);\n    \n            if (!wrapper)\n            {\n                wrapper = dom_element({tag: 'div', class: `notification-wrap position-${this._options.position} js-nofification-wrap`}, document.body);\n            }\n    \n            this._DOMElementWrapper = wrapper;\n        }\n    \n        /**\n         * Build the notification\n         *\n         * @access {private}\n         */\n        Notification.prototype._build = function()\n        {        \n            let options = this._options;\n    \n            this._animateInClass = this._animateIn();\n    \n            this._animateOutClass = this._animateOut();\n    \n            let notif = dom_element({tag: 'div', class: `msg ${options.closebtn || options.btn ? 'msg-with-btn' : ''} ${options.responsive ? 'msg-responsive' : ''} ${options.stacked ? 'msg-stacked' : ''} ${options.variant ? `msg-${options.variant}` : ''} ${options.dense ? 'msg-dense' : ''} ${this._animateInClass}`} );\n            \n            if (options.closebtn)\n            {\n                dom_element({tag: 'button', type: 'button', role: 'button', ariaLabel: 'close', class: 'btn btn-pure btn-xs btn-circle btn-msg-close js-notif-btn' }, notif, dom_element({tag: 'span', class: 'fa fa-xmark' }));\n            }\n    \n            if (options.icon)\n            {\n                dom_element({tag: 'div', class: 'msg-icon' }, notif, dom_element({tag: 'span', class: `fa fa-${options.icon}` }));\n            }\n    \n            dom_element({tag: 'div', class: 'msg-body'}, notif, options.text.trim().startsWith('<') ? options.text : dom_element({tag: 'p', innerHTML: options.text }) );\n    \n            if (options.btn)\n            {\n                this._btn = dom_element({tag: 'div', class: 'msg-btn' }, notif, options.btn.trim().startsWith('<') ? options.btn : dom_element({tag: 'button', class: `btn btn-pure btn-${options.btnVariant} btn-sm js-notif-btn`, innerText: options.btn }));\n                \n                add_class(find_all('button', this._btn), 'js-notif-btn');\n            }\n    \n            this._notification = notif;\n    \n            this._makeCallback(this._options.callbackBuilt);\n        }\n    \n        /**\n         * Build the notification\n         *\n         * @access {private}\n         */\n        Notification.prototype._animateIn = function()\n        {\n            if (this._options.position.includes('top')) return 'animate-in-down';\n    \n            return 'animate-in-up';\n        }\n    \n         /**\n         * Build the notification\n         *\n         * @access {private}\n         */\n        Notification.prototype._animateOut = function()\n        {\n            if (this._options.position.includes('top')) return 'animate-out-up';\n    \n            return 'animate-out-down';\n        }\n    \n        /**\n         * Render the notification.\n         *\n         * @access {private}\n         */\n        Notification.prototype._render = function()\n        {\n            add_class(this._DOMElementWrapper, 'active');\n    \n            this._DOMElementWrapper.appendChild(this._notification);\n    \n            this._notification.offsetHeight;\n    \n            this._makeCallback(this._options.callbackRender);\n    \n        }\n    \n        /**\n         * Render the notification.\n         *\n         * @access {private}\n         */\n        Notification.prototype._removeValidate = function()\n        {\n            if (this._makeCallback(this._options.callbackValidate)) this.remove();\n        }\n    \n        /**\n         * Render the notification.\n         *\n         * @access {private}\n         */\n        Notification.prototype._bindListeners = function()\n        {\n            if (this._options.timeout !== false)\n            {\n                this._timeout = setTimeout(() => this._removeValidate(), this._options.timeout);\n            }\n    \n            on(this._options.closebtn || this._options.btn ? find_all('.js-notif-btn', this._notification) : this._notification, 'click', this._removeValidate, this);\n        }\n    \n        /**\n         * Fire callbacks.\n         *\n         * @access {private}\n         */\n        Notification.prototype._makeCallback = function(callback,)\n        {\n            if (callback) return callback(this._notification);\n        }\n    \n        // Add to container\n        frontbx.set('Notification', Notification);\n    \n    })();\n    (function()\n    {\n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [find, in_dom, normalize_url, is_string, coordinates, height, animate] = frontbx.import(['find','in_dom','normalize_url','is_string','coordinates','height','animate']).from('_');\n    \n        /**\n         * Default options\n         * \n         * @var {object}\n         */\n        const DEFAULT_OPTIONS =\n        {\n            'speed'     : 500,\n            'easing'    : 'easeInOutCubic',\n            'updateURL' : true,\n        };\n    \n        /**\n         * Smooth scroll to an element or id\n         *\n         * @access {private}\n         */\n        function SmoothScroll(nodeOrId, options)\n        {\n            options = {...DEFAULT_OPTIONS, ...options};\n    \n            let DOMElement = is_string(nodeOrId) ? find(nodeOrId) : nodeOrId;\n    \n            if (!in_dom(DOMElement)) return;\n    \n            let pos = coordinates(DOMElement).top;\n    \n            let url = normalize_url(window.location.href);\n    \n            let isHashable = is_string(nodeOrId);\n    \n            let fixednav = find('.navbar.navbar-fixed');\n    \n            if (fixednav)\n            {\n                let h = height(fixednav);\n    \n                if (pos >= h)\n                {\n                    pos = pos - h;\n                }\n            }\n    \n            const complete = function()\n            {\n                window.history.replaceState({}, \"\", nodeOrId);\n            }\n    \n            animate(window, { property : 'scrollTo', to: `0, ${pos}`,  easing: options.easing, duration: options.speed, callback: isHashable && options.updateURL ? complete : null});\n        }\n    \n    \n        // Load into frontbx DOM core\n        frontbx.set('SmoothScroll', SmoothScroll);\n    \n    })();\n    (function()\n    {\n        /**\n         * JS Helper reference\n         * \n         * @var {object}\n         */\n        const [is_htmlElement, dom_element, remove_class] = frontbx.import(['is_htmlElement', 'dom_element', 'remove_class']).from('_');\n    \n        /**\n         * Create popover.\n         * \n         * @param  {object} options\n         * @return {Object}\n         */\n        function popover(options)\n        {\n            if (typeof options.content === 'string')\n            {\n                let contents = [];\n    \n                if (options.title)\n                {\n                    contents.push(dom_element({tag: 'h5', class: 'popover-title'}, null, options.title));\n                }\n    \n                contents.push(dom_element({tag: 'div', class: 'popover-content'}, null, dom_element({tag: 'p'}, null, options.content)));\n    \n                options.content = contents;\n            }\n            else if (is_htmlElement(options.content))\n            {\n                remove_class(options.content, 'hidden');\n    \n                options.content.style = '';\n            }\n    \n            let handler = frontbx.get('PopHandler', options);\n    \n            handler.render();\n    \n            return handler;\n        }\n    \n        // Load into container \n        frontbx.set('Popover', popover);\n    \n    })();\n    (function()\n    {\n        /**\n         * Cached helper functions.\n         * \n         * @var {functions}\n         */\n        const [on, off, _map, is_regexp] = frontbx.import(['on', 'off', 'map', 'is_regexp']).from('_');\n    \n        /**\n         * Regex masks\n         * \n         * @var {object}\n         */\n        const MASK_MAP = \n        {\n            creditcard: /[0-9]/,\n            money: /[0-9.]/,\n            numeric: /[0-9]/,\n            numericdecimal: /[0-9.]/,\n            alphanumeric: /[A-z0-9-]/,\n            alphaspace: /[A-z ]/,\n            alphadash: /[A-z-]/,\n            alphanumericdash: /[A-z0-9-]/,\n        };\n    \n        /**\n         * Credit card formatters.\n         * \n         * @var {function}\n         */\n        const _format_464 = function(cc)\n        {\n            return [cc.substring(0,4),cc.substring(4,10),cc.substring(10,14)].join(' ').trim()\n        };\n        const _format_465 = function(cc)\n        {\n            return [cc.substring(0,4),cc.substring(4,10),cc.substring(10,15)].join(' ').trim()\n        };\n        const _format_4444 = function(cc)\n        {\n            return cc?cc.match(/[0-9]{1,4}/g).join(' '):''\n        };\n    \n        /**\n         * Credit card formatting.\n         * \n         * @var {object}\n         */\n        const _CARD_TYPES =\n        [\n            {'type':'visa','pattern':/^4/, 'format': _format_4444, 'maxlength': 19},\n            {'type':'master','pattern':/^((5[12345])|(2[2-7]))/, 'format': _format_4444, 'maxlength': 16},\n            {'type':'amex','pattern':/^3[47]/, 'format': _format_465, 'maxlength':15},\n            {'type':'jcb','pattern':/^35[2-8]/, 'format': _format_465, 'maxlength':19},\n            {'type':'maestro','pattern':/^(5018|5020|5038|5893|6304|6759|676[123])/, 'format': _format_4444, 'maxlength':19},\n            {'type':'discover','pattern':/^6[024]/, 'format': _format_4444, 'maxlength':19},\n            {'type':'instapayment','pattern':/^63[789]/, 'format': _format_4444, 'maxlength':16},\n            {'type':'diners_club','pattern':/^54/, 'format': _format_4444, 'maxlength':16},\n            {'type':'diners_club_international','pattern':/^36/, 'format': _format_464, 'maxlength':14},\n            {'type':'diners_club_carte_blanche','pattern':/^30[0-5]/, 'format': _format_464, 'maxlength':14}\n        ];\n    \n        /**\n         * Component constructor.\n         *\n         * @constructor\n         * @param       {DOMElement}  element  Input element\n         * @param       {string}      mask     Supported mask name or regex filter as string\n         * @param       {string}      format   Optional format e.g (xxxx-xxxx-xxxx-xxxx);\n         */\n        const InputMasker = function(element, mask, format)\n        {\n            this.DOMElement = element;\n    \n            this.maskRegexp = this._getMaskRegexp(mask);\n    \n            this.format = !format ? null : this._buildFormatRegexp(format);\n    \n            this.maskName = mask;\n    \n            this.handler = function(){};\n    \n            this._bind();\n    \n        }\n    \n        /**\n         * Disable the mask\n         *\n         * @access {public}\n         */\n        InputMasker.prototype.destroy = function()\n        {\n            off(this.DOMElement, 'input', this.handler);\n            off(this.DOMElement, 'paste', this.handler);\n        }\n    \n        /**\n         * Binds input events.\n         *\n         * @access {private}\n         */\n        InputMasker.prototype._bind = function()\n        {\n            var _this      = this;\n            var DOMElement = this.DOMElement;\n            var maskRegexp = this.maskRegexp;\n            var format     = this.format;\n            var isCC       = _this.maskName === 'creditcard';\n    \n            const _handler = function(e)\n            {\n                e = e || window.event;\n    \n                _this._handle(DOMElement, DOMElement.value, maskRegexp, isCC);\n            }\n    \n            this.handler = _handler;\n    \n            on(this.DOMElement, 'input', _handler);\n            on(this.DOMElement, 'paste', _handler);\n        }\n    \n        /**\n         * Get or builds mask regexp.\n         *\n         * @access {private}\n         * @param  {string}  mask\n         * @return {RegExp}\n         */\n        InputMasker.prototype._getMaskRegexp = function(mask)\n        {\n            if (is_regexp(mask)) return mask;\n            \n            let regexp = MASK_MAP[mask.replaceAll('-', '').toLowerCase()];\n    \n            if (!regexp)\n            {\n                return new RegExp(mask);\n            }\n    \n            return regexp;\n        }\n    \n        /**\n         * Builds custom format values.\n         *\n         * @access {private}\n         * @param  {string}  format Formatting string\n         * @return {object}\n         */\n        InputMasker.prototype._buildFormatRegexp = function(format)\n        {\n            let raw        = format;\n            let seperators = format.split('x').filter((x) => x !== '');\n            let regexp     = new RegExp(_map(format.split(/[^x]/), (i, x) => x.includes('x') ? `(.{0,${x.length}})` : false ).join(''));\n            let prefix     = format.startsWith('x') ? '' : seperators.shift();\n            let suffix     = format.endsWith('x') ? '' : seperators.pop();\n            let len        = (raw.length -suffix.length);\n    \n            return { seperators, regexp, prefix, suffix, raw, len };\n        }\n    \n        /**\n         * Custom format function.\n         *\n         * @access {private}\n         * @param  {string}  str\n         * @return {str}\n         */\n        InputMasker.prototype._formatFilter = function(str)\n        {\n            // Regex filter\n            str = _map(str.split(''), (x, char) => !this.maskRegexp.test(char) ? null : char ).join('');\n    \n            // Ignore or no formatting\n            if (str === '' || !this.format) return str;\n    \n            // Cache seperators\n            let { seperators, regexp, prefix, suffix, raw, len } = this.format;\n    \n            let splits = _map(str.match(regexp).slice(1), (i, str) => str === '' ? false : str);\n            let mapped = _map(splits, function(i, match)\n            {\n                return i === 0 ? prefix + match : seperators[i-1] + match;\n                \n            }).join('');\n    \n            if (mapped.length === len)\n            {\n                mapped += suffix;\n            }\n    \n            return mapped;\n        }\n    \n        /**\n         * Sepcial handler for creditcard\n         *\n         * @access {private}\n         */\n        InputMasker.prototype._formatCC = function(cc)\n        {           \n            cc = cc.replaceAll(/[^0-9]/g, '');\n    \n            for(var i in _CARD_TYPES)\n            {\n                const ct = _CARD_TYPES[i];\n    \n                if (cc.match(ct.pattern))\n                {\n                    cc = cc.substring(0, ct.maxlength)\n                    \n                    return ct.format(cc);\n                }\n            }\n    \n            cc = cc.substring(0,19);\n    \n            return _format_4444(cc);\n        }\n    \n        /**\n         * Handles input event\n         *\n         * @access {private}\n         * @param  {DOMElement} DOMElement\n         * @param  {string}     oldval     \n         * @param  {RegExp}     maskRegexp \n         * @param  {bool}       isCC \n         */\n        InputMasker.prototype._handle = function(DOMElement, oldval, maskRegexp, isCC)\n        {\n            // Filter\n            let newVal = isCC ? this._formatCC(oldval) : this._formatFilter(oldval);\n    \n            // Ignore no change\n            if (newVal == oldval) return;\n    \n            // Set position and format\n            var pos          = DOMElement.selectionStart;\n            var before_caret = oldval.substring(0, pos);\n            before_caret     = isCC ? this._formatCC(oldval) : this._formatFilter(before_caret);\n            pos              = before_caret.length;\n            \n            DOMElement.value = newVal;\n            DOMElement.focus();\n            DOMElement.setSelectionRange(pos,pos);\n        }\n    \n        // SET IN IOC\n        frontbx.set('InputMasker', InputMasker);\n    \n    })();\n    (function()\n    {\n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [find_all, add_class, attr, bool, closest, each, form_inputs, form_values, on, off, input_value, is_callable, is_empty, remove_class] = frontbx.import(['find_all','add_class','attr','bool','closest','each','form_inputs','form_values','on','off','input_value','is_callable','is_empty','remove_class']).from('_');\n    \n        /**\n         * Validator functions\n         *\n         * @access {private}\n         * @return {boolean}\n         */\n        const VALIDATORS = \n        {\n            specialchars: ['!', '\"', '`', '#', 'find', '%', '&', '\\'', '(', ')', '*', '+', '-', '.', '/', ':', ';', '<', '=', '>', '?', '@', '[', ']', '^', '_', '{', '|', '}', '~'],\n    \n            email: function(value)\n            {\n                var re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n                return re.test(value);\n            },\n            name: function(value)\n            {\n                return /[^A-z'\\ -'❜]/.test(value) === false;\n            },\n            password: function(value)\n            {   \n                if (!VALIDATORS.minlength(value, 6) || !VALIDATORS.maxlength(value, 40)) return false;\n    \n                let chars = `${value}`;\n                let valid = false;\n    \n                each(VALIDATORS.specialchars, (i, char) =>\n                {\n                    if (value.includes(char))\n                    {\n                        valid = true;\n    \n                        return false;\n                    }\n                });\n    \n                return valid;\n            },\n            url: function(value)\n            {\n                re = /^(www\\.|[A-z]|https:\\/\\/www\\.|http:\\/\\/|https:\\/\\/)[a-z0-9]+([\\-\\.]{1}[a-z0-9]+)*\\.[a-z]{2,5}(:[0-9]{1,5})?(\\/.*)?$/;\n                return re.test(value);\n            },\n            alpha: function(value)\n            {\n                return /[^A-z]/.test(value) === false;\n            },\n            alphaspace: function(value)\n            {\n                return /[^A-z ]/.test(value) === false;\n            },\n            alphanumeric: function(value)\n            {\n                return /[^A-z0-9]/.test(value) === false;\n            },\n            alphadash: function(value)\n            {\n                return /[^A-z-]/.test(value) === false;\n            },\n            alphadot: function(value)\n            {\n                return /[^A-z\\.]/.test(value) === false;\n            },\n            alphadashdot: function(value)\n            {\n                return /[^A-z\\.-]/.test(value) === false;\n            },\n            alphadashes: function(value)\n            {\n                return /[^A-z-_]/.test(value) === false;\n            },\n            alphadashesdot: function(value)\n            {\n                return /[^A-z-_\\.]/.test(value) === false;\n            },\n            alphanumericdash: function(value)\n            {\n                return /[^A-z0-9-]/.test(value) === false;\n            },\n            alphanumericdot: function(value)\n            {\n                return /[^A-z0-9\\.]/.test(value) === false;\n            },\n            alphanumericdashdot: function(value)\n            {\n                return /[^A-z0-9\\.-]/.test(value) === false;\n            },\n            alphanumericdashesdot: function(value)\n            {\n                return /[^A-z0-9\\._-]/.test(value) === false;\n            },\n            numeric: function(value)\n            {\n                return /[^0-9]/.test(value) === false;\n            },\n            numericdecimal: function(value)\n            {\n                return /[^0-9\\.]/.test(value) === false;\n            },\n            list: function(value)\n            {\n                var re = /^[-\\w\\s]+(?:,[-\\w\\s]*)*$/;\n    \n                return re.test(value);\n            },\n            creditcard: function(value)\n            {\n                /*Amex Card: ^3[47][0-9]{13}$\n                BCGlobal: ^(6541|6556)[0-9]{12}$\n                Carte Blanche Card: ^389[0-9]{11}$\n                Diners Club Card: ^3(?:0[0-5]|[68][0-9])[0-9]{11}$\n                Discover Card: ^65[4-9][0-9]{13}|64[4-9][0-9]{13}|6011[0-9]{12}|(622(?:12[6-9]|1[3-9][0-9]|[2-8][0-9][0-9]|9[01][0-9]|92[0-5])[0-9]{10})$\n                Insta Payment Card: ^63[7-9][0-9]{13}$\n                JCB Card: ^(?:2131|1800|35\\d{3})\\d{11}$\n                KoreanLocalCard: ^9[0-9]{15}$\n                Laser Card: ^(6304|6706|6709|6771)[0-9]{12,15}$\n                Maestro Card: ^(5018|5020|5038|6304|6759|6761|6763)[0-9]{8,15}$\n                Mastercard: ^(5[1-5][0-9]{14}|2(22[1-9][0-9]{12}|2[3-9][0-9]{13}|[3-6][0-9]{14}|7[0-1][0-9]{13}|720[0-9]{12}))$\n                Solo Card: ^(6334|6767)[0-9]{12}|(6334|6767)[0-9]{14}|(6334|6767)[0-9]{15}$\n                Switch Card: ^(4903|4905|4911|4936|6333|6759)[0-9]{12}|(4903|4905|4911|4936|6333|6759)[0-9]{14}|(4903|4905|4911|4936|6333|6759)[0-9]{15}|564182[0-9]{10}|564182[0-9]{12}|564182[0-9]{13}|633110[0-9]{10}|633110[0-9]{12}|633110[0-9]{13}$\n                Union Pay Card: ^(62[0-9]{14,17})$\n                Visa Card: ^4[0-9]{12}(?:[0-9]{3})?$\n                Visa Master Card: ^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14})$*/\n    \n                var arr = [0, 2, 4, 6, 8, 1, 3, 5, 7, 9];\n                var ccNum = String(value).replace(/[- ]/g, '');\n    \n                var\n                    len = ccNum.length,\n                    bit = 1,\n                    sum = 0,\n                    val;\n    \n                while (len)\n                {\n                    val = parseInt(ccNum.charAt(--len), 10);\n                    sum += (bit ^= 1) ? arr[val] : val;\n                }\n    \n                return sum && sum % 10 === 0;\n            },\n            minlength: function(value, min)\n            {\n                value = `${value}`;\n    \n                return value.length >= parseInt(min);\n            },\n            maxlength: function(value, max)\n            {\n                value = `${value}`;\n    \n                return value.length <= parseInt(max);\n            }\n        };\n    \n        /**\n         * FormValidator\n         *\n         * This class is used to validate a form and \n         * also apply and classes to display form results and input errors.\n         *\n         */\n        const FormValidator = function(form)\n        {\n            // Save inputs\n            this._formEl = form;\n            this._inputs = form_inputs(form);\n    \n            // Defaults\n            this._ruleSets = [];\n            this._formObj  = {};\n            this._valid    = false;\n    \n            // Initialize\n            this._buildRuleSets();\n        }\n    \n        /**\n         * Validate the form.\n         *\n         * @access {public}\n         * @return {boolean}\n         */\n        FormValidator.prototype.validate = function()\n        {\n            // Remove all listeners\n            this._unListen();\n    \n            // Clear any invalids\n            this._clearForm();\n    \n            // Validate inputs\n            this._validateRuleSets();\n    \n            // Show invalid inputs\n            each(this._ruleSets, (i, ruleset) =>\n            {\n                if (!ruleset.valid) this._devalidateField(ruleset.node, ruleset.failClass);\n            });\n    \n            // Listen to input changes.\n            this._listen();\n    \n            return this._valid;\n        }\n    \n        /**\n         * Destroy the validator.\n         *\n         * @access {public}\n         */\n        FormValidator.prototype.destroy = function()\n        {\n            this._unListen();\n    \n            this._clearForm();\n    \n            each(this._ruleSets, (i, ruleset) =>\n            {\n                this._validateField(ruleset.node, ruleset.failClass);\n            });\n        }\n    \n        /**\n         * Show form result\n         *\n         * @access {public}\n         */\n        FormValidator.prototype.showResult = function(result)\n        {\n            this._clearForm();\n    \n            add_class(this._formEl, result);\n        }\n    \n        /**\n         * Append a key/pair and return form obj\n         *\n         * @access {public}\n         * @return {obj}\n         */\n        FormValidator.prototype.append = function(key, value)\n        {\n            this._formObj[key] = value;\n    \n            let form = this.form();\n    \n            return {...form, ...this._formObj};\n        };\n    \n        /**\n         * Get the form object\n         *\n         * @access {public}\n         * @return {obj}\n         */\n        FormValidator.prototype.form = function()\n        {\n            return form_values(this._formEl);\n        }\n    \n        /**\n         * Build validation rule sets.\n         *\n         * @access {private}\n         */\n        FormValidator.prototype._buildRuleSets = function()\n        {\n            each(this._inputs, (i, input) =>\n            {\n                // No name or radio\n                if (!input.name) return;\n    \n                let node = input;\n    \n                let required   = bool(attr(input, 'data-js-required') || attr(input, 'required'));\n                let minlength  = attr(input, 'data-js-min-length') || attr(input, 'minlength');\n                let maxlength  = attr(input, 'data-js-max-length') || attr(input, 'maxlength');\n                let valid      = true;\n                let validation = this._validationFunc(attr(input, 'data-js-validation'));\n                let failClass  = attr(input, 'data-js-validation-fail') || 'danger'; \n    \n                this._ruleSets.push({node, required, minlength, maxlength, validation, failClass, valid});\n            });\n        }\n    \n        /**\n         * Returns the validation callback function by name.\n         *\n         * @access {private}\n         * @param  {String}   name Validation name\n         * @return {Function}\n         */\n        FormValidator.prototype._validationFunc = function(name)\n        {\n            if (!name) return;\n    \n            let key = name.replaceAll('-', '').toLowerCase();\n    \n            if (!VALIDATORS[key]) throw new error(`Unsupported input validation [${name}].`)\n    \n            return VALIDATORS[key];\n        }\n    \n        /**\n         * Validate all rule sets.\n         *\n         * @access {private}\n         * @return {Boolean}\n         */\n        FormValidator.prototype._validateRuleSets = function()\n        {\n            this._valid = true;\n    \n            each(this._ruleSets, (i, ruleset) => { this._validateRuleSet(ruleset) });\n            \n            return this._valid;\n        }\n    \n        /**\n         * Validate an individual ruleset.\n         *\n         * @access {private}\n         * @param  {Object}  ruleset Ruleset to validate\n         * @return {Boolean}\n         */\n        FormValidator.prototype._validateRuleSet = function(ruleset)\n        {\n            let value = input_value(ruleset.node);\n    \n            // Skip radios, they don't have any validation\n            if (ruleset.node.type === 'radio') return true;\n            \n            if (ruleset.required && is_empty(value))\n            {\n                this._valid = false;\n                ruleset.valid = false;\n            }\n            else if (ruleset.minlength && !VALIDATORS.minlength.call(null, value, ruleset.minlength))\n            {\n                this._valid = false;\n                ruleset.valid = false;\n            }\n            else if (ruleset.maxlength && !VALIDATORS.maxlength.call(null, value, ruleset.maxlength))\n            {\n                this._valid = false;\n                ruleset.valid = false;\n            }\n            else if (is_callable(ruleset.validation) && !ruleset.validation.call(null, value))\n            {\n                this._valid = false;\n                ruleset.valid = false;\n            }\n            else\n            {\n                ruleset.valid = true;\n            }\n    \n            return ruleset.valid;\n        }\n    \n        /**\n         * Listen to input\n         *\n         * @access {private}\n         * @param  {HTMLElement} node Input\n         */\n        FormValidator.prototype._listen = function()\n        {\n            each(this._ruleSets, (i, ruleset) => \n            {\n                on(ruleset.node, 'input, change', this._liveValidate, this);\n            });\n        }\n    \n        /**\n         * Listen to inputs.\n         *\n         * @access {private}\n         */\n        FormValidator.prototype._unListen = function()\n        {\n            each(this._ruleSets, (i, ruleset) => \n            {\n                off(ruleset.node, 'input, change', this._liveValidate, this);\n            });\n        }\n    \n        /**\n         * Live validate an input.\n         *\n         * @access {private}\n         * @param  {Object}      e     Event\n         * @param  {HTMLElement} input Input\n         */\n        FormValidator.prototype._liveValidate = function(e, input)\n        {\n            each(this._ruleSets, (i, ruleset) => \n            {\n                if (ruleset.node === input)\n                {\n                    let valid = this._validateRuleSet(ruleset);\n    \n                    valid ? this._validateField(input, ruleset.failClass) : this._devalidateField(input, ruleset.failClass);\n                }\n            });\n        }\n    \n        /**\n         * Show form field as valid.\n         *\n         * @access {private}\n         * @param  {HTMLElement} node Input\n         */\n        FormValidator.prototype._validateField = function(input, failClass)\n        {\n            let fieldWrap = closest(input, '.form-field');\n    \n            if (fieldWrap) remove_class(fieldWrap, ['info', 'success', 'warning', 'danger', failClass]);\n        }\n    \n        /**\n         * Show form field as invalid.\n         *\n         * @access {private}\n         */\n        FormValidator.prototype._devalidateField = function(input, failClass)\n        {\n            let fieldWrap = closest(input, '.form-field');\n    \n            if (fieldWrap) add_class(fieldWrap, failClass);\n        }\n    \n        /**\n         * Clear form results.\n         *\n         * @access {private}\n         */\n        FormValidator.prototype._clearForm = function()\n        {\n            // Remove the form result\n            remove_class(this._formEl, ['info', 'success', 'warning', 'danger']);\n        }\n    \n        // Load into container\n        frontbx.set('FormValidator', FormValidator);\n    \n    })();\n    \n    // JSX\n    (function()\n    {\n    \t/**\n    \t * Currently rendering Component.\n    \t *\n    \t * @var  {Osbject}\n    \t */\n    \tconst CURR_RENDER =\n    \t{\n    \t    current: null\n    \t};\n    \t\n    \t/**\n    \t * Bindings / variable caching.\n    \t *\n    \t * @var  {Osbject}\n    \t */\n    \tconst BINDINGS_CACHE = {};\n    \t\n    \t// Assume a browser environment.\n    \tconst RESERVED_WORDS =\n    \t[\n    \t    'break',\n    \t    'do',\n    \t    'in',\n    \t    'typeof',\n    \t    'case',\n    \t    'else',\n    \t    'instanceof',\n    \t    'var',\n    \t    'let',\n    \t    'catch',\n    \t    'export',\n    \t    'new',\n    \t    'void',\n    \t    'class',\n    \t    'extends',\n    \t    'return',\n    \t    'while',\n    \t    'const',\n    \t    'finally',\n    \t    'super',\n    \t    'with',\n    \t    'continue',\n    \t    'for',\n    \t    'switch',\n    \t    'yield',\n    \t    'debugger',\n    \t    'function',\n    \t    'this',\n    \t    'delete',\n    \t    'import',\n    \t    'try',\n    \t    'enum',\n    \t    'implements',\n    \t    'package',\n    \t    'protected',\n    \t    'static',\n    \t    'interface',\n    \t    'private',\n    \t    'public',\n    \t    'eval',\n    \t    'global',\n    \t    'process',\n    \t    'module',\n    \t    'require',\n    \t    'document',\n    \t    'window',\n    \t    'Window',\n    \t    'Function',\n    \t    'JSON',\n    \t    'Object',\n    \t    'Array',\n    \t    'String',\n    \t    'Boolean',\n    \t    'Number',\n    \t    'Date',\n    \t    'RegExp',\n    \t    'Error',\n    \t    'EvalError',\n    \t    'RangeError',\n    \t    'ReferenceError',\n    \t    'SyntaxError',\n    \t    'TypeError',\n    \t    'URIError',\n    \t    'frontbx',\n    \t    'jsx',\n    \t    '__defineGetter__',\n    \t    '__defineSetter__',\n    \t    '__lookupGetter__',\n    \t    '__lookupSetter__',\n    \t    '__proto__',\n    \t    'callee',\n    \t    'caller',\n    \t    'constructor',\n    \t    'hasOwnProperty',\n    \t    'isPrototypeOf',\n    \t    'propertyIsEnumerable',\n    \t    'prototype',\n    \t    'toLocaleString',\n    \t    'toString',\n    \t    'valueOf',\n    \t    'localStorage',\n    \t    'sessionStorage',\n    \t    'cookie',\n    \t];\n    \t\n    \t/**\n    \t * Fragment.\n    \t *\n    \t * @var  {Function}\n    \t */\n    \tconst Fragment = function(props)\n    \t{\n    \t    return props.children;\n    \t}\n    \t\n    \t/**\n    \t * Local lexer.\n    \t * \n    \t * @var {Function}\n    \t */\n    \tvar lexer;\n    \t\n    \t/**\n    \t * Local tokenizer.\n    \t * \n    \t * @var {Function}\n    \t */\n    \tvar Tokenizer;\n    \t\n    \t/**\n    \t * Local parser.\n    \t * \n    \t * @var {Function}\n    \t */\n    \tvar Parser;\n    \t\n    \t/**\n    \t * Local createElement.\n    \t * \n    \t * @var {Function}\n    \t */\n    \tvar createElement;\n    \t\n    \t/**\n    \t * Local sanbox.\n    \t * \n    \t * @var {Function}\n    \t */\n    \tvar sandbox;\n    \t\n    \t/**\n    \t * Local jsx.\n    \t * \n    \t * @var {Function}\n    \t */\n    \tvar jsx;\n    \t\n    \t/**\n    \t * Local children.\n    \t * \n    \t * @var {Function}\n    \t */\n    \tvar children;\n    \t(function()\n    \t{    \n    \t    /**\n    \t     * Utility Regexes.\n    \t     * \n    \t     * @var {Regexp}\n    \t     */\n    \t    const SPACE = /[\\t\\r\\n\\f ]/;\n    \t    const ALPHA = /[A-z]/;\n    \t    const ALPHA_DASH = /[A-z-]/;\n    \t    const QUOTES = ['\"', '\\'', '`'];\n    \t\n    \t    /**\n    \t     * Void tags.\n    \t     * \n    \t     * @var {Array}\n    \t     */\n    \t    const VOID_ELS =\n    \t    [\n    \t        'area',\n    \t        'base',\n    \t        'br',\n    \t        'circle',\n    \t        'col',\n    \t        'ellipse',\n    \t        'embed',\n    \t        'hr',\n    \t        'img',\n    \t        'input',\n    \t        'line',\n    \t        'link',\n    \t        'meta',\n    \t        'param',\n    \t        'polygon',\n    \t        'polyline',\n    \t        'rect',\n    \t        'source',\n    \t        'track',\n    \t        'use',\n    \t        'wbr',\n    \t        'doctype',\n    \t    ];\n    \t\n    \t    /**\n    \t     * Lexer.\n    \t     * \n    \t     * @param {String}   html\n    \t     * @param {Function} emit\n    \t     */\n    \t    const Lexer = function(html, emit)\n    \t    {\n    \t        this.html = html;\n    \t        this.emit = emit;\n    \t        this.currentTag  = null;\n    \t        this.pos         = 0;\n    \t        this.braceDepth  = 0;\n    \t        this.attrValStack = [];\n    \t    }\n    \t\n    \t    /**\n    \t     * Parse and emit.\n    \t     * \n    \t     * @access {public}\n    \t     */\n    \t    Lexer.prototype.parse = function()\n    \t    {\n    \t        let scan = 'text';\n    \t\n    \t        while (scan = this[scan](this.peek()));\n    \t\n    \t        if (this.html === '')\n    \t        {\n    \t            scan = null;\n    \t\n    \t            this.complete();\n    \t        }\n    \t    }\n    \t\n    \t    /**\n    \t     * next.\n    \t     * \n    \t     * @access {private}\n    \t     * @return {String}\n    \t     */\n    \t    Lexer.prototype.next = function()\n    \t    {\n    \t        return this.html.charAt(this.pos++);\n    \t    }\n    \t\n    \t    /**\n    \t     * peek next.\n    \t     * \n    \t     * @access {private}\n    \t     * @return {String}\n    \t     */\n    \t    Lexer.prototype.peek = function()\n    \t    {\n    \t        return this.html.charAt(this.pos);\n    \t    }\n    \t\n    \t    /**\n    \t     * peek next.\n    \t     * \n    \t     * @access {private}\n    \t     * @return {String}\n    \t     */\n    \t    Lexer.prototype.peekback = function()\n    \t    {\n    \t        return this.html.charAt(this.pos -1);\n    \t    }\n    \t\n    \t    /**\n    \t     * peek n chars.\n    \t     * \n    \t     * @access {private}\n    \t     * @param  {Integer} n\n    \t     * @return {String}\n    \t     */\n    \t    Lexer.prototype.peekn = function(n)\n    \t    {            \n    \t        return this.html.slice(this.pos, this.pos + n);\n    \t    }\n    \t\n    \t    /**\n    \t     * Chunk position buffer.\n    \t     * \n    \t     * @access {private}\n    \t     * @return {String}\n    \t     */\n    \t    Lexer.prototype.chunk = function()\n    \t    {\n    \t        let buff = this.html.slice(0, this.pos);\n    \t        \n    \t        this.consume(this.pos);\n    \t\n    \t        return buff;\n    \t    }\n    \t\n    \t    /**\n    \t     * consume n chars.\n    \t     * \n    \t     * @access {private}\n    \t     * @param  {Integer} n\n    \t     */\n    \t    Lexer.prototype.consume = function(n)\n    \t    {\n    \t        this.html = this.html.substr(n);\n    \t\n    \t        this.pos  = 0;\n    \t    }\n    \t\n    \t    /**\n    \t     * consume whitespace.\n    \t     * \n    \t     * @access {private}\n    \t     */\n    \t    Lexer.prototype.whitespace = function()\n    \t    {\n    \t        while (SPACE.test(this.peek()) && this.next());\n    \t\n    \t        this.consume(this.pos);\n    \t    }\n    \t\n    \t    /**\n    \t     * Scan until chars\n    \t     * \n    \t     * @access {private}\n    \t     * @return {Boolean}\n    \t     */\n    \t    Lexer.prototype.scan = function(chars)\n    \t    {\n    \t        let len = chars.length;\n    \t\n    \t        while (this.peekn(len) !== chars)\n    \t        {\n    \t            if (!this.next()) break;\n    \t        }\n    \t\n    \t        return this.html.slice(0, this.pos);\n    \t    }\n    \t\n    \t    /**\n    \t     * JSX spread attribute.\n    \t     * \n    \t     * @access {private}\n    \t     * @return {String}\n    \t     */\n    \t    Lexer.prototype.bufferjsx = function()\n    \t    {\n    \t        let braceDepth = 0;\n    \t\n    \t        // Collect the intial spread\n    \t        let jsx = this.buffer((char) =>\n    \t        {\n    \t            if (char === '{')\n    \t            {\n    \t                braceDepth++;\n    \t            }\n    \t            else if (char === '}')\n    \t            {\n    \t                braceDepth--;\n    \t            }\n    \t\n    \t            if (braceDepth === 0) return true;\n    \t        });\n    \t\n    \t        if (braceDepth > 0) throw new Error('Unclosed JSX bracket found');\n    \t\n    \t        this.next();\n    \t\n    \t        return this.chunk();\n    \t    }\n    \t\n    \t    /**\n    \t     * Buffer until callback on each char\n    \t     * \n    \t     * @access {private}\n    \t     * @return {String}\n    \t     */\n    \t    Lexer.prototype.buffer = function(validator)\n    \t    {\n    \t        let buff = '';\n    \t\n    \t        while (!validator(this.peek(), buff))\n    \t        {\n    \t            let n = this.peek();\n    \t\n    \t            if (n === '') break;\n    \t\n    \t            buff += n;\n    \t\n    \t            this.next();\n    \t        }\n    \t        \n    \t        return buff;\n    \t    }\n    \t\n    \t    /**\n    \t     * Complete.\n    \t     * \n    \t     */\n    \t    Lexer.prototype.complete = function()\n    \t    {\n    \t        this.emit('complete');\n    \t    }\n    \t\n    \t    /**\n    \t     * Text default state.\n    \t     * \n    \t     * @access {private}\n    \t     * @return {String}\n    \t     */\n    \t    Lexer.prototype.text = function()\n    \t    {\n    \t        if ('>' == this.peek()) this.consume(1);\n    \t        \n    \t        let next = false;\n    \t\n    \t        let buff = this.buffer((char) => \n    \t        { \n    \t            // JSX Func was left open\n    \t            if (\n    \t                    (\n    \t                        this.braceDepth > 0 && (char !== '>' && char !== '<') \n    \t                    ) \n    \t                    ||\n    \t                    (\n    \t                        this.peekback() !== '\\\\' && (char === '{' || char === '}')\n    \t                    )\n    \t                )\n    \t            {\n    \t                next = 'jsx_block';\n    \t\n    \t                return true;\n    \t            }\n    \t\n    \t            if (char === '<' && !SPACE.test(this.peek()))\n    \t            {\n    \t                next = 'tag_open';\n    \t\n    \t                return true;\n    \t            }\n    \t        });\n    \t\n    \t        if (buff && buff !== '<')\n    \t        {\n    \t            this.consume(buff.length);\n    \t\n    \t            this.emit('text', buff);\n    \t        }\n    \t\n    \t        if (next === 'tag_open') this.consume(1);\n    \t\n    \t        return next;\n    \t    }\n    \t\n    \t    /**\n    \t     * Tag open.\n    \t     * \n    \t     * @access {private}\n    \t     * @return {String}\n    \t     */\n    \t    Lexer.prototype.tag_open = function(char)\n    \t    {                \n    \t        // Markup declaration\n    \t        if (char === '!')\n    \t        {\n    \t            this.consume(1);\n    \t\n    \t            return 'markup_declaration_open';\n    \t        }\n    \t\n    \t        // Bogus tag\n    \t        if (char === '?')\n    \t        {\n    \t            this.consume(1);\n    \t\n    \t            return 'bogus_tag';\n    \t        }\n    \t\n    \t        // Close\n    \t        if (char === '/')\n    \t        {\n    \t            this.consume(1);\n    \t\n    \t            return 'tag_close';\n    \t        }\n    \t\n    \t        let tag = this.buffer(char => SPACE.test(char) || char === '>');\n    \t\n    \t        if (tag.length === 0) throw new Error('Empty tag name.');\n    \t\n    \t        this.consume(tag.length);\n    \t\n    \t        this.currentTag = tag;\n    \t\n    \t        this.emit('tag:open', tag);\n    \t\n    \t        return 'attr_key';\n    \t    }\n    \t\n    \t    /**\n    \t     * Tag close self close. Reached after \"/\" in a tag.\n    \t     * \n    \t     * @access {private}\n    \t     * @return {String}\n    \t     */\n    \t    Lexer.prototype.tag_close_self = function()\n    \t    {\n    \t        // Consume any whitespace\n    \t        this.whitespace();\n    \t\n    \t        // Emit and close the tag.\n    \t        if ('>' === this.peek())\n    \t        {\n    \t            this.currentTag = null;\n    \t\n    \t            this.emit('tag:close:self', '');\n    \t\n    \t            return 'text';\n    \t        }\n    \t\n    \t        // Fallback to error.\n    \t        throw new Error('Invalid self closing tag.');\n    \t    }\n    \t\n    \t    /**\n    \t     * Tag close self close. Reached after \">\" in void tag.\n    \t     * \n    \t     * @access {private}\n    \t     * @return {String}\n    \t     */\n    \t    Lexer.prototype.tag_close_void = function()\n    \t    {\n    \t        this.consume(1);\n    \t\n    \t        this.currentTag = null;\n    \t\n    \t        this.emit('tag:close:void');\n    \t\n    \t        return 'text';\n    \t    }\n    \t\n    \t    /**\n    \t     * Tag close.\n    \t     * \n    \t     * @access {private}\n    \t     * @return {String}\n    \t     */\n    \t    Lexer.prototype.tag_close = function()\n    \t    {\n    \t        let tag = this.buffer(char => char === '>');\n    \t        \n    \t        this.consume(tag.length);\n    \t        \n    \t        this.emit('tag:close', tag);\n    \t\n    \t        this.currentTag = null;\n    \t        \n    \t        return 'text';\n    \t    }\n    \t\n    \t    /**\n    \t     * Attribute key.\n    \t     * \n    \t     * @access {private}\n    \t     * @return {String}\n    \t     */\n    \t    Lexer.prototype.attr_key = function()\n    \t    {\n    \t        this.whitespace();\n    \t\n    \t        if ('>' === this.peek())\n    \t        {\n    \t            if (this.currentTag && VOID_ELS.includes(this.currentTag)) return 'tag_close_void';\n    \t\n    \t            this.consume(1);\n    \t\n    \t            return 'text';\n    \t        }\n    \t\n    \t        if ('/' === this.peek())\n    \t        {\n    \t            this.consume(1);\n    \t\n    \t            return 'tag_close_self';\n    \t        }\n    \t\n    \t        if ('{' === this.peek()) return 'attr_jsx_spread';\n    \t        \n    \t        let attr = this.buffer(char => SPACE.test(char) || char === '=' || char === '>');\n    \t\n    \t        this.consume(attr.length);\n    \t        \n    \t        if (attr) this.emit('attr:key', attr);\n    \t\n    \t        let peek = this.peek();\n    \t\n    \t        if (peek === '=')\n    \t        {\n    \t            this.consume(1);\n    \t\n    \t            return 'attr_val';\n    \t        }\n    \t\n    \t        if (peek === '>')\n    \t        {\n    \t            if (this.currentTag && VOID_ELS.includes(this.currentTag)) return 'tag_close_void';\n    \t\n    \t            this.consume(1);\n    \t\n    \t            return 'text';\n    \t        }\n    \t\n    \t        if (SPACE.test(peek))\n    \t        {\n    \t            this.consume(1);\n    \t            \n    \t            return 'attr_key';\n    \t        }\n    \t    }\n    \t\n    \t    /**\n    \t     * Attribute value.\n    \t     * \n    \t     * @access {private}\n    \t     * @return {String}\n    \t     */\n    \t    Lexer.prototype.attr_val = function()\n    \t    {\n    \t        // Clear out whitespace\n    \t        this.whitespace();\n    \t\n    \t        if (this.peek() === '{') return 'attr_val_jsx';\n    \t\n    \t        let end;\n    \t\n    \t        if ('\"' == this.peek()) end = '\"';\n    \t        \n    \t        if ('\\'' == this.peek()) end = '\\'';\n    \t\n    \t        if (!end) throw new Error('Unquoted attribute value.');\n    \t\n    \t        // Remove starting quote\n    \t        this.consume(1);\n    \t\n    \t        // Cache end marker\n    \t        this.attrValEnd = end;\n    \t\n    \t        // Buffer untill closed or jsx is found\n    \t        let buff = this.buffer(char => this.peekback() !== '\\\\' && (char === '{' || char === end ));\n    \t\n    \t        // JSX was found\n    \t        if (this.peek() === '{')\n    \t        {\n    \t            this.consume(buff.length);\n    \t\n    \t            this.attrValStack.push(buff);\n    \t            \n    \t            return 'attr_val_interpolated';\n    \t        }\n    \t        \n    \t        // Remove end quote plus value\n    \t        this.consume(buff.length + 1);\n    \t\n    \t        this.emit('attr:val', buff);\n    \t\n    \t        // Stop\n    \t        if (this.html === '') throw new Error('Unclosed attribute value.');\n    \t\n    \t        return 'attr_key';\n    \t    }\n    \t\n    \t    /**\n    \t     * When reached an opening jsx bracket \"{\" inside a quoted attribute value.\n    \t     * \n    \t     * @access {private}\n    \t     * @return {String}\n    \t     */\n    \t    Lexer.prototype.attr_val_interpolated = function()\n    \t    {\n    \t        // Buffer untill closed or jsx is found\n    \t        this.buffer(char => this.peekback() !== '\\\\' && char === '}');\n    \t\n    \t        // Add closing bracket\n    \t        this.next();\n    \t\n    \t        // Consume buff\n    \t        let jsx = this.chunk();\n    \t        \n    \t        // Push attr to stack\n    \t        this.attrValStack.push(`\\$${jsx}`);\n    \t\n    \t        // Buffer to an opening jsx bracket or end of attribute vlaue\n    \t        let buff = this.buffer(char => this.peekback() !== '\\\\' && (char === '{' || char === this.attrValEnd ));\n    \t\n    \t        // JSX was found\n    \t        if (this.peek() === '{')\n    \t        {\n    \t            this.consume(buff.length);\n    \t\n    \t            this.attrValStack.push(buff);\n    \t            \n    \t            return 'attr_val_interpolated';\n    \t        }\n    \t\n    \t        // Consume buff plus ending quote marker\n    \t        this.consume(buff.length + 1);\n    \t\n    \t        // Don't empty quotes\n    \t        if (buff.length >= 1) this.attrValStack.push(buff);\n    \t\n    \t        this.emit('attr:val:interpolated', this.attrValStack.join(''));\n    \t\n    \t        this.attrValStack = [];\n    \t\n    \t        return 'attr_key';\n    \t    }\n    \t\n    \t    /**\n    \t     * JSX atribute value.\n    \t     * \n    \t     * @access {private}\n    \t     * @return {String}\n    \t     */\n    \t    Lexer.prototype.attr_val_jsx = function()\n    \t    {\n    \t        this.emit('attr:val:jsx', this.bufferjsx().trim());\n    \t\n    \t        return 'attr_key';\n    \t    }\n    \t\n    \t    /**\n    \t     * JSX spread attribute.\n    \t     * \n    \t     * @access {private}\n    \t     * @return {String}\n    \t     */\n    \t    Lexer.prototype.attr_jsx_spread = function()\n    \t    {\n    \t        this.emit('attr:jsx:spread', this.bufferjsx().trim());\n    \t\n    \t        return 'attr_key';\n    \t    }\n    \t\n    \t    /**\n    \t     * Bogus tag.\n    \t     * \n    \t     * @access {private}\n    \t     * @throws\n    \t     */\n    \t    Lexer.prototype.bogus_tag = function()\n    \t    {\n    \t        this.html = '';\n    \t\n    \t        throw new Error('Invalid [<?] tag in html.');\n    \t    }\n    \t\n    \t    /**\n    \t     * Comment open, cdata open or doctype declartion.\n    \t     * \n    \t     * @access {private}\n    \t     * @return {String}\n    \t     */\n    \t    Lexer.prototype.markup_declaration_open = function()\n    \t    {\n    \t        let char = this.peek();\n    \t\n    \t        if (this.peekn(2) === '--')\n    \t        {\n    \t            this.consume(2);\n    \t\n    \t            return 'comment_start';\n    \t        }\n    \t\n    \t        if (this.peek() === '[')\n    \t        {\n    \t            this.consume(1);\n    \t\n    \t            return 'cdata_start';\n    \t        }\n    \t        \n    \t        this.whitespace();\n    \t\n    \t        if (ALPHA.test(this.peek())) return 'doc_type';\n    \t\n    \t        throw new Error('Invalid comment (comments should start with <!--');\n    \t    }\n    \t\n    \t    /**\n    \t     * Doctype declaration.\n    \t     * \n    \t     * @access {private}\n    \t     * @return {String}\n    \t     */\n    \t    Lexer.prototype.doc_type = function()\n    \t    {\n    \t        if (!this.html.startsWith('DOCTYPE ')) throw new Error('Invalid doctype declaration');\n    \t        \n    \t        this.emit('doctype', '<!DOCTYPE');\n    \t\n    \t        this.consume(8);\n    \t\n    \t        let buf = this.buffer(char => char === '>' || SPACE.test(char));\n    \t\n    \t        if (buf.length <= 1) throw new Error('Invalid doctype declaration');\n    \t\n    \t        this.consume(buf.length);\n    \t\n    \t        this.emit('doctype:declaration', buf);\n    \t\n    \t        return 'doc_type_attr';\n    \t    }\n    \t\n    \t    /**\n    \t     * Doctype attribute.\n    \t     * \n    \t     * @access {private}\n    \t     * @return {String}\n    \t     */\n    \t    Lexer.prototype.doc_type_attr = function()\n    \t    {\n    \t        // Consume space\n    \t        this.whitespace();\n    \t\n    \t        // Closed doctype\n    \t        if ('>' == this.peek())\n    \t        {\n    \t            this.currentTag = null;\n    \t\n    \t            this.emit('doctype:close:self', '');\n    \t\n    \t            return 'text';\n    \t        }\n    \t\n    \t        // Doc types don't have \"key=value\" attributes, only attributes\n    \t        // e.g  PUBLIC\n    \t        // e.g  \"-//W3C//DTD HTML 4.01 Transitional//EN\"        \n    \t        let end = SPACE;\n    \t        \n    \t        if ('\"' == this.peek()) end = /\"/;\n    \t        \n    \t        if (end !== SPACE) this.consume(1);\n    \t\n    \t        let buf = this.buffer(char => end.test(char) || char === '>');\n    \t        \n    \t        this.consume(buf.length);\n    \t        \n    \t        if (end !== SPACE) this.consume(1);\n    \t        \n    \t        this.emit('doctype:attr', end !== SPACE ? `\"${buf}\"` : buf);\n    \t\n    \t        return 'doc_type_attr';       \n    \t    }\n    \t\n    \t    /**\n    \t     * Comment start.\n    \t     * \n    \t     * @access {private}\n    \t     * @return {String}\n    \t     */\n    \t    Lexer.prototype.comment_start = function()\n    \t    {\n    \t        if (this.peek() === '[') return 'conditional_comment_open';\n    \t\n    \t        this.emit('comment:open', '<!--');\n    \t\n    \t        let buff = this.scan('-->');\n    \t\n    \t        this.consume(buff.length);\n    \t\n    \t        this.emit('comment:body', buff);\n    \t\n    \t        this.consume(3);\n    \t\n    \t        this.emit('comment:close', '-->');\n    \t\n    \t        return 'text';\n    \t    }\n    \t\n    \t    /**\n    \t     * Conditional comment open.\n    \t     * \n    \t     * @access {private}\n    \t     * @return {String}\n    \t     */\n    \t    Lexer.prototype.conditional_comment_open = function()\n    \t    {\n    \t        if (this.peekn(4) !== '[if ') throw new Error('Invalid conditional comment');\n    \t\n    \t        let buff = this.scan(']>');\n    \t\n    \t        this.consume(buff.length -1);\n    \t\n    \t        this.emit('comment:open', `<!--${buff}]>`);\n    \t\n    \t        this.consume(3);\n    \t\n    \t        return 'conditional_comment';\n    \t    }\n    \t\n    \t    /**\n    \t     * Conditional comment.\n    \t     * \n    \t     * @access {private}\n    \t     * @return {String}\n    \t     */\n    \t    Lexer.prototype.conditional_comment = function()\n    \t    {\n    \t        let buff = this.scan('<![endif]-->');\n    \t\n    \t        this.consume(buff.length);\n    \t\n    \t        this.emit('comment:body', buff);\n    \t\n    \t        this.consume(12);\n    \t\n    \t        this.emit('comment:close', '<![endif]-->');\n    \t\n    \t        return 'text';\n    \t    }\n    \t\n    \t    /**\n    \t     * cdata start.\n    \t     * \n    \t     * @access {private}\n    \t     * @return {String}\n    \t     */\n    \t    Lexer.prototype.cdata_start = function()\n    \t    {\n    \t        if (!this.html.startsWith('CDATA[')) throw new Error('Invalid doctype declaration');\n    \t        \n    \t        this.consume(6);\n    \t\n    \t        this.emit('cdata:open', '<![CDATA[');\n    \t\n    \t        let buff = this.scan(']]>');\n    \t    \n    \t        this.consume(buff.length);\n    \t\n    \t        this.emit('cdata:body', buff);\n    \t\n    \t        this.consume(3);\n    \t\n    \t        this.emit('cdata:close', ']]>');\n    \t\n    \t        return 'text';\n    \t    }\n    \t\n    \t    /**\n    \t     * JSX.\n    \t     * \n    \t     * @access {private}\n    \t     * @return {String}\n    \t     */\n    \t    Lexer.prototype.jsx_block = function()\n    \t    {        \n    \t        let blockpeth = 0;\n    \t        let opened = this.braceDepth >= 1;\n    \t\n    \t        this.buffer((char, chunk) =>\n    \t        {\n    \t            if (this.peekback() !== '\\\\')\n    \t            {\n    \t                if (char === '{')\n    \t                {\n    \t                    this.braceDepth++;\n    \t                    blockpeth++;\n    \t                }\n    \t                else if (char === '}')\n    \t                {\n    \t                   this.braceDepth--;\n    \t                   blockpeth--;\n    \t                }\n    \t\n    \t                if (this.braceDepth === 0 || char === '<')\n    \t                {\n    \t                    if (char === '}') this.next();\n    \t\n    \t                    return true;\n    \t                }\n    \t\n    \t                // JSX inside neseted jsx function\n    \t                if (blockpeth === 0 && chunk[0] === '{')\n    \t                {\n    \t                    this.next();\n    \t\n    \t                    return true;\n    \t                }\n    \t            }\n    \t        });\n    \t\n    \t        let buff = this.chunk();\n    \t\n    \t        let jsx = buff.trim();\n    \t\n    \t        // Open / close\n    \t        if (jsx[0] === '{' && jsx.substr(-1) === '}')\n    \t        {\n    \t            this.emit('jsx', buff);\n    \t        }\n    \t\n    \t        // Close jsx\n    \t        else if ((jsx[0] === ')' || jsx[0] === '}') && opened)\n    \t        {\n    \t            this.emit('jsx:close', buff);\n    \t        }\n    \t\n    \t        // Open\n    \t        else if (jsx.substr(-1) === '(' || jsx.substr(-1) === '{' || this.braceDepth >= 1)\n    \t        {\n    \t            this.emit('jsx:open', buff);\n    \t        }\n    \t\n    \t        // Nested\n    \t        else if (this.braceDepth >= 1)\n    \t        {\n    \t            this.emit('jsx:open', buff);\n    \t        }\n    \t\n    \t        return 'text';  \n    \t    }\n    \t\n    \t    /**\n    \t     * Lexer parse function.\n    \t     * \n    \t     * @param {String}   html\n    \t     * @param {Function} emit\n    \t     */\n    \t    lexer = function(html, emitter)\n    \t    {\n    \t        let l = new Lexer(html, emitter);\n    \t\n    \t        l.parse();\n    \t    }\n    \t})();\n    \t(function()\n    \t{\n    \t    Tokenizer = function(htmlstr)\n    \t    {\n    \t        this.htmlstr = htmlstr;\n    \t\n    \t        this.stack = { children: [] };\n    \t        \n    \t        this.currAttr = null;\n    \t\n    \t        this.curr = this.stack;\n    \t\n    \t        this.parent = [];\n    \t\n    \t        this.currtoken;\n    \t    }\n    \t\n    \t    Tokenizer.prototype.parse = function()\n    \t    {\n    \t        const delegate = (token, value) => \n    \t        {\n    \t            this.readtoken(token, value);\n    \t        }\n    \t\n    \t        lexer(this.htmlstr, delegate);\n    \t\n    \t        return this.stack.children;\n    \t    }\n    \t\n    \t    Tokenizer.prototype.pushNode = function(node)\n    \t    {\n    \t        this.curr.children.push(node);\n    \t\n    \t        this.parent.push(this.curr);\n    \t\n    \t        this.curr = node;\n    \t    }\n    \t\n    \t    Tokenizer.prototype.pushValue = function(val)\n    \t    {\n    \t        this.curr.value += val;\n    \t    }\n    \t\n    \t    Tokenizer.prototype.pushChild = function(node)\n    \t    {        \n    \t        this.curr.children.push(node);\n    \t    }\n    \t\n    \t    Tokenizer.prototype.closeNode = function()\n    \t    {\n    \t        this.curr = this.parent.pop();\n    \t    }\n    \t\n    \t    Tokenizer.prototype.pushAttr = function(value)\n    \t    {\n    \t        this.curr.attrs[value] = 'true';\n    \t\n    \t        this.currAttr = value;\n    \t    }\n    \t\n    \t    Tokenizer.prototype.pushAttrSpread = function(value)\n    \t    {\n    \t        this.curr.spreadAttribute = value;\n    \t    }\n    \t\n    \t    Tokenizer.prototype.pushAttrVal = function(value)\n    \t    {\n    \t        this.curr.attrs[this.currAttr] = value;\n    \t\n    \t        this.currAttr = null;\n    \t    }\n    \t\n    \t    Tokenizer.prototype.pushJsx = function(value)\n    \t    {\n    \t        this.pushChild(this.node('#jsx', value));\n    \t    }\n    \t\n    \t    Tokenizer.prototype.openJsx = function(value)\n    \t    {   \n    \t        let node = this.node('#jsx:function');\n    \t\n    \t        node.open = value;\n    \t\n    \t        this.pushNode(node);\n    \t    }\n    \t\n    \t    Tokenizer.prototype.closeJsx = function(value)\n    \t    {    \n    \t        while (this.curr.type !== '#jsx:function')\n    \t        {\n    \t            this.curr = this.parent.pop();\n    \t        }\n    \t\n    \t        this.curr.close = value;\n    \t\n    \t        this.curr = this.parent.pop();\n    \t    }\n    \t\n    \t    Tokenizer.prototype.node = function(type, value, children)\n    \t    {\n    \t        let attrs = {};\n    \t        children  = children || [];\n    \t\n    \t        return { type, value, children, attrs };\n    \t    }\n    \t\n    \t    Tokenizer.prototype.readtoken = function(token, value)\n    \t    {\n    \t        this.currtoken = token;\n    \t\n    \t        switch (token)\n    \t        {\n    \t            case 'text':\n    \t                this.pushChild({type: '#text', value: value});\n    \t                break;\n    \t\n    \t            case 'tag:open':\n    \t                this.pushNode(this.node(value[0].toLowerCase() === value[0] ? '#element' : (value === 'Fragment' ? '#fragment' : '#component'), value));\n    \t                break;\n    \t\n    \t            case 'tag:close:void':\n    \t            case 'tag:close:self':\n    \t            case 'tag:close':\n    \t                this.closeNode();\n    \t                break;\n    \t\n    \t            case 'jsx':\n    \t                this.pushJsx(value);\n    \t                break;\n    \t\n    \t            case 'jsx:open':\n    \t                this.openJsx(value);\n    \t                break;\n    \t\n    \t            case 'jsx:close':\n    \t                this.closeJsx(value);\n    \t                break;\n    \t\n    \t            case 'attr:key':\n    \t                this.pushAttr(value);\n    \t                break;\n    \t\n    \t            case 'attr:jsx:spread':\n    \t                this.pushAttrSpread(value);\n    \t                break;\n    \t\n    \t            case 'attr:val':\n    \t            case 'attr:val:jsx':\n    \t                this.pushAttrVal(value);\n    \t                break;\n    \t\n    \t            case 'attr:val:interpolated':\n    \t                this.pushAttrVal(`\\`${value}\\``);\n    \t                break;\n    \t\n    \t            case 'comment:open':\n    \t                this.pushNode(this.node('#comment', value));\n    \t                break;\n    \t\n    \t            case 'comment:body':\n    \t                this.pushValue(value);\n    \t                break;\n    \t\n    \t            case 'comment:close':\n    \t                this.pushValue(value);\n    \t                this.closeNode();\n    \t                break;\n    \t\n    \t        }\n    \t\n    \t        this.prev = token;\n    \t    }\n    \t\n    \t})();\n    \t(function()\n    \t{\n    \t    /**\n    \t     * Helpers.\n    \t     *\n    \t     * @var  {Function}\n    \t     */\n    \t    const [is_array, each, map] = frontbx.import(['is_array','each','map']).from('_');\n    \t\n    \t    /**\n    \t     * Cache.\n    \t     *\n    \t     * @var  {object}\n    \t     */\n    \t    const CACHE_STR = {};\n    \t\n    \t    /**\n    \t     * Helper function.\n    \t     *\n    \t     * @param  {String} str\n    \t     * @return {String}\n    \t     */\n    \t    function sanitizeQuotes(str)\n    \t    {\n    \t        return str.replaceAll(/(?<!\\\\)'/g, '\\\\\\'');\n    \t    }\n    \t\n    \t    /**\n    \t     * Parser. Parses tokenized input into 'createElement' statement. \n    \t     *\n    \t     * @param  {string}  jsxStr  JSX  string\n    \t     */\n    \t    Parser = function(jsxStr)\n    \t    {\n    \t        this.jsxStr = jsxStr;\n    \t    }\n    \t\n    \t    /**\n    \t     * Parse current string.\n    \t     *\n    \t     * @returns {object}\n    \t     */\n    \t    Parser.prototype.parse = function()\n    \t    {\n    \t        let useCache = this.jsxStr.length < 720;\n    \t\n    \t        if (useCache && CACHE_STR[this.jsxStr]) return CACHE_STR[this.jsxStr];\n    \t\n    \t        // tokenize and create\n    \t        let funcString = this.genChildren((new Tokenizer(this.jsxStr)).parse());\n    \t\n    \t        if (useCache)\n    \t        {\n    \t            return CACHE_STR[this.jsxStr] = funcString;\n    \t        }\n    \t\n    \t        return funcString;\n    \t    }\n    \t\n    \t    /**\n    \t     * Generates 'createElement' string tag\n    \t     *\n    \t     * @param   {object}  el  Token element\n    \t     * @returns {strng}\n    \t     */\n    \t    Parser.prototype.genTag = function(el)\n    \t    {\n    \t        let children = this.genChildren(el.children, el);\n    \t        let props    = this.genProps(el.attrs, el);\n    \t        let tag      = el.type === '#component' || el.type === '#fragment' ? el.value : `'${el.value}'`;\n    \t\n    \t        return `h(${tag},${props},${children})`;\n    \t    }\n    \t\n    \t    /**\n    \t     * Generates props from token\n    \t     *\n    \t     * @param   {object}  props  Prop values\n    \t     * @param   {object}  el     Target token\n    \t     * @returns {strng}\n    \t     */\n    \t    Parser.prototype.genProps = function(props, el)\n    \t    {\n    \t        if (!props && !el.spreadAttribute) return 'null';\n    \t\n    \t        let spread;\n    \t\n    \t        if (el.spreadAttribute)\n    \t        {\n    \t            spread = /^\\{\\s?\\{/.test(el.spreadAttribute) ? el.spreadAttribute.substring(1).trim().slice(0, -1).trim() : el.spreadAttribute; \n    \t        }\n    \t\n    \t        let attrs = [];\n    \t\n    \t        each(props, (key, prop) => attrs.push(`'${key}':${this.genPropValue(prop)}`));\n    \t\n    \t        if (spread) return `Object.assign({}, ${spread}, {${attrs.join(', ')}})`;\n    \t\n    \t        return `{${attrs.join(', ')}}`;\n    \t    }\n    \t\n    \t    /**\n    \t     * Generates props value.\n    \t     *\n    \t     * @param   {mixed}  val  Prop values\n    \t     * @returns {strng}\n    \t     */\n    \t    Parser.prototype.genPropValue = function(val)\n    \t    {\n    \t        if (val.startsWith('{')) return val.substring(1).trim().slice(0, -1).trim();\n    \t\n    \t        if (val.startsWith('`')) return val;\n    \t\n    \t        return `'${sanitizeQuotes(val)}'`;\n    \t    }\n    \t\n    \t    /**\n    \t     * Generates children for tag.\n    \t     *\n    \t     * @param  {array}  Children  Array of child tokens.\n    \t     * @param  {strng}  parent    Parant token\n    \t     * @param  {string} glue      Optional glue string\n    \t     */\n    \t    Parser.prototype.genChildren = function(children, parent, glue)\n    \t    {\n    \t        if (parent && (!parent.children || !parent.children.length)) return 'null';\n    \t\n    \t        return map(children, (i, child) => \n    \t        {\n    \t            if (child.type === '#jsx') return child.value.substring(1).trim().slice(0, -1).trim();\n    \t            \n    \t            if (child.type === '#text') return `'${sanitizeQuotes(child.value)}'`;\n    \t\n    \t            if (child.type === '#comment') return `h('comment',{},'${sanitizeQuotes(child.value.substring(4).slice(0, -3))}')`;\n    \t\n    \t            if (child.type === '#jsx:function')\n    \t            {\n    \t                let open  = child.open.trim().substring(1).trim();\n    \t                let close = child.close.trim().slice(0, -1).trim();\n    \t\n    \t                return `${open} ${this.genChildren(child.children, null)} ${close}`;\n    \t            }\n    \t\n    \t            if (child) return this.genTag(child);\n    \t\n    \t            return false;\n    \t\n    \t        }).join(glue || ', ');\n    \t    }\n    \t\n    \t})();\n    \t(function()\n    \t{    \n    \t    /**\n    \t     * Helpers.\n    \t     *\n    \t     * @var  {Function}\n    \t     */\n    \t    const [map, each, object_props, clone_deep] = frontbx.import(['map','each','object_props','clone_deep']).from('_');\n    \t\n    \t    // Produce the code to shadow all globals in the environment\n    \t    // through lexical binding.\n    \t    // See also var `builtins`.\n    \t    const BUILT_INS_STR =\n    \t    [\n    \t        'JSON',\n    \t        'Object',\n    \t        'Function',\n    \t        'Array',\n    \t        'String',\n    \t        'Boolean',\n    \t        'Number',\n    \t        'Date',\n    \t        'RegExp',\n    \t        'Error',\n    \t        'EvalError',\n    \t        'RangeError',\n    \t        'ReferenceError',\n    \t        'SyntaxError',\n    \t        'TypeError',\n    \t        'URIError'\n    \t    ];\n    \t\n    \t    const DISSALOWEDES =\n    \t    {\n    \t        // disallowed\n    \t        global: undefined,\n    \t        process: undefined,\n    \t        module: undefined,\n    \t        require: undefined,\n    \t        document: undefined,\n    \t        window: undefined,\n    \t        Window: undefined,\n    \t        // no evil...\n    \t        eval: undefined,\n    \t        Function: undefined\n    \t    };\n    \t\n    \t    // Variable identifiers\n    \t    const IDENTIFIER = /^[$_a-zA-Z][$_a-zA-Z0-9]*$/;\n    \t\n    \t    // Keep in store all real builtin prototypes to restore them after\n    \t    // a possible alteration during the evaluation.\n    \t    const BUILT_INS  = map(BUILT_INS_STR, (i, name) => (window || global)[name] );\n    \t    const COPIES     = new Array(BUILT_INS.length);\n    \t    const PROTO_KEYS = map(new Array(BUILT_INS.length), (i) => object_props(BUILT_INS[i], true));\n    \t\n    \t    // Sandbox name\n    \t    const SANDBOX_NAME = '$sandbox$';\n    \t\n    \t    const acceptableVariable = function(v)\n    \t    {\n    \t        return !RESERVED_WORDS.includes(v) && IDENTIFIER.test(v);\n    \t    }\n    \t\n    \t    const resetEnv = function()\n    \t    {\n    \t        let resets = map(object_props(window || global, true), (i, v) => acceptableVariable(v) ? v : false);\n    \t\n    \t        return `var ${resets.join(',')}, undefined;`;\n    \t    }\n    \t\n    \t    // Fake all builtins' prototypes.\n    \t    const alienate = function()\n    \t    {\n    \t        each(BUILT_INS_STR, (i) => typeof COPIES[i] === 'undefined' ? COPIES[i] = clone_deep(BUILT_INS[i]) : null);\n    \t    }\n    \t\n    \t    // Restore all builtins' prototypes.\n    \t    const unalienate = function()\n    \t    {\n    \t        let g = window || global;\n    \t\n    \t        each(BUILT_INS_STR, (i, name) =>\n    \t        {\n    \t            // Reset global\n    \t            g[name] = BUILT_INS[i];\n    \t\n    \t            // Delete altered prototypes\n    \t            let realKeys = PROTO_KEYS[i];\n    \t            let currKeys = object_props(BUILT_INS[i], true);\n    \t            let diff     = currKeys.filter(x => !realKeys.includes(x));\n    \t\n    \t            if (diff.length >= 1) each(diff, (i, key) => BUILT_INS[i][key] = undefined);\n    \t        });\n    \t    }\n    \t\n    \t    const genBindings = function(bindings)\n    \t    {\n    \t        // Sanitize bindings\n    \t        bindings = map(bindings, (k, v) => acceptableVariable(k) ? v : false);\n    \t\n    \t        // Add in default built in protos\n    \t        each(BUILT_INS_STR, (i, name) => bindings[name] = COPIES[i]);\n    \t\n    \t        // Merge with GLOBALS and DISSALOWEDES\n    \t        return {...bindings, ...DISSALOWEDES}; \n    \t    }\n    \t\n    \t    // Evaluate code as a String (`source`) without letting global variables get\n    \t    // used or modified. The `sandbox` is an object containing variables we want\n    \t    // to pass in.\n    \t    sandbox = function(source, bindings, context)\n    \t    {\n    \t        alienate();\n    \t\n    \t        bindings = genBindings(bindings || {});\n    \t\n    \t        context = context || null;\n    \t\n    \t        let func = 'this.constructor.constructor = function () {};\\nvar ';\n    \t\n    \t        each(bindings, (key, value) => func += `${key} = ${SANDBOX_NAME}['${key}'],\\n`);\n    \t\n    \t        func += `undefined;\\n${resetEnv()}\\n return ${source};`;\n    \t        \n    \t        let ret;\n    \t\n    \t        ret = Function(SANDBOX_NAME, func).call(context, bindings);\n    \t\n    \t        unalienate();\n    \t\n    \t        return ret;\n    \t    }\n    \t\n    \t})();\n    \t(function()\n    \t{\n    \t    /**\n    \t     * Helpers.\n    \t     *\n    \t     * @var  {Function}\n    \t     */\n    \t    const [array_filter, dom_element, is_empty, each, is_array, is_object, is_bool, is_constructed, is_constructable, is_function, is_htmlElement, is_null, is_number, is_string, is_undefined, map, str_replace] = frontbx.import(['array_filter','dom_element','is_empty','each','is_array','is_object','is_bool','is_constructed','is_constructable','is_function','is_htmlElement','is_null','is_number','is_string','is_undefined','map','str_replace']).from('_');\n    \t\n    \t    /**\n    \t     * JSX create element.\n    \t     *  \n    \t     * @param   {string | function}   tag         Root html element\n    \t     * @param   {object | undefined}  attrs       Tag props / attributes\n    \t     * @param   {array | undefined}  ...children  Tag children (recursive)\n    \t     * @returns {Array|HTMLElement}\n    \t     */\n    \t    createElement = function(tag, attributes)\n    \t    {\n    \t        // Empty\n    \t        if (arguments.length === 0) return document.createTextNode('');\n    \t\n    \t        // Get children\n    \t        let children = arguments.length > 2 ? array_filter([].slice.call(arguments, 2)) : [];\n    \t\n    \t        // Special case for text\n    \t        if (tag === 'text') return document.createTextNode(children.toString());\n    \t\n    \t        // Special case for comments\n    \t        if (tag === 'comment') return document.createComment(children.toString());\n    \t\n    \t        // Normalise children\n    \t        children = _normaliseChildren(children.length === 0 && attributes.children && !is_empty(attributes.children) ? attributes.children : children);\n    \t\n    \t        let node = is_function(tag) || is_constructed(tag) ? _createComponent(tag, {...attributes, children}) : dom_element({...attributes, children, tag});\n    \t\n    \t        //if (is_array(node) || Object.prototype.toString.call(node).toLowerCase() === '[object text]') return node;\n    \t\n    \t        //each(children, (i, child) => node.appendChild(child));\n    \t\n    \t        return node;\n    \t    }\n    \t\n    \t    /**\n    \t     * Create component.\n    \t     *\n    \t     * @access {private}\n    \t     * @param  {HTMLElement} vnode\n    \t     * @param  {HTMLElement} parentDOMElement\n    \t     * @return {Array}\n    \t     */\n    \t    function _createComponent(component, attributes)\n    \t    {        \n    \t        let { render, props } = _comoponentRenderFn(component, attributes);\n    \t\n    \t        BINDINGS_CACHE.props = props;\n    \t\n    \t        let rendered = render(props);\n    \t\n    \t        if (is_htmlElement(rendered))\n    \t        {\n    \t            //if (children.nodeType === 1) frontbx.dom().refresh(children);\n    \t\n    \t            return rendered;\n    \t        }\n    \t        else if (is_array(rendered))\n    \t        {\n    \t            //if (children.nodeType === 1) frontbx.dom().refresh(children);\n    \t\n    \t            return _normaliseChildren(rendered);\n    \t        }\n    \t\n    \t        let toJsx = jsx(rendered);\n    \t\n    \t        //if (children.nodeType === 1) frontbx.dom().refresh(children);\n    \t\n    \t        return toJsx;\n    \t    }\n    \t\n    \t    /**\n    \t     * Get component render function.\n    \t     *\n    \t     * @access {private}\n    \t     * @param  {String}   name\n    \t     * @return {Function}\n    \t     */\n    \t    function _comoponentRenderFn(fn, props)\n    \t    {        \n    \t        if (is_constructed(fn))\n    \t        {           \n    \t            if (!fn.render) throw new Error('Object Components must implement the [render] method');\n    \t\n    \t            CURR_RENDER.current = fn;\n    \t\n    \t            if (fn.defaultProps) props = {...fn.defaultProps, ...props };\n    \t\n    \t            return { render: fn.render, props };\n    \t        }\n    \t\n    \t        if (is_constructable(fn))\n    \t        {\n    \t            let component = new fn;\n    \t\n    \t            if (!component.render) throw new Error('Object Components must implement the [render] method');\n    \t\n    \t            CURR_RENDER.current = component;\n    \t\n    \t            if (component.defaultProps) props = {...component.defaultProps, ...props };\n    \t\n    \t            return { render: component.render, props };\n    \t        }\n    \t\n    \t        if (!is_function(fn)) throw new Error(`Invalid Component [${name}]`);\n    \t\n    \t        CURR_RENDER.current = fn;\n    \t\n    \t        if (fn.defaultProps) props = {...fn.defaultProps, ...props };\n    \t\n    \t        return { render: fn, props };\n    \t    }\n    \t\n    \t    /**\n    \t     * Caches and returns a children function.\n    \t     *\n    \t     * @access {private}\n    \t     * @param  {String} key   Cached callback key\n    \t     * @param  {Mixed}  value Children value\n    \t     * @return {Array|HTMLElement|String}\n    \t     */\n    \t    function _normaliseChildren(value)\n    \t    {\n    \t        // Flatten arrays\n    \t        if (is_array(value)) return map(array_filter(_flatten(value)), (i, sub) => _normaliseChild(sub));\n    \t\n    \t        return _flatten([_normaliseChild(value)]);\n    \t    }\n    \t\n    \t    function _normaliseChild(child)\n    \t    {\n    \t        // Already parsed\n    \t        if (is_htmlElement(child)) return child;\n    \t\n    \t        // Functions\n    \t        if (is_function(child)) return jsx(child());\n    \t\n    \t        // Empty strings\n    \t        if (is_string(child) && str_replace(child, ['undefined','null','false','NaN'], '').trim() === '') return document.createTextNode('');\n    \t\n    \t        // Empty values\n    \t        if (is_null(child) || is_undefined(child) || child === false) return document.createTextNode('');\n    \t\n    \t        // Objects\n    \t        if (is_object(child)) throw new Error('Objects cannot be used as children');\n    \t\n    \t        return jsx(`${child}`);\n    \t    }\n    \t\n    \t    /**\n    \t     * Flatten multidimensional children.\n    \t     *\n    \t     * @access {private}\n    \t     * @param  {HTMLElement|Array} DOMElement\n    \t     * @return {HTMLElement|Array}\n    \t     */\n    \t    function _flatten(children)\n    \t    {\n    \t        if (is_array(children))\n    \t        {\n    \t            let ret = [];\n    \t\n    \t            each(children, (i, child) => is_array(child) ? ret = [...ret, ..._flatten(child)] : ret.push(child));\n    \t\n    \t            return ret;\n    \t        }\n    \t\n    \t        return children;\n    \t    }\n    \t    \n    \t})();\n    \t\n    \t(function()\n    \t{\n    \t    /**\n    \t     * Helpers.\n    \t     *\n    \t     * @var  {Function}\n    \t     */\n    \t    const [is_array, is_object, each, object_props] = frontbx.import(['is_array','is_object','each','object_props']).from('_');\n    \t\n    \t    /**\n    \t     * Cache.\n    \t     *\n    \t     * @var  {object}\n    \t     */\n    \t    const CACHE_STR = {};\n    \t\n    \t    /**\n    \t     * Global decencies.\n    \t     *\n    \t     * @var  {object}\n    \t     */\n    \t    const GLOBAL_BINDINGS =\n    \t    {\n    \t        h: createElement,\n    \t        Fragment: Fragment,\n    \t    };\n    \t\n    \t    /**\n    \t     * Parse's JSX tokens\n    \t     *\n    \t     * @param   {string}             jsxStr  JSX  string\n    \t     * @param   {HTMLElement|Object} root or bindings\n    \t     * @returns {object}             bindings  \n    \t     */\n    \t    function _jsx(jsxStr, root, bindings)\n    \t    {        \n    \t        if (is_object(root))\n    \t        {\n    \t            bindings = root;\n    \t\n    \t            root = false;\n    \t        }\n    \t\n    \t        if (is_array(jsxStr))\n    \t        {\n    \t            let ret = createElement(Fragment, {}, jsxStr);\n    \t\n    \t            if (root) each(ret, (i, node) => root.appendChild(node));\n    \t\n    \t            return ret;\n    \t        }\n    \t\n    \t        // Empty\n    \t        else if (jsxStr === null || jsxStr === false || typeof jsxStr === 'undefined' || (typeof jsxStr === 'string' && jsxStr.trim() === ''))\n    \t        {\n    \t            let ret = createElement();\n    \t\n    \t            if (root) root.appendChild(ret);\n    \t\n    \t            return ret;\n    \t        }\n    \t\n    \t        // Clean jsx\n    \t        jsxStr = `${jsxStr}`.replaceAll(/[\\r\\n\\t\\f\\v]/g, '');\n    \t\n    \t        // No elements\n    \t        if (!jsxStr.includes('<') && !jsxStr.includes('>') && !jsxStr.includes('{'))\n    \t        {\n    \t            let ret = createElement('text', null, jsxStr);\n    \t\n    \t            if (root) root.appendChild(ret);\n    \t\n    \t            return ret;\n    \t        }\n    \t\n    \t        // Parse into function\n    \t        let parser = new Parser(jsxStr);\n    \t\n    \t        let output = parser.parse();\n    \t\n    \t        let ret = sandbox(output, genBindings(bindings), CURR_RENDER.current);\n    \t\n    \t        if (root) is_array(ret) ? each(ret, (i, node) => root.appendChild(node)) : root.appendChild(ret);\n    \t        \n    \t        return ret;\n    \t    }\n    \t\n    \t    /**\n    \t     * Generates object of bindings for JSX parsing.\n    \t     *\n    \t     * @param  {object}  input  bindings\n    \t     * @return {object}\n    \t     */\n    \t    function genBindings(bindings)\n    \t    {\n    \t        // Normalize bindings.\n    \t        bindings = !bindings ? { ...GLOBAL_BINDINGS } : { ...bindings, ...GLOBAL_BINDINGS };\n    \t\n    \t        // Apply temporary bindings cache\n    \t        each(BINDINGS_CACHE, (k,v) =>\n    \t        {\n    \t            bindings[k] = v;\n    \t\n    \t            delete BINDINGS_CACHE[k];\n    \t        });\n    \t        \n    \t        // Apply currently rendering component\n    \t        if (CURR_RENDER.current)\n    \t        {\n    \t            let props = object_props(CURR_RENDER.current, true);\n    \t            \n    \t            each(props, (i, k) => bindings[k] = CURR_RENDER.current[k]);\n    \t        }\n    \t\n    \t        return bindings;\n    \t    }\n    \t\n    \t    jsx = _jsx;\n    \t\n    \t    frontbx.set('jsx', _jsx);\n    \t\n    \t})();\n    })();\n    \n    // dom components\n    (function()\n    {\n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [add_class, animate, attr, css, dom_element, each, find, find_all, _for, is_object, map, sibling_index, off, on, preapend, remove_class, rendered_style, width, remove_from_dom, inline_style] = frontbx.import(['add_class','animate','attr','css','dom_element','each','find','find_all','for','is_object','map','sibling_index','off','on','preapend','remove_class','rendered_style','width','remove_from_dom','inline_style']).from('_');\n    \n        /**\n         * Default options\n         * \n         * @var {Object}\n         */\n        const DEFAULT_OPTIONS =\n        {\n            // enable keyboard navigation, pressing left & right keys\n            accessibility: true,\n            \n            // advances to the next cell\n            // if true, default is 3 seconds\n            // or set time between advances in milliseconds\n            // i.e. `autoPlay: 1000` will advance every 1 second\n            autoPlay: true,\n    \n            // zero-based index of the initial selected cell\n            initialIndex: 0,\n            \n            controls: true,\n            // creates and enables buttons to click to previous & next cells\n    \n            dots: true,\n            // create and enable page dots\n    \n            resize: true,\n            // listens to window resize events to adjust size & positions\n    \n            wrap: true,\n            // at end of cells, wraps-around to first for infinite scrolling\n    \n            // Group slides\n            groupSlides: false,\n    \n            pauseOnHover: true,\n            // Pauses autoplay on hover\n    \n            easing: 'easeOutExpo',\n            // Easing pattern\n    \n            draggable: true,\n            // Draggable\n    \n            friction: 0.85,\n            // Dragging friction\n    \n            mouseSupport: true,\n            // Enables dragging with mouse,\n    \n            // Minimum swipe distance to be a \"swipe\"\n            threshold: (type, self) => 3,\n    \n            // Minimum travel swipe velocity to be considered a \"swipe\"\n            velocityThreshold: 3,\n            \n        };\n    \n        /**\n         * Slider.\n         *\n         * @param {HTMLElement} wrapper Wrapper element\n         * @param {Object}      options Options\n         */\n        const _Slider = function(wrapper, options)\n        {\n            this.options = is_object(options) ? {...DEFAULT_OPTIONS, ...options } :  {...DEFAULT_OPTIONS };\n    \n            this.DOMElementWrapper = wrapper;\n    \n            this._animating = false;\n    \n            this._playing = 'stopped';\n    \n            this._translated = 0;\n    \n            this._resizeThrottle = throttle(() => this.resize(), 100);\n    \n            this._build();\n    \n            this._moveIndexToMiddle();\n    \n            this.resize();\n    \n            if (this.options.autoPlay) this.play();\n        }\n    \n        /**\n         * Destroy the slider.\n         *\n         * @access {public}\n         */\n        _Slider.prototype.destroy = function()\n        {\n            this.stop();\n    \n            if (this._gestures) this._gestures.destroy();\n    \n            off(window, 'resize', this._resizeThrottle, this);\n    \n            off(this.DOMElementWrapper, 'mouseover', this.pause, this);\n    \n            off(this.DOMElementWrapper, 'mouseout', this.unpause, this);\n    \n            if (this.options.dots) remove_from_dom(this._dotWrap);\n    \n            if (this.options.controls) remove_from_dom([this._righBtn, this._leftBtn]);\n    \n            let slides = !this.options.groupSlides ? this._slides : find_all('.slide-group > *', this.DOMElementWrapper);\n    \n            each(slides, (i, slide) => this.DOMElementWrapper.appendChild(slide));\n        }\n    \n        /**\n         * Next slide\n         *\n         * @access {public}\n         */\n        _Slider.prototype.next = function(animationOrClickEvent)\n        {\n            // Stop on animating\n            if (this._animating || this._dragging) return;\n    \n            // Do nothing on non-wrap and at end\n            if (!this.options.wrap && this._index === this._slidesIndexs) return;\n    \n            // Don't animate\n            if (animationOrClickEvent === false) return this._toSlideDirect(this._index +1);\n    \n            // Pause autoplay\n            this.pause();\n    \n            // We're now animating\n            this._animating = true;\n    \n            // Run animation\n            let distance = this._slideWidthWGap;\n    \n            if (!this.options.wrap)\n            {\n                distance += this._translated;\n                \n                this._translated = distance;\n            }\n    \n            // Update the index and dots.        \n            this._updateIndex(1);\n            this._updateDots();\n    \n            // Shuffle before animation\n            if (this.options.wrap)\n            {\n                // Adjust pre distance before animation\n                let preDistance = this._offset - this._slideWidthWGap;\n    \n                this._moved(1);\n    \n                css(this._DOMElementViewport, 'left', `-${preDistance}px`);\n            }\n    \n            animate(this._DOMElementViewport, { transform: `translateX(-${distance}px)`, easing: this.options.easing, duration: 550, complete: () =>\n            { \n                if (this.options.wrap)\n                {\n                    css(this._DOMElementViewport, 'left', `-${this._offset}px`);\n    \n                    css(this._DOMElementViewport, 'transform', `translateX(0px)`);\n                }\n    \n                if (!this.options.wrap) this._moved(1);\n    \n                this._animating = false;\n    \n                if (!animationOrClickEvent) this.unpause();\n            }});\n        }\n    \n        /**\n         * Previous slide\n         *\n         * @access {public}\n         */\n        _Slider.prototype.previous = function(animationOrClickEvent)\n        {\n            // Stop on animating\n            if (this._animating || this._dragging) return;\n    \n            // Do nothing on non-wrap and at start\n            if (!this.options.wrap && this._index === 0) return;\n    \n            // Don't animate\n            if (animationOrClickEvent === false) return this._toSlideDirect(this._index +1);\n    \n            // Clear timeout\n            this.pause();\n    \n            // We're now animating\n            this._animating = true;\n    \n            // Cache distance\n            let distance = !this.options.wrap ? (this._translated - this._slideWidthWGap) : this._slideWidthWGap;\n    \n            this._translated = distance < 2 ? 0 : distance;\n    \n            // Failsafe \n            if (!this.options.wrap) distance = distance < 2 ? 0 : -distance;\n    \n            // Update dots and indexes\n            this._updateIndex(-1);\n            this._updateDots();\n    \n            // Shuffle before animation\n            if (this.options.wrap)\n            {\n                // Adjust pre distance before animation\n                let preDistance = this._offset + this._slideWidthWGap;\n    \n                this._moved(-1);\n    \n                css(this._DOMElementViewport, 'left', `-${preDistance}px`);\n            }\n    \n            // Run animation\n            animate(this._DOMElementViewport, { transform: `translateX(${distance}px)`, easing: this.options.easing, duration: 550, complete: () => \n            { \n                if (this.options.wrap)\n                {\n                    css(this._DOMElementViewport, 'left', `-${this._offset}px`);\n    \n                    css(this._DOMElementViewport, 'transform', `translateX(0px)`);\n                }\n    \n                this._animating = false;\n    \n                if (!animationOrClickEvent) this.unpause();\n            } });\n        }\n    \n        /**\n         * Go to slide.\n         *\n         * @access {public}\n         * @param  {integer} slideNum Slide number\n         */\n        _Slider.prototype.toSlide = function(slideNum, animation, fromClick)\n        {\n            // Animating\n            if (this._animating) return false;\n    \n            animation = typeof animation === 'undefined' ? true : animation;\n    \n            fromClick = typeof fromClick === 'undefined' ? false : fromClick;\n    \n            if (!animation) return this._toSlideDirect(slideNum);\n    \n            // convert slide number to index\n            let index = slideNum === 1 ? 0 : slideNum-1;\n    \n            // Invalid or does nothing\n            if (index === this._index || index > this._slidesIndexs || index < 0) return;\n    \n            // Go to previous\n            if ( (index === (this._index -1) && this._index > 0) || (index === this._slidesIndexs && this._index === 0 && this.options.wrap))\n            {\n                return this.previous();\n            }\n    \n            // Go to next\n            else if ((index === (this._index + 1) && this._index < this._slidesIndexs) || (index === 0 && this._index === this._slidesIndexs && this.options.wrap))\n            {            \n                return this.next();\n            }\n    \n            // We're now animating\n            this._animating = true;\n    \n            // Clear timeout\n            this.pause();\n    \n            // Default delta and direction\n            let { delta, direction } = this._moveDelta(index);\n    \n            // If we're not wrapping we can skip all of this\n            if (!this.options.wrap)\n            {\n                let distance = this._slideWidthWGap * delta;\n    \n                distance = direction === -1 ? this._translated - distance : this._translated + distance;\n                \n                this._translated = distance < 2 ? 0 : distance;\n    \n                _for(delta, () => { this._updateIndex(direction) });\n    \n                this._updateDots();\n                \n                animate(this._DOMElementViewport, { transform: `translateX(${distance < 2 ? 0 : -distance}px)`, easing: this.options.easing, duration: 550, complete: () => \n                { \n                    this._animating = false;\n    \n                    if (!fromClick) this.unpause();\n    \n                } });\n    \n                return;\n            }\n    \n            // Moving back shifts index forward\n            // Moving forwards shifts index back\n            let postIndex = direction === -1 ? this._middleIndex + delta : (this._middleIndex - delta) + this._bufferSize;\n    \n            // Since we know the new index, we can just calculate how far offset center it is.\n            let tmpOffset = (postIndex * this._slideWidthWGap) - (this._viewportWidth / 2) + (this._slideWidth / 2);\n    \n            // Run animation\n            let distance = this._slideWidthWGap * delta;\n            distance  = direction === 1 ? -distance : distance;\n    \n            // Shuffle slides\n            _for(delta, () => { this._moved(direction); this._updateIndex(direction) }, this);\n    \n            // Insert buffer clones\n            let clones = this._bufferNodes(direction);\n    \n            css(this._DOMElementViewport, 'left', `-${tmpOffset}px`);\n    \n            // Run animation\n            animate(this._DOMElementViewport, { transform: `translateX(${distance}px)`, easing: this.options.easing, duration: 650, complete: () => \n            { \n                each(clones, (i, clone) =>\n                {\n                    clone.parentNode.removeChild(clone);\n                });\n    \n                css(this._DOMElementViewport, 'left', `-${this._offset}px`);\n    \n                css(this._DOMElementViewport, 'transform', `translateX(0px)`);\n    \n                this._animating = false;\n    \n                if (!fromClick) this.unpause();\n    \n            } });\n    \n            this._updateDots();\n        }\n    \n         /**\n         * Go to slide.\n         *\n         * @access {public}\n         * @param  {integer} slideNum Slide number\n         */\n        _Slider.prototype._toSlideDirect = function(slideNum)\n        {\n            // convert slide number to index\n            let index = slideNum === 1 ? 0 : slideNum-1;\n    \n            // Clear timeout\n            this.pause();\n    \n            // Default delta and direction\n            let delta       = index < this._index ? this._index - index : index - this._index;\n            let direction   = index < this._index ? -1 : 1;\n    \n            // If we're not wrapping we can skip all of this\n            if (!this.options.wrap)\n            {\n                let distance = this._slideWidthWGap * delta;\n    \n                distance = direction === -1 ? this._translated - distance : this._translated + distance;\n                \n                this._translated = distance < 2 ? 0 : distance;\n    \n                _for(delta, () => { this._updateIndex(direction) });\n    \n                this._updateDots();\n    \n                css(this._DOMElementViewport, 'transform',  `translateX(${distance < 2 ? 0 : -distance}px)`);\n                \n                this.unpause();\n    \n                return;\n            }\n    \n            // Shuffle slides\n            _for(delta, () => { this._moved(direction); this._updateIndex(direction) }, this);\n    \n            css(this._DOMElementViewport, 'transform', `translateX(0px)`);\n    \n            this._updateDots();\n    \n            this.unpause();\n        }\n    \n        /**\n         * Window resize handler.\n         *\n         * @access {private}\n         */\n        _Slider.prototype.resize = function()\n        {\n            if (this._slidesCount === 0) return;\n    \n            // Is full width, may change with responsive CSS\n            this._isFullWidth = parseInt(rendered_style(this._slides[0], 'max-width')) === 100;\n    \n            // Viewport width\n            this._viewportWidth = Math.round(width(this.DOMElementWrapper));\n    \n            // Gap size\n            this._gapSize = parseInt(rendered_style(this._DOMElementViewport, 'column-gap'));\n    \n            // Slide width\n            this._slideWidth = Math.round(width(this._slides[0], this.DOMElementWrapper));\n    \n            // Slide width with gap\n            this._slideWidthWGap = this._slideWidth + this._gapSize;\n    \n            // Offset\n            this._offset = Math.round(this.options.wrap ? (this._middleIndex * this._slideWidthWGap) - (this._viewportWidth / 2) + (this._slideWidth / 2) : this._slideWidthWGap - ((this._viewportWidth + this._slideWidth) / 2));\n    \n            // Buffer\n            if (!this._isFullWidth)\n            {\n                let percentagWidth  = (100 * this._slideWidth) / this._viewportWidth;\n                this._bufferSize    = percentagWidth > 50 ? 3 : Math.round(100 / percentagWidth);            \n            }\n    \n            // Make offset\n            css(this._DOMElementViewport, 'left', `${this._offset === 0 ? 0 : -this._offset}px`);\n    \n            // Visible slides\n            this._visibleSlides = this._isFullWidth ? 1 : this._viewportWidth / this._slideWidthWGap;\n    \n            this._dragBoundryL = this._offset - this._slideWidthWGap;\n    \n            this._dragBoundryR = -(this._dragBoundryL);\n        }\n    \n        /**\n         * Start autoplay.\n         *\n         * @access {public}\n         */\n        _Slider.prototype.play = function()\n        {      \n            if (this._playing === 'playing') return;\n    \n            // do not play if page is hidden, start playing when page is visible\n            let isPageHidden = document.hidden;\n            \n            if (isPageHidden)\n            {\n                on(document, 'visibilitychange', this._onVisibilityPlay, this);\n    \n                return;\n            }\n    \n            this._playing = 'playing';\n    \n            // listen to visibility change\n            on(document, 'visibilitychange', this._onVisibilityChange, this);\n    \n            // start ticking\n            this._tick();\n        }\n    \n        /**\n         * Stop autoplay.\n         *\n         * @access {public}\n         */\n        _Slider.prototype.stop = function()\n        {\n            this._playing = 'stopped';\n    \n            clearTimeout(this._playTimer);\n            \n            // remove visibility change event\n            off(document, 'visibilitychange', this._onVisibilityChange, this);\n        }\n    \n        /**\n         * Pause autoplay.\n         *\n         * @access {public}\n         */\n        _Slider.prototype.pause = function()\n        {\n            if (this._playing === 'playing')\n            {\n                this._playing = 'paused';\n                \n                clearTimeout(this._playTimer);\n            }\n        }\n    \n        /**\n         * Unpause autoplay.\n         *\n         * @access {public}\n         */\n        _Slider.prototype.unpause = function()\n        {\n            // re-start play if paused\n            if (this._playing === 'paused') this.play();\n        }\n    \n        /**\n         * Build the slider.\n         *\n         * @access {private}\n         */\n        _Slider.prototype._build = function()\n        {\n            // Find slides\n            this._slides = !this.options.groupSlides ? find_all('> *', this.DOMElementWrapper) : map([...Array(Math.ceil(find_all('> *', this.DOMElementWrapper).length / this.options.groupSlides)).keys()], (i) =>\n            {\n                // Since we're appending children as we go we're always taking the first n children\n                return dom_element({tag: 'div', class: 'slide-group'}, null, find_all('> *', this.DOMElementWrapper).slice(0, this.options.groupSlides));\n            });\n    \n            // Slides count\n            this._slidesCount = this._slides.length;\n    \n            // Slide indexes\n            this._slidesIndexs = this._slides.length -1;\n    \n            // Starting index\n            this._index = this.options.initialIndex;\n    \n            // Middle index\n            this._middleIndex = Math.floor(this._slidesCount / 2);\n    \n            // Visible slides\n            this._visibleSlides = 1;\n    \n            // Buffer size\n            this._bufferSize = 0;\n    \n            // Create viewport\n            this._DOMElementViewport = dom_element({tag: 'div', class: 'slider-viewport js-slider-viewport'}, this.DOMElementWrapper, this._slides);\n    \n            // Controls\n            if (this.options.controls) this._buildControls();\n    \n            // Dots\n            this._dots = [];\n            if (this.options.dots) this._buildDots();\n    \n            // Pause on hover\n            if (this.options.autoPlay && this.options.pauseOnHover)\n            {\n                on(this.DOMElementWrapper, 'mouseover', this.pause, this);\n    \n                on(this.DOMElementWrapper, 'mouseout', this.unpause, this);\n            }\n    \n            // Window resize\n            if (this.options.resize)\n            {\n                on(window, 'resize', this._resizeThrottle, this);\n            }\n    \n            if (this.options.draggable && this._slidesCount > 1)\n            {\n                add_class(this.DOMElementWrapper, 'draggable');\n    \n                this._bindGestures();\n            }\n    \n            add_class(this.DOMElementWrapper, 'js-slider');\n        }\n    \n        /**\n         * Start dragging slide.\n         *\n         * @access {public}\n         * @param  {integer} slideNum Slide number\n         */\n        _Slider.prototype._dragSlide = function(moved)\n        {\n            let x = this._dragX;\n    \n            if (this.options.wrap)\n            {\n                let nearEnd = (x < 0 && x <= this._dragBoundryR) || (x > 0 && x >= this._dragBoundryL);\n    \n                if (nearEnd)\n                {\n                    this._dragCloneSlides();\n    \n                    return;\n                }\n            }\n    \n            css(this._DOMElementViewport, 'transform', `translateX(${x}px)`);\n        }\n    \n        /**\n         * Go to slide.\n         *\n         * @access {public}\n         * @param  {integer} slideNum Slide number\n         */\n        _Slider.prototype._dragCloneSlides = function()\n        {   \n            // No need to clone on non wrapping sliders     \n            if (!this.options.wrap) return;\n    \n            let distance = this._slideWidthWGap * this._bufferSize;\n    \n            // Push out the drag boundaries\n            // Drag bondry L remains the same as it is a fixed position from start\n            this._dragBoundryR = -((this._slideWidthWGap * (this._bufferSize + this._slidesCount -1)) + (this._slideWidth /2));\n    \n            // Adjust the dragging buffer\n            this._draggingbuffer = !this._draggingbuffer ? distance : this._draggingbuffer + distance;\n    \n            // Resting distance\n            distance = this._dragX - distance;\n    \n            // Pad sides and clone\n            this._bufferDragClones();\n    \n            // Adjust drag position\n            css(this._DOMElementViewport, 'transform', `translateX(${distance}px)`);\n        }\n    \n        /**\n         * Fake shuffle cloned slides to start or end\n         *\n         * @access {private}\n         */\n        _Slider.prototype._bufferDragClones = function()\n        {    \n            if (!this.options.wrap) return;\n    \n            let viewport = this._DOMElementViewport;\n    \n            let clones = [];\n    \n            _for(this._bufferSize, (i) =>\n            {\n                let cloneR = find(`> *:nth-child(${this._dragRIndex})`, this._DOMElementViewport).cloneNode(true);\n                let cloneL = find(`> *:nth-last-child(${this._dragLIndex})`, this._DOMElementViewport).cloneNode(true);\n                add_class([cloneR, cloneL], 'slide-clone');\n    \n                this._dragClones.push(cloneR);\n                this._dragClones.push(cloneL);\n    \n                preapend(cloneL, viewport);\n    \n                viewport.appendChild(cloneR);\n    \n                this._dragRIndex += 2;\n    \n                this._dragLIndex += 2;\n            });\n        }\n    \n        /**\n         * Clear drag clones.\n         *\n         * @access {private}\n         */\n        _Slider.prototype._clearDragClones = function()\n        {\n            each(this._dragClones, (i, clone) =>\n            {\n                this._DOMElementViewport.removeChild(clone);\n            });\n        }\n    \n        _Slider.prototype._restingDragPos = function()\n        {\n            let ret = { rest: 0, slideIndex: 1 };\n    \n            // There would be a smarter way to figure all this out, however have not been able to figure out an easy solution\n            let wrapping = this.options.wrap;\n    \n            // What distance have we actually moved in total?\n            let moved = !wrapping ? Math.abs(this._dragX) - Math.abs(this._offset) : (this._slideWidthWGap * this._middleIndex) + (this._slideWidth / 2)\n    \n            if (wrapping) moved = this._dragX < 0 ? moved + Math.abs(this._dragX) : moved - this._dragX;\n    \n            // Always first slide\n            if (!wrapping && (this._dragX > 0 || moved < 0)) return ret;\n    \n            // Get the DOM index of the slide that should be resting\n            let index = !wrapping ? Math.ceil(moved / this._slideWidthWGap) : Math.ceil(moved / this._slideWidthWGap) -1;\n    \n            // Dragged over the edge on non-wrapping sliders\n            if (!wrapping && index > this._slidesIndexs) index = this._slidesIndexs;\n    \n            // Get X pos of where target slide starts\n            let slideStarts = (index * this._slideWidthWGap) - (this._viewportWidth / 2) + (this._slideWidth / 2);\n    \n            // Figure out the resting point\n            let rest = this._offset - slideStarts;\n    \n            let slideIndex = parseInt(attr(find(`>:nth-child(${index +1})`, this._DOMElementViewport), 'data-index')) +1;\n    \n            this._dragMoved = (slideIndex -1) !== this._index;\n    \n            if (!wrapping) this._translated = Math.abs(rest);\n    \n            return { rest, slideIndex };\n        }\n    \n        /**\n         * Find closest slide on end\n         *\n         * @access {private}\n         */\n        _Slider.prototype._onDragEnd = function()\n        {\n            let { rest, slideIndex } = this._restingDragPos();\n    \n            this._dragEndAnim = animate(this._DOMElementViewport, { property: 'transform', from: `translateX(${this._dragX}px)`, to: `translateX(${rest}px)`, duration: 650, easing: this.options.easing, complete: () => \n            {\n                if (this._dragClones.length >= 1) this._clearDragClones();\n    \n                if (this._dragMoved && this.options.wrap) this.toSlide(slideIndex, false, false);\n    \n                if (!this._dragMoved && this.options.wrap) css(this._DOMElementViewport, 'transform', `translateX(0px)`);\n    \n                this._index = slideIndex -1;\n    \n                this._translated = Math.abs(rest);\n    \n                this._updateDots();\n    \n                this.unpause();\n    \n                this._resetDragVars();\n            }} );\n        }\n    \n        /**\n         * Build controls.\n         *\n         * @access {private}\n         */\n        _Slider.prototype._resetDragVars = function()\n        {\n            this._dragClones      = [];\n            this._dragRIndex      = 1;\n            this._dragLIndex      = 1;\n            this._dragging        = false;\n            this._dragMoved       = false;\n            this._dragStartPointX = { x: 0, y: 0};\n            this._dragBoundryL    = this._offset - this._slideWidthWGap;\n            this._dragBoundryR    = -(this._dragBoundryL);\n            \n            delete this._dragX;\n    \n            delete this._prevDrag;\n    \n            delete this._dragEndAnim;\n    \n            delete this._draggingbuffer;\n        }\n    \n        /**\n         * Build controls.\n         *\n         * @access {private}\n         */\n        _Slider.prototype._bindGestures = function()\n        {\n            let wrapper = this.DOMElementWrapper;\n    \n            const gestures = frontbx.TinyGesture(this.DOMElementWrapper, { mouseSupport: this.options.mouseSupport, velocityThreshold: this.options.velocityThreshold, threshold: this.options.threshold });\n    \n            this._resetDragVars();\n    \n            gestures.on('panstart', (event) =>\n            {\n                // No drag on transitioning\n                if (this._animating) return;\n    \n                // Clear timeout\n                this.pause();\n    \n                // Register start point\n                this._dragStartPointX = event.pageX;\n    \n                // We have a previous unfinished drag\n                if (this._dragEndAnim)\n                {\n                    this._dragEndAnim.stop();\n    \n                    this._prevDrag = parseFloat(inline_style(this._DOMElementViewport, 'transform').replaceAll(/[^0-9-.]/g, ''));\n    \n                    delete this._dragEndAnim;\n                }\n    \n                // Add helper class for optional UI\n                add_class(wrapper, 'dragging');\n            });\n    \n            gestures.on('panmove', (event) =>\n            {\n                // No drag on transitioning\n                if (this._animating) return;\n    \n                // Base movement\n                let moveVectorX = (event.pageX - this._dragStartPointX);\n    \n                // No drag\n                if ( Math.abs(moveVectorX) < 3 ) return;\n    \n                this._dragging = true;\n    \n                // Much slower on non-wrapping sliders when at end or start and going in opposite direction\n                if (!this.options.wrap && ( (this._index === 0 && moveVectorX > 0) || (this._index === this._slidesIndexs && moveVectorX < 0) ))\n                {\n                    moveVectorX = moveVectorX * (this.options.friction / 3);\n                }\n                else\n                {\n                    // Slow down further we drag\n                    moveVectorX = moveVectorX * this.options.friction;\n                }\n    \n                // Previous drag\n                if (this._prevDrag)\n                {\n                    moveVectorX = this._prevDrag + moveVectorX\n                }\n    \n                // Non wrap + translated\n                else if (!this.options.wrap)\n                {\n                    moveVectorX = moveVectorX - this._translated;\n                }\n    \n                // Calculate travel distance\n                this._dragX = !this._draggingbuffer ? moveVectorX : moveVectorX - this._draggingbuffer;\n    \n                // Drag the slide\n                this._dragSlide();\n            });\n    \n            gestures.on('panend', (event) =>\n            {\n                remove_class(wrapper, 'dragging');\n    \n                if (!this._dragX) return this.unpause();\n    \n                this._onDragEnd();\n            });\n    \n            gestures.on('swiperight', (event) =>\n            {\n                // Don't swipe on animating\n                if (this._animating) return;\n    \n                // Don't swipe on drags\n                if (this._dragEndAnim && this._dragMoved) return;\n    \n                // Can't go back\n                if (!this.options.wrap && this._index === 0) return;\n    \n                // Stop dragend if running\n                if (this._dragEndAnim) this._dragEndAnim.stop();\n    \n                this._resetDragVars();\n    \n                this.previous();\n            });\n            gestures.on('swipeleft', (event) =>\n            {\n                // Don't swipe on animating\n                if (this._animating) return;\n    \n                // Don't swipe on drags\n                if (this._dragEndAnim && this._dragMoved) return;\n                \n                // Can't go forward\n                if (!this.options.wrap && this._index === this._slidesIndexs) return;\n    \n                // Stop dragend if running\n                if (this._dragEndAnim) this._dragEndAnim.stop();\n    \n                this._resetDragVars();\n    \n                this.next();\n            });\n    \n            this._gestures = gestures;\n        }\n    \n        /**\n         * Build controls.\n         *\n         * @access {private}\n         */\n        _Slider.prototype._buildControls = function()\n        {\n            // Right button\n            this._righBtn = dom_element({tag: 'button', type: 'button', class: 'slider-control control-right btn btn-pure'}, this.DOMElementWrapper, \n                dom_element({tag: 'span',class: 'fa fa-caret-right'})\n            );\n    \n            // Left button\n            this._leftBtn = dom_element({tag: 'button', type: 'button', class: 'slider-control control-left btn btn-pure'}, this.DOMElementWrapper, \n                dom_element({tag: 'span',class: 'fa fa-caret-left'})\n            );\n    \n            // Handlers\n            on(this._righBtn, 'click', this.next, this);\n            on(this._leftBtn, 'click', this.previous, this);\n        }\n    \n        /**\n         * Build dots.\n         *\n         * @access {private}\n         */\n        _Slider.prototype._buildDots = function()\n        {\n            let index = this._index;\n    \n            this._dotWrap = dom_element({tag: 'div', class: 'slider-dots js-slider-dots'}, this.DOMElementWrapper, map(this._slides, (i, slide) =>\n            {\n                let active = i === index ? 'active' : '';\n    \n                let dot = dom_element({tag: 'button', type: 'button', dataIndex: i, class: `slider-dot js-slider-dot btn btn-circle ${active}`});\n    \n                on(dot, 'click', this._dotClick, this);\n    \n                this._dots.push(dot);\n    \n                return dot;\n            }));\n        }\n    \n         /**\n         * Moves indexed slide to middle.\n         *\n         * @access {private}\n         */\n        _Slider.prototype._moveIndexToMiddle = function()\n        {\n            each(this._slides, (i) =>\n            {\n                attr(this._slides[i], 'data-index', i);\n            \n            }, this);\n    \n            if (!this.options.wrap) return;\n    \n            let slide = this._slides[this._index];\n    \n            _for(this._slidesCount, (i) =>\n            {\n                if (sibling_index(slide) === this._middleIndex) return false;\n    \n                preapend(find('> *:last-child', this._DOMElementViewport), this._DOMElementViewport);\n            \n            }, this);  \n        }\n    \n        /**\n         * On dot click.\n         *\n         * @access {private}\n         */\n        _Slider.prototype._dotClick = function(e, dot)\n        {\n            if (this._animating || this._dragging) return;\n    \n            let index = parseInt(attr(dot, 'data-index')) +1;\n    \n            this.toSlide(index, true, true);\n        }\n    \n        /**\n         * Update index from previous / next.\n         *\n         * @access {private}\n         * @param  {Integer} direction -1|1\n         */\n        _Slider.prototype._updateIndex = function(direction)\n        {\n            if (direction === 1)\n            {\n                this._index = this._index === this._slidesIndexs ? 0 : this._index + 1;\n            }\n            else\n            {\n                this._index = this._index === 0 ? this._slidesIndexs : this._index - 1;\n            }\n        }\n    \n        /**\n         * Returns the move delta\n         *\n         * @access {private}\n         * @param  {Integer} direction -1|1\n         */\n        _Slider.prototype._moveDelta = function(index)\n        {\n            // Default delta and direction\n            let delta       = index < this._index ? this._index - index : index - this._index;\n            let direction   = index < this._index ? -1 : 1;\n            \n            // We only go shortest path if we're wrapping and there's more than 5 slides\n            if (this.options.wrap && this._slidesCount > 4)\n            {\n                if (index > this._index)\n                {\n                    let backN = (this._slidesCount - index) + this._index;\n    \n                    if (backN < delta)\n                    {\n                        delta = backN;\n                        direction = -1;\n                    }\n                }\n                else if (index < this._index)\n                {\n                    let forwdN = (this._slidesCount - this._index) + index;\n    \n                    if (forwdN < delta)\n                    {\n                        delta = forwdN;\n                        direction = 1;\n                    }\n                }\n            }\n    \n            return { delta, direction };\n        }\n    \n        /**\n         * Create buffers cloned nodes.\n         *\n         * @access {private}\n         * @param  {Integer} direction -1|1\n         */\n        _Slider.prototype._bufferNodes = function(direction)\n        {\n            let viewport = this._DOMElementViewport;\n    \n            return map([...Array(this._bufferSize).keys()], (i) =>\n            {\n                let clone = find(`> *:nth${direction === -1 ? '-' : '-last-'}child(${i+1})`, viewport).cloneNode(true);\n    \n                direction === -1 ? viewport.appendChild(clone) : preapend(clone, viewport);\n    \n                return clone;\n            });\n        }\n    \n        /**\n         * pause if page visibility is hidden, unpause if visible\n         *\n         * @access {private}\n         */\n        _Slider.prototype._onVisibilityChange = function()\n        {\n            let isPageHidden = document.hidden;\n            \n            this[ isPageHidden ? 'pause' : 'unpause' ]();\n        }\n    \n        /**\n         * Start playing on page return.\n         *\n         * @access {private}\n         */\n        _Slider.prototype._onVisibilityPlay = function()\n        {\n            this.play();\n            \n            off(document, 'visibilitychange', this._onVisibilityPlay, this);\n        }\n    \n        /**\n         * Timeout ticker.\n         *\n         * @access {private}\n         */\n        _Slider.prototype._tick = function()\n        {\n            // do not tick if not playing\n            if ( this._playing !== 'playing' ) return;\n    \n            // default to 3 seconds\n            let time = typeof this.options.autoPlay == 'number' ? this.options.autoPlay : 3000;\n    \n            // HACK: reset ticks if stopped and started within interval\n            clearTimeout(this._playTimer);\n    \n            this._playTimer = setTimeout( () =>\n            {\n                this.next();\n                \n                this._tick();\n    \n            }, time );\n        }\n    \n        /**\n         * Shuffle slides after moved.\n         *\n         * @access {private}\n         * @param  {Integer} direction -1|1\n         */\n        _Slider.prototype._moved = function(direction)\n        {    \n            if (!this.options.wrap) return;\n    \n            if (direction === 1)\n            {\n                this._DOMElementViewport.appendChild(find('> *:first-child', this._DOMElementViewport));\n            }\n            else\n            {\n               preapend(find('> *:last-child', this._DOMElementViewport), this._DOMElementViewport);\n            }\n        }\n    \n        /**\n         * Update active dot after move.\n         *\n         * @access {private}\n         */\n        _Slider.prototype._updateDots = function()\n        {\n            if (!this.options.dots) return;\n    \n            remove_class(find('.js-slider-dots .js-slider-dot.active', this.DOMElementWrapper), 'active');\n    \n            add_class(this._dots[this._index], 'active');\n        }\n    \n        // Load into container\n        frontbx.set('_Slider', _Slider);\n    \n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {Class}\n         */\n        const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [attr, each, map, extend, dom_element, json_decode] = frontbx.import(['attr', 'each', 'map', 'extend', 'dom_element', 'json_decode']).from('_');\n    \n        /**\n         * Slider instances.\n         * \n         * @var {Array}\n         */\n        const SLIDERS = [];\n    \n        /**\n         * Dom Slider component.\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Slider = function()\n        {\n            this.super('.js-slider');\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Slider.prototype.bind = function(node)\n        {\n            let options = attr(node, 'data-slider-options');\n    \n            options = !options ? {} : json_decode(options);\n    \n            SLIDERS.push(frontbx._Slider(node, options));\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Slider.prototype.unbind  = function(node)\n        {\n            each(SLIDERS, (i, slider) =>\n            {\n                if (slider.DOMElementWrapper === node)\n                {\n                    slider.destroy();\n    \n                    SLIDERS.splice(i, 1);\n    \n                    return false;\n                }\n            });\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Slider.prototype.render = function(props)\n        {\n            return dom_element({tag: 'div', class: 'slider js-slider'}, null, props.slides);\n        }\n    \n        // Load into frontbx DOM core\n        frontbx.dom().register('Slider', extend(Component, Slider));\n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n    \n        /**\n         * Helper functions\n         * \n         * @var {function}\n         */\n        const [find, add_class, on, closest, in_dom, input_value, remove_class, off, extend] = frontbx.import(['find','add_class','on','closest','in_dom','input_value','remove_class','off','extend']).from('_');\n    \n        /**\n         * Adds classes to inputs\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Inputs = function()\n        {\n            this.super('.form-field input:not([type=\"radio\"]):not([type=\"checkbox\"]):not([type=\"range\"]), .form-field select, .form-field textarea, .form-field label');\n    \n            return this;\n        }\n    \n        /**\n         * Event binder\n         *\n         * @access {private}\n         */\n        Inputs.prototype.bind = function(node)\n        {\n            if (node.tagName.toLowerCase() === 'label')\n            {\n                on(node, 'click', this._onLabelClick);\n            }\n            else\n            {\n                on(node, 'click, focus, blur, change, input', this._eventHandler);\n    \n                this._setClasses(node);\n            }\n        }\n    \n        /**\n         * Event ubinder\n         *\n         * @access {private}\n         */\n        Inputs.prototype.unbind = function(node)\n        {\n            if (node.tagName.toLowerCase() === 'label')\n            {\n                off(node, 'click', this._onLabelClick);\n            }\n            else\n            {\n                off(node, 'click, focus, blur, change, input', this._eventHandler);\n            }\n        }\n    \n        /**\n         * Event handler\n         *\n         * @access {private}\n         * @params {event|null} e Browser click event\n         */\n        Inputs.prototype._onLabelClick = function(e)\n        {\n            e = e || window.event;\n    \n            var input = find('input', this.parentNode);\n    \n            if (in_dom(input))\n            {\n                input.focus();\n    \n                return;\n            }\n    \n            var input = find('select', this.parentNode);\n    \n            if (in_dom(input))\n            {\n                input.focus();\n    \n                return;\n            }\n    \n            var input = find('textarea', this.parentNode);\n    \n            if (in_dom(input))\n            {\n                input.focus();\n    \n                return;\n            }\n        }\n    \n        /**\n         * Event handler\n         *\n         * @access {private}\n         * @params {event|null} e Browser click event\n         */\n        Inputs.prototype._eventHandler = function(e)\n        {\n            e = e || window.event;\n    \n            var wrapper = closest(this, '.form-field');\n    \n            if (!wrapper) return;\n    \n            if (e.type === 'click')\n            {\n                this.focus();\n            }\n            else if (e.type === 'focus')\n            {\n                add_class(wrapper, 'focus');\n            }\n            else if (e.type === 'blur')\n            {\n                remove_class(wrapper, 'focus');\n            }\n    \n            if (e.type === 'change' || e.type === 'input' || e.type === 'blur')\n            {\n                var _value = input_value(this);\n    \n                if (_value === '')\n                {\n                    remove_class(wrapper, 'not-empty');\n                    add_class(wrapper, 'empty');\n                }\n                else\n                {\n                    remove_class(wrapper, 'empty');\n                    add_class(wrapper, 'not-empty');\n                }\n            }\n        }\n    \n        /**\n         * Sets initial classes on load.\n         *\n         * @access {private}\n         * @params {DOMElement} input \n         */\n        Inputs.prototype._setClasses = function(input)\n        {\n            var wrapper = closest(input, '.form-field');\n    \n            if (!wrapper) return;\n    \n            var _value = input_value(input);\n    \n            if (_value === '')\n            {\n                remove_class(wrapper, 'not-empty');\n                add_class(wrapper, 'empty');\n            }\n            else\n            {\n                remove_class(wrapper, 'empty');\n                add_class(wrapper, 'not-empty');\n            }\n        }\n    \n        // Load into frontbx DOM core\n        frontbx.dom().register('Inputs', extend(Component, Inputs));\n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n    \n        /**\n         * Helper functions\n         * \n         * @var {function}\n         */\n        const [find, first_children, on, off, add_class, remove_class, has_class, each, map, _for, css, attr, is_empty, input_value, dom_element, extend] = frontbx.import(['find', 'first_children', 'on', 'off', 'add_class', 'remove_class', 'has_class', 'each', 'map', 'for', 'css', 'attr','is_empty', 'input_value','dom_element', 'extend']).from('_');\n    \n        /**\n         * Default values\n         * \n         * @var {Object}\n         */\n        const DEFAULT_OPTIONS =\n        {\n            min: 0,\n            max: 100,\n            value: 50,\n            step: 1,\n            labeled: false,\n            indicators: false,\n        };\n    \n        /**\n         * Range input utility\n         * \n         * @var {Function}\n         */\n        const Range = function(wrapper)\n        {\n            this.wrapperEl = wrapper;\n    \n            this.inputEl = find('input[type=range]', wrapper);\n    \n            let min     = attr(this.inputEl, 'min');\n            let max     = attr(this.inputEl, 'max');\n            let step    = attr(this.inputEl, 'step');\n            let value   = input_value(this.inputEl);\n            let suffix  = attr(this.inputEl, 'data-suffix');\n            let prefix  = attr(this.inputEl, 'data-prefix');\n            let labeled = has_class(this.wrapperEl, 'range-labeled');\n            let indicators = has_class(this.wrapperEl, 'range-indicators');\n    \n            min   = is_empty(min)   ? DEFAULT_OPTIONS.min : (min.includes('.') ? parseFloat(min) : parseInt(min));\n            max   = is_empty(max)   ? DEFAULT_OPTIONS.max : (max.includes('.') ? parseFloat(max) : parseInt(max));\n            step  = is_empty(step)  ? DEFAULT_OPTIONS.step : (step.includes('.') ? parseFloat(step) : parseInt(step));\n            value = is_empty(value) ? DEFAULT_OPTIONS.value : value;\n    \n            this.props = {min, max, step, value, suffix, prefix, labeled, indicators};\n    \n            this._build();\n    \n            this._bind();\n        }\n    \n        /**\n         * Destroy slider.\n         * \n         * @access {public}\n         */\n        Range.prototype.destroy = function()\n        {\n            this._unbind();\n    \n            _for(first_children(this.wrapperEl), (i, elem) => elem !== this.inputEl ? this.wrapperEl.removeChild(elem) : null);\n        }\n    \n        /**\n         * Update the slider.\n         * \n         * @access {public}\n         */\n        Range.prototype.update = function(e)\n        {\n            let value = input_value(this.inputEl); value = is_empty(value) ? 0 : value;\n    \n            if (value === this.props.min)\n            {\n                remove_class(this.wrapperEl, 'range-max');\n                add_class(this.wrapperEl, 'range-min');\n            }\n            else if (value === this.props.max)\n            {\n                remove_class(this.wrapperEl, 'range-min');\n                add_class(this.wrapperEl, 'range-max');\n            }\n            else \n            {\n                remove_class(this.wrapperEl, 'range-min, range-max');\n            }\n    \n            this.props.value = value;\n    \n            this.updateBackground();\n    \n            _for(this.props.max.toString().length, (i) => this.updateIndicators(i));\n        }\n    \n        /**\n         * Bind listener.\n         * \n         * @access {private}\n         */\n        Range.prototype._bind = function()\n        {\n            on(this.inputEl, 'input', this.update, this);\n        }\n    \n        /**\n         * Unbind listener.\n         * \n         * @access {private}\n         */\n        Range.prototype._unbind = function()\n        {\n            off(this.inputEl, 'input', this.update, this);\n        }\n    \n        /**\n         * Build slider.\n         * \n         * @access {private}\n         */\n        Range.prototype._build = function()\n        {\n            let length     = this.props.max.toString().length;\n            let digitWraps = [];\n            this.digitEls  = [];\n    \n            _for(length, () => \n            {\n                let ul = dom_element({tag: 'ul'}, null, map(Array(10).fill(0), (i) => dom_element({tag: 'li', innerHTML: `${i}`})));\n    \n                this.digitEls.push(ul);\n    \n                digitWraps.push(dom_element({tag: 'div', class: 'slider-value-number'}, null, ul));\n            });\n    \n            if (this.props.prefix)\n            {\n                digitWraps.unshift(dom_element({tag: 'div', class: 'slider-value-number'}, null, dom_element({tag: 'ul'}, null, dom_element({tag: 'li', innerHTML: this.props.prefix}))));\n            }\n    \n            if (this.props.suffix)\n            {\n                digitWraps.push(dom_element({tag: 'div', class: 'slider-value-number'}, null, dom_element({tag: 'ul'}, null, dom_element({tag: 'li', innerHTML: this.props.suffix}))));\n            }\n    \n            // Label style\n            if (this.props.indicators)\n            {\n                let prefix = this.props.prefix || '';\n                let suffix = this.props.suffix || '';\n    \n                let label = dom_element({tag: 'div', class: this.props.labeled ? 'slider-value label' : 'slider-value'}, null, `${prefix}${this.props.min}${suffix}`);\n    \n                let fChild = this.wrapperEl.firstChild;\n    \n                if (fChild === this.inputEl)\n                {\n                    this.wrapperEl.insertBefore(label, fChild);\n                }\n                else\n                {\n                    this.wrapperEl.insertBefore(label, fChild.nextSibling);\n                }\n            }\n    \n            this.digitWrapper = dom_element({tag: 'div', class: `slider-value ${this.props.labeled ? 'label' : ''}`}, this.wrapperEl, digitWraps);\n    \n            this.update();\n        }\n    \n        /**\n         * Update the digit indicators.\n         * \n         * @access {private}\n         * @param  {Integer} index\n         */\n        Range.prototype.updateIndicators = function(index)\n        {\n            let elem     = this.digitEls[index];\n            let value    = this.props.value.toString();\n            let { max }  = this.props;\n            let length   = max.toString().length;\n            let visible  = index + 1 > length - value.length;\n            let position = visible ? \"-\" + (value[index - (length - value.length)] * 10) + '%' : '10%';\n    \n            !visible ? add_class(elem.parentNode, 'digit-hidden') : remove_class(elem.parentNode, 'digit-hidden');\n    \n            //!visible ? css(elem.parentNode, 'display', 'none') : css(elem.parentNode, 'display', false);\n    \n            css(elem,\n            {\n                transform: `translateY(${position})`,\n                opacity: visible ? '1' : '0'\n            });\n        }\n    \n        /**\n         * Update the background of input.\n         * \n         * @access {private}\n         */\n        Range.prototype.updateBackground = function()\n        {\n            css(this.inputEl, 'background-size', `${this.percent()}% 100%`);\n        }\n    \n        /**\n         * Returns background percentage width.\n         * \n         * @access {private}\n         * @return {Float}\n         */\n        Range.prototype.percent = function()\n        {\n            let { min, max } = this.props;\n            \n            return (this.props.value - min) * 100 / (max - min)\n        }\n    \n        /**\n         * Ranges.\n         * \n         * @var {Map}\n         */\n        const RANGES = new Map;\n    \n        /**\n         * RangeSlider Dom Component.\n         *\n         */\n        const RangeSlider = function()\n        {\n            this.super('.js-range-slider');\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        RangeSlider.prototype.bind = function(wrapper)\n        {        \n            RANGES.set(new Range(wrapper));\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        RangeSlider.prototype.unbind = function(wrapper)\n        {\n            let range = RANGES.get(wrapper);\n    \n            if (range)\n            {\n                range.destroy();\n    \n                RANGES.delete(wrapper);\n            }\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        RangeSlider.prototype.render = function(props)\n        {\n            let inputProps = { min: props.min, max: props.max, value: props.value, step: props.step };\n    \n            if (props.prefix) inputProps.dataPrefix = props.prefix;\n            if (props.suffix) inputProps.dataSuffix = props.suffix;\n    \n            return dom_element({tag: 'div', class: `range-slider ${props.labeled ? 'range-labeled' : ''} ${props.indicators ? 'range-indicators' : ''} js-range-slider`}, null,\n                dom_element({ ...{ tag: 'input', type: 'range'}, ...inputProps})\n            );\n        }\n    \n        // Load into frontbx DOM core\n        frontbx.dom().register('RangeSlider', extend(Component, RangeSlider));\n    })();\n    (function()\n    {\n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [height, width, coordinates, dom_element, in_dom] = frontbx.import(['height','width','coordinates','dom_element','in_dom']).from('_');\n    \n        /**\n         * Default options.\n         * \n         * @var {Object}\n         */\n        const DEFAULT_OPTIONS =\n        {\n            direction: 'top',\n            animation: 'pop',\n            variant: 'default',\n            state: 'open',\n            classes: '',\n        };\n    \n        /**\n         * Popover Handler\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const PopHandler = function(options)\n        {\n            this.options    = {...DEFAULT_OPTIONS, ...options};\n            this.popElement = this._buildPopEl();\n            this.state      = this.options.state;\n        }\n    \n        /**\n         * Build the popover\n         *\n         * @access {private}\n         */\n        PopHandler.prototype.render = function()\n        {\n            document.body.appendChild(this.popElement);\n    \n            this.position();\n    \n            if (this.state === 'open') this.popElement.classList.add(`popover-${this.options.animation}`);\n    \n            return this.popElement;\n        }\n    \n        /**\n         * Destroy the popover.\n         *\n         * @access {public}\n         */\n        PopHandler.prototype.destroy = function()\n        {\n            if (in_dom(this.popElement)) this.popElement.parentNode.removeChild(this.popElement);\n        }\n    \n        /**\n         * Destroy the popover.\n         *\n         * @access {public}\n         */\n        PopHandler.prototype.hide = function()\n        {\n            this.popElement.classList.remove(`popover-${this.options.animation}`);\n    \n            this.popElement.classList.add(`sr-only`);\n    \n            this.state = 'closed';\n        }\n    \n        /**\n         * Destroy the popover.\n         *\n         * @access {public}\n         */\n        PopHandler.prototype.show = function()\n        {\n            this.popElement.classList.remove(`sr-only`);\n            \n            this.popElement.classList.add(`popover-${this.options.animation}`);\n    \n            this.state = 'open';\n        }\n    \n        /**\n         * Build the popover\n         *\n         * @access {private}\n         */\n        PopHandler.prototype._buildPopEl = function()\n        {\n            return dom_element({tag: 'div', class: `popover popover-${this.options.variant} popover-${this.options.direction} ${this.options.classes}`}, null, this.options.content);\n        }\n    \n        /**\n         * Position the popover\n         *\n         * @access {public}\n         */\n        PopHandler.prototype.position = function()\n        {\n            var tarcoordinates = coordinates(this.options.trigger);\n    \n            if (this.options.direction.includes('top'))\n            {\n                this.popElement.style.top = `${ (tarcoordinates.top - height(this.popElement)) - 10}px`;\n    \n                if (this.options.direction === 'top') this.popElement.style.left = `${tarcoordinates.left - (width(this.popElement) / 2) + (width(this.options.trigger) / 2)}px`;\n            }\n            else if (this.options.direction.includes('bottom'))\n            {\n                this.popElement.style.top = `${(tarcoordinates.top + height(this.options.trigger) + 10)}px`;\n    \n                if (this.options.direction === 'bottom') this.popElement.style.left = `${tarcoordinates.left - (width(this.popElement) / 2) + (width(this.options.trigger) / 2)}px`;\n            }\n            if (this.options.direction.includes('left'))\n            {\n                this.popElement.style.left = this.options.direction === 'left' ? `${tarcoordinates.left - width(this.popElement) - 10}px` : `${tarcoordinates.left}px`;\n    \n                if (this.options.direction === 'left') this.popElement.style.top = `${(tarcoordinates.top - (height(this.popElement) / 2 ))}px`;\n            }\n            else if (this.options.direction.includes('right'))\n            {\n                this.popElement.style.left =  this.options.direction === 'right' ? `${tarcoordinates.left + width(this.options.trigger) + 10 }px` : `${tarcoordinates.left + width(this.options.trigger) - width(this.popElement)}px`;\n    \n                if (this.options.direction === 'right') this.popElement.style.top = `${(tarcoordinates.top - (height(this.popElement) / 2 ))}px`;\n            }\n        }\n    \n        // Set into container for private use\n        frontbx.set('PopHandler', PopHandler);\n    \n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n    \n        /**\n         * JS Helper reference\n         * \n         * @var {object}\n         */\n        const [attr, is_undefined, is_htmlElement, to_camel_case, dom_element, find, find_all, add_class, on, closest, has_class, is_empty, remove_class, off, each, map, extend] = frontbx.import(['attr','is_undefined','is_htmlElement','to_camel_case','dom_element','find','find_all','add_class','on','closest','has_class','is_empty','remove_class','off','each','map','extend']).from('_');\n    \n        /**\n         * Timer for mouse in-out.\n         * \n         * @var {Timeout}\n         */\n        var HOVER_TIMER;\n    \n        /**\n         * Handlers.\n         * \n         * @var {Map}\n         */\n        var POP_HANDLERS = new Map;\n    \n        /**\n         * Available attributes.\n         * \n         * @var {Array}\n         */\n        const DATA_ATTRIBUTES = ['variant','direction','title','content','event','animation','state','trigger'];\n    \n        /**\n         * Popover\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Popovers = function()\n        {\n            this.super('.js-popover');\n    \n            this._windowClick = false;\n        }\n    \n        /**\n         * Initialize the handlers on a trigger\n         *\n         * @access {private}\n         * @param  {DOMElement} trigger Click/hover trigger\n         */\n        Popovers.prototype.bind = function(trigger)\n        {\n            if (!this._windowClick)\n            {\n                on(window, 'click', this._windowClickHandler, this);\n    \n                this._windowClick = true;\n            }\n    \n            let options = { trigger };\n    \n            each(DATA_ATTRIBUTES, (i, attribute) =>\n            {\n                let value = attr(trigger, `data-popover-${attribute}`);\n    \n                if (!is_undefined(value))\n                {\n                    if (value === 'true' || value === 'false') value = value === 'true' ? true : false;\n    \n                    if (attribute === 'content' && value[0] === '#')\n                    {\n                        value = find(value);\n                    }\n    \n                    options[to_camel_case(attribute)] = value;\n                }\n            });\n    \n            let popHandler = frontbx.get('PopHandler', this._build(options));\n    \n            if (options.event === 'click')\n            {\n                on(trigger, 'click', this._clickHandler, this);\n                on(window, 'resize', this._windowResize, this);\n            }\n            else\n            {                \n                on(trigger, 'mouseenter', this._hoverEnter, this);\n            }\n    \n            POP_HANDLERS.set(trigger, popHandler);\n        }\n    \n        /**\n         * Builds the popover if necessary.\n         *\n         * @access {private}\n         * @param  {Object} options\n         * @return {Object}\n         */\n        Popovers.prototype._build = function(options)\n        {\n            if (typeof options.content === 'string')\n            {\n                let contents = [];\n    \n                if (options.event && options.event === 'click')\n                {\n                    contents.push(dom_element({tag: 'button', type: 'button', role: 'button', ariaLabel: 'close', class: 'btn btn-sm btn-pure btn-circle js-remove-pop close-btn'}, null, \n                        dom_element({tag: 'span', class: 'fa fa-xmark'})\n                    ));\n                }\n    \n                if (options.title)\n                {\n                    contents.push(dom_element({tag: 'h5', class: 'popover-title'}, null, options.title));\n                }\n    \n                contents.push(dom_element({tag: 'div', class: 'popover-content'}, null, dom_element({tag: 'p'}, null, options.content)));\n    \n                options.content = contents;\n            }\n            else if (is_htmlElement(options.content))\n            {\n                remove_class(options.content, 'hidden');\n    \n                options.content.style = '';\n            }\n    \n            return options;\n        }\n    \n        /**\n         * Unbind event listeners on a trigger\n         *\n         * @param {trigger} node\n         * @access {private}\n         */\n        Popovers.prototype.unbind = function(trigger)\n        {\n            if (this._windowClick)\n            {\n                off(window, 'click', this._windowClickHandler, this);\n    \n                this._windowClick = false;\n            }\n    \n            let content = attr(trigger, 'data-content');\n    \n            if (content[0] === '#')\n            {\n                elem = find(content);\n                \n                if (elem)\n                {\n                    elem.style.display = 'none';\n    \n                    document.body.appendChild(elem);\n                }\n            }\n    \n            var evnt = attr(trigger, 'data-popover-event');\n    \n            if (evnt === 'click')\n            {\n                off(trigger, 'click', this._clickHandler, this);\n                off(window, 'resize', this._windowResize, this);\n            }\n            else\n            {\n                off(trigger, 'mouseenter', this._hoverEnter, this);\n                off(trigger, 'mouseleave', this._hoverLeave, this);\n    \n                this._killPop(trigger);\n    \n                POP_HANDLERS.delete(trigger);\n            }\n        }\n    \n        /**\n         * Hover over event handler\n         *\n         * @access {private}\n         */\n        Popovers.prototype._hoverEnter = function(e, trigger)\n        {\n            if (has_class(trigger, 'popped')) return;\n    \n            let handler = POP_HANDLERS.get(trigger);\n            \n            let pop = handler.render();\n    \n            on(pop, 'mouseenter', this._hoverPop, this);\n    \n            on(trigger, 'mouseleave', this._hoverLeave, this);\n            \n            add_class(trigger, 'popped');\n        }\n    \n        /**\n         * Hover leave event handler\n         *\n         * @access {private}\n         */\n        Popovers.prototype._hoverLeave = function(e, trigger)\n        {\n            clearTimeout(HOVER_TIMER);\n    \n            // Mouse leaving pop not trigger\n            if (!has_class(trigger, '.js-popover'))\n            {\n                for (let [_trigger, handler] of POP_HANDLERS)\n                {\n                    if (handler.popElement === trigger) trigger = handler.options.trigger;\n                }\n            }\n    \n            HOVER_TIMER = setTimeout(() => \n            {\n                this._killPop(trigger);\n    \n                off(trigger, 'mouseleave', this._hoverLeave, this);\n    \n            }, 300);\n        }\n    \n        /**\n         * Hover leave event handler\n         *\n         * @access {private}\n         */\n        Popovers.prototype._hoverPop = function(e, pop)\n        {\n            clearTimeout(HOVER_TIMER);\n    \n            on(pop, 'mouseleave', this._hoverLeave, this);\n        }\n    \n        /**\n         * Window resize event handler\n         *\n         * @access {private}\n         */\n        Popovers.prototype._windowResize = function()\n        {\n            for (let [trigger, handler] of POP_HANDLERS)\n            {\n                if (handler.state === 'active') handler.position();\n            }\n        }\n    \n        /**\n         * Click event handler\n         *\n         * @param {event|null} e JavaScript click event\n         * @access {private}\n         */\n        Popovers.prototype._killPop = function(trigger)\n        {            \n            let handler = POP_HANDLERS.get(trigger);\n    \n            handler.destroy();\n            \n            remove_class(trigger, 'popped');\n        }\n    \n        /**\n         * Click event handler\n         *\n         * @param {event|null} e JavaScript click event\n         * @access {private}\n         */\n        Popovers.prototype._clickHandler = function(e, trigger)\n        {\n            e = e || window.event;\n    \n            e.preventDefault();\n            \n            var popHandler = POP_HANDLERS.get(trigger);\n    \n            if (has_class(trigger, 'popped'))\n            {\n                this._removeAll(trigger);\n                \n                popHandler.destroy();\n                \n                remove_class(trigger, 'popped');\n            }\n            else\n            {\n                this._removeAll(trigger);\n                \n                popHandler.render();\n                \n                add_class(trigger, 'popped');\n            }\n        }\n    \n        /**\n         * Remove all popovers when anything is clicked\n         *\n         * @access {private}\n         */\n        Popovers.prototype._windowClickHandler = function(e)\n        {        \n            let clicked = e.target;\n    \n            // Clicked the close button\n            if (has_class(clicked, 'js-remove-pop') || closest(clicked, '.js-remove-pop'))\n            {\n                this._removeAll();\n    \n                return;\n            }\n    \n            // Clicked inside the popover\n            if (has_class(clicked, 'popover') || closest(clicked, '.popover'))\n            {\n                return;\n            }\n    \n            // Clicked a popover trigger\n            if (has_class(clicked, 'js-popover') || closest(clicked, '.js-popover'))\n            {\n                return;\n            }\n    \n            this._removeAll();\n        }\n    \n        /**\n         * Remove all the popovers currently being displayed\n         *\n         * @access {private}\n         */\n        Popovers.prototype._removeAll = function(exception)\n        {        \n            for (let [trigger, handler] of POP_HANDLERS)\n            {\n                if (!exception || (exception && trigger !== exception))\n                {\n                    handler.destroy();\n    \n                    remove_class(trigger, 'popped');\n                }\n            }\n        }\n    \n        // Load into frontbx DOM core\n        frontbx.dom().register('DOM_Popovers', extend(Component, Popovers));\n    \n    }());\n    \n    (function()\n    {\n        /**\n         * Creates a chip\n         *\n         */\n        function createChip(options)\n        {\n            let chip = document.createElement(options.removeable || options.input ? 'SPAN' : 'BUTTON');\n    \n            if (options.removeable || options.input) chip.type = 'button';\n    \n            chip.className = options.variant ? `btn btn-chip ${options.variant}` : 'btn btn-chip';\n            chip.innerText = options.posticon || options.removeable ? `${options.text} ` : options.text;\n    \n            if (options.preicon)\n            {\n                let icon1 = document.createElement('SPAN');\n                icon1.className = `fa fa-${options.preicon}`;\n                chip.appendChild(icon1);\n            }\n    \n            if (options.removeable)\n            {\n                let removeBtn = document.createElement('BUTTON');\n                removeBtn.className = 'remove-btn btn-unstyled js-remove-btn';\n                removeBtn.ariaLabel = 'remove';\n                removeBtn.type = 'button';\n    \n                let x = document.createElement('SPAN');\n                x.className = 'fa fa-xmark';\n                removeBtn.appendChild(x);\n    \n                chip.appendChild(removeBtn);\n            }\n            else if (options.posticon)\n            {\n                let icon2 = document.createElement('SPAN');\n                icon2.className = `fa fa-${options.posticon}`;\n                chip.appendChild(icon2);\n            }\n            \n            if (options.input)\n            {\n                let input = document.createElement('INPUT');\n                input.hidden = true;\n                input.name   = options.input;\n                input.value  = options.text;\n                input.setAttribute('value', options.text);\n    \n                chip.appendChild(input);\n            }\n    \n            return chip;\n        }\n    \n        // Load into frontbx DOM core\n        frontbx.set('Chip', createChip);\n    \n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [find, find_all, on, closest, first_children, in_array, input_value, is_empty, off, remove_from_dom, extend] = frontbx.import(['find','find_all','on','closest','first_children','in_array','input_value','is_empty','off','remove_from_dom','extend']).from('_');\n    \n        /**\n         * Chip inputs\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const ChipInputs = function()\n        {\n            this.super('.js-chips-input');\n        }\n    \n        /**\n         * Init a chips input\n         *\n         * @access {private}\n         * @param  {DOMElement}    _wrapper\n         */\n        ChipInputs.prototype.bind = function(_wrapper)\n        {\n            let _input = find('.js-chip-input', _wrapper);\n    \n            on(find_all('.js-remove-btn', _wrapper), 'click', this._removeChip);\n    \n            on(_input, 'keyup', this._onKeyUp, this);\n    \n            if (closest(_input, 'form'))\n            {\n                on(_input, 'keydown', this._preventSubmit, this);\n            }\n        }\n    \n        /**\n         * Destroy chip listeners\n         *\n         * @access {private}\n         * @param  {DOMElement}    _wrapper\n         */\n        ChipInputs.prototype.unbind = function(_wrapper)\n        {\n            var _removeBtns = find_all('.btn-chip .js-remove-btn', _wrapper);\n            var _input = find('.js-chip-input', _wrapper);\n    \n            off(_removeBtns, 'click', this._removeChip);\n    \n            off(_input, 'keyup', this._onKeyUp, this);\n    \n            if (closest(_input, 'form'))\n            {\n                off(_input, 'keydown', this._preventSubmit, this);\n            }\n        }\n    \n        /**\n         * Prevent the form from submitting if it's part of a form\n         *\n         * @access {private}\n         * @param  {event|null} e\n         */\n        ChipInputs.prototype._preventSubmit = function(e, input)\n        {\n            e = e || window.event;\n    \n            var _key = e.code || e.key || e.keyCode || e.charCode;\n    \n            if (_key == 'Enter' || _key === 13)\n            {\n                e.preventDefault();\n    \n                return false;\n            }\n            // Backspace\n            else if (_key == 'Delete' || _key == 'Backspace' || _key == 8 || _key == 46)\n            {\n                if (input.value === '')\n                {\n                    var _wrapper = closest(input, '.js-chips-input');\n    \n                    this._removeLastChip(_wrapper);\n                }\n            }\n        }\n    \n        /**\n         * Handle pressing enter to insert the chip\n         *\n         * @access {private}\n         * @param  {event|null} e\n         */\n        ChipInputs.prototype._onKeyUp = function(e, input)\n        {\n            e = e || window.event;\n    \n            var _key = e.code || e.key || e.keyCode || e.charCode;\n    \n            // Enter\n            if (_key == 'Enter' || _key === 13)\n            {\n                var _wrapper = closest(input, '.js-chips-input');\n    \n                var _value = input_value(input).trim();\n    \n                if (!in_array(_value, this._getChipsValues(_wrapper)) && _value !== '')\n                {\n                    this.addChip(_value, _wrapper);\n    \n                    input.value = '';\n                }\n            }\n        }\n    \n        /**\n         * Remove last chip\n         *\n         * @access {private}\n         * @param  {DOMElement}    _wrapper\n         */\n        ChipInputs.prototype._removeLastChip = function(_wrapper)\n        {\n            var _chips = find_all('.btn-chip', _wrapper);\n    \n            if (!is_empty(_chips))\n            {\n                remove_from_dom(_chips.pop());\n            }\n        }\n    \n        /**\n         * Insert new chip\n         *\n         * @access {public}\n         * @param  {string}      _value\n         * @param  {DOMElement}        _wrapper\n         * @param  {string|bool} _icon\n         */\n        ChipInputs.prototype.addChip = function(_value, _wrapper, _icon)\n        {\n            let chip = frontbx.Chip({\n                text       : _value.trim(),\n                removeable : true,\n                input      : _wrapper.dataset.inputName,\n                variant    : _wrapper.dataset.chipClass,\n            });\n    \n            _wrapper.insertBefore(chip, first_children(_wrapper).pop());\n    \n            on(find('.js-remove-btn', chip), 'click', this._removeChip);\n    \n            frontbx.dom().refresh('Ripple', _wrapper);\n        }\n    \n        /**\n         * Remove an existing chip\n         *\n         * @access {private}\n         * @param  {event|null} e\n         */\n        ChipInputs.prototype._removeChip = function(e)\n        {\n            e = e || window.event;\n    \n            e.preventDefault();\n    \n            remove_from_dom(closest(this, '.btn-chip'));\n        }\n    \n        /**\n         * Get all values from chip input\n         *\n         * @access {private}\n         * @param  {DOMElement}    _wrapper\n         * @return {array}\n         */\n        ChipInputs.prototype._getChipsValues = function(_wrapper)\n        {\n            var _result = [];\n    \n            var _chips = find_all('.btn-chip input', _wrapper);\n    \n            for (var i = 0; i < _chips.length; i++)\n            {\n                _result.push(input_value(_chips[i]));\n            }\n    \n            return _result;\n        }\n    \n        // Load into frontbx DOM core\n        frontbx.dom().register('ChipInputs', extend(Component, ChipInputs));\n    \n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [find, add_class, on, closest, has_class, remove_class, off, attr, css, dom_element, map, trigger_event, extend] = frontbx.import(['find','add_class','on','closest','has_class','remove_class','off','attr','css','dom_element','map','trigger_event','extend']).from('_');\n    \n        /**\n         * Dropdown Buttons\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Menu = function()\n        {\n            this.super('.js-select-menu > *:not(.menu-divider):not(.menu-header), .js-check-menu > *:not(.menu-divider):not(.menu-header), .js-active-menu > *:not(.menu-divider):not(.menu-header)');\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Menu.prototype.bind = function(node)\n        {\n            on(node, 'click', this._clickHandler, this);\n        }\n    \n         /**\n         * @inheritdoc\n         * \n         */\n        Menu.prototype.unbind = function(node)\n        {\n            off(node, 'click', this._clickHandler, this);\n        }\n    \n        /**\n         * Click event handler\n         *\n         * @param  {event|null} e JavaScript Click event\n         * @access {private}\n         */\n        Menu.prototype._clickHandler = function(e, item)\n        {\n            // Nothing to do\n            if (has_class(item, 'selected') || has_class(item, 'active') || has_class(item, 'checked')) return;\n    \n            // Menu and class\n            let menu        = closest(item, '.js-select-menu') || closest(item, '.js-check-menu') || closest(item, '.js-active-menu');\n            let activeClass = has_class(menu, 'js-select-menu') ? 'selected' : (has_class(menu, 'js-check-menu') ? 'checked' : 'active');\n            let selected    = find(`> .${activeClass}`, menu);\n            let isCheck     = activeClass === 'checked';\n            let content     = item.innerText.trim();\n                \n            if (selected) remove_class(selected, activeClass);\n            \n            add_class(item, activeClass);\n    \n            if (isCheck)\n            {\n                if (selected)\n                {\n                    let selectedCheck = find('.item-right .fa.fa-check', selected);\n    \n                    if (selectedCheck) css(selectedCheck.parentNode, 'display', 'none');\n                }\n                \n                let check = find('.item-right .fa', item);\n    \n                if (!check)\n                {\n                    let itemContent = find('.item-body', item);\n    \n                    if (!itemContent)\n                    {\n                        item.innerText = '';\n    \n                        dom_element({tag: 'span', class: 'item-body'}, item, content);\n                    }\n    \n                    dom_element({tag: 'span', class: 'item-right'}, item, dom_element({tag: 'span', class: 'fa fa-check'}));\n                }\n                else\n                {\n                    attr(check.parentNode, 'style', false);\n                }\n            }\n    \n            trigger_event(menu, 'frontbx:menu:selected', {item: item});\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Menu.prototype.render = function(props)\n        {\n            return dom_element({tag: 'ul', class: `menu ${props.classes ? props.classes : ''} ${props.dense ? 'menu-dense' : ''} ${props.ellipsis ? 'menu-ellipsis' : ''} ${ props.selectable ? `js-select-menu` : '' }`}, null, map(props.items, (i, item) =>\n                {\n                    return dom_element({tag: 'li', class: `${item.state} ${props.selected && (props.selected === item.value || props.selected === item.text) ? 'selected' : null}`}, null,\n                    [\n                        item.left ? dom_element({tag: 'span', class: 'item-left', innerHTML: item.left}) : null,\n                        dom_element({tag: 'span', class: 'item-body', innerText: item.body || item.text || item }),\n                        item.right ? dom_element({tag: 'span', class: 'item-right', innerHTML: item.right}) : null,\n                    ])\n                })\n            );\n        }\n    \n        // Load into frontbx DOM core\n        frontbx.dom().register('Menu', extend(Component, Menu));\n    \n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [find, on, attr, closest, has_class, in_dom, off, remove_from_dom, trigger_event, is_empty, extend] = frontbx.import(['find','on','attr','closest','has_class','in_dom','off','remove_from_dom','trigger_event','is_empty','extend']).from('_');\n    \n        /**\n         * Chip suggestions.\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const ChipSuggestions = function()\n        {\n            this.super('.js-chip-suggestions .btn-chip');\n        }\n    \n        /**\n         * Bind DOM listeners\n         *\n         * @access {private}\n         */\n        ChipSuggestions.prototype.bind = function(node)\n        {\n            on(node, 'click', this._clickHandler);\n        }\n    \n        /**\n         * Unbind DOM listeners\n         *\n         * @access {private}\n         */\n        ChipSuggestions.prototype.unbind = function()\n        {\n            off(node, 'click', this._clickHandler);\n        }\n    \n        /**\n         * Chip click handler\n         *\n         * @access {private}\n         * @param  {event|null} e\n         */\n        ChipSuggestions.prototype._clickHandler = function(e)\n        {\n            e = e || window.event;\n    \n    \n            var _wrapper = closest(this, '.js-chip-suggestions');\n            var _input   = find('#' + _wrapper.dataset.inputTarget);\n            var _text    = this.innerText.trim();\n    \n            if (!_input || !in_dom(_input))\n            {\n                throw new Error('Target node does not exist.');\n    \n                return false;\n            }\n    \n            // Chips input\n            if (has_class(_input, '.js-chips-input'))\n            {\n                frontbx.dom().component('ChipInputs').addChip(_text, _input);\n    \n                remove_from_dom(this);\n    \n                return false;\n            }\n    \n            let val = attr(_input, 'value');\n    \n            attr(_input, 'value', is_empty(val) ? _text : `${val} ${_text}`);\n    \n            trigger_event(_input, 'change');\n    \n            remove_from_dom(this);\n    \n            return false;\n        }\n    \n        // Load into frontbx DOM core\n        frontbx.dom().register('ChipSuggestions', extend(Component, ChipSuggestions));\n    \n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [find, add_class, on, closest, has_class, remove_class, off, trigger_event, extend] = frontbx.import(['find','add_class','on','closest','has_class','remove_class','off','trigger_event','extend']).from('_');\n    \n        /**\n         * Choice chips\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const ChoiceChips = function()\n        {\n            this.super('.js-choice-chips .btn-chip');\n        }\n    \n        /**\n         * Bind DOM listeners\n         *\n         * @access {private}\n         */\n        ChoiceChips.prototype.bind = function(node)\n        {\n            on(node, 'click', this._clickHandler);\n        }\n    \n        /**\n         * Unbind DOM listeners\n         *\n         * @access {private}\n         */\n        ChoiceChips.prototype.unbind = function(node)\n        {\n            off(node, 'click', this._clickHandler);\n        }\n    \n        /**\n         * Handle click event on chip\n         *\n         * @access {private}\n         * @param  {event|null} e\n         */\n        ChoiceChips.prototype._clickHandler = function(e)\n        {\n            e = e || window.event;\n    \n            var _wrapper = closest(this, '.js-choice-chips');\n    \n            var _input = find('.js-choice-input', _wrapper);\n    \n            if (!has_class(this, 'selected'))\n            {                \n                remove_class(find('.btn-chip.selected', _wrapper), 'selected');\n    \n                add_class(this, 'selected');\n    \n                if (_input)\n                {\n                    _input.value = this.dataset.value || this.innerText.trim();\n    \n                    trigger_event(_input, 'input');\n                    trigger_event(_input, 'change');\n                }\n            }\n        }\n    \n        // Load into frontbx DOM core\n        frontbx.dom().register('ChoiceChips', extend(Component, ChoiceChips));\n    \n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [on, off, toggle_class, extend] = frontbx.import(['on','off','toggle_class', 'extend']).from('_');\n    \n        /**\n         * Filter chips\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const FilterChips = function()\n        {\n            this.super('.js-filter-chips .btn-chip');\n        }\n    \n        /**\n         * Bind DOM listeners\n         *\n         * @access {private}\n         */\n        FilterChips.prototype.bind = function(node)\n        {\n            on(node, 'click', this._clickHandler);\n        }\n    \n        /**\n         * Unbind DOM listeners\n         *\n         * @access {private}\n         */\n        FilterChips.prototype.unbind = function(node)\n        {\n            off(node, 'click', this._clickHandler);\n        }\n    \n        /**\n         * Handle click event on chip\n         *\n         * @access {private}\n         * @param  {event|null} e\n         */\n        FilterChips.prototype._clickHandler = function(e)\n        {\n            e = e || window.event;\n    \n            e.preventDefault();\n    \n            toggle_class(this, 'checked');\n        }\n    \n        // Load into frontbx DOM core\n        frontbx.dom().register('FilterChips', extend(Component, FilterChips));\n    \n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [find, each, is_undefined, attr, on, off, to_camel_case, extend] = frontbx.import(['find','each','is_undefined','attr','on','off','to_camel_case','extend']).from('_');\n    \n        /**\n         * Available data attributes.\n         * \n         * @var {Array}\n         */\n        const DATA_ATTRIBUTES = ['title','content','classes','custom','close-anywhere','scroll','cancel-btn','cancel-class','confirm-btn','confirm-class','overlay','state'];\n    \n        /**\n         * Toggle active on lists\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Modal = function()\n        { \n            this.modals = new Map;\n    \n            this.super('.js-modal-trigger');\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Modal.prototype.bind = function(node)\n        {            \n            let options = { fromHTML: true, state: 'closed' };\n    \n            let elem;\n    \n            each(DATA_ATTRIBUTES, (i, attribute) =>\n            {\n                let value = attr(node, `data-${attribute}`);\n    \n                if (!is_undefined(value))\n                {\n                    if (value === 'true' || value === 'false')value = value === 'true' ? true : false;\n    \n                    if (attribute === 'content' && value[0] === '#')\n                    {\n                        elem = find(value);\n    \n                        value = elem;\n                    }\n    \n                    options[to_camel_case(attribute)] = value;\n                }\n            });\n    \n            let modal = frontbx.Modal(options);\n    \n            this.modals.set(node, modal);\n    \n            on(node, 'click', this._toggle, this);\n    \n            if (elem) elem.style = '';\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Modal.prototype.unbind = function(node)\n        {\n            let modal   = this.modals.get(node);\n            let content = attr(node, 'data-content');\n    \n            if (content[0] === '#')\n            {\n                content = find(content);\n    \n                if (content)\n                {\n                    content.style.display = 'none';\n    \n                    document.body.appendChild(content);\n                }\n            }\n    \n            modal.destroy();\n    \n            this.modals.delete(node);\n    \n            off(node, 'click', this._toggle, this);\n        }\n    \n        /**\n         * Toggle modal.\n         * \n         * @access {private}\n         */\n        Modal.prototype._toggle = function(e, trigger)\n        { \n            let modal = this.modals.get(trigger);\n    \n            modal.closed() ? modal.open() : modal.close();\n        }\n    \n        // Load into frontbx DOM core\n        frontbx.dom().register('DOM_Modals', extend(Component, Modal));\n    })();\n    (function()\n    {\n        const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [find, each, is_undefined, attr, on, off, to_camel_case, add_class, remove_class, extend] = frontbx.import(['find','each','is_undefined','attr','on','off','to_camel_case','add_class','remove_class','extend']).from('_');\n    \n        /**\n         * Available data attributes.\n         * \n         * @var {Array}\n         */\n        const DATA_ATTRIBUTES = ['content','direction','overlay','persistent','pushbody','peekable','swipeable','classes','state','easing','animation-time','responsive'];\n    \n        /**\n         * Drawer\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Drawer = function()\n        { \n            this.drawers = new Map;\n    \n            this.super('.js-drawer-trigger');\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Drawer.prototype.bind = function(node)\n        {            \n            let options = \n            { \n                fromHTML: true,\n                state: 'collapsed',\n                callbackClose: () => remove_class(node, 'active'),\n                callbackOpen: () => add_class(node, 'active'),\n            };\n    \n            let elem;\n    \n            each(DATA_ATTRIBUTES, (i, attribute) =>\n            {\n                let value = attr(node, `data-${attribute}`);\n    \n                if (!is_undefined(value))\n                {\n                    if (value === 'true' || value === 'false') value = value === 'true' ? true : false;\n    \n                    if (attribute === 'content' && value[0] === '#')\n                    {\n                        elem = find(value);\n    \n                        value = elem;\n                    }\n    \n                    options[to_camel_case(attribute)] = value;\n                }\n            });\n    \n            let drawer = frontbx.Drawer(options);\n    \n            this.drawers.set(node, drawer);\n    \n            on(node, 'click', this._toggle, this);\n    \n            if (elem) elem.style = '';\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Drawer.prototype.unbind = function(node)\n        {\n            let drawer = this.drawers.get(node);\n    \n            let content = attr(node, 'data-content');\n    \n            if (content[0] === '#')\n            {\n                content = find(content);\n                \n                if (content)\n                {\n                    content.style.display = 'none';\n    \n                    document.body.appendChild(content);\n                }\n            }\n    \n            drawer.destroy();\n    \n            this.drawers.delete(node);\n    \n            off(node, 'click', this._toggle, this);\n        }\n    \n        /**\n         * Toggle drawer.\n         * \n         * @access {private}\n         */\n        Drawer.prototype._toggle = function(e, trigger)\n        { \n            let drawer = this.drawers.get(trigger);\n    \n            drawer.closed() ? drawer.open() : drawer.close();\n        }\n    \n        // Load into frontbx DOM core\n        frontbx.dom().register('DOM_Drawers', extend(Component, Drawer));\n        \n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [find, each, is_undefined, attr, on, off, to_camel_case, add_class, remove_class, extend] = frontbx.import(['find','each','is_undefined','attr','on','off','to_camel_case','add_class','remove_class','extend']).from('_');\n    \n        /**\n         * Available data attributes.\n         * \n         * @var {Array}\n         */\n        const DATA_ATTRIBUTES = ['content','overlay','persistent','peekable','swipeable','classes','state','easing','animation-time'];\n    \n        /**\n         * Toggle active on lists\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Frontdrop = function()\n        { \n            this.drawers = new Map;\n    \n            this.super('.js-frontdrop-trigger');\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Frontdrop.prototype.bind = function(node)\n        {            \n            let options = \n            { \n                fromHTML: true,\n                state: 'collapsed',\n                callbackClose: () => remove_class(node, 'active'),\n                callbackOpen: () => add_class(node, 'active'),\n            };\n    \n            let elem;\n    \n            each(DATA_ATTRIBUTES, (i, attribute) =>\n            {\n                let value = attr(node, `data-${attribute}`);\n    \n                if (!is_undefined(value))\n                {\n                    if (value === 'true' || value === 'false') value = value === 'true' ? true : false;\n    \n                    if (attribute === 'content' && value[0] === '#')\n                    {\n                        elem = find(value);\n    \n                        value = elem;\n                    }\n    \n                    options[to_camel_case(attribute)] = value;\n                }\n            });\n    \n            let frontdrop = frontbx.Frontdrop(options);\n    \n            this.drawers.set(node, frontdrop);\n    \n            on(node, 'click', this._toggle, this);\n    \n            if (elem) elem.style = '';\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Frontdrop.prototype.unbind = function(node)\n        {\n            let frontdrop = this.drawers.get(node);\n    \n            let content = attr(node, 'data-content');\n    \n            if (content[0] === '#')\n            {\n                content = find(content);\n    \n                if (content)\n                {\n                    content.style.display = 'none';\n    \n                    document.body.appendChild(content);\n                }\n            }\n    \n            frontdrop.destroy();\n    \n            this.drawers.delete(node);\n    \n            off(node, 'click', this._toggle, this);\n        }\n    \n        /**\n         * Toggle Frontdrop.\n         * \n         * @access {private}\n         */\n        Frontdrop.prototype._toggle = function(e, trigger)\n        { \n            let frontdrop = this.drawers.get(trigger);\n    \n            frontdrop.closed() ? frontdrop.open() : frontdrop.close();\n        }\n    \n        // Load into frontbx DOM core\n        frontbx.dom().register('DOM_Frontdrops', extend(Component, Frontdrop));\n        \n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n    \n         /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [find, each, is_undefined, attr, on, off, to_camel_case, add_class, remove_class, extend] = frontbx.import(['find','each','is_undefined','attr','on','off','to_camel_case','add_class','remove_class','extend']).from('_');\n    \n        /**\n         * Available data attributes.\n         * \n         * @var {Array}\n         */\n        const DATA_ATTRIBUTES = ['title','content','direction','classes','pushbody','swipeable','state','easing','animation-time','responsive'];\n    \n        /**\n         * Toggle active on lists\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Backdrop = function()\n        { \n            this.drawers = new Map;\n    \n            this.super('.js-backdrop-trigger');\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Backdrop.prototype.bind = function(node)\n        {            \n            let options = \n            { \n                fromHTML: true,\n                state: 'collapsed',\n                callbackClose: () => remove_class(node, 'active'),\n                callbackOpen: () => add_class(node, 'active'),\n            };\n    \n            let elem;\n    \n            each(DATA_ATTRIBUTES, (i, attribute) =>\n            {\n                let value = attr(node, `data-${attribute}`);\n    \n                if (!is_undefined(value))\n                {\n                    if (value === 'true' || value === 'false') value = value === 'true' ? true : false;\n    \n                    if (attribute === 'content' && value[0] === '#')\n                    {\n                        elem = find(value);\n    \n                        value = elem;\n                    }\n    \n                    options[to_camel_case(attribute)] = value;\n                }\n            });\n    \n            let backdrop = frontbx.Backdrop(options);\n    \n            this.drawers.set(node, backdrop);\n    \n            on(node, 'click', this._toggle, this);\n    \n            if (elem) elem.style = '';\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Backdrop.prototype.unbind = function(node)\n        {\n            let backdrop = this.drawers.get(node);\n            let content = attr(node, 'data-content');\n    \n            if (content[0] === '#')\n            {\n                content = find(content);\n    \n                if (content)\n                {\n                    content.style.display = 'none';\n    \n                    document.body.appendChild(content);\n                }\n            }\n    \n            backdrop.destroy();\n    \n            this.drawers.delete(node);\n    \n            off(node, 'click', this._toggle, this);\n        }\n    \n        /**\n         * Toggle Backdrop.\n         * \n         * @access {private}\n         */\n        Backdrop.prototype._toggle = function(e, trigger)\n        { \n            let backdrop = this.drawers.get(trigger);\n            \n            backdrop.closed() ? backdrop.open() : backdrop.close();\n        }\n    \n        // Load into frontbx DOM core\n        frontbx.dom().register('DOM_Backdrops', extend(Component, Backdrop));\n    \n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [find, each, is_undefined, attr, on, off, to_camel_case, extend] = frontbx.import(['find','each','is_undefined','attr','on','off','to_camel_case','extend']).from('_');\n    \n        /**\n         * Available data attributes.\n         * \n         * @var {Array}\n         */\n        const DATA_ATTRIBUTES = ['text','timeout','icon','btn','variant','btnVariant'];\n    \n        /**\n         * Toggle active on lists\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Notification = function()\n        {\n            this.super('.js-notification-trigger');\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Notification.prototype.bind = function(node)\n        {            \n            on(node, 'click', this._show, this);\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Notification.prototype.unbind = function(node)\n        {\n    \n            off(node, 'click', this._show, this);\n        }\n    \n        /**\n         * Toggle notification.\n         * \n         * @access {private}\n         */\n        Notification.prototype._show = function(e, trigger)\n        { \n            let options = { fromHTML: true };\n    \n            each(DATA_ATTRIBUTES, (i, attribute) =>\n            {\n                let value = attr(trigger, `data-${attribute}`);\n    \n                if (!is_undefined(value))\n                {\n                    if (value === 'true' || value === 'false') value = value === 'true' ? true : false;\n    \n                    if (attribute === 'timeout') value = parseInt(value);\n    \n                    options[to_camel_case(attribute)] = value;\n                }\n            });\n    \n            frontbx.Notification(options);\n        }\n    \n        // Load into frontbx DOM core\n        frontbx.dom().register('DOM_Notifications', extend(Component, Notification));\n    \n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [on, off, each, is_undefined, attr, bool, to_camel_case, extend, normalize_url]  = frontbx.import(['on','off','each','is_undefined','attr','bool','to_camel_case','extend','normalize_url']).from('_');\n    \n        /**\n         * Available data attributes.\n         * \n         * @var {Array}\n         */\n        const DATA_ATTRIBUTES = ['element','url','once','nocache','urlhash','pushstate','scrolltop','animate'];\n    \n        /**\n         * Available data attributes.\n         * \n         * @var {Array}\n         */\n        const BOOL_ATTRS = ['once','nocache','urlhash','pushstate','scrolltop','animate'];\n    \n        /**\n         * URLS Requested\n         * \n         * @var {object}\n         */\n        const REQUESTED = [];\n    \n        /**\n         * Pjax Links Module\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const PjaxLinks = function()\n        {\n            this.super('.js-pjax-link');\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        PjaxLinks.prototype.bind = function(node)\n        {        \n            on(node, 'click', this._requestHandler, this);\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        PjaxLinks.prototype.unbind = function(node)\n        {\n            off(node, 'click', this._requestHandler, this);\n        }\n    \n        /**\n         * Event handler\n         *\n         * @param {event|null} e JavaScript click event\n         * @access {private}\n         */\n        PjaxLinks.prototype._requestHandler = function(e, trigger)\n        {\n            let options = { };\n    \n            each(DATA_ATTRIBUTES, (i, attribute) =>\n            {\n                let value = attr(trigger, `data-pjax-${attribute}`);\n    \n                if (!is_undefined(value))\n                {\n                    if (BOOL_ATTRS.includes(attribute))\n                    {\n                        value = bool(value);\n                    }\n                    else if (value === 'element')\n                    {\n                        value = value[0] !== '#' ? `#${value}` : value;\n                    }\n    \n                    options[to_camel_case(attribute)] = value;\n                }\n            });\n    \n            let url = trigger.href || options.url;\n    \n            // Only request once\n            if (REQUESTED.includes(url) && options.once) return false;\n    \n            // No change\n            if (normalize_url(url) === normalize_url(window.location.href)) return false;\n    \n            REQUESTED.push(url);\n    \n            frontbx.Pjax().request(url, options);\n    \n            return false;\n        }\n    \n        // Load into frontbx DOM core\n        frontbx.dom().register('PjaxLinks', extend(Component, PjaxLinks));\n    \n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [find, on, animate, bool, has_class, is_node_type, off, toggle_class, trigger_event, extend] = frontbx.import(['find','on','animate','bool','has_class','is_node_type','off','toggle_class','trigger_event','extend']).from('_');\n    \n        /**\n         * Toggle height on click\n         *\n         * @class\n         * @extends {Component}\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Collapse = function()\n        {        \n            this.super('.js-collapse');\n        }\n    \n        /**\n         * Event binder - Binds all events on button click\n         *\n         * @access {private}\n         */\n        Collapse.prototype.bind = function(node)\n        {\n            on(node, 'click', this._eventHandler);\n        }\n    \n        /**\n         * Event unbinder - Removes all events on button click\n         *\n         * @access {private}\n         */\n        Collapse.prototype.unbind = function(node)\n        {\n            off(node, 'click', this._eventHandler);\n        }\n    \n        /**\n         * Handle the click event\n         *\n         * @param {event|null} e JavaScript click event\n         * @access {private}\n         */\n        Collapse.prototype._eventHandler = function(e)\n        {\n            e = e || window.event;\n    \n            if (is_node_type(this, 'a'))\n            {\n                e.preventDefault();\n            }\n    \n            var clicked  = this;\n            var targetEl = find('#' + clicked.dataset.collapseTarget);\n            var duration = parseInt(clicked.dataset.collapseSpeed) || 225;\n            var easing   = clicked.dataset.collapseEasing || 'easeOutExpo';\n            var opacity  = bool(clicked.dataset.withOpacity);\n            var closing  = has_class(clicked, 'active');\n    \n            trigger_event(targetEl, 'frontbx:collapse:toggle', closing ? 'close' : 'open');\n    \n            var options  = \n            {\n                property: 'height',\n                to: closing ? '0px' : 'auto',\n                from: closing ? 'auto' : '0px',\n                duration: duration, \n                easing: easing,\n                callback: () => { trigger_event(targetEl, 'frontbx:collapse:toggled', closing ? 'close' : 'open'); }\n            };\n    \n            animate(targetEl, options);\n            toggle_class(clicked, 'active');\n        }\n    \n        // Load into frontbx DOM core\n        frontbx.dom().register('Collapse', extend(Component, Collapse));\n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [find, on, off, has_class, add_class, remove_class, closest, trigger_event, dom_element, map, extend] = frontbx.import(['find','on','off','has_class','add_class','remove_class','closest','trigger_event','dom_element', 'map','extend']).from('_');\n    \n        /**\n         * Toggle active on lists\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const List = function()\n        { \n            this.super('.js-select-list .list-item');\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        List.prototype.bind = function(node)\n        {            \n            on(node, 'click', this._eventHandler);\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        List.prototype.unbind = function(node)\n        {\n            off(node, 'click', this._eventHandler);\n        }\n    \n        /**\n         * Handle the click event\n         *\n         * @param {event|null} e JavaScript click event\n         * @access {private}\n         */\n        List.prototype._eventHandler = function(e)\n        {\n            e = e || window.event;\n            \n            if (has_class(this, 'selected')) return;\n    \n            var list = closest(this, '.js-select-list');\n    \n            remove_class(find('li.selected', list), 'selected');\n            \n            add_class(this, 'selected');\n    \n            trigger_event(list, 'frontbx:list:selected', {item: this});\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        List.prototype.render = function(props)\n        {\n            return `\n                <ul class=\"list {props.classes ? props.classes : ''} {props.dense ? 'list-dense' : ''} {props.ellipsis ? 'list-ellipsis' : ''} { props.selectable ? 'js-select-list' : '' }\">\n                    {map(props.items, (i, item) =>\n                    (\n                        <li class=\"list-item {item.state} {props.selected && (props.selected === item.value || props.selected === item.text) ? 'selected' : ''}\">\n                            {[\n                                item.left ? <span class=\"item-left\">{item.left}</span> : null,\n                                <span class=\"item-body\">{item.body || item.text || item}</span>,\n                                item.right ? <span class=\"item-right\">{item.right}</span> : null,\n                            ]}\n                        </li>\n                    ))}\n                </ul>\n            `;\n    \n            return dom_element({tag: 'ul', class: `list ${props.classes ? props.classes : ''} ${props.dense ? 'list-dense' : ''} ${props.ellipsis ? 'list-ellipsis' : ''} ${ props.selectable ? `js-select-list` : '' }`}, null, map(props.items, (i, item) =>\n                {\n                    return dom_element({tag: 'li', class: `list-item ${item.state} ${props.selected && (props.selected === item.value || props.selected === item.text) ? 'selected' : null}`}, null,\n                    [\n                        item.left ? dom_element({tag: 'span', class: 'item-left', innerHTML: item.left}) : null,\n                        dom_element({tag: 'span', class: 'item-body', innerText: item.body || item.text || item }),\n                        item.right ? dom_element({tag: 'span', class: 'item-right', innerHTML: item.right}) : null,\n                    ])\n                })\n            );\n        }\n    \n        // Load into frontbx DOM core\n        frontbx.dom().register('List', extend(Component, List));\n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [find, find_all, map, add_class, on, closest, has_class, is_string, remove_class, off, attr, css, dom_element, extend] = frontbx.import(['find','find_all','map','add_class','on','closest','has_class','is_string','remove_class','off','attr','css','dom_element','extend']).from('_');\n    \n        /**\n         * Dropdown Buttons\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Dropdown = function()\n        {\n            this.super('.js-drop-trigger, .drop-container .js-select-menu > *:not(.menu-divider):not(.menu-header), .drop-container .js-check-menu > *:not(.menu-divider):not(.menu-header), .drop-container .js-active-menu > *:not(.menu-divider):not(.menu-header)');\n    \n            this.defaultProps =\n            {\n                checkable:    false,\n                selectable:   false,\n                caret:        false,\n                ellipsis:     false,\n                dense:        false,\n                position:     'sw',\n                anchorText:   '',\n                anchorTag:    'button', \n                items:        [],\n            };\n    \n            this.boundWindow  = false;\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Dropdown.prototype.bind = function(node)\n        {\n            if (has_class(node, 'js-drop-trigger'))\n            {\n                on(node, 'click', this._clickHandler, this);\n            }\n            else\n            {\n                on(node, 'click', this._selectHandler, this);\n            }\n    \n            if (!this.boundWindow)\n            {\n                on(window, 'click', this._windowClick, this);\n    \n                this.boundWindow = true;\n            }\n        }\n    \n         /**\n         * @inheritdoc\n         * \n         */\n        Dropdown.prototype.unbind = function(node)\n        {\n            if (has_class(node, 'js-drop-trigger'))\n            {\n                off(node, 'click', this._clickHandler, this);\n            }\n            else\n            {\n                off(node, 'click', this._selectHandler, this);\n            }\n    \n            if (this.boundWindow)\n            {\n                off(window, 'click', this._windowClick, this);\n    \n                this.boundWindow = false;\n            }\n        }\n    \n        /**\n         * Click event handler\n         *\n         * @param  {event|null} e JavaScript Click event\n         * @access {private}\n         */\n        Dropdown.prototype._clickHandler = function(e, button)\n        {\n            var active = find('.js-drop-trigger.drop-active');\n    \n            if (active) this._hideDrop(active);\n    \n            // Remove active and return\n            if (active !== button)\n            {\n                this._showDrop(button);\n            }\n        }\n    \n        /**\n         * Click event handler\n         *\n         * @param  {event|null} e JavaScript Click event\n         * @access {private}\n         */\n        Dropdown.prototype._hideDrop = function(button)\n        {\n            var drop = find('.js-drop-menu', button.parentNode);\n            \n            remove_class(button, ['active', 'drop-active']);\n            \n            attr(button, 'aria-pressed', 'false');\n            \n            attr(drop, 'aria-hidden', 'true');\n            \n            drop.blur();\n        }\n    \n        /**\n         * Click event handler\n         *\n         * @param  {event|null} e JavaScript Click event\n         * @access {private}\n         */\n        Dropdown.prototype._showDrop = function(button)\n        {\n            var drop = find('.js-drop-menu', button.parentNode);\n            \n            add_class(button, ['active', 'drop-active']);\n            \n            attr(button, 'aria-pressed', 'true');\n            \n            attr(drop, 'aria-hidden', 'false');\n            \n            drop.focus();\n        }\n    \n        /**\n         * Window click event\n         *\n         * @param {event|null} e JavaScript click event\n         * @access {private}\n         */\n        Dropdown.prototype._windowClick = function(e)\n        {\n            if (closest(e.target, '.js-drop-trigger'))\n            {\n                return;\n            }\n    \n            var active = find('.js-drop-trigger.drop-active');\n    \n            if (active) this._hideDrop(active);\n        }\n    \n        /**\n         * Click item on select handler\n         *\n         * @param  {event|null} e JavaScript Click event\n         * @access {private}\n         */\n        Dropdown.prototype._selectHandler = function(e, item)\n        {\n            let wrapper    = closest(item, '.drop-container');\n            let menu       = find('.js-select-menu, .js-check-menu, .js-active-menu', wrapper);\n            let trigger    = find('.js-drop-trigger', wrapper);\n            let selectable = has_class(trigger, 'js-drop-selectable');\n            let content    = item.innerText.trim();\n            let value      = attr(item, 'data-value') || content;\n            let input      = find('> input', wrapper);\n    \n            if (input) attr(input, 'value', value);\n    \n            if (selectable) trigger.innerText = content;\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Dropdown.prototype.render = function(props)\n        {\n            return dom_element({tag: 'div', class: 'drop-container'}, null,\n            [\n                // Input\n                props.checkable ? dom_element({tag: 'input', type: 'hidden', name: props.input, value: props.selected || ''}) : null,\n    \n                // button / anchor\n                dom_element({tag: props.anchorTag, type: props.anchorTag === 'button' ? 'button' : null, role: props.anchorTag === 'button' ? 'button' : null, class: `${props.anchorTag === 'button' ? 'btn btn-dropdown' : 'btn-dropdown'} js-drop-trigger ${props.anchorClass} ${props.selectable ? 'js-select-menu' : '' }`}, null,\n                    [\n                        props.anchorText,\n                        props.caret ? dom_element({tag: 'span', class: `caret-${props.caret}`}) : null,\n                    ]\n                ),\n    \n                // Dropdown\n                dom_element({tag: 'div', class: `drop-menu ${ props.position ? `drop-${props.position}` : '' } js-drop-menu`}, null, \n                    dom_element({tag: 'ul', class: `menu ${props.dense ? 'menu-dense' : ''} ${props.ellipsis ? 'menu-ellipsis' : ''} ${ props.checkable ? 'js-menu-check' : '' }`}, null, \n                        map(props.items, (i, item) =>\n                        {\n                            return dom_element({tag: 'li', class: `${item.state} ${props.selected && (props.selected === item.value || props.selected === item.text) ? 'selected' : null}`, dataValue: item.value || item.text || item}, null,\n                            [\n                                item.left ? dom_element({tag: 'span', class: 'item-left', innerHTML: item.left}) : null,\n                                dom_element({tag: 'span', class: 'item-body', innerText: item.body || item.text || item }),\n                                item.right ? dom_element({tag: 'span', class: 'item-right', innerHTML: item.right}) : null,\n                            ])\n                        })\n                    )\n                )\n            ]);\n        }\n    \n        // Load into frontbx DOM core\n        frontbx.dom().register('Dropdown', extend(Component, Dropdown));\n    \n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [find, attr, add_class, on, closest, has_class, is_empty, remove_class, off, extend] = frontbx.import(['find','attr','add_class','on','closest','has_class','is_empty','remove_class','off','extend']).from('_');\n    \n        /**\n         * Tab Nav\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const TabNav = function()\n        {\n            this.super('.js-tab-nav > li > *, .js-tab-nav > *:not(li)');\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        TabNav.prototype.bind = function(node)\n        {            \n            on(node, 'click', this._eventHandler);\n        }\n    \n        /**\n         * Unbind click events on all <a> tags in a .js-tab-nav\n         *\n         * @params {navWrap} node\n         * @access {private}\n         */\n        TabNav.prototype.unbind = function(node)\n        {            \n            off(node, 'click', this._eventHandler, this);\n        }\n    \n        /**\n         * Click event handler\n         *\n         * @param {event|null} e JavaScript click event\n         * @access {private}\n         */\n        TabNav.prototype._eventHandler = function(e, clicked)\n        {\n            let nav         = closest(clicked, '.js-tab-nav');\n            let activeClass = attr(nav, 'data-active-class') || 'active';\n            let panel       = find(`[data-tab-panel=${attr(clicked, 'data-tab')}]`);\n            let panels      = closest(panel, '.js-tab-panels');\n    \n            if (has_class(clicked, activeClass)) return false;\n    \n            remove_class(find(`.${activeClass}[data-tab]`, nav), activeClass);\n            add_class(clicked, activeClass);\n    \n            remove_class(find('.active[data-tab-panel]', panels), 'active');\n            add_class(panel, 'active');\n    \n            return false;\n        }   \n    \n        // Load into frontbx DOM core\n        frontbx.dom().register('TabNav', extend(Component, TabNav));\n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n    \n        /**\n         * JS Helper reference\n         * \n         * @var {object}\n         */\n        const [attr, extend] = frontbx.import(['attr','extend']).from('_');\n    \n        /**\n         * Masks.\n         * \n         * @var {Map}\n         */\n        const MASK_HANDLERS = new Map;\n    \n        /**\n         * Input masker\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const InputMasks = function()\n        {\n    \n            this.super('.js-mask');\n        }\n    \n        /**\n         * Event binder - Binds all events on button click\n         *\n         * @access {private}\n         */\n        InputMasks.prototype.bind = function(node)\n        {\n            let mask = attr(node, 'data-mask');\n    \n            let format = attr(node, 'data-format');\n    \n            if (mask && mask.startsWith('regex(')) mask = mask.trim().replace('regex(', '').slice(0, -1);\n    \n            if (mask)\n            {\n                MASK_HANDLERS.set(node, frontbx.InputMasker(node, mask, format));\n            }\n        }\n    \n        /**\n         * Event unbinder - Removes all events on button click\n         *\n         * @access {private}\n         */\n        InputMasks.prototype.unbind = function(node)\n        {\n            let handler = MASK_HANDLERS.get(node);\n    \n            if (handler) handler.destroy();\n    \n            MASK_HANDLERS.delete(node);\n        }\n    \n        // Load into frontbx DOM core\n        frontbx.dom().register('InputMasks', extend(Component, InputMasks));\n    \n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n    \n        /**\n         * Helper functions\n         * \n         * @var {function}\n         */\n        const [on, animate_css, closest, has_class, remove_from_dom, off, trigger_event, extend] = frontbx.import(['on','animate_css','closest','has_class','remove_from_dom','off','trigger_event','extend']).from('_');\n    \n        /**\n         * Message closers\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const MessageClosers = function()\n        {\n            this.super('.js-close-msg');\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        MessageClosers.prototype.bind = function(node)\n        {\n            on(node, 'click', this._eventHandler);\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        MessageClosers.prototype.unbind = function(node)\n        {\n            off(node, 'click', this._eventHandler);\n        }\n    \n        /**\n         * Event handler - handles removing the message\n         *\n         * @param  {event}   e JavaScript click event\n         * @access {private}\n         */\n        MessageClosers.prototype._eventHandler = function(e)\n        {\n            e = e || window.event;\n    \n            e.preventDefault();\n    \n            let msg      = closest(this, '.msg');\n            let toRemove = msg;\n    \n            trigger_event(msg, 'frontbx:message:close');\n    \n            if (has_class(this, 'js-rmv-parent'))\n            {\n                toRemove = toRemove.parentNode;\n            }\n    \n            animate_css(toRemove, { opacity: 0, duration: 500, easing: 'easeInOutCubic', callback: function()\n            {\n                trigger_event(msg, 'frontbx:message:closed');\n    \n                remove_from_dom(toRemove);\n            }});\n        }\n    \n        // Load into frontbx DOM core\n        frontbx.dom().register('MessageClosers', extend(Component, MessageClosers));\n    \n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [find, on, off, has_class, in_dom, parse_url, extend]  = frontbx.import(['find','on','off','has_class','in_dom','parse_url','extend']).from('_');\n    \n        /**\n         * Has the page loaded?\n         * \n         * @var {object}\n         */\n        var pageLoaded = false;\n    \n        /**\n         * Waypoints\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const WayPoints = function()\n        {        \n            this.super('.js-waypoint-trigger');\n    \n            // Invoke pageload\n            if (!pageLoaded)\n            {\n                this._invokePageLoad();\n            }\n    \n            pageLoaded = true;\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        WayPoints.prototype.bind = function(node)\n        {\n            on(node, 'click', this._eventHandler);\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        WayPoints.prototype.unbind = function(node)\n        {\n            off(node, 'click', this._eventHandler);\n        }\n    \n        /**\n         * Event handler\n         *\n         * @param {event|null} e JavaScript click event\n         * @access {private}\n         */\n        WayPoints.prototype._eventHandler = function(e)\n        {\n            let trigger   = this;\n            let id        = trigger.dataset.waypointTarget || trigger.href.split('#').pop();\n            let speed     = parseInt(trigger.dataset.waypointSpeed) || 500;\n            let easing    = trigger.dataset.waypointEasing || 'easeInOutCubic';\n            let updateUrl = trigger.dataset.updateUrl === 'false' ? false : true;\n    \n            if (id && id[0] !== '#') id = `#${id}`;\n    \n            frontbx.SmoothScroll(id, { easing: easing, speed: speed, updateUrl: updateUrl });\n    \n            return false;\n        }\n    \n        /**\n         * Scroll to a element with id when the page loads\n         *\n         * @access {private}\n         */\n        WayPoints.prototype._invokePageLoad = function()\n        {\n            var url = parse_url(window.location.href);\n    \n            let targetEl = url.hash && url.hash !== '' ? find(url.hash) : false;\n    \n            if (!in_dom(targetEl) || !has_class(targetEl, '.js-waypoint')) return;\n           \n            let speed  = parseInt(targetEl.dataset.waypointSpeed) || 500;\n            let easing = targetEl.dataset.waypointEasing || 'easeInOutCubic';\n    \n            const scroll = function()\n            {\n                frontbx.SmoothScroll(url.hash, { easing: easing, speed: speed, updateUrl: false });\n    \n                off(window, 'frontbx:ready', scroll);\n            }\n    \n            window.scrollTo(0, 0);\n    \n            on(window, 'frontbx:ready', scroll);\n        }\n    \n        // Load into frontbx DOM core\n        frontbx.dom().register('WayPoints', extend(Component, WayPoints));\n    \n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [find, add_class, on, animate_css, closest, coordinates, css, has_class, height, in_array, in_dom, inline_style, preapend, remove_class, off, rendered_style, traverse_up, trigger_event, width, extend] = frontbx.import(['find','add_class','on','animate_css','closest','coordinates','css','has_class','height','in_array','in_dom','inline_style','preapend','remove_class','off','rendered_style','traverse_up','trigger_event','width','extend']).from('_');\n    \n        /**\n         * Wrappers that need \"position:relative\" to hide overflow.\n         * \n         * @var {array}\n         */\n        const STATIC_POSITIONS = ['static', 'unset', 'initial'];\n    \n        /**\n         * Original inline styles\n         * \n         * @var {Map}\n         */\n        const INLINESTYLES = new Map();\n    \n        /**\n         * Currently rippling\n         * \n         * @var {Map}\n         */\n        const RIPPLING = new Map();\n    \n        /**\n         * Currently clicking\n         * \n         * @var {Map}\n         */\n        var CLICKING;\n    \n        /**\n         * Selectors\n         * \n         * @var {Map}\n         */\n        const SELECTORS =\n        [\n            '.btn',\n            '.list > li',\n            '.pagination li a',\n            '.tab-nav li a',\n            '.card.primary-action',\n            '.card .primary-action',\n            '.card-media',\n            '.js-ripple'\n        ];\n    \n        /**\n         * Ripple click animation\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Ripple = function()\n        {\n            this.super(SELECTORS.join(','));\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Ripple.prototype.bind = function(node)\n        {                \n            // No ripples inside primary actions\n            if (!has_class(node, 'primary-action') && closest(node, '.primary-action') && !has_class(node, 'card'))\n            {\n                return;\n            }\n    \n            // No ripples inside elements with badges or status\n            if (find('> .badge', node) || find('> .status', node))\n            {\n                return;\n            }\n    \n            // No ripples inside list buttons\n            if (has_class(node, 'btn') && closest(node, '.list'))\n            {\n                return;\n            }\n    \n            // No ripples on list items with checkbox controls\n            if (closest(node, '.list') && (find('> .item-right .checkbox', node) || find('> .item-right .radio', node)  || find('> .item-right .switch', node))) return;\n    \n            // Cache 'overflow' and 'position' inline styles\n            // to revert back to after complete\n            // If these are empty they will be removed\n            if (!INLINESTYLES.has(node))\n            {\n                let CSSoverflow = inline_style(node, 'overflow') || false;\n                \n                let CSSposition = inline_style(node, 'position') || false;\n    \n                INLINESTYLES.set(node, [CSSoverflow, CSSposition]);\n            }\n    \n            on(node, 'mousedown, touchstart', this._startRipple, this);\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Ripple.prototype.unbind  = function(node)\n        {\n            off(node, 'mousedown, touchstart', this._startRipple, this);\n        }\n    \n        /**\n         * Ripple handler\n         *\n         * @access {private}\n         * @param  {event|null} e\n         */\n        Ripple.prototype._restore  = function(wrapper)\n        {\n            if (in_dom(wrapper))\n            {\n                wrapper.offsetHeight;\n    \n                wrapper.removeAttribute('data-event');\n            \n                remove_class(wrapper, 'ripple-down');\n    \n                let styles = INLINESTYLES.get(wrapper);\n    \n                css(wrapper, 'overflow', styles[0]);\n    \n                css(wrapper, 'position', styles[1]);\n            }\n        }\n    \n        /**\n         * Ripple handler\n         *\n         * @access {private}\n         * @param  {event|null} e\n         */\n        Ripple.prototype._startRipple  = function(e, wrapper)\n        {\n            const _this = this;\n    \n            // Ignore disabled\n            if (wrapper.disabled || has_class(wrapper, 'disabled')) return;\n    \n            // Single finger \"clicks\" only\n            if (e.touches && e.touches.length > 1) return;\n    \n            // Left click only on mouse\n            if ('button' in e && e.button !== 0) return;\n    \n            // Store the event used to generate this ripple on the holder: don't allow\n            // further events of different types until we're done.\n            // Prevents double-ripples from mousedown/touchstart.\n            var prev = wrapper.getAttribute('data-event');\n            if (prev && prev !== e.type) return;\n    \n            // Clear restorer\n            clearTimeout(RIPPLING.get(wrapper));\n    \n            // Add the data-attribute to identify ripple event type\n            wrapper.setAttribute('data-event', e.type);\n    \n            // Add class to parent do identify mousedown/touchstart\n            add_class(wrapper, 'ripple-down');\n    \n            // Figure out release event type\n            var releaseEvent = (e.type === 'mousedown' ? 'mouseup' : 'touchend');\n    \n            // Cached timer for release\n            var releaseTimer;\n            var released = false;\n    \n            // Animation started\n            const t0 = performance.now();\n    \n            // Create ripple and append immediately\n            var ripple = document.createElement('SPAN');\n            ripple.className = 'ripple';\n    \n            // Release event\n            const release = function(ev)\n            {\n                // Clear timer\n                clearTimeout(releaseTimer);\n    \n                // Remove release listener\n                document.removeEventListener(releaseEvent, release);\n    \n                add_class(ripple, 'complete');\n    \n                setTimeout(() => wrapper.removeChild(ripple), 400);\n    \n                let restoreTimer = setTimeout(() => _this._restore(wrapper), 500);\n    \n                RIPPLING.set(wrapper, restoreTimer);\n            };  \n    \n            // Figure out where to place ripple inside parent\n            var c = coordinates(wrapper);\n            var s = Math.max(height(wrapper), width(wrapper));\n            var x = (e.pageX - c.left) - (s / 2);\n            var y = (e.pageY - c.top) - (s / 2);\n    \n            // Apply styles to ripple\n            css(ripple, \n            {\n                width:  `${s}px`,\n                height: `${s}px`,\n                left:   `${x}px`,\n                top:    `${y}px`\n            });\n    \n            // Issue here is that if ripple is clicked multiple times in quick succession\n            // the original inline overflow and position styles are overwritten by the next\n            // click\n    \n            // Ensure parent hides overflow\n            css(wrapper, 'overflow', 'hidden !important');\n    \n            // Ensure position relative if needed\n            if (in_array(rendered_style(wrapper, 'position'), STATIC_POSITIONS))\n            {\n                css(wrapper, 'position', 'relative');\n            }\n    \n            // Release listener\n            document.addEventListener(releaseEvent, release);\n                \n            preapend(ripple, wrapper);\n        }\n    \n        // Load into frontbx DOM core\n        frontbx.dom().register('Ripple', extend(Component, Ripple));\n    \n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [find, on, off, has_class, add_class, remove_class, closest, trigger_event, dom_element, map, is_object, extend] = frontbx.import(['find','on','off','has_class','add_class','remove_class','closest','trigger_event','dom_element','map','is_object','extend']).from('_');\n    \n        /**\n         * Toggle active on tables\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Table = function()\n        { \n            this.super('.js-select-table > tbody > tr');\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Table.prototype.bind = function(node)\n        {            \n            on(node, 'click', this._eventHandler, this);\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Table.prototype.unbind = function(node)\n        {\n            off(node, 'click', this._eventHandler, this);\n        }\n    \n        /**\n         * Handle the click event\n         *\n         * @param {event|null} e JavaScript click event\n         * @access {private}\n         */\n        Table.prototype._eventHandler = function(e, row)\n        {\n            e = e || window.event;\n            \n            if (has_class(row, 'selected')) return;\n    \n            var table = closest(row, 'table');\n    \n            let selected = find('tr.selected', table);\n    \n            if (selected) remove_class(selected, 'selected');\n    \n            add_class(row, 'selected');\n    \n            trigger_event(table, 'frontbx:table:selected', { item: row });\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Table.prototype.render = function(props)\n        {\n            let head = dom_element({tag: 'thead'}, null, dom_element({tag: 'tr'}, null, map(props.head, (i, cell) =>\n            {   \n                return is_object(cell) ? dom_element({tag: 'th', ...cell}) : dom_element({tag: 'th'}, null, cell);                    \n            })));\n    \n            let body = dom_element({tag: 'tbody'}, null, map(props.rows, (i, item) =>\n            {\n                return dom_element({tag: 'tr', class: `${props.selected && (props.selected === i) ? 'selected' : null}`}, null, map(item, (j, cell) =>\n                {\n                    return is_object(cell) ? dom_element({tag: 'th', ...cell}) : dom_element({tag: 'th'}, null, cell);\n                }));\n            }));\n    \n            return dom_element({tag: 'table', class: `table ${props.classes ? props.classes : ''} ${props.dense ? 'table-dense' : ''} ${ props.selectable ? `js-select-table` : '' }`}, null, [head, body]);\n        }\n    \n        // Load into frontbx DOM core\n        frontbx.dom().register('Table', extend(Component, Table));\n    \n    })();\n    (function()\n    {\n        /**\n         * Component base\n         * \n         * @var {class}\n         */\n        const Component = frontbx.Component(frontbx.IMPORT_AS_REF);\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const [is_undefined, map, dom_element, extend] = frontbx.import(['is_undefined','map','dom_element','extend']).from('_');\n    \n        /**\n         * Helper functions\n         * \n         * @var {Function}\n         */\n        const AVAILABLE_OPTIONS = ['background', 'lazy', 'ratio', 'placeholder', 'src', 'grayscale'];\n    \n        /**\n         * Toggle active on lists\n         *\n         * @author    {Joe J. Howard}\n         * @copyright {Joe J. Howard}\n         * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n         */\n        const Image = function()\n        { \n            this.super();\n        }\n    \n        /**\n         * @inheritdoc\n         * \n         */\n        Image.prototype.render = function(props)\n        {\n            let attrs        = map({...props}, (k, v) => !AVAILABLE_OPTIONS.includes(k) ? v : false );\n            let isBackground = props.background;\n            let isRatio      = !is_undefined(props.ratio);\n            let isLazy       = is_undefined(props.lazy) ? false : props.lazy;\n            let src          = isLazy ? (props.placeholder || window.LAZY_FALLBACK_IMAGE) : props.src;\n            let dataSrc      = isLazy ? props.src : false;\n            \n            if (!attrs.style) attrs.style = '';\n            if (!attrs.class) attrs.class = '';\n    \n            if (isLazy)\n            {\n                attrs.class  += ` lazyload js-lazyload ${props.grayscale ? 'grayscale' : ''}`;\n                attrs.dataSrc = dataSrc;\n            }\n    \n            // Background image\n            if (isBackground)\n            {\n                attrs.class += ' bg-image';\n                attrs.style += `;background-image: url(${src})`;\n                \n                if (isRatio) attrs.class += ` ratio-${props.ratio}`;\n    \n                return dom_element({...attrs, tag: 'div'});\n            }\n    \n            attrs.src = src;\n    \n            let image = dom_element({...attrs, src: src, dataSrc: dataSrc, tag: 'img'})\n    \n            // Ratio image\n            if (isRatio)\n            {\n                return dom_element({tag: 'div', class: `ratio-img ratio-${props.ratio}`}, null, image);\n            }\n    \n            return image;\n        }\n    \n        // Load into frontbx DOM core\n        frontbx.dom().register('Image', extend(Component, Image));\n        \n    })();\n    \n    // boot frontbx\n    /**\n     * Boot and initialize frontbx core\n     *\n     * @author    {Joe J. Howard}\n     * @copyright {Joe J. Howard}\n     * @license   {https://raw.githubusercontent.comfrontbx/uimaster/LICENSE}\n     */\n    (function()\n    {\n    \tfrontbx.boot();\n    \t\t\n    })();\n\n    return frontbx;\n});\n"],"mappings":"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ACA,KACA,SACA,OACA,OACA,aACA,MACA,MACA,QACA,SACA,MACA,OACA,QACA,UACA,SACA,QACA,QACA,UACA,QACA,OACA,WACA,MACA,SACA,QACA,WACA,WACA,OACA,SACA,SACA,MACA,OACA,aACA,UACA,YACA,SACA,YACA,UACA,SACA,OACA,SACA,UACA,SACA,UACA,WACA,SACA,SACA,WACA,OACA,SACA,QACA,SACA,UACA,SACA,OACA,SACA,QACA,YACA,aACA,iBACA,cACA,YACA,WACA,UACA,MACA,mBACA,mBACA,mBACA,mBACA,YACA,SACA,SACA,cACA,iBACA,gBACA,uBACA,YACA,iBACA,WACA,UACA,eACA,iBACA,UAQEC,EAAW,SAASjiB,GAEtB,OAAOA,EAAMpa,QACjB,EAOA,IAAIs8B,EAOAC,EAOAC,EAOAryB,EAOAsyB,EAOAC,GAQJ,WAOI,MAAMC,EAAQ,cACRC,EAAQ,QASRC,EACN,CACI,OACA,OACA,KACA,SACA,MACA,UACA,QACA,KACA,MACA,QACA,OACA,OACA,OACA,QACA,UACA,WACA,OACA,SACA,QACA,MACA,MACA,WASEC,EAAQ,SAASzW,EAAM0W,GAEzBl8C,KAAKwlC,KAAOA,EACZxlC,KAAKk8C,KAAOA,EACZl8C,KAAKm8C,WAAc,KACnBn8C,KAAKkR,IAAc,EACnBlR,KAAKo8C,WAAc,EACnBp8C,KAAKq8C,aAAe,EACxB,EAOAJ,EAAM/3C,UAAU0wB,MAAQ,WAEpB,IAAI0nB,EAAO,OAEX,KAAOA,EAAOt8C,KAAKs8C,GAAMt8C,KAAKu8C,UAEZ,KAAdv8C,KAAKwlC,OAEL8W,EAAO,KAEPt8C,KAAKgU,WAEb,EAQAioC,EAAM/3C,UAAUslB,KAAO,WAEnB,OAAOxpB,KAAKwlC,KAAKpkB,OAAOphB,KAAKkR,MACjC,EAQA+qC,EAAM/3C,UAAUq4C,KAAO,WAEnB,OAAOv8C,KAAKwlC,KAAKpkB,OAAOphB,KAAKkR,IACjC,EAQA+qC,EAAM/3C,UAAUs4C,SAAW,WAEvB,OAAOx8C,KAAKwlC,KAAKpkB,OAAOphB,KAAKkR,IAAK,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","ignoreList":[]}